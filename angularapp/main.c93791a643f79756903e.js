(self.webpackChunkclinica=self.webpackChunkclinica||[]).push([[179],{8255:Dt=>{function Ve(O){return Promise.resolve().then(()=>{var y=new Error("Cannot find module '"+O+"'");throw y.code="MODULE_NOT_FOUND",y})}Ve.keys=()=>[],Ve.resolve=Ve,Ve.id=8255,Dt.exports=Ve},8583:(Dt,Ve,O)=>{"use strict";O.d(Ve,{mr:()=>xe,Ov:()=>it,ez:()=>Us,K0:()=>Me,Do:()=>Ue,V_:()=>Q,Ye:()=>st,S$:()=>Oe,sg:()=>sr,O5:()=>Dr,b0:()=>Le,lw:()=>Te,EM:()=>Bs,JF:()=>$s,NF:()=>bo,PM:()=>es,w_:()=>Ce,bD:()=>ws,q:()=>K,Mx:()=>ft,HT:()=>fe});var y=O(639);let w=null;function K(){return w}function fe(V){w||(w=V)}class Ce{}const Me=new y.OlP("DocumentToken");let Te=(()=>{class V{historyGo(U){throw new Error("Not implemented")}}return V.\u0275fac=function(U){return new(U||V)},V.\u0275prov=(0,y.Yz7)({factory:he,token:V,providedIn:"platform"}),V})();function he(){return(0,y.LFG)(Y)}const Q=new y.OlP("Location Initialized");let Y=(()=>{class V extends Te{constructor(U){super(),this._doc=U,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return K().getBaseHref(this._doc)}onPopState(U){const I=K().getGlobalEventTarget(this._doc,"window");return I.addEventListener("popstate",U,!1),()=>I.removeEventListener("popstate",U)}onHashChange(U){const I=K().getGlobalEventTarget(this._doc,"window");return I.addEventListener("hashchange",U,!1),()=>I.removeEventListener("hashchange",U)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(U){this.location.pathname=U}pushState(U,I,A){pe()?this._history.pushState(U,I,A):this.location.hash=A}replaceState(U,I,A){pe()?this._history.replaceState(U,I,A):this.location.hash=A}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}}return V.\u0275fac=function(U){return new(U||V)(y.LFG(Me))},V.\u0275prov=(0,y.Yz7)({factory:qe,token:V,providedIn:"platform"}),V})();function pe(){return!!window.history.pushState}function qe(){return new Y((0,y.LFG)(Me))}function Ne(V,J){if(0==V.length)return J;if(0==J.length)return V;let U=0;return V.endsWith("/")&&U++,J.startsWith("/")&&U++,2==U?V+J.substring(1):1==U?V+J:V+"/"+J}function ct(V){const J=V.match(/#|\?|$/),U=J&&J.index||V.length;return V.slice(0,U-("/"===V[U-1]?1:0))+V.slice(U)}function Re(V){return V&&"?"!==V[0]?"?"+V:V}let Oe=(()=>{class V{historyGo(U){throw new Error("Not implemented")}}return V.\u0275fac=function(U){return new(U||V)},V.\u0275prov=(0,y.Yz7)({factory:We,token:V,providedIn:"root"}),V})();function We(V){const J=(0,y.LFG)(Me).location;return new Le((0,y.LFG)(Te),J&&J.origin||"")}const xe=new y.OlP("appBaseHref");let Le=(()=>{class V extends Oe{constructor(U,I){if(super(),this._platformLocation=U,this._removeListenerFns=[],null==I&&(I=this._platformLocation.getBaseHrefFromDOM()),null==I)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=I}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return Ne(this._baseHref,U)}path(U=!1){const I=this._platformLocation.pathname+Re(this._platformLocation.search),A=this._platformLocation.hash;return A&&U?`${I}${A}`:I}pushState(U,I,A,R){const W=this.prepareExternalUrl(A+Re(R));this._platformLocation.pushState(U,I,W)}replaceState(U,I,A,R){const W=this.prepareExternalUrl(A+Re(R));this._platformLocation.replaceState(U,I,W)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(U=0){var I,A;null===(A=(I=this._platformLocation).historyGo)||void 0===A||A.call(I,U)}}return V.\u0275fac=function(U){return new(U||V)(y.LFG(Te),y.LFG(xe,8))},V.\u0275prov=y.Yz7({token:V,factory:V.\u0275fac}),V})(),Ue=(()=>{class V extends Oe{constructor(U,I){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=I&&(this._baseHref=I)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let I=this._platformLocation.hash;return null==I&&(I="#"),I.length>0?I.substring(1):I}prepareExternalUrl(U){const I=Ne(this._baseHref,U);return I.length>0?"#"+I:I}pushState(U,I,A,R){let W=this.prepareExternalUrl(A+Re(R));0==W.length&&(W=this._platformLocation.pathname),this._platformLocation.pushState(U,I,W)}replaceState(U,I,A,R){let W=this.prepareExternalUrl(A+Re(R));0==W.length&&(W=this._platformLocation.pathname),this._platformLocation.replaceState(U,I,W)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(U=0){var I,A;null===(A=(I=this._platformLocation).historyGo)||void 0===A||A.call(I,U)}}return V.\u0275fac=function(U){return new(U||V)(y.LFG(Te),y.LFG(xe,8))},V.\u0275prov=y.Yz7({token:V,factory:V.\u0275fac}),V})(),st=(()=>{class V{constructor(U,I){this._subject=new y.vpe,this._urlChangeListeners=[],this._platformStrategy=U;const A=this._platformStrategy.getBaseHref();this._platformLocation=I,this._baseHref=ct(Mt(A)),this._platformStrategy.onPopState(R=>{this._subject.emit({url:this.path(!0),pop:!0,state:R.state,type:R.type})})}path(U=!1){return this.normalize(this._platformStrategy.path(U))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(U,I=""){return this.path()==this.normalize(U+Re(I))}normalize(U){return V.stripTrailingSlash(function(V,J){return V&&J.startsWith(V)?J.substring(V.length):J}(this._baseHref,Mt(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._platformStrategy.prepareExternalUrl(U)}go(U,I="",A=null){this._platformStrategy.pushState(A,"",U,I),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Re(I)),A)}replaceState(U,I="",A=null){this._platformStrategy.replaceState(A,"",U,I),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Re(I)),A)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(U=0){var I,A;null===(A=(I=this._platformStrategy).historyGo)||void 0===A||A.call(I,U)}onUrlChange(U){this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(I=>{this._notifyUrlChangeListeners(I.url,I.state)}))}_notifyUrlChangeListeners(U="",I){this._urlChangeListeners.forEach(A=>A(U,I))}subscribe(U,I,A){return this._subject.subscribe({next:U,error:I,complete:A})}}return V.\u0275fac=function(U){return new(U||V)(y.LFG(Oe),y.LFG(Te))},V.normalizeQueryParams=Re,V.joinWithSlash=Ne,V.stripTrailingSlash=ct,V.\u0275prov=(0,y.Yz7)({factory:ot,token:V,providedIn:"root"}),V})();function ot(){return new st((0,y.LFG)(Oe),(0,y.LFG)(Te))}function Mt(V){return V.replace(/\/index.html$/,"")}var ye=(()=>((ye=ye||{})[ye.Zero=0]="Zero",ye[ye.One=1]="One",ye[ye.Two=2]="Two",ye[ye.Few=3]="Few",ye[ye.Many=4]="Many",ye[ye.Other=5]="Other",ye))();const Un=y.kL8;class je{}let ue=(()=>{class V extends je{constructor(U){super(),this.locale=U}getPluralCategory(U,I){switch(Un(I||this.locale)(U)){case ye.Zero:return"zero";case ye.One:return"one";case ye.Two:return"two";case ye.Few:return"few";case ye.Many:return"many";default:return"other"}}}return V.\u0275fac=function(U){return new(U||V)(y.LFG(y.soG))},V.\u0275prov=y.Yz7({token:V,factory:V.\u0275fac}),V})();function ft(V,J){J=encodeURIComponent(J);for(const U of V.split(";")){const I=U.indexOf("="),[A,R]=-1==I?[U,""]:[U.slice(0,I),U.slice(I+1)];if(A.trim()===J)return decodeURIComponent(R)}return null}class Xt{constructor(J,U,I,A){this.$implicit=J,this.ngForOf=U,this.index=I,this.count=A}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let sr=(()=>{class V{constructor(U,I,A){this._viewContainer=U,this._template=I,this._differs=A,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;if(!this._differ&&U)try{this._differ=this._differs.find(U).create(this.ngForTrackBy)}catch(I){throw new Error(`Cannot find a differ supporting object '${U}' of type '${function(V){return V.name||typeof V}(U)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const I=[];U.forEachOperation((A,R,W)=>{if(null==A.previousIndex){const Ze=this._viewContainer.createEmbeddedView(this._template,new Xt(null,this._ngForOf,-1,-1),null===W?void 0:W),It=new Xr(A,Ze);I.push(It)}else if(null==W)this._viewContainer.remove(null===R?void 0:R);else if(null!==R){const Ze=this._viewContainer.get(R);this._viewContainer.move(Ze,W);const It=new Xr(A,Ze);I.push(It)}});for(let A=0;A<I.length;A++)this._perViewChange(I[A].view,I[A].record);for(let A=0,R=this._viewContainer.length;A<R;A++){const W=this._viewContainer.get(A);W.context.index=A,W.context.count=R,W.context.ngForOf=this._ngForOf}U.forEachIdentityChange(A=>{this._viewContainer.get(A.currentIndex).context.$implicit=A.item})}_perViewChange(U,I){U.context.$implicit=I.item}static ngTemplateContextGuard(U,I){return!0}}return V.\u0275fac=function(U){return new(U||V)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))},V.\u0275dir=y.lG2({type:V,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),V})();class Xr{constructor(J,U){this.record=J,this.view=U}}let Dr=(()=>{class V{constructor(U,I){this._viewContainer=U,this._context=new ei,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=I}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){Di("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){Di("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,I){return!0}}return V.\u0275fac=function(U){return new(U||V)(y.Y36(y.s_b),y.Y36(y.Rgc))},V.\u0275dir=y.lG2({type:V,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),V})();class ei{constructor(){this.$implicit=null,this.ngIf=null}}function Di(V,J){if(J&&!J.createEmbeddedView)throw new Error(`${V} must be a TemplateRef, but received '${(0,y.AaK)(J)}'.`)}class Eo{createSubscription(J,U){return J.subscribe({next:U,error:I=>{throw I}})}dispose(J){J.unsubscribe()}onDestroy(J){J.unsubscribe()}}class qr{createSubscription(J,U){return J.then(U,I=>{throw I})}dispose(J){}onDestroy(J){}}const Be=new qr,Ge=new Eo;let it=(()=>{class V{constructor(U){this._ref=U,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(U){return this._obj?U!==this._obj?(this._dispose(),this.transform(U)):this._latestValue:(U&&this._subscribe(U),this._latestValue)}_subscribe(U){this._obj=U,this._strategy=this._selectStrategy(U),this._subscription=this._strategy.createSubscription(U,I=>this._updateLatestValue(U,I))}_selectStrategy(U){if((0,y.QGY)(U))return Be;if((0,y.F4k)(U))return Ge;throw function(V,J){return Error(`InvalidPipeArgument: '${J}' for pipe '${(0,y.AaK)(V)}'`)}(V,U)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(U,I){U===this._obj&&(this._latestValue=I,this._ref.markForCheck())}}return V.\u0275fac=function(U){return new(U||V)(y.Y36(y.sBO,16))},V.\u0275pipe=y.Yjl({name:"async",type:V,pure:!1}),V})(),Us=(()=>{class V{}return V.\u0275fac=function(U){return new(U||V)},V.\u0275mod=y.oAB({type:V}),V.\u0275inj=y.cJS({providers:[{provide:je,useClass:ue}]}),V})();const ws="browser";function bo(V){return V===ws}function es(V){return"server"===V}let Bs=(()=>{class V{}return V.\u0275prov=(0,y.Yz7)({token:V,providedIn:"root",factory:()=>new to((0,y.LFG)(Me),window)}),V})();class to{constructor(J,U){this.document=J,this.window=U,this.offset=()=>[0,0]}setOffset(J){this.offset=Array.isArray(J)?()=>J:J}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(J){this.supportsScrolling()&&this.window.scrollTo(J[0],J[1])}scrollToAnchor(J){if(!this.supportsScrolling())return;const U=function(V,J){const U=V.getElementById(J)||V.getElementsByName(J)[0];if(U)return U;if("function"==typeof V.createTreeWalker&&V.body&&(V.body.createShadowRoot||V.body.attachShadow)){const I=V.createTreeWalker(V.body,NodeFilter.SHOW_ELEMENT);let A=I.currentNode;for(;A;){const R=A.shadowRoot;if(R){const W=R.getElementById(J)||R.querySelector(`[name="${J}"]`);if(W)return W}A=I.nextNode()}}return null}(this.document,J);U&&(this.scrollToElement(U),this.attemptFocus(U))}setHistoryScrollRestoration(J){if(this.supportScrollRestoration()){const U=this.window.history;U&&U.scrollRestoration&&(U.scrollRestoration=J)}}scrollToElement(J){const U=J.getBoundingClientRect(),I=U.left+this.window.pageXOffset,A=U.top+this.window.pageYOffset,R=this.offset();this.window.scrollTo(I-R[0],A-R[1])}attemptFocus(J){return J.focus(),this.document.activeElement===J}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const J=Ks(this.window.history)||Ks(Object.getPrototypeOf(this.window.history));return!(!J||!J.writable&&!J.set)}catch(J){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(J){return!1}}}function Ks(V){return Object.getOwnPropertyDescriptor(V,"scrollRestoration")}class $s{}},1841:(Dt,Ve,O)=>{"use strict";O.d(Ve,{eN:()=>De,JF:()=>fr});var y=O(8583),w=O(639),K=O(5917),we=O(7574),fe=O(4612),Ce=O(5435),Me=O(8002);class Te{}class he{}class Q{constructor(te){this.normalizedNames=new Map,this.lazyUpdate=null,te?this.lazyInit="string"==typeof te?()=>{this.headers=new Map,te.split("\n").forEach(be=>{const dt=be.indexOf(":");if(dt>0){const ze=be.slice(0,dt),Ft=ze.toLowerCase(),wt=be.slice(dt+1).trim();this.maybeSetNormalizedName(ze,Ft),this.headers.has(Ft)?this.headers.get(Ft).push(wt):this.headers.set(Ft,[wt])}})}:()=>{this.headers=new Map,Object.keys(te).forEach(be=>{let dt=te[be];const ze=be.toLowerCase();"string"==typeof dt&&(dt=[dt]),dt.length>0&&(this.headers.set(ze,dt),this.maybeSetNormalizedName(be,ze))})}:this.headers=new Map}has(te){return this.init(),this.headers.has(te.toLowerCase())}get(te){this.init();const be=this.headers.get(te.toLowerCase());return be&&be.length>0?be[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(te){return this.init(),this.headers.get(te.toLowerCase())||null}append(te,be){return this.clone({name:te,value:be,op:"a"})}set(te,be){return this.clone({name:te,value:be,op:"s"})}delete(te,be){return this.clone({name:te,value:be,op:"d"})}maybeSetNormalizedName(te,be){this.normalizedNames.has(be)||this.normalizedNames.set(be,te)}init(){this.lazyInit&&(this.lazyInit instanceof Q?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(te=>this.applyUpdate(te)),this.lazyUpdate=null))}copyFrom(te){te.init(),Array.from(te.headers.keys()).forEach(be=>{this.headers.set(be,te.headers.get(be)),this.normalizedNames.set(be,te.normalizedNames.get(be))})}clone(te){const be=new Q;return be.lazyInit=this.lazyInit&&this.lazyInit instanceof Q?this.lazyInit:this,be.lazyUpdate=(this.lazyUpdate||[]).concat([te]),be}applyUpdate(te){const be=te.name.toLowerCase();switch(te.op){case"a":case"s":let dt=te.value;if("string"==typeof dt&&(dt=[dt]),0===dt.length)return;this.maybeSetNormalizedName(te.name,be);const ze=("a"===te.op?this.headers.get(be):void 0)||[];ze.push(...dt),this.headers.set(be,ze);break;case"d":const Ft=te.value;if(Ft){let wt=this.headers.get(be);if(!wt)return;wt=wt.filter(Pt=>-1===Ft.indexOf(Pt)),0===wt.length?(this.headers.delete(be),this.normalizedNames.delete(be)):this.headers.set(be,wt)}else this.headers.delete(be),this.normalizedNames.delete(be)}}forEach(te){this.init(),Array.from(this.normalizedNames.keys()).forEach(be=>te(this.normalizedNames.get(be),this.headers.get(be)))}}class Y{encodeKey(te){return ct(te)}encodeValue(te){return ct(te)}decodeKey(te){return decodeURIComponent(te)}decodeValue(te){return decodeURIComponent(te)}}const qe=/%(\d[a-f0-9])/gi,Ne={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ct(ve){return encodeURIComponent(ve).replace(qe,(te,be)=>{var dt;return null!==(dt=Ne[be])&&void 0!==dt?dt:te})}function Re(ve){return`${ve}`}class Oe{constructor(te={}){if(this.updates=null,this.cloneFrom=null,this.encoder=te.encoder||new Y,te.fromString){if(te.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(ve,te){const be=new Map;return ve.length>0&&ve.replace(/^\?/,"").split("&").forEach(ze=>{const Ft=ze.indexOf("="),[wt,Pt]=-1==Ft?[te.decodeKey(ze),""]:[te.decodeKey(ze.slice(0,Ft)),te.decodeValue(ze.slice(Ft+1))],_n=be.get(wt)||[];_n.push(Pt),be.set(wt,_n)}),be}(te.fromString,this.encoder)}else te.fromObject?(this.map=new Map,Object.keys(te.fromObject).forEach(be=>{const dt=te.fromObject[be];this.map.set(be,Array.isArray(dt)?dt:[dt])})):this.map=null}has(te){return this.init(),this.map.has(te)}get(te){this.init();const be=this.map.get(te);return be?be[0]:null}getAll(te){return this.init(),this.map.get(te)||null}keys(){return this.init(),Array.from(this.map.keys())}append(te,be){return this.clone({param:te,value:be,op:"a"})}appendAll(te){const be=[];return Object.keys(te).forEach(dt=>{const ze=te[dt];Array.isArray(ze)?ze.forEach(Ft=>{be.push({param:dt,value:Ft,op:"a"})}):be.push({param:dt,value:ze,op:"a"})}),this.clone(be)}set(te,be){return this.clone({param:te,value:be,op:"s"})}delete(te,be){return this.clone({param:te,value:be,op:"d"})}toString(){return this.init(),this.keys().map(te=>{const be=this.encoder.encodeKey(te);return this.map.get(te).map(dt=>be+"="+this.encoder.encodeValue(dt)).join("&")}).filter(te=>""!==te).join("&")}clone(te){const be=new Oe({encoder:this.encoder});return be.cloneFrom=this.cloneFrom||this,be.updates=(this.updates||[]).concat(te),be}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(te=>this.map.set(te,this.cloneFrom.map.get(te))),this.updates.forEach(te=>{switch(te.op){case"a":case"s":const be=("a"===te.op?this.map.get(te.param):void 0)||[];be.push(Re(te.value)),this.map.set(te.param,be);break;case"d":if(void 0===te.value){this.map.delete(te.param);break}{let dt=this.map.get(te.param)||[];const ze=dt.indexOf(Re(te.value));-1!==ze&&dt.splice(ze,1),dt.length>0?this.map.set(te.param,dt):this.map.delete(te.param)}}}),this.cloneFrom=this.updates=null)}}class xe{constructor(){this.map=new Map}set(te,be){return this.map.set(te,be),this}get(te){return this.map.has(te)||this.map.set(te,te.defaultValue()),this.map.get(te)}delete(te){return this.map.delete(te),this}keys(){return this.map.keys()}}function Ue(ve){return"undefined"!=typeof ArrayBuffer&&ve instanceof ArrayBuffer}function st(ve){return"undefined"!=typeof Blob&&ve instanceof Blob}function ot(ve){return"undefined"!=typeof FormData&&ve instanceof FormData}class Mt{constructor(te,be,dt,ze){let Ft;if(this.url=be,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=te.toUpperCase(),function(ve){switch(ve){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ze?(this.body=void 0!==dt?dt:null,Ft=ze):Ft=dt,Ft&&(this.reportProgress=!!Ft.reportProgress,this.withCredentials=!!Ft.withCredentials,Ft.responseType&&(this.responseType=Ft.responseType),Ft.headers&&(this.headers=Ft.headers),Ft.context&&(this.context=Ft.context),Ft.params&&(this.params=Ft.params)),this.headers||(this.headers=new Q),this.context||(this.context=new xe),this.params){const wt=this.params.toString();if(0===wt.length)this.urlWithParams=be;else{const Pt=be.indexOf("?");this.urlWithParams=be+(-1===Pt?"?":Pt<be.length-1?"&":"")+wt}}else this.params=new Oe,this.urlWithParams=be}serializeBody(){return null===this.body?null:Ue(this.body)||st(this.body)||ot(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Oe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ot(this.body)?null:st(this.body)?this.body.type||null:Ue(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Oe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(te={}){var be;const dt=te.method||this.method,ze=te.url||this.url,Ft=te.responseType||this.responseType,wt=void 0!==te.body?te.body:this.body,Pt=void 0!==te.withCredentials?te.withCredentials:this.withCredentials,_n=void 0!==te.reportProgress?te.reportProgress:this.reportProgress;let Bn=te.headers||this.headers,Mn=te.params||this.params;const Hn=null!==(be=te.context)&&void 0!==be?be:this.context;return void 0!==te.setHeaders&&(Bn=Object.keys(te.setHeaders).reduce((ir,vn)=>ir.set(vn,te.setHeaders[vn]),Bn)),te.setParams&&(Mn=Object.keys(te.setParams).reduce((ir,vn)=>ir.set(vn,te.setParams[vn]),Mn)),new Mt(dt,ze,wt,{params:Mn,headers:Bn,context:Hn,reportProgress:_n,responseType:Ft,withCredentials:Pt})}}var ne=(()=>((ne=ne||{})[ne.Sent=0]="Sent",ne[ne.UploadProgress=1]="UploadProgress",ne[ne.ResponseHeader=2]="ResponseHeader",ne[ne.DownloadProgress=3]="DownloadProgress",ne[ne.Response=4]="Response",ne[ne.User=5]="User",ne))();class oe{constructor(te,be=200,dt="OK"){this.headers=te.headers||new Q,this.status=void 0!==te.status?te.status:be,this.statusText=te.statusText||dt,this.url=te.url||null,this.ok=this.status>=200&&this.status<300}}class ye extends oe{constructor(te={}){super(te),this.type=ne.ResponseHeader}clone(te={}){return new ye({headers:te.headers||this.headers,status:void 0!==te.status?te.status:this.status,statusText:te.statusText||this.statusText,url:te.url||this.url||void 0})}}class me extends oe{constructor(te={}){super(te),this.type=ne.Response,this.body=void 0!==te.body?te.body:null}clone(te={}){return new me({body:void 0!==te.body?te.body:this.body,headers:te.headers||this.headers,status:void 0!==te.status?te.status:this.status,statusText:te.statusText||this.statusText,url:te.url||this.url||void 0})}}class _e extends oe{constructor(te){super(te,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${te.url||"(unknown url)"}`:`Http failure response for ${te.url||"(unknown url)"}: ${te.status} ${te.statusText}`,this.error=te.error||null}}function Je(ve,te){return{body:te,headers:ve.headers,context:ve.context,observe:ve.observe,params:ve.params,reportProgress:ve.reportProgress,responseType:ve.responseType,withCredentials:ve.withCredentials}}let De=(()=>{class ve{constructor(be){this.handler=be}request(be,dt,ze={}){let Ft;if(be instanceof Mt)Ft=be;else{let _n,Bn;_n=ze.headers instanceof Q?ze.headers:new Q(ze.headers),ze.params&&(Bn=ze.params instanceof Oe?ze.params:new Oe({fromObject:ze.params})),Ft=new Mt(be,dt,void 0!==ze.body?ze.body:null,{headers:_n,context:ze.context,params:Bn,reportProgress:ze.reportProgress,responseType:ze.responseType||"json",withCredentials:ze.withCredentials})}const wt=(0,K.of)(Ft).pipe((0,fe.b)(_n=>this.handler.handle(_n)));if(be instanceof Mt||"events"===ze.observe)return wt;const Pt=wt.pipe((0,Ce.h)(_n=>_n instanceof me));switch(ze.observe||"body"){case"body":switch(Ft.responseType){case"arraybuffer":return Pt.pipe((0,Me.U)(_n=>{if(null!==_n.body&&!(_n.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _n.body}));case"blob":return Pt.pipe((0,Me.U)(_n=>{if(null!==_n.body&&!(_n.body instanceof Blob))throw new Error("Response is not a Blob.");return _n.body}));case"text":return Pt.pipe((0,Me.U)(_n=>{if(null!==_n.body&&"string"!=typeof _n.body)throw new Error("Response is not a string.");return _n.body}));case"json":default:return Pt.pipe((0,Me.U)(_n=>_n.body))}case"response":return Pt;default:throw new Error(`Unreachable: unhandled observe type ${ze.observe}}`)}}delete(be,dt={}){return this.request("DELETE",be,dt)}get(be,dt={}){return this.request("GET",be,dt)}head(be,dt={}){return this.request("HEAD",be,dt)}jsonp(be,dt){return this.request("JSONP",be,{params:(new Oe).append(dt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(be,dt={}){return this.request("OPTIONS",be,dt)}patch(be,dt,ze={}){return this.request("PATCH",be,Je(ze,dt))}post(be,dt,ze={}){return this.request("POST",be,Je(ze,dt))}put(be,dt,ze={}){return this.request("PUT",be,Je(ze,dt))}}return ve.\u0275fac=function(be){return new(be||ve)(w.LFG(Te))},ve.\u0275prov=w.Yz7({token:ve,factory:ve.\u0275fac}),ve})();class at{constructor(te,be){this.next=te,this.interceptor=be}handle(te){return this.interceptor.intercept(te,this.next)}}const xt=new w.OlP("HTTP_INTERCEPTORS");let Bt=(()=>{class ve{intercept(be,dt){return dt.handle(be)}}return ve.\u0275fac=function(be){return new(be||ve)},ve.\u0275prov=w.Yz7({token:ve,factory:ve.\u0275fac}),ve})();const Qt=/^\)\]\}',?\n/;let an=(()=>{class ve{constructor(be){this.xhrFactory=be}handle(be){if("JSONP"===be.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new we.y(dt=>{const ze=this.xhrFactory.build();if(ze.open(be.method,be.urlWithParams),be.withCredentials&&(ze.withCredentials=!0),be.headers.forEach((vn,Ee)=>ze.setRequestHeader(vn,Ee.join(","))),be.headers.has("Accept")||ze.setRequestHeader("Accept","application/json, text/plain, */*"),!be.headers.has("Content-Type")){const vn=be.detectContentTypeHeader();null!==vn&&ze.setRequestHeader("Content-Type",vn)}if(be.responseType){const vn=be.responseType.toLowerCase();ze.responseType="json"!==vn?vn:"text"}const Ft=be.serializeBody();let wt=null;const Pt=()=>{if(null!==wt)return wt;const vn=1223===ze.status?204:ze.status,Ee=ze.statusText||"OK",Pe=new Q(ze.getAllResponseHeaders()),Fe=function(ve){return"responseURL"in ve&&ve.responseURL?ve.responseURL:/^X-Request-URL:/m.test(ve.getAllResponseHeaders())?ve.getResponseHeader("X-Request-URL"):null}(ze)||be.url;return wt=new ye({headers:Pe,status:vn,statusText:Ee,url:Fe}),wt},_n=()=>{let{headers:vn,status:Ee,statusText:Pe,url:Fe}=Pt(),pt=null;204!==Ee&&(pt=void 0===ze.response?ze.responseText:ze.response),0===Ee&&(Ee=pt?200:0);let Qe=Ee>=200&&Ee<300;if("json"===be.responseType&&"string"==typeof pt){const Nt=pt;pt=pt.replace(Qt,"");try{pt=""!==pt?JSON.parse(pt):null}catch(nn){pt=Nt,Qe&&(Qe=!1,pt={error:nn,text:pt})}}Qe?(dt.next(new me({body:pt,headers:vn,status:Ee,statusText:Pe,url:Fe||void 0})),dt.complete()):dt.error(new _e({error:pt,headers:vn,status:Ee,statusText:Pe,url:Fe||void 0}))},Bn=vn=>{const{url:Ee}=Pt(),Pe=new _e({error:vn,status:ze.status||0,statusText:ze.statusText||"Unknown Error",url:Ee||void 0});dt.error(Pe)};let Mn=!1;const Hn=vn=>{Mn||(dt.next(Pt()),Mn=!0);let Ee={type:ne.DownloadProgress,loaded:vn.loaded};vn.lengthComputable&&(Ee.total=vn.total),"text"===be.responseType&&!!ze.responseText&&(Ee.partialText=ze.responseText),dt.next(Ee)},ir=vn=>{let Ee={type:ne.UploadProgress,loaded:vn.loaded};vn.lengthComputable&&(Ee.total=vn.total),dt.next(Ee)};return ze.addEventListener("load",_n),ze.addEventListener("error",Bn),ze.addEventListener("timeout",Bn),ze.addEventListener("abort",Bn),be.reportProgress&&(ze.addEventListener("progress",Hn),null!==Ft&&ze.upload&&ze.upload.addEventListener("progress",ir)),ze.send(Ft),dt.next({type:ne.Sent}),()=>{ze.removeEventListener("error",Bn),ze.removeEventListener("abort",Bn),ze.removeEventListener("load",_n),ze.removeEventListener("timeout",Bn),be.reportProgress&&(ze.removeEventListener("progress",Hn),null!==Ft&&ze.upload&&ze.upload.removeEventListener("progress",ir)),ze.readyState!==ze.DONE&&ze.abort()}})}}return ve.\u0275fac=function(be){return new(be||ve)(w.LFG(y.JF))},ve.\u0275prov=w.Yz7({token:ve,factory:ve.\u0275fac}),ve})();const Jt=new w.OlP("XSRF_COOKIE_NAME"),Cr=new w.OlP("XSRF_HEADER_NAME");class Wn{}let kr=(()=>{class ve{constructor(be,dt,ze){this.doc=be,this.platform=dt,this.cookieName=ze,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const be=this.doc.cookie||"";return be!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,y.Mx)(be,this.cookieName),this.lastCookieString=be),this.lastToken}}return ve.\u0275fac=function(be){return new(be||ve)(w.LFG(y.K0),w.LFG(w.Lbi),w.LFG(Jt))},ve.\u0275prov=w.Yz7({token:ve,factory:ve.\u0275fac}),ve})(),Un=(()=>{class ve{constructor(be,dt){this.tokenService=be,this.headerName=dt}intercept(be,dt){const ze=be.url.toLowerCase();if("GET"===be.method||"HEAD"===be.method||ze.startsWith("http://")||ze.startsWith("https://"))return dt.handle(be);const Ft=this.tokenService.getToken();return null!==Ft&&!be.headers.has(this.headerName)&&(be=be.clone({headers:be.headers.set(this.headerName,Ft)})),dt.handle(be)}}return ve.\u0275fac=function(be){return new(be||ve)(w.LFG(Wn),w.LFG(Cr))},ve.\u0275prov=w.Yz7({token:ve,factory:ve.\u0275fac}),ve})(),oi=(()=>{class ve{constructor(be,dt){this.backend=be,this.injector=dt,this.chain=null}handle(be){if(null===this.chain){const dt=this.injector.get(xt,[]);this.chain=dt.reduceRight((ze,Ft)=>new at(ze,Ft),this.backend)}return this.chain.handle(be)}}return ve.\u0275fac=function(be){return new(be||ve)(w.LFG(he),w.LFG(w.zs3))},ve.\u0275prov=w.Yz7({token:ve,factory:ve.\u0275fac}),ve})(),or=(()=>{class ve{static disable(){return{ngModule:ve,providers:[{provide:Un,useClass:Bt}]}}static withOptions(be={}){return{ngModule:ve,providers:[be.cookieName?{provide:Jt,useValue:be.cookieName}:[],be.headerName?{provide:Cr,useValue:be.headerName}:[]]}}}return ve.\u0275fac=function(be){return new(be||ve)},ve.\u0275mod=w.oAB({type:ve}),ve.\u0275inj=w.cJS({providers:[Un,{provide:xt,useExisting:Un,multi:!0},{provide:Wn,useClass:kr},{provide:Jt,useValue:"XSRF-TOKEN"},{provide:Cr,useValue:"X-XSRF-TOKEN"}]}),ve})(),fr=(()=>{class ve{}return ve.\u0275fac=function(be){return new(be||ve)},ve.\u0275mod=w.oAB({type:ve}),ve.\u0275inj=w.cJS({providers:[De,{provide:Te,useClass:oi},an,{provide:he,useExisting:an}],imports:[[or.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),ve})()},639:(Dt,Ve,O)=>{"use strict";O.d(Ve,{deG:()=>La,tb:()=>uw,AFp:()=>sw,ip1:()=>rE,CZH:()=>Gf,hGG:()=>GS,z2F:()=>om,sBO:()=>PI,Sil:()=>sm,_Vd:()=>Ff,EJc:()=>cw,SBq:()=>Hl,qLn:()=>xn,vpe:()=>Gl,gxx:()=>Bc,tBr:()=>Ya,XFs:()=>ze,OlP:()=>Vn,zs3:()=>_s,ZZ4:()=>Wy,aQg:()=>Ky,soG:()=>i_,YKP:()=>Y0,v3s:()=>CS,h0i:()=>Qd,PXZ:()=>yS,R0b:()=>Ou,FiY:()=>Qa,Lbi:()=>aw,g9A:()=>ow,Qsj:()=>_I,FYo:()=>zy,JOm:()=>bu,Tiy:()=>Mv,q3G:()=>Fi,tp0:()=>cu,EAV:()=>SS,Rgc:()=>Kg,dDg:()=>pw,DyG:()=>qo,q4F:()=>xv,GfV:()=>H0,s_b:()=>Yy,ifc:()=>Ee,eFA:()=>vw,G48:()=>cS,Gpc:()=>xe,X6Q:()=>cE,_c5:()=>LS,VLi:()=>lS,c2e:()=>lw,zSh:()=>Od,wAp:()=>ur,vHH:()=>ot,EiD:()=>aa,mCW:()=>Qr,qzn:()=>Xu,JVY:()=>Qs,pB0:()=>lh,eBb:()=>Js,L6k:()=>wc,LAX:()=>As,cg1:()=>bv,Tjo:()=>kS,kL8:()=>d0,yhl:()=>Kl,dqk:()=>Nt,sIi:()=>Vd,CqO:()=>Pg,QGY:()=>wy,F4k:()=>Cy,RDi:()=>R,AaK:()=>Re,z3N:()=>Sr,qOj:()=>yg,TTD:()=>Po,_Bn:()=>V0,xp6:()=>Lh,uIk:()=>Ef,Tol:()=>Fy,ekj:()=>Pf,Suo:()=>Fb,Xpm:()=>jr,lG2:()=>mi,Yz7:()=>Un,cJS:()=>cr,oAB:()=>Pr,Yjl:()=>Li,Y36:()=>Yc,_UZ:()=>Ey,BQk:()=>Og,ynx:()=>xg,qZA:()=>zd,TgZ:()=>Bl,EpF:()=>by,n5z:()=>v,Ikx:()=>Ev,LFG:()=>vr,$8M:()=>$,NdJ:()=>Wd,CRH:()=>Lb,kcU:()=>Ho,O4$:()=>su,oxw:()=>Ty,ALo:()=>xb,lcZ:()=>Ob,Hsn:()=>Sy,F$t:()=>Kd,Q6J:()=>Mg,s9C:()=>xf,DdM:()=>Ib,VKq:()=>Tb,iGM:()=>kb,MAs:()=>Cg,CHM:()=>ii,oJD:()=>Uo,LSH:()=>Zl,kYT:()=>Jr,YNc:()=>wf,W1O:()=>jb,_uU:()=>bt,Oqu:()=>Ot,hij:()=>tn,AsE:()=>jn});var y=O(7574),w=O(4869),K=O(3282),we=O(6693),Ce=O(9765),Me=O(5319),Te=O(2441);var Y=O(1307);function pe(){return new Ce.xQ}function Ne(t){for(let n in t)if(t[n]===Ne)return n;throw Error("Could not find renamed property on target object.")}function ct(t,n){for(const r in n)n.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=n[r])}function Re(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Re).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function Oe(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const We=Ne({__forward_ref__:Ne});function xe(t){return t.__forward_ref__=xe,t.toString=function(){return Re(this())},t}function Le(t){return Ue(t)?t():t}function Ue(t){return"function"==typeof t&&t.hasOwnProperty(We)&&t.__forward_ref__===xe}class ot extends Error{constructor(n,r){super(function(t,n){return`${t?`NG0${t}: `:""}${n}`}(n,r)),this.code=n}}function ne(t){return"string"==typeof t?t:null==t?"":String(t)}function oe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ne(t)}function Je(t,n){const r=n?` in ${n}`:"";throw new ot("201",`No provider for ${oe(t)} found${r}`)}function an(t,n){null==t&&function(t,n,r,o){throw new Error(`ASSERTION ERROR: ${t}`+(null==o?"":` [Expected=> ${r} ${o} ${n} <=Actual]`))}(n,t,null,"!=")}function Un(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function cr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Rr(t){return or(t,ve)||or(t,be)}function or(t,n){return t.hasOwnProperty(n)?t[n]:null}function Ht(t){return t&&(t.hasOwnProperty(te)||t.hasOwnProperty(dt))?t[te]:null}const ve=Ne({\u0275prov:Ne}),te=Ne({\u0275inj:Ne}),be=Ne({ngInjectableDef:Ne}),dt=Ne({ngInjectorDef:Ne});var ze=(()=>((ze=ze||{})[ze.Default=0]="Default",ze[ze.Host=1]="Host",ze[ze.Self=2]="Self",ze[ze.SkipSelf=4]="SkipSelf",ze[ze.Optional=8]="Optional",ze))();let Ft;function Pt(t){const n=Ft;return Ft=t,n}function _n(t,n,r){const o=Rr(t);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&ze.Optional?null:void 0!==n?n:void Je(Re(t),"Injector")}function Mn(t){return{toString:t}.toString()}var Hn=(()=>((Hn=Hn||{})[Hn.OnPush=0]="OnPush",Hn[Hn.Default=1]="Default",Hn))(),Ee=(()=>((Ee=Ee||{})[Ee.Emulated=0]="Emulated",Ee[Ee.None=2]="None",Ee[Ee.ShadowDom=3]="ShadowDom",Ee))();const Pe="undefined"!=typeof globalThis&&globalThis,Fe="undefined"!=typeof window&&window,pt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Nt=Pe||"undefined"!=typeof global&&global||Fe||pt,dr={},Tn=[],bn=Ne({\u0275cmp:Ne}),Qn=Ne({\u0275dir:Ne}),Gn=Ne({\u0275pipe:Ne}),nr=Ne({\u0275mod:Ne}),Fr=Ne({\u0275loc:Ne}),ai=Ne({\u0275fac:Ne}),ui=Ne({__NG_ELEMENT_ID__:Ne});let ds=0;function jr(t){return Mn(()=>{const r={},o={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Hn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Tn,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ee.Emulated,id:"c",styles:t.styles||Tn,_:null,setInput:null,schemas:t.schemas||null,tView:null},u=t.directives,l=t.features,g=t.pipes;return o.id+=ds++,o.inputs=Gr(t.inputs,r),o.outputs=Gr(t.outputs),l&&l.forEach(_=>_(o)),o.directiveDefs=u?()=>("function"==typeof u?u():u).map(Oi):null,o.pipeDefs=g?()=>("function"==typeof g?g():g).map(Lr):null,o})}function Oi(t){return br(t)||function(t){return t[Qn]||null}(t)}function Lr(t){return function(t){return t[Gn]||null}(t)}const gi={};function Pr(t){return Mn(()=>{const n={type:t.type,bootstrap:t.bootstrap||Tn,declarations:t.declarations||Tn,imports:t.imports||Tn,exports:t.exports||Tn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(gi[t.id]=t.type),n})}function Jr(t,n){return Mn(()=>{const r=zr(t,!0);r.declarations=n.declarations||Tn,r.imports=n.imports||Tn,r.exports=n.exports||Tn})}function Gr(t,n){if(null==t)return dr;const r={};for(const o in t)if(t.hasOwnProperty(o)){let u=t[o],l=u;Array.isArray(u)&&(l=u[1],u=u[0]),r[u]=o,n&&(n[u]=l)}return r}const mi=jr;function Li(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function br(t){return t[bn]||null}function zr(t,n){const r=t[nr]||null;if(!r&&!0===n)throw new Error(`Type ${Re(t)} does not have '\u0275mod' property.`);return r}function qr(t){return Array.isArray(t)&&"object"==typeof t[1]}function Be(t){return Array.isArray(t)&&!0===t[1]}function Ge(t){return 0!=(8&t.flags)}function it(t){return 2==(2&t.flags)}function Ct(t){return 1==(1&t.flags)}function St(t){return null!==t.template}function un(t){return 0!=(512&t[2])}function es(t,n){return t.hasOwnProperty(ai)?t[ai]:null}class Ki{constructor(n,r,o){this.previousValue=n,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function Po(){return Rs}function Rs(t){return t.type.prototype.ngOnChanges&&(t.setInput=to),Bs}function Bs(){const t=Cs(this),n=null==t?void 0:t.current;if(n){const r=t.previous;if(r===dr)t.previous=n;else for(let o in n)r[o]=n[o];t.current=null,this.ngOnChanges(n)}}function to(t,n,r,o){const u=Cs(t)||function(t,n){return t[Ks]=n}(t,{previous:dr,current:null}),l=u.current||(u.current={}),g=u.previous,_=this.declaredInputs[r],S=g[_];l[_]=new Ki(S&&S.currentValue,n,g===dr),t[o]=n}Po.ngInherit=!0;const Ks="__ngSimpleChanges__";function Cs(t){return t[Ks]||null}const U="http://www.w3.org/2000/svg";let A;function R(t){A=t}function W(){return void 0!==A?A:"undefined"!=typeof document?document:void 0}function It(t){return!!t.listen}const mr={createRenderer:(t,n)=>W()};function wn(t){for(;Array.isArray(t);)t=t[0];return t}function hs(t,n){return wn(n[t])}function Zr(t,n){return wn(n[t.index])}function ts(t,n){return t.data[n]}function Ir(t,n){return t[n]}function vi(t,n){const r=n[t];return qr(r)?r:r[0]}function no(t){return 4==(4&t[2])}function Ms(t){return 128==(128&t[2])}function as(t,n){return null==n?null:t[n]}function qs(t){t[18]=0}function G(t,n){t[5]+=n;let r=t,o=t[3];for(;null!==o&&(1===n&&1===r[5]||-1===n&&0===r[5]);)o[5]+=n,r=o,o=o[3]}const L={lFrame:pl(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function kt(){return L.bindingsEnabled}function ut(){return L.lFrame.lView}function sn(){return L.lFrame.tView}function ii(t){return L.lFrame.contextLView=t,t[8]}function Xn(){let t=di();for(;null!==t&&64===t.type;)t=t.parent;return t}function di(){return L.lFrame.currentTNode}function Ei(t,n){const r=L.lFrame;r.currentTNode=t,r.isParent=n}function Vr(){return L.lFrame.isParent}function fs(){L.lFrame.isParent=!1}function Ur(){return L.isInCheckNoChangesMode}function Hs(t){L.isInCheckNoChangesMode=t}function Br(){const t=L.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function ns(){return L.lFrame.bindingIndex}function Gs(){return L.lFrame.bindingIndex++}function Yr(t){const n=L.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,r}function iu(t,n){const r=L.lFrame;r.bindingIndex=r.bindingRootIndex=t,Oa(n)}function Oa(t){L.lFrame.currentDirectiveIndex=t}function ca(){return L.lFrame.currentQueryIndex}function da(t){L.lFrame.currentQueryIndex=t}function Pa(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function Na(t,n,r){if(r&ze.SkipSelf){let u=n,l=t;for(;!(u=u.parent,null!==u||r&ze.Host||(u=Pa(l),null===u||(l=l[15],10&u.type))););if(null===u)return!1;n=u,t=l}const o=L.lFrame=Zu();return o.currentTNode=n,o.lView=t,!0}function ro(t){const n=Zu(),r=t[1];L.lFrame=n,n.currentTNode=r.firstChild,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function Zu(){const t=L.lFrame,n=null===t?null:t.child;return null===n?pl(t):n}function pl(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function ha(){const t=L.lFrame;return L.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const fa=ha;function Pu(){const t=ha();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ci(){return L.lFrame.selectedIndex}function io(t){L.lFrame.selectedIndex=t}function hi(){const t=L.lFrame;return ts(t.tView,t.selectedIndex)}function su(){L.lFrame.currentNamespace=U}function Ho(){L.lFrame.currentNamespace=null}function so(t,n){for(let r=n.directiveStart,o=n.directiveEnd;r<o;r++){const l=t.data[r].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:_,ngAfterViewInit:S,ngAfterViewChecked:k,ngOnDestroy:H}=l;g&&(t.contentHooks||(t.contentHooks=[])).push(-r,g),_&&((t.contentHooks||(t.contentHooks=[])).push(r,_),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(r,_)),S&&(t.viewHooks||(t.viewHooks=[])).push(-r,S),k&&((t.viewHooks||(t.viewHooks=[])).push(r,k),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(r,k)),null!=H&&(t.destroyHooks||(t.destroyHooks=[])).push(r,H)}}function No(t,n,r){Ga(t,n,3,r)}function oo(t,n,r,o){(3&t[2])===r&&Ga(t,n,r,o)}function ka(t,n){let r=t[2];(3&r)===n&&(r&=2047,r+=1,t[2]=r)}function Ga(t,n,r,o){const l=null!=o?o:-1,g=n.length-1;let _=0;for(let S=void 0!==o?65535&t[18]:0;S<g;S++)if("number"==typeof n[S+1]){if(_=n[S],null!=o&&_>=o)break}else n[S]<0&&(t[18]+=65536),(_<l||-1==l)&&(wo(t,r,n,S),t[18]=(4294901760&t[18])+S+2),S++}function wo(t,n,r,o){const u=r[o]<0,l=r[o+1],_=t[u?-r[o]:r[o]];if(u){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{l.call(_)}finally{}}}else try{l.call(_)}finally{}}class gs{constructor(n,r,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}function zo(t,n,r){const o=It(t);let u=0;for(;u<r.length;){const l=r[u];if("number"==typeof l){if(0!==l)break;u++;const g=r[u++],_=r[u++],S=r[u++];o?t.setAttribute(n,_,S,g):n.setAttributeNS(g,_,S)}else{const g=l,_=r[++u];To(g)?o&&t.setProperty(n,g,_):o?t.setAttribute(n,g,_):n.setAttribute(g,_),u++}}return u}function Lo(t){return 3===t||4===t||6===t}function To(t){return 64===t.charCodeAt(0)}function ya(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let r=-1;for(let o=0;o<n.length;o++){const u=n[o];"number"==typeof u?r=u:0===r||uo(t,r,u,null,-1===r||2===r?n[++o]:null)}}return t}function uo(t,n,r,o,u){let l=0,g=t.length;if(-1===n)g=-1;else for(;l<t.length;){const _=t[l++];if("number"==typeof _){if(_===n){g=-1;break}if(_>n){g=l-1;break}}}for(;l<t.length;){const _=t[l];if("number"==typeof _)break;if(_===r){if(null===o)return void(null!==u&&(t[l+1]=u));if(o===t[l+1])return void(t[l+2]=u)}l++,null!==o&&l++,null!==u&&l++}-1!==g&&(t.splice(g,0,n),l=g+1),t.splice(l++,0,r),null!==o&&t.splice(l++,0,o),null!==u&&t.splice(l++,0,u)}function _a(t){return-1!==t}function ms(t){return 32767&t}function lo(t,n){let r=function(t){return t>>16}(t),o=n;for(;r>0;)o=o[15],r--;return o}let fi=!0;function Zs(t){const n=fi;return fi=t,n}let Kt=0;function co(t,n){const r=Rn(t,n);if(-1!==r)return r;const o=n[1];o.firstCreatePass&&(t.injectorIndex=n.length,Ts(o.data,t),Ts(n,null),Ts(o.blueprint,null));const u=Zn(t,n),l=t.injectorIndex;if(_a(u)){const g=ms(u),_=lo(u,n),S=_[1].data;for(let k=0;k<8;k++)n[l+k]=_[g+k]|S[g+k]}return n[l+8]=u,l}function Ts(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Rn(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Zn(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let r=0,o=null,u=n;for(;null!==u;){const l=u[1],g=l.type;if(o=2===g?l.declTNode:1===g?u[6]:null,null===o)return-1;if(r++,u=u[15],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return-1}function Wo(t,n,r){!function(t,n,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(ui)&&(o=r[ui]),null==o&&(o=r[ui]=Kt++);const u=255&o;n.data[t+(u>>5)]|=1<<u}(t,n,r)}function mt(t,n,r){if(r&ze.Optional)return t;Je(n,"NodeInjector")}function Lt(t,n,r,o){if(r&ze.Optional&&void 0===o&&(o=null),0==(r&(ze.Self|ze.Host))){const u=t[9],l=Pt(void 0);try{return u?u.get(n,o,r&ze.Optional):_n(n,o,r&ze.Optional)}finally{Pt(l)}}return mt(o,n,r)}function ji(t,n,r,o=ze.Default,u){if(null!==t){const l=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(ui)?t[ui]:void 0;return"number"==typeof n?n>=0?255&n:xs:n}(r);if("function"==typeof l){if(!Na(n,t,o))return o&ze.Host?mt(u,r,o):Lt(n,r,o,u);try{const g=l(o);if(null!=g||o&ze.Optional)return g;Je(r)}finally{fa()}}else if("number"==typeof l){let g=null,_=Rn(t,n),S=-1,k=o&ze.Host?n[16][6]:null;for((-1===_||o&ze.SkipSelf)&&(S=-1===_?Zn(t,n):n[_+8],-1!==S&&x(o,!1)?(g=n[1],_=ms(S),n=lo(S,n)):_=-1);-1!==_;){const H=n[1];if(Os(l,_,H.data)){const re=uu(_,n,r,g,o,k);if(re!==za)return re}S=n[_+8],-1!==S&&x(o,n[1].data[_+8]===k)&&Os(l,_,n)?(g=H,_=ms(S),n=lo(S,n)):_=-1}}}return Lt(n,r,o,u)}const za={};function xs(){return new C(Xn(),ut())}function uu(t,n,r,o,u,l){const g=n[1],_=g.data[t+8],H=Wa(_,g,r,null==o?it(_)&&fi:o!=g&&0!=(3&_.type),u&ze.Host&&l===_);return null!==H?Io(n,g,H,_):za}function Wa(t,n,r,o,u){const l=t.providerIndexes,g=n.data,_=1048575&l,S=t.directiveStart,H=l>>20,le=u?_+H:t.directiveEnd;for(let ke=o?_:_+H;ke<le;ke++){const Xe=g[ke];if(ke<S&&r===Xe||ke>=S&&Xe.type===r)return ke}if(u){const ke=g[S];if(ke&&St(ke)&&ke.type===r)return S}return null}function Io(t,n,r,o){let u=t[r];const l=n.data;if(function(t){return t instanceof gs}(u)){const g=u;g.resolving&&function(t,n){throw new ot("200",`Circular dependency in DI detected for ${t}`)}(oe(l[r]));const _=Zs(g.canSeeViewProviders);g.resolving=!0;const S=g.injectImpl?Pt(g.injectImpl):null;Na(t,o,ze.Default);try{u=t[r]=g.factory(void 0,l,t,o),n.firstCreatePass&&r>=o.directiveStart&&function(t,n,r){const{ngOnChanges:o,ngOnInit:u,ngDoCheck:l}=n.type.prototype;if(o){const g=Rs(n);(r.preOrderHooks||(r.preOrderHooks=[])).push(t,g),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(t,g)}u&&(r.preOrderHooks||(r.preOrderHooks=[])).push(0-t,u),l&&((r.preOrderHooks||(r.preOrderHooks=[])).push(t,l),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(t,l))}(r,l[r],n)}finally{null!==S&&Pt(S),Zs(_),g.resolving=!1,fa()}}return u}function Os(t,n,r){return!!(r[n+(t>>5)]&1<<t)}function x(t,n){return!(t&ze.Self||t&ze.Host&&n)}class C{constructor(n,r){this._tNode=n,this._lView=r}get(n,r,o){return ji(this._tNode,this._lView,n,o,r)}}function v(t){return Mn(()=>{const n=t.prototype.constructor,r=n[ai]||N(n),o=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==o;){const l=u[ai]||N(u);if(l&&l!==r)return l;u=Object.getPrototypeOf(u)}return l=>new l})}function N(t){return Ue(t)?()=>{const n=N(Le(t));return n&&n()}:es(t)}function $(t){return function(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const r=t.attrs;if(r){const o=r.length;let u=0;for(;u<o;){const l=r[u];if(Lo(l))break;if(0===l)u+=2;else if("number"==typeof l)for(u++;u<o&&"string"==typeof r[u];)u++;else{if(l===n)return r[u+1];u+=2}}}return null}(Xn(),t)}const de="__parameters__";function er(t,n,r){return Mn(()=>{const o=function(t){return function(...r){if(t){const o=t(...r);for(const u in o)this[u]=o[u]}}}(n);function u(...l){if(this instanceof u)return o.apply(this,l),this;const g=new u(...l);return _.annotation=g,_;function _(S,k,H){const re=S.hasOwnProperty(de)?S[de]:Object.defineProperty(S,de,{value:[]})[de];for(;re.length<=H;)re.push(null);return(re[H]=re[H]||[]).push(g),S}}return r&&(u.prototype=Object.create(r.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}class Vn{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Un({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}toString(){return`InjectionToken ${this._desc}`}}const La=new Vn("AnalyzeForEntryComponents"),qo=Function;function b(t,n){void 0===n&&(n=t);for(let r=0;r<t.length;r++){let o=t[r];Array.isArray(o)?(n===t&&(n=t.slice(0,r)),b(o,n)):n!==t&&n.push(o)}return n}function B(t,n){t.forEach(r=>Array.isArray(r)?B(r,n):n(r))}function q(t,n,r){n>=t.length?t.push(r):t.splice(n,0,r)}function ce(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Se(t,n){const r=[];for(let o=0;o<t;o++)r.push(n);return r}function An(t,n,r){let o=yr(t,n);return o>=0?t[1|o]=r:(o=~o,function(t,n,r,o){let u=t.length;if(u==n)t.push(r,o);else if(1===u)t.push(o,t[0]),t[0]=r;else{for(u--,t.push(t[u-1],t[u]);u>n;)t[u]=t[u-2],u--;t[n]=r,t[n+1]=o}}(t,o,n,r)),o}function Yn(t,n){const r=yr(t,n);if(r>=0)return t[1|r]}function yr(t,n){return function(t,n,r){let o=0,u=t.length>>r;for(;u!==o;){const l=o+(u-o>>1),g=t[l<<r];if(n===g)return l<<r;g>n?u=l:o=l+1}return~(u<<r)}(t,n,1)}const qt={},kn="__NG_DI_FLAG__",Nr="ngTempTokenPath",pn=/\n/gm,zn="__source",xi=Ne({provide:String,useValue:Ne});let Ti;function pi(t){const n=Ti;return Ti=t,n}function Ro(t,n=ze.Default){if(void 0===Ti)throw new Error("inject() must be called from an injection context");return null===Ti?_n(t,void 0,n):Ti.get(t,n&ze.Optional?null:void 0,n)}function vr(t,n=ze.Default){return(Ft||Ro)(Le(t),n)}function fo(t){const n=[];for(let r=0;r<t.length;r++){const o=Le(t[r]);if(Array.isArray(o)){if(0===o.length)throw new Error("Arguments array must have arguments.");let u,l=ze.Default;for(let g=0;g<o.length;g++){const _=o[g],S=Va(_);"number"==typeof S?-1===S?u=_.token:l|=S:u=_}n.push(vr(u,l))}else n.push(vr(o))}return n}function Ps(t,n){return t[kn]=n,t.prototype[kn]=n,t}function Va(t){return t[kn]}function Za(t,n,r,o){const u=t[Nr];throw n[zn]&&u.unshift(n[zn]),t.message=function(t,n,r,o=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let u=Re(n);if(Array.isArray(n))u=n.map(Re).join(" -> ");else if("object"==typeof n){let l=[];for(let g in n)if(n.hasOwnProperty(g)){let _=n[g];l.push(g+":"+("string"==typeof _?JSON.stringify(_):Re(_)))}u=`{${l.join(", ")}}`}return`${r}${o?"("+o+")":""}[${u}]: ${t.replace(pn,"\n  ")}`}("\n"+t.message,u,r,o),t.ngTokenPath=u,t[Nr]=null,t}const Ya=Ps(er("Inject",t=>({token:t})),-1),Qa=Ps(er("Optional"),8),cu=Ps(er("SkipSelf"),4);let ys,bl;function du(t){var n;return(null===(n=function(){if(void 0===ys&&(ys=null,Nt.trustedTypes))try{ys=Nt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return ys}())||void 0===n?void 0:n.createHTML(t))||t}function wl(t){var n;return(null===(n=function(){if(void 0===bl&&(bl=null,Nt.trustedTypes))try{bl=Nt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return bl}())||void 0===n?void 0:n.createHTML(t))||t}class Zo{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class uh extends Zo{getTypeName(){return"HTML"}}class zl extends Zo{getTypeName(){return"Style"}}class Wl extends Zo{getTypeName(){return"Script"}}class ep extends Zo{getTypeName(){return"URL"}}class Ss extends Zo{getTypeName(){return"ResourceURL"}}function Sr(t){return t instanceof Zo?t.changingThisBreaksApplicationSecurity:t}function Xu(t,n){const r=Kl(t);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see https://g.co/ng/security#xss)`)}return r===n}function Kl(t){return t instanceof Zo&&t.getTypeName()||null}function Qs(t){return new uh(t)}function wc(t){return new zl(t)}function Js(t){return new Wl(t)}function As(t){return new ep(t)}function lh(t){return new Ss(t)}class ba{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const r=(new window.DOMParser).parseFromString(du(n),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(n):(r.removeChild(r.firstChild),r)}catch(r){return null}}}class tp{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r);const o=this.inertDocument.createElement("body");r.appendChild(o)}}getInertBodyElement(n){const r=this.inertDocument.createElement("template");if("content"in r)return r.innerHTML=du(n),r;const o=this.inertDocument.createElement("body");return o.innerHTML=du(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(o),o}stripCustomNsAttrs(n){const r=n.attributes;for(let u=r.length-1;0<u;u--){const g=r.item(u).name;("xmlns:ns1"===g||0===g.indexOf("ns1:"))&&n.removeAttribute(g)}let o=n.firstChild;for(;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling}}const ad=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,rp=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Qr(t){return(t=String(t)).match(ad)||t.match(rp)?t:"unsafe:"+t}function oa(t){const n={};for(const r of t.split(","))n[r]=!0;return n}function fu(...t){const n={};for(const r of t)for(const o in r)r.hasOwnProperty(o)&&(n[o]=!0);return n}const pu=oa("area,br,col,hr,img,wbr"),ql=oa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ud=oa("rp,rt"),Tc=fu(pu,fu(ql,oa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),fu(ud,oa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),fu(ud,ql)),Dc=oa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ld=oa("srcset"),el=fu(Dc,ld,oa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),oa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hh=oa("script,style,template");class sp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let r=n.firstChild,o=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?o=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,o&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let u=this.checkClobberedElement(r,r.nextSibling);if(u){r=u;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(n){const r=n.nodeName.toLowerCase();if(!Tc.hasOwnProperty(r))return this.sanitizedSomething=!0,!hh.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const o=n.attributes;for(let u=0;u<o.length;u++){const l=o.item(u),g=l.name,_=g.toLowerCase();if(!el.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let S=l.value;Dc[_]&&(S=Qr(S)),ld[_]&&(t=S,S=(t=String(t)).split(",").map(n=>Qr(n.trim())).join(", ")),this.buf.push(" ",g,'="',Sc(S),'"')}var t;return this.buf.push(">"),!0}endElement(n){const r=n.nodeName.toLowerCase();Tc.hasOwnProperty(r)&&!pu.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(n){this.buf.push(Sc(n))}checkClobberedElement(n,r){if(r&&(n.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return r}}const po=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dd=/([^\#-~ |!])/g;function Sc(t){return t.replace(/&/g,"&amp;").replace(po,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(dd,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ja;function aa(t,n){let r=null;try{Ja=Ja||function(t){const n=new tp(t);return function(){try{return!!(new window.DOMParser).parseFromString(du(""),"text/html")}catch(t){return!1}}()?new ba(n):n}(t);let o=n?String(n):"";r=Ja.getInertBodyElement(o);let u=5,l=o;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,o=l,l=r.innerHTML,r=Ja.getInertBodyElement(o)}while(o!==l);return du((new sp).sanitizeChildren(Cl(r)||r))}finally{if(r){const o=Cl(r)||r;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function Cl(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Fi=(()=>((Fi=Fi||{})[Fi.NONE=0]="NONE",Fi[Fi.HTML=1]="HTML",Fi[Fi.STYLE=2]="STYLE",Fi[Fi.SCRIPT=3]="SCRIPT",Fi[Fi.URL=4]="URL",Fi[Fi.RESOURCE_URL=5]="RESOURCE_URL",Fi))();function Uo(t){const n=Yl();return n?wl(n.sanitize(Fi.HTML,t)||""):Xu(t,"HTML")?wl(Sr(t)):aa(W(),ne(t))}function Zl(t){const n=Yl();return n?n.sanitize(Fi.URL,t)||"":Xu(t,"URL")?Sr(t):Qr(ne(t))}function Yl(){const t=ut();return t&&t[12]}const Bo="__ngContext__";function go(t,n){t[Bo]=n}function Vu(t){const n=function(t){return t[Bo]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function _t(t){return t.ngOriginalError}function mn(t,...n){t.error(...n)}class xn{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n),o=this._findContext(n),u=(t=n)&&t.ngErrorLogger||mn;var t;u(this._console,"ERROR",n),r&&u(this._console,"ORIGINAL ERROR",r),o&&u(this._console,"ERROR CONTEXT",o)}_findContext(n){return n?n.ngDebugContext||this._findContext(_t(n)):null}_findOriginalError(n){let r=n&&_t(n);for(;r&&_t(r);)r=_t(r);return r||null}}const _u=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Nt))();function Eu(t){return t instanceof Function?t():t}var bu=(()=>((bu=bu||{})[bu.Important=1]="Important",bu[bu.DashCase=2]="DashCase",bu))();function wh(t,n){return undefined(t,n)}function Uu(t){const n=t[3];return Be(n)?n[3]:n}function tc(t){return Ih(t[13])}function Ch(t){return Ih(t[4])}function Ih(t){for(;null!==t&&!Be(t);)t=t[4];return t}function nc(t,n,r,o,u){if(null!=o){let l,g=!1;Be(o)?l=o:qr(o)&&(g=!0,o=o[0]);const _=wn(o);0===t&&null!==r?null==u?Rl(n,r,_):Ta(n,r,_,u||null,!0):1===t&&null!==r?Ta(n,r,_,u||null,!0):2===t?function(t,n,r){const o=Rh(t,n);o&&function(t,n,r,o){It(t)?t.removeChild(n,r,o):n.removeChild(r)}(t,o,n,r)}(n,_,g):3===t&&n.destroyNode(_),null!=l&&function(t,n,r,o,u){const l=r[7];l!==wn(r)&&nc(n,t,o,l,u);for(let _=10;_<r.length;_++){const S=r[_];Mc(S[1],S,t,n,o,l)}}(n,t,l,r,u)}}function hp(t,n,r){return It(t)?t.createElement(n,r):null===r?t.createElement(n):t.createElementNS(r,n)}function pp(t,n){const r=t[9],o=r.indexOf(n),u=n[3];1024&n[2]&&(n[2]&=-1025,G(u,-1)),r.splice(o,1)}function Bu(t,n){if(t.length<=10)return;const r=10+n,o=t[r];if(o){const u=o[17];null!==u&&u!==t&&pp(u,o),n>0&&(t[r-1][4]=o[4]);const l=ce(t,10+n);!function(t,n){Mc(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(o[1],o);const g=l[19];null!==g&&g.detachView(l[1]),o[3]=null,o[4]=null,o[2]&=-129}return o}function rc(t,n){if(!(256&n[2])){const r=n[11];It(r)&&r.destroyNode&&Mc(t,n,r,3,null,null),function(t){let n=t[13];if(!n)return Sh(t[1],t);for(;n;){let r=null;if(qr(n))r=n[13];else{const o=n[10];o&&(r=o)}if(!r){for(;n&&!n[4]&&n!==t;)qr(n)&&Sh(n[1],n),n=n[3];null===n&&(n=t),qr(n)&&Sh(n[1],n),r=n&&n[4]}n=r}}(n)}}function Sh(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(t,n){let r;if(null!=t&&null!=(r=t.destroyHooks))for(let o=0;o<r.length;o+=2){const u=n[r[o]];if(!(u instanceof gs)){const l=r[o+1];if(Array.isArray(l))for(let g=0;g<l.length;g+=2){const _=u[l[g]],S=l[g+1];try{S.call(_)}finally{}}else try{l.call(u)}finally{}}}}(t,n),function(t,n){const r=t.cleanup,o=n[7];let u=-1;if(null!==r)for(let l=0;l<r.length-1;l+=2)if("string"==typeof r[l]){const g=r[l+1],_="function"==typeof g?g(n):wn(n[g]),S=o[u=r[l+2]],k=r[l+3];"boolean"==typeof k?_.removeEventListener(r[l],S,k):k>=0?o[u=k]():o[u=-k].unsubscribe(),l+=2}else{const g=o[u=r[l+1]];r[l].call(g)}if(null!==o){for(let l=u+1;l<o.length;l++)o[l]();n[7]=null}}(t,n),1===n[1].type&&It(n[11])&&n[11].destroy();const r=n[17];if(null!==r&&Be(n[3])){r!==n[3]&&pp(r,n);const o=n[19];null!==o&&o.detachView(t)}}}function sc(t,n,r){return function(t,n,r){let o=n;for(;null!==o&&40&o.type;)o=(n=o).parent;if(null===o)return r[0];if(2&o.flags){const u=t.data[o.directiveStart].encapsulation;if(u===Ee.None||u===Ee.Emulated)return null}return Zr(o,r)}(t,n.parent,r)}function Ta(t,n,r,o,u){It(t)?t.insertBefore(n,r,o,u):n.insertBefore(r,o,u)}function Rl(t,n,r){It(t)?t.appendChild(n,r):n.appendChild(r)}function Ah(t,n,r,o,u){null!==o?Ta(t,n,r,o,u):Rl(t,n,r)}function Rh(t,n){return It(t)?t.parentNode(n):n.parentNode}function Em(t,n,r){return _d(t,n,r)}let _d=function(t,n,r){return 40&t.type?Zr(t,r):null};function Mh(t,n,r,o){const u=sc(t,o,n),l=n[11],_=Em(o.parent||n[6],o,n);if(null!=u)if(Array.isArray(r))for(let S=0;S<r.length;S++)Ah(l,u,r[S],_,!1);else Ah(l,u,r,_,!1)}function xh(t,n){if(null!==n){const r=n.type;if(3&r)return Zr(n,t);if(4&r)return ju(-1,t[n.index]);if(8&r){const o=n.child;if(null!==o)return xh(t,o);{const u=t[n.index];return Be(u)?ju(-1,u):wn(u)}}if(32&r)return wh(n,t)()||wn(t[n.index]);{const o=yp(t,n);return null!==o?Array.isArray(o)?o[0]:xh(Uu(t[16]),o):xh(t,n.next)}}return null}function yp(t,n){return null!==n?t[16][6].projection[n.projection]:null}function ju(t,n){const r=10+t+1;if(r<n.length){const o=n[r],u=o[1].firstChild;if(null!==u)return xh(o,u)}return n[7]}function _p(t,n,r,o,u,l,g){for(;null!=r;){const _=o[r.index],S=r.type;if(g&&0===n&&(_&&go(wn(_),o),r.flags|=4),64!=(64&r.flags))if(8&S)_p(t,n,r.child,o,u,l,!1),nc(n,t,u,_,l);else if(32&S){const k=wh(r,o);let H;for(;H=k();)nc(n,t,u,H,l);nc(n,t,u,_,l)}else 16&S?Oh(t,n,o,r,u,l):nc(n,t,u,_,l);r=g?r.projectionNext:r.next}}function Mc(t,n,r,o,u,l){_p(r,o,t.firstChild,n,u,l,!1)}function Oh(t,n,r,o,u,l){const g=r[16],S=g[6].projection[o.projection];if(Array.isArray(S))for(let k=0;k<S.length;k++)nc(n,t,u,S[k],l);else _p(t,n,S,g[3],u,l,!0)}function Nh(t,n,r){It(t)?t.setAttribute(n,"style",r):n.style.cssText=r}function Ep(t,n,r){It(t)?""===r?t.removeAttribute(n,"class"):t.setAttribute(n,"class",r):n.className=r}function bp(t,n,r){let o=t.length;for(;;){const u=t.indexOf(n,r);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const l=n.length;if(u+l===o||t.charCodeAt(u+l)<=32)return u}r=u+1}}const wp="ng-template";function y_(t,n,r){let o=0;for(;o<t.length;){let u=t[o++];if(r&&"class"===u){if(u=t[o],-1!==bp(u.toLowerCase(),n,0))return!0}else if(1===u){for(;o<t.length&&"string"==typeof(u=t[o++]);)if(u.toLowerCase()===n)return!0;return!1}}return!1}function Cp(t){return 4===t.type&&t.value!==wp}function Cm(t,n,r){return n===(4!==t.type||r?t.value:wp)}function Ip(t,n,r){let o=4;const u=t.attrs||[],l=function(t){for(let n=0;n<t.length;n++)if(Lo(t[n]))return n;return t.length}(u);let g=!1;for(let _=0;_<n.length;_++){const S=n[_];if("number"!=typeof S){if(!g)if(4&o){if(o=2|1&o,""!==S&&!Cm(t,S,r)||""===S&&1===n.length){if(wu(o))return!1;g=!0}}else{const k=8&o?S:n[++_];if(8&o&&null!==t.attrs){if(!y_(t.attrs,k,r)){if(wu(o))return!1;g=!0}continue}const re=Im(8&o?"class":S,u,Cp(t),r);if(-1===re){if(wu(o))return!1;g=!0;continue}if(""!==k){let le;le=re>l?"":u[re+1].toLowerCase();const ke=8&o?le:null;if(ke&&-1!==bp(ke,k,0)||2&o&&k!==le){if(wu(o))return!1;g=!0}}}}else{if(!g&&!wu(o)&&!wu(S))return!1;if(g&&wu(S))continue;g=!1,o=S|1&o}}return wu(o)||g}function wu(t){return 0==(1&t)}function Im(t,n,r,o){if(null===n)return-1;let u=0;if(o||!r){let l=!1;for(;u<n.length;){const g=n[u];if(g===t)return u;if(3===g||6===g)l=!0;else{if(1===g||2===g){let _=n[++u];for(;"string"==typeof _;)_=n[++u];continue}if(4===g)break;if(0===g){u+=4;continue}}u+=l?1:2}return-1}return function(t,n){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){const o=t[r];if("number"==typeof o)return-1;if(o===n)return r;r++}return-1}(n,t)}function Tm(t,n,r=!1){for(let o=0;o<n.length;o++)if(Ip(t,n[o],r))return!0;return!1}function Oc(t,n){e:for(let r=0;r<n.length;r++){const o=n[r];if(t.length===o.length){for(let u=0;u<t.length;u++)if(t[u]!==o[u])continue e;return!0}}return!1}function kh(t,n){return t?":not("+n.trim()+")":n}function Fh(t){let n=t[0],r=1,o=2,u="",l=!1;for(;r<t.length;){let g=t[r];if("string"==typeof g)if(2&o){const _=t[++r];u+="["+g+(_.length>0?'="'+_+'"':"")+"]"}else 8&o?u+="."+g:4&o&&(u+=" "+g);else""!==u&&!wu(g)&&(n+=kh(l,u),u=""),o=g,l=l||!wu(o);r++}return""!==u&&(n+=kh(l,u)),n}const Tr={};function Lh(t){Rm(sn(),ut(),Ci()+t,Ur())}function Rm(t,n,r,o){if(!o)if(3==(3&n[2])){const l=t.preOrderCheckHooks;null!==l&&No(n,l,r)}else{const l=t.preOrderHooks;null!==l&&oo(n,l,0,r)}io(r)}function Pc(t,n){return t<<17|n<<2}function Cu(t){return t>>17&32767}function bd(t){return 2|t}function ls(t){return(131068&t)>>2}function Tp(t,n){return-131069&t|n<<2}function Dp(t){return 1|t}function $h(t,n){const r=t.contentQueries;if(null!==r)for(let o=0;o<r.length;o+=2){const u=r[o],l=r[o+1];if(-1!==l){const g=t.data[l];da(u),g.contentQueries(2,n[l],l)}}}function Rd(t,n,r,o,u,l,g,_,S,k){const H=n.blueprint.slice();return H[0]=u,H[2]=140|o,qs(H),H[3]=H[15]=t,H[8]=r,H[10]=g||t&&t[10],H[11]=_||t&&t[11],H[12]=S||t&&t[12]||null,H[9]=k||t&&t[9]||null,H[6]=l,H[16]=2==n.type?t[16]:H,H}function Ol(t,n,r,o,u){let l=t.data[n];if(null===l)l=function(t,n,r,o,u){const l=di(),g=Vr(),S=t.data[n]=function(t,n,r,o,u,l){return{type:r,index:o,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?l:l&&l.parent,r,n,o,u);return null===t.firstChild&&(t.firstChild=S),null!==l&&(g?null==l.child&&null!==S.parent&&(l.child=S):null===l.next&&(l.next=S)),S}(t,n,r,o,u),L.lFrame.inI18n&&(l.flags|=64);else if(64&l.type){l.type=r,l.value=o,l.attrs=u;const g=function(){const t=L.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();l.injectorIndex=null===g?-1:g.injectorIndex}return Ei(l,!0),l}function Pl(t,n,r,o){if(0===r)return-1;const u=n.length;for(let l=0;l<r;l++)n.push(o),t.blueprint.push(o),t.data.push(null);return u}function kc(t,n,r){ro(n);try{const o=t.viewQuery;null!==o&&Jp(1,o,r);const u=t.template;null!==u&&Lm(t,n,u,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&$h(t,n),t.staticViewQueries&&Jp(2,t.viewQuery,r);const l=t.components;null!==l&&function(t,n){for(let r=0;r<n.length;r++)qp(t,n[r])}(n,l)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{n[2]&=-5,Pu()}}function Tu(t,n,r,o){const u=n[2];if(256==(256&u))return;ro(n);const l=Ur();try{qs(n),function(t){L.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==r&&Lm(t,n,r,2,o);const g=3==(3&u);if(!l)if(g){const k=t.preOrderCheckHooks;null!==k&&No(n,k,null)}else{const k=t.preOrderHooks;null!==k&&oo(n,k,0,null),ka(n,0)}if(function(t){for(let n=tc(t);null!==n;n=Ch(n)){if(!n[2])continue;const r=n[9];for(let o=0;o<r.length;o++){const u=r[o],l=u[3];0==(1024&u[2])&&G(l,1),u[2]|=1024}}}(n),function(t){for(let n=tc(t);null!==n;n=Ch(n))for(let r=10;r<n.length;r++){const o=n[r],u=o[1];Ms(o)&&Tu(u,o,u.template,o[8])}}(n),null!==t.contentQueries&&$h(t,n),!l)if(g){const k=t.contentCheckHooks;null!==k&&No(n,k)}else{const k=t.contentHooks;null!==k&&oo(n,k,1),ka(n,1)}!function(t,n){const r=t.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const u=r[o];if(u<0)io(~u);else{const l=u,g=r[++o],_=r[++o];iu(g,l),_(2,n[l])}}}finally{io(-1)}}(t,n);const _=t.components;null!==_&&function(t,n){for(let r=0;r<n.length;r++)Wp(t,n[r])}(n,_);const S=t.viewQuery;if(null!==S&&Jp(2,S,o),!l)if(g){const k=t.viewCheckHooks;null!==k&&No(n,k)}else{const k=t.viewHooks;null!==k&&oo(n,k,2),ka(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),l||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,G(n[3],-1))}finally{Pu()}}function Fp(t,n,r,o){const u=n[10],l=!Ur(),g=no(n);try{l&&!g&&u.begin&&u.begin(),g&&kc(t,n,o),Tu(t,n,r,o)}finally{l&&!g&&u.end&&u.end()}}function Lm(t,n,r,o,u){const l=Ci(),g=2&o;try{io(-1),g&&n.length>20&&Rm(t,n,20,Ur()),r(o,u)}finally{io(l)}}function Vm(t,n,r){if(Ge(n)){const u=n.directiveEnd;for(let l=n.directiveStart;l<u;l++){const g=t.data[l];g.contentQueries&&g.contentQueries(1,r[l],l)}}}function Hh(t,n,r){!kt()||(function(t,n,r,o){const u=r.directiveStart,l=r.directiveEnd;t.firstCreatePass||co(r,n),go(o,n);const g=r.initialInputs;for(let _=u;_<l;_++){const S=t.data[_],k=St(S);k&&Gm(n,r,S);const H=Io(n,t,_,r);go(H,n),null!==g&&R_(0,_-u,H,S,0,g),k&&(vi(r.index,n)[8]=H)}}(t,n,r,Zr(r,n)),128==(128&r.flags)&&function(t,n,r){const o=r.directiveStart,u=r.directiveEnd,g=r.index,_=L.lFrame.currentDirectiveIndex;try{io(g);for(let S=o;S<u;S++){const k=t.data[S],H=n[S];Oa(S),(null!==k.hostBindings||0!==k.hostVars||null!==k.hostAttrs)&&jm(k,H)}}finally{io(-1),Oa(_)}}(t,n,r))}function Gh(t,n,r=Zr){const o=n.localNames;if(null!==o){let u=n.index+1;for(let l=0;l<o.length;l+=2){const g=o[l+1],_=-1===g?r(n,t):t[g];t[u++]=_}}}function Um(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Fc(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function Fc(t,n,r,o,u,l,g,_,S,k){const H=20+o,re=H+u,le=function(t,n){const r=[];for(let o=0;o<n;o++)r.push(o<t?null:Tr);return r}(H,re),ke="function"==typeof k?k():k;return le[1]={type:t,blueprint:le,template:r,queries:null,viewQuery:_,declTNode:n,data:le.slice().fill(null,H),bindingStartIndex:H,expandoStartIndex:re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:S,consts:ke,incompleteFirstPass:!1}}function Bm(t,n,r,o){const u=ef(n);null===r?u.push(o):(u.push(r),t.firstCreatePass&&tf(t).push(o,u.length-1))}function Kh(t,n,r){for(let o in t)if(t.hasOwnProperty(o)){const u=t[o];(r=null===r?{}:r).hasOwnProperty(o)?r[o].push(n,u):r[o]=[n,u]}return r}function mo(t,n,r,o,u,l,g,_){const S=Zr(n,r);let H,k=n.inputs;!_&&null!=k&&(H=k[o])?(Xp(t,r,H,o,u),it(n)&&function(t,n){const r=vi(n,t);16&r[2]||(r[2]|=64)}(r,n.index)):3&n.type&&(o=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(o),u=null!=g?g(u,n.value||"",o):u,It(l)?l.setProperty(S,o,u):To(o)||(S.setProperty?S.setProperty(o,u):S[o]=u))}function xd(t,n,r,o){let u=!1;if(kt()){const l=function(t,n,r){const o=t.directiveRegistry;let u=null;if(o)for(let l=0;l<o.length;l++){const g=o[l];Tm(r,g.selectors,!1)&&(u||(u=[]),Wo(co(r,n),t,g.type),St(g)?(Zh(t,r),u.unshift(g)):u.push(g))}return u}(t,n,r),g=null===o?null:{"":-1};if(null!==l){u=!0,Hm(r,t.data.length,l.length);for(let H=0;H<l.length;H++){const re=l[H];re.providersResolver&&re.providersResolver(re)}let _=!1,S=!1,k=Pl(t,n,l.length,null);for(let H=0;H<l.length;H++){const re=l[H];r.mergedAttrs=ya(r.mergedAttrs,re.hostAttrs),Hp(t,r,n,k,re),$m(k,re,g),null!==re.contentQueries&&(r.flags|=8),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(r.flags|=128);const le=re.type.prototype;!_&&(le.ngOnChanges||le.ngOnInit||le.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(r.index),_=!0),!S&&(le.ngOnChanges||le.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(r.index),S=!0),k++}!function(t,n){const o=n.directiveEnd,u=t.data,l=n.attrs,g=[];let _=null,S=null;for(let k=n.directiveStart;k<o;k++){const H=u[k],re=H.inputs,le=null===l||Cp(n)?null:M_(re,l);g.push(le),_=Kh(re,k,_),S=Kh(H.outputs,k,S)}null!==_&&(_.hasOwnProperty("class")&&(n.flags|=16),_.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=g,n.inputs=_,n.outputs=S}(t,r)}g&&function(t,n,r){if(n){const o=t.localNames=[];for(let u=0;u<n.length;u+=2){const l=r[n[u+1]];if(null==l)throw new ot("301",`Export of name '${n[u+1]}' not found!`);o.push(n[u],l)}}}(r,o,g)}return r.mergedAttrs=ya(r.mergedAttrs,r.attrs),u}function qh(t,n,r,o,u,l){const g=l.hostBindings;if(g){let _=t.hostBindingOpCodes;null===_&&(_=t.hostBindingOpCodes=[]);const S=~n.index;(function(t){let n=t.length;for(;n>0;){const r=t[--n];if("number"==typeof r&&r<0)return r}return 0})(_)!=S&&_.push(S),_.push(o,u,g)}}function jm(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Zh(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function $m(t,n,r){if(r){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)r[n.exportAs[o]]=t;St(n)&&(r[""]=t)}}function Hm(t,n,r){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+r,t.providerIndexes=n}function Hp(t,n,r,o,u){t.data[o]=u;const l=u.factory||(u.factory=es(u.type)),g=new gs(l,St(u),null);t.blueprint[o]=g,r[o]=g,qh(t,n,0,o,Pl(t,r,u.hostVars,Tr),u)}function Gm(t,n,r){const o=Zr(n,t),u=Um(r),l=t[10],g=Uc(t,Rd(t,u,null,r.onPush?64:16,o,n,l,l.createRenderer(o,r),null,null));t[n.index]=g}function Du(t,n,r,o,u,l){const g=Zr(t,n);!function(t,n,r,o,u,l,g){if(null==l)It(t)?t.removeAttribute(n,u,r):n.removeAttribute(u);else{const _=null==g?ne(l):g(l,o||"",u);It(t)?t.setAttribute(n,u,_,r):r?n.setAttributeNS(r,u,_):n.setAttribute(u,_)}}(n[11],g,l,t.value,r,o,u)}function R_(t,n,r,o,u,l){const g=l[n];if(null!==g){const _=o.setInput;for(let S=0;S<g.length;){const k=g[S++],H=g[S++],re=g[S++];null!==_?o.setInput(r,re,k,H):r[H]=re}}}function M_(t,n){let r=null,o=0;for(;o<n.length;){const u=n[o];if(0!==u)if(5!==u){if("number"==typeof u)break;t.hasOwnProperty(u)&&(null===r&&(r=[]),r.push(u,t[u],n[o+1])),o+=2}else o+=2;else o+=4}return r}function zm(t,n,r,o){return new Array(t,!0,!1,n,null,0,o,r,null,null)}function Wp(t,n){const r=vi(n,t);if(Ms(r)){const o=r[1];80&r[2]?Tu(o,r,o.template,r[8]):r[5]>0&&Kp(r)}}function Kp(t){for(let o=tc(t);null!==o;o=Ch(o))for(let u=10;u<o.length;u++){const l=o[u];if(1024&l[2]){const g=l[1];Tu(g,l,g.template,l[8])}else l[5]>0&&Kp(l)}const r=t[1].components;if(null!==r)for(let o=0;o<r.length;o++){const u=vi(r[o],t);Ms(u)&&u[5]>0&&Kp(u)}}function qp(t,n){const r=vi(n,t),o=r[1];(function(t,n){for(let r=n.length;r<t.blueprint.length;r++)n.push(t.blueprint[r])})(o,r),kc(o,r,r[8])}function Uc(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function Qh(t){for(;t;){t[2]|=64;const n=Uu(t);if(un(t)&&!n)return t;t=n}return null}function Yp(t,n,r){const o=n[10];o.begin&&o.begin();try{Tu(t,n,t.template,r)}catch(u){throw dc(n,u),u}finally{o.end&&o.end()}}function Xh(t){!function(t){for(let n=0;n<t.components.length;n++){const r=t.components[n],o=Vu(r),u=o[1];Fp(u,o,u.template,r)}}(t[8])}function Jp(t,n,r){da(0),n(t,r)}const P_=(()=>Promise.resolve(null))();function ef(t){return t[7]||(t[7]=[])}function tf(t){return t.cleanup||(t.cleanup=[])}function dc(t,n){const r=t[9],o=r?r.get(xn,null):null;o&&o.handleError(n)}function Xp(t,n,r,o,u){for(let l=0;l<r.length;){const g=r[l++],_=r[l++],S=n[g],k=t.data[g];null!==k.setInput?k.setInput(S,u,o,_):S[_]=u}}function Su(t,n,r){const o=hs(n,t);!function(t,n,r){It(t)?t.setValue(n,r):n.textContent=r}(t[11],o,r)}function rf(t,n,r){let o=r?t.styles:null,u=r?t.classes:null,l=0;if(null!==n)for(let g=0;g<n.length;g++){const _=n[g];"number"==typeof _?l=_:1==l?u=Oe(u,_):2==l&&(o=Oe(o,_+": "+n[++g]+";"))}r?t.styles=o:t.stylesWithoutHost=o,r?t.classes=u:t.classesWithoutHost=u}const Bc=new Vn("INJECTOR",-1);class sf{get(n,r=qt){if(r===qt){const o=new Error(`NullInjectorError: No provider for ${Re(n)}!`);throw o.name="NullInjectorError",o}return r}}const Od=new Vn("Set Injector scope."),Pd={},tg={};let ng;function af(){return void 0===ng&&(ng=new sf),ng}function uf(t,n=null,r=null,o){return new k_(t,r,n||af(),o)}class k_{constructor(n,r,o,u=null){this.parent=o,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const l=[];r&&B(r,_=>this.processProvider(_,n,r)),B([n],_=>this.processInjectorType(_,[],l)),this.records.set(Bc,jc(void 0,this));const g=this.records.get(Od);this.scope=null!=g?g.value:null,this.source=u||("object"==typeof n?null:Re(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,r=qt,o=ze.Default){this.assertNotDestroyed();const u=pi(this),l=Pt(void 0);try{if(!(o&ze.SkipSelf)){let _=this.records.get(n);if(void 0===_){const S=("function"==typeof(t=n)||"object"==typeof t&&t instanceof Vn)&&Rr(n);_=S&&this.injectableDefInScope(S)?jc(Nd(n),Pd):null,this.records.set(n,_)}if(null!=_)return this.hydrate(n,_)}return(o&ze.Self?af():this.parent).get(n,r=o&ze.Optional&&r===qt?null:r)}catch(g){if("NullInjectorError"===g.name){if((g[Nr]=g[Nr]||[]).unshift(Re(n)),u)throw g;return Za(g,n,"R3InjectorError",this.source)}throw g}finally{Pt(l),pi(u)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((o,u)=>n.push(Re(u))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,r,o){if(!(n=Le(n)))return!1;let u=Ht(n);const l=null==u&&n.ngModule||void 0,g=void 0===l?n:l,_=-1!==o.indexOf(g);if(void 0!==l&&(u=Ht(l)),null==u)return!1;if(null!=u.imports&&!_){let H;o.push(g);try{B(u.imports,re=>{this.processInjectorType(re,r,o)&&(void 0===H&&(H=[]),H.push(re))})}finally{}if(void 0!==H)for(let re=0;re<H.length;re++){const{ngModule:le,providers:ke}=H[re];B(ke,Xe=>this.processProvider(Xe,le,ke||Tn))}}this.injectorDefTypes.add(g);const S=es(g)||(()=>new g);this.records.set(g,jc(S,Pd));const k=u.providers;if(null!=k&&!_){const H=n;B(k,re=>this.processProvider(re,H,k))}return void 0!==l&&void 0!==n.providers}processProvider(n,r,o){let u=Nl(n=Le(n))?n:Le(n&&n.provide);const l=Zm(t=n)?jc(void 0,t.useValue):jc(ig(t),Pd);var t;if(Nl(n)||!0!==n.multi)this.records.get(u);else{let g=this.records.get(u);g||(g=jc(void 0,Pd,!0),g.factory=()=>fo(g.multi),this.records.set(u,g)),u=n,g.multi.push(n)}this.records.set(u,l)}hydrate(n,r){return r.value===Pd&&(r.value=tg,r.value=r.factory()),"object"==typeof r.value&&r.value&&null!==(t=r.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(r.value),r.value;var t}injectableDefInScope(n){if(!n.providedIn)return!1;const r=Le(n.providedIn);return"string"==typeof r?"any"===r||r===this.scope:this.injectorDefTypes.has(r)}}function Nd(t){const n=Rr(t),r=null!==n?n.factory:es(t);if(null!==r)return r;if(t instanceof Vn)throw new Error(`Token ${Re(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const n=t.length;if(n>0){const o=Se(n,"?");throw new Error(`Can't resolve all parameters for ${Re(t)}: (${o.join(", ")}).`)}const r=function(t){const n=t&&(t[ve]||t[be]);if(n){const r=function(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${r}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${r}" class.`),n}return null}(t);return null!==r?()=>r.factory(t):()=>new t}(t);throw new Error("unreachable")}function ig(t,n,r){let o;if(Nl(t)){const u=Le(t);return es(u)||Nd(u)}if(Zm(t))o=()=>Le(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))o=()=>t.useFactory(...fo(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))o=()=>vr(Le(t.useExisting));else{const u=Le(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return es(u)||Nd(u);o=()=>new u(...fo(t.deps))}return o}function jc(t,n,r=!1){return{factory:t,value:n,multi:r?[]:void 0}}function Zm(t){return null!==t&&"object"==typeof t&&xi in t}function Nl(t){return"function"==typeof t}const lf=function(t,n,r){return function(t,n=null,r=null,o){const u=uf(t,n,r,o);return u._resolveInjectorDefTypes(),u}({name:r},n,t,r)};let _s=(()=>{class t{static create(r,o){return Array.isArray(r)?lf(r,o,""):lf(r.providers,r.parent,r.name||"")}}return t.THROW_IF_NOT_FOUND=qt,t.NULL=new sf,t.\u0275prov=Un({token:t,providedIn:"any",factory:()=>vr(Bc)}),t.__NG_ELEMENT_ID__=-1,t})();function Jo(t,n){so(Vu(t)[1],Xn())}function yg(t){let n=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),r=!0;const o=[t];for(;n;){let u;if(St(t))u=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");u=n.\u0275dir}if(u){if(r){o.push(u);const g=t;g.inputs=_f(t.inputs),g.declaredInputs=_f(t.declaredInputs),g.outputs=_f(t.outputs);const _=u.hostBindings;_&&_g(t,_);const S=u.viewQuery,k=u.contentQueries;if(S&&ry(t,S),k&&Z_(t,k),ct(t.inputs,u.inputs),ct(t.declaredInputs,u.declaredInputs),ct(t.outputs,u.outputs),St(u)&&u.data.animation){const H=t.data;H.animation=(H.animation||[]).concat(u.data.animation)}}const l=u.features;if(l)for(let g=0;g<l.length;g++){const _=l[g];_&&_.ngInherit&&_(t),_===yg&&(r=!1)}}n=Object.getPrototypeOf(n)}!function(t){let n=0,r=null;for(let o=t.length-1;o>=0;o--){const u=t[o];u.hostVars=n+=u.hostVars,u.hostAttrs=ya(u.hostAttrs,r=ya(r,u.hostAttrs))}}(o)}function _f(t){return t===dr?{}:t===Tn?[]:t}function ry(t,n){const r=t.viewQuery;t.viewQuery=r?(o,u)=>{n(o,u),r(o,u)}:n}function Z_(t,n){const r=t.contentQueries;t.contentQueries=r?(o,u,l)=>{n(o,u,l),r(o,u,l)}:n}function _g(t,n){const r=t.hostBindings;t.hostBindings=r?(o,u)=>{n(o,u),r(o,u)}:n}let vg=null;function Ld(){if(!vg){const t=Nt.Symbol;if(t&&t.iterator)vg=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let r=0;r<n.length;++r){const o=n[r];"entries"!==o&&"size"!==o&&Map.prototype[o]===Map.prototype.entries&&(vg=o)}}}return vg}class Xa{constructor(n){this.wrapped=n}static wrap(n){return new Xa(n)}static unwrap(n){return Xa.isWrapped(n)?n.wrapped:n}static isWrapped(n){return n instanceof Xa}}function Vd(t){return!!Eg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ld()in t)}function Eg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function $u(t,n,r){return t[n]=r}function Xo(t,n,r){return!Object.is(t[n],r)&&(t[n]=r,!0)}function Ef(t,n,r,o){const u=ut();return Xo(u,Gs(),n)&&(sn(),Du(hi(),u,t,n,r,o)),Ef}function Bd(t,n,r,o){return Xo(t,Gs(),r)?n+ne(r)+o:Tr}function ua(t,n,r,o,u,l){const _=function(t,n,r,o){const u=Xo(t,n,r);return Xo(t,n+1,o)||u}(t,ns(),r,u);return Yr(2),_?n+ne(r)+o+ne(u)+l:Tr}function wf(t,n,r,o,u,l,g,_){const S=ut(),k=sn(),H=t+20,re=k.firstCreatePass?function(t,n,r,o,u,l,g,_,S){const k=n.consts,H=Ol(n,t,4,g||null,as(k,_));xd(n,r,H,as(k,S)),so(n,H);const re=H.tViews=Fc(2,H,o,u,l,n.directiveRegistry,n.pipeRegistry,null,n.schemas,k);return null!==n.queries&&(n.queries.template(n,H),re.queries=n.queries.embeddedTView(H)),H}(H,k,S,n,r,o,u,l,g):k.data[H];Ei(re,!1);const le=S[11].createComment("");Mh(k,S,le,re),go(le,S),Uc(S,S[H]=zm(le,S,le,re)),Ct(re)&&Hh(k,S,re),null!=g&&Gh(S,re,_)}function Cg(t){return Ir(L.lFrame.contextLView,20+t)}function Yc(t,n=ze.Default){const r=ut();return null===r?vr(t,n):ji(Xn(),r,Le(t),n)}function Mg(t,n,r){const o=ut();return Xo(o,Gs(),n)&&mo(sn(),hi(),o,t,n,o[11],r,!1),Mg}function Rf(t,n,r,o,u){const g=u?"class":"style";Xp(t,r,n.inputs[g],g,o)}function Bl(t,n,r,o){const u=ut(),l=sn(),g=20+t,_=u[11],S=u[g]=hp(_,n,L.lFrame.currentNamespace),k=l.firstCreatePass?function(t,n,r,o,u,l,g){const _=n.consts,k=Ol(n,t,2,u,as(_,l));return xd(n,r,k,as(_,g)),null!==k.attrs&&rf(k,k.attrs,!1),null!==k.mergedAttrs&&rf(k,k.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,k),k}(g,l,u,0,n,r,o):l.data[g];Ei(k,!0);const H=k.mergedAttrs;null!==H&&zo(_,S,H);const re=k.classes;null!==re&&Ep(_,S,re);const le=k.styles;null!==le&&Nh(_,S,le),64!=(64&k.flags)&&Mh(l,u,S,k),0===L.lFrame.elementDepthCount&&go(S,u),L.lFrame.elementDepthCount++,Ct(k)&&(Hh(l,u,k),Vm(l,k,u)),null!==o&&Gh(u,k)}function zd(){let t=Xn();Vr()?fs():(t=t.parent,Ei(t,!1));const n=t;L.lFrame.elementDepthCount--;const r=sn();r.firstCreatePass&&(so(r,t),Ge(t)&&r.queries.elementEnd(t)),null!=n.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(n)&&Rf(r,n,ut(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(n)&&Rf(r,n,ut(),n.stylesWithoutHost,!1)}function Ey(t,n,r,o){Bl(t,n,r,o),zd()}function xg(t,n,r){const o=ut(),u=sn(),l=t+20,g=u.firstCreatePass?function(t,n,r,o,u){const l=n.consts,g=as(l,o),_=Ol(n,t,8,"ng-container",g);return null!==g&&rf(_,g,!0),xd(n,r,_,as(l,u)),null!==n.queries&&n.queries.elementStart(n,_),_}(l,u,o,n,r):u.data[l];Ei(g,!0);const _=o[l]=o[11].createComment("");Mh(u,o,_,g),go(_,o),Ct(g)&&(Hh(u,o,g),Vm(u,g,o)),null!=r&&Gh(o,g)}function Og(){let t=Xn();const n=sn();Vr()?fs():(t=t.parent,Ei(t,!1)),n.firstCreatePass&&(so(n,t),Ge(t)&&n.queries.elementEnd(t))}function by(){return ut()}function wy(t){return!!t&&"function"==typeof t.then}function Cy(t){return!!t&&"function"==typeof t.subscribe}const Pg=Cy;function Wd(t,n,r,o){const u=ut(),l=sn(),g=Xn();return function(t,n,r,o,u,l,g,_){const S=Ct(o),H=t.firstCreatePass&&tf(t),re=n[8],le=ef(n);let ke=!0;if(3&o.type||_){const lt=Zr(o,n),Zt=_?_(lt):lt,Rt=le.length,qn=_?Er=>_(wn(Er[o.index])):o.index;if(It(r)){let Er=null;if(!_&&S&&(Er=function(t,n,r,o){const u=t.cleanup;if(null!=u)for(let l=0;l<u.length-1;l+=2){const g=u[l];if(g===r&&u[l+1]===o){const _=n[7],S=u[l+2];return _.length>S?_[S]:null}"string"==typeof g&&(l+=2)}return null}(t,n,u,o.index)),null!==Er)(Er.__ngLastListenerFn__||Er).__ngNextListenerFn__=l,Er.__ngLastListenerFn__=l,ke=!1;else{l=kg(o,n,re,l,!1);const si=r.listen(Zt,u,l);le.push(l,si),H&&H.push(u,qn,Rt,Rt+1)}}else l=kg(o,n,re,l,!0),Zt.addEventListener(u,l,g),le.push(l),H&&H.push(u,qn,Rt,g)}else l=kg(o,n,re,l,!1);const Xe=o.outputs;let vt;if(ke&&null!==Xe&&(vt=Xe[u])){const lt=vt.length;if(lt)for(let Zt=0;Zt<lt;Zt+=2){const jo=n[vt[Zt]][vt[Zt+1]].subscribe(l),qu=le.length;le.push(l,jo),H&&H.push(u,o.index,qu,-(qu+1))}}}(l,u,u[11],g,t,n,!!r,o),Wd}function Mf(t,n,r,o){try{return!1!==r(o)}catch(u){return dc(t,u),!1}}function kg(t,n,r,o,u){return function l(g){if(g===Function)return o;const _=2&t.flags?vi(t.index,n):n;0==(32&n[2])&&Qh(_);let S=Mf(n,0,o,g),k=l.__ngNextListenerFn__;for(;k;)S=Mf(n,0,k,g)&&S,k=k.__ngNextListenerFn__;return u&&!1===S&&(g.preventDefault(),g.returnValue=!1),S}}function Ty(t=1){return function(t){return(L.lFrame.contextLView=function(t,n){for(;t>0;)n=n[15],t--;return n}(t,L.lFrame.contextLView))[8]}(t)}function Dy(t,n){let r=null;const o=function(t){const n=t.attrs;if(null!=n){const r=n.indexOf(5);if(0==(1&r))return n[r+1]}return null}(t);for(let u=0;u<n.length;u++){const l=n[u];if("*"!==l){if(null===o?Tm(t,l,!0):Oc(o,l))return u}else r=u}return r}function Kd(t){const n=ut()[16][6];if(!n.projection){const o=n.projection=Se(t?t.length:1,null),u=o.slice();let l=n.child;for(;null!==l;){const g=t?Dy(l,t):0;null!==g&&(u[g]?u[g].projectionNext=l:o[g]=l,u[g]=l),l=l.next}}}function Sy(t,n=0,r){const o=ut(),u=sn(),l=Ol(u,20+t,16,null,r||null);null===l.projection&&(l.projection=n),fs(),64!=(64&l.flags)&&function(t,n,r){Oh(n[11],0,n,r,sc(t,r,n),Em(r.parent||n[6],r,n))}(u,o,l)}function xf(t,n,r){return Of(t,"",n,"",r),xf}function Of(t,n,r,o,u){const l=ut(),g=Bd(l,n,r,o);return g!==Tr&&mo(sn(),hi(),l,t,g,l[11],u,!1),Of}function $l(t,n,r,o,u){const l=t[r+1],g=null===n;let _=o?Cu(l):ls(l),S=!1;for(;0!==_&&(!1===S||g);){const H=t[_+1];Ug(t[_],n)&&(S=!0,t[_+1]=o?Dp(H):bd(H)),_=o?Cu(H):ls(H)}S&&(t[r+1]=o?bd(l):Dp(l))}function Ug(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&yr(t,n)>=0}const vs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ay(t){return t.substring(vs.key,vs.keyEnd)}function ul(t,n){const r=vs.textEnd;return r===n?-1:(n=vs.keyEnd=function(t,n,r){for(;n<r&&t.charCodeAt(n)>32;)n++;return n}(t,vs.key=n,r),yc(t,n,r))}function yc(t,n,r){for(;n<r&&t.charCodeAt(n)<=32;)n++;return n}function Pf(t,n){return function(t,n,r,o){const u=ut(),l=sn(),g=Yr(2);l.firstUpdatePass&&jg(l,t,g,o),n!==Tr&&Xo(u,g,n)&&F(l,l.data[Ci()],u,u[11],t,u[g+1]=function(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Re(Sr(t)))),t}(n,r),o,g)}(t,n,null,!0),Pf}function Fy(t){!function(t,n,r,o){const u=sn(),l=Yr(2);u.firstUpdatePass&&jg(u,null,l,o);const g=ut();if(r!==Tr&&Xo(g,l,r)){const _=u.data[Ci()];if(et(_,o)&&!Ly(u,l)){let S=o?_.classesWithoutHost:_.stylesWithoutHost;null!==S&&(r=Oe(S,r||"")),Rf(u,_,g,r,o)}else!function(t,n,r,o,u,l,g,_){u===Tr&&(u=Tn);let S=0,k=0,H=0<u.length?u[0]:null,re=0<l.length?l[0]:null;for(;null!==H||null!==re;){const le=S<u.length?u[S+1]:void 0,ke=k<l.length?l[k+1]:void 0;let vt,Xe=null;H===re?(S+=2,k+=2,le!==ke&&(Xe=re,vt=ke)):null===re||null!==H&&H<re?(S+=2,Xe=H):(k+=2,Xe=re,vt=ke),null!==Xe&&F(t,n,r,o,Xe,vt,g,_),H=S<u.length?u[S]:null,re=k<l.length?l[k]:null}}(u,_,g,g[11],g[l+1],g[l+1]=function(t,n,r){if(null==r||""===r)return Tn;const o=[],u=Sr(r);if(Array.isArray(u))for(let l=0;l<u.length;l++)t(o,u[l],!0);else if("object"==typeof u)for(const l in u)u.hasOwnProperty(l)&&t(o,l,u[l]);else"string"==typeof u&&n(o,u);return o}(t,n,r),o,l)}}(An,Ru,t,!0)}function Ru(t,n){for(let r=function(t){return function(t){vs.key=0,vs.keyEnd=0,vs.value=0,vs.valueEnd=0,vs.textEnd=t.length}(t),ul(t,yc(t,0,vs.textEnd))}(n);r>=0;r=ul(n,r))An(t,Ay(n),!0)}function Ly(t,n){return n>=t.expandoStartIndex}function jg(t,n,r,o){const u=t.data;if(null===u[r+1]){const l=u[Ci()],g=Ly(t,r);et(l,o)&&null===n&&!g&&(n=!1),n=function(t,n,r,o){const u=function(t){const n=L.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let l=o?n.residualClasses:n.residualStyles;if(null===u)0===(o?n.classBindings:n.styleBindings)&&(r=a(r=i(null,t,n,r,o),n.attrs,o),l=null);else{const g=n.directiveStylingLast;if(-1===g||t[g]!==u)if(r=i(u,t,n,r,o),null===l){let S=function(t,n,r){const o=r?n.classBindings:n.styleBindings;if(0!==ls(o))return t[Cu(o)]}(t,n,o);void 0!==S&&Array.isArray(S)&&(S=i(null,t,n,S[1],o),S=a(S,n.attrs,o),function(t,n,r,o){t[Cu(r?n.classBindings:n.styleBindings)]=o}(t,n,o,S))}else l=function(t,n,r){let o;const u=n.directiveEnd;for(let l=1+n.directiveStylingLast;l<u;l++)o=a(o,t[l].hostAttrs,r);return a(o,n.attrs,r)}(t,n,o)}return void 0!==l&&(o?n.residualClasses=l:n.residualStyles=l),r}(u,l,n,o),function(t,n,r,o,u,l){let g=l?n.classBindings:n.styleBindings,_=Cu(g),S=ls(g);t[o]=r;let H,k=!1;if(Array.isArray(r)){const re=r;H=re[1],(null===H||yr(re,H)>0)&&(k=!0)}else H=r;if(u)if(0!==S){const le=Cu(t[_+1]);t[o+1]=Pc(le,_),0!==le&&(t[le+1]=Tp(t[le+1],o)),t[_+1]=function(t,n){return 131071&t|n<<17}(t[_+1],o)}else t[o+1]=Pc(_,0),0!==_&&(t[_+1]=Tp(t[_+1],o)),_=o;else t[o+1]=Pc(S,0),0===_?_=o:t[S+1]=Tp(t[S+1],o),S=o;k&&(t[o+1]=bd(t[o+1])),$l(t,H,o,!0),$l(t,H,o,!1),function(t,n,r,o,u){const l=u?t.residualClasses:t.residualStyles;null!=l&&"string"==typeof n&&yr(l,n)>=0&&(r[o+1]=Dp(r[o+1]))}(n,H,t,o,l),g=Pc(_,S),l?n.classBindings=g:n.styleBindings=g}(u,l,n,r,g,o)}}function i(t,n,r,o,u){let l=null;const g=r.directiveEnd;let _=r.directiveStylingLast;for(-1===_?_=r.directiveStart:_++;_<g&&(l=n[_],o=a(o,l.hostAttrs,u),l!==t);)_++;return null!==t&&(r.directiveStylingLast=_),o}function a(t,n,r){const o=r?1:2;let u=-1;if(null!==n)for(let l=0;l<n.length;l++){const g=n[l];"number"==typeof g?u=g:u===o&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),An(t,g,!!r||n[++l]))}return void 0===t?null:t}function F(t,n,r,o,u,l,g,_){if(!(3&n.type))return;const S=t.data,k=S[_+1];ae(function(t){return 1==(1&t)}(k)?Z(S,n,r,u,ls(k),g):void 0)||(ae(l)||function(t){return 2==(2&t)}(k)&&(l=Z(S,null,r,u,_,g)),function(t,n,r,o,u){const l=It(t);if(n)u?l?t.addClass(r,o):r.classList.add(o):l?t.removeClass(r,o):r.classList.remove(o);else{let g=-1===o.indexOf("-")?void 0:bu.DashCase;if(null==u)l?t.removeStyle(r,o,g):r.style.removeProperty(o);else{const _="string"==typeof u&&u.endsWith("!important");_&&(u=u.slice(0,-10),g|=bu.Important),l?t.setStyle(r,o,u,g):r.style.setProperty(o,u,_?"important":"")}}}(o,g,hs(Ci(),r),u,l))}function Z(t,n,r,o,u,l){const g=null===n;let _;for(;u>0;){const S=t[u],k=Array.isArray(S),H=k?S[1]:S,re=null===H;let le=r[u+1];le===Tr&&(le=re?Tn:void 0);let ke=re?Yn(le,o):H===o?le:void 0;if(k&&!ae(ke)&&(ke=Yn(S,o)),ae(ke)&&(_=ke,g))return _;const Xe=t[u+1];u=g?Cu(Xe):ls(Xe)}if(null!==n){let S=l?n.residualClasses:n.residualStyles;null!=S&&(_=Yn(S,o))}return _}function ae(t){return void 0!==t}function et(t,n){return 0!=(t.flags&(n?16:32))}function bt(t,n=""){const r=ut(),o=sn(),u=t+20,l=o.firstCreatePass?Ol(o,u,1,n,null):o.data[u],g=r[u]=function(t,n){return It(t)?t.createText(n):t.createTextNode(n)}(r[11],n);Mh(o,r,g,l),Ei(l,!1)}function Ot(t){return tn("",t,""),Ot}function tn(t,n,r){const o=ut(),u=Bd(o,t,n,r);return u!==Tr&&Su(o,Ci(),u),tn}function jn(t,n,r,o,u){const l=ut(),g=ua(l,t,n,r,o,u);return g!==Tr&&Su(l,Ci(),g),jn}function Ev(t,n,r){const o=ut();return Xo(o,Gs(),n)&&mo(sn(),hi(),o,t,n,o[11],r,!0),Ev}const Yd=void 0;var pC=["en",[["a","p"],["AM","PM"],Yd],[["AM","PM"],Yd,Yd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yd,"{1} 'at' {0}",Yd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Nf={};function bv(t){const n=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let r=h0(n);if(r)return r;const o=n.split("-")[0];if(r=h0(o),r)return r;if("en"===o)return pC;throw new Error(`Missing locale data for the locale "${t}".`)}function d0(t){return bv(t)[ur.PluralCase]}function h0(t){return t in Nf||(Nf[t]=Nt.ng&&Nt.ng.common&&Nt.ng.common.locales&&Nt.ng.common.locales[t]),Nf[t]}var ur=(()=>((ur=ur||{})[ur.LocaleId=0]="LocaleId",ur[ur.DayPeriodsFormat=1]="DayPeriodsFormat",ur[ur.DayPeriodsStandalone=2]="DayPeriodsStandalone",ur[ur.DaysFormat=3]="DaysFormat",ur[ur.DaysStandalone=4]="DaysStandalone",ur[ur.MonthsFormat=5]="MonthsFormat",ur[ur.MonthsStandalone=6]="MonthsStandalone",ur[ur.Eras=7]="Eras",ur[ur.FirstDayOfWeek=8]="FirstDayOfWeek",ur[ur.WeekendRange=9]="WeekendRange",ur[ur.DateFormat=10]="DateFormat",ur[ur.TimeFormat=11]="TimeFormat",ur[ur.DateTimeFormat=12]="DateTimeFormat",ur[ur.NumberSymbols=13]="NumberSymbols",ur[ur.NumberFormats=14]="NumberFormats",ur[ur.CurrencyCode=15]="CurrencyCode",ur[ur.CurrencySymbol=16]="CurrencySymbol",ur[ur.CurrencyName=17]="CurrencyName",ur[ur.Currencies=18]="Currencies",ur[ur.Directionality=19]="Directionality",ur[ur.PluralCase=20]="PluralCase",ur[ur.ExtraData=21]="ExtraData",ur))();const Uy="en-US";let f0=Uy;function wv(t){an(t,"Expected localeId to be defined"),"string"==typeof t&&(f0=t.toLowerCase().replace(/_/g,"-"))}function Tv(t,n,r,o,u){if(t=Le(t),Array.isArray(t))for(let l=0;l<t.length;l++)Tv(t[l],n,r,o,u);else{const l=sn(),g=ut();let _=Nl(t)?t:Le(t.provide),S=ig(t);const k=Xn(),H=1048575&k.providerIndexes,re=k.directiveStart,le=k.providerIndexes>>20;if(Nl(t)||!t.multi){const ke=new gs(S,u,Yc),Xe=Sv(_,n,u?H:H+le,re);-1===Xe?(Wo(co(k,g),l,_),Dv(l,t,n.length),n.push(_),k.directiveStart++,k.directiveEnd++,u&&(k.providerIndexes+=1048576),r.push(ke),g.push(ke)):(r[Xe]=ke,g[Xe]=ke)}else{const ke=Sv(_,n,H+le,re),Xe=Sv(_,n,H,H+le),vt=ke>=0&&r[ke],lt=Xe>=0&&r[Xe];if(u&&!lt||!u&&!vt){Wo(co(k,g),l,_);const Zt=function(t,n,r,o,u){const l=new gs(t,r,Yc);return l.multi=[],l.index=n,l.componentProviders=0,L0(l,u,o&&!r),l}(u?dI:cI,r.length,u,o,S);!u&&lt&&(r[Xe].providerFactory=Zt),Dv(l,t,n.length,0),n.push(_),k.directiveStart++,k.directiveEnd++,u&&(k.providerIndexes+=1048576),r.push(Zt),g.push(Zt)}else Dv(l,t,ke>-1?ke:Xe,L0(r[u?Xe:ke],S,!u&&o));!u&&o&&lt&&r[Xe].componentProviders++}}}function Dv(t,n,r,o){const u=Nl(n);if(u||function(t){return!!t.useClass}(n)){const g=(n.useClass||n).prototype.ngOnDestroy;if(g){const _=t.destroyHooks||(t.destroyHooks=[]);if(!u&&n.multi){const S=_.indexOf(r);-1===S?_.push(r,[o,g]):_[S+1].push(o,g)}else _.push(r,g)}}}function L0(t,n,r){return r&&t.componentProviders++,t.multi.push(n)-1}function Sv(t,n,r,o){for(let u=r;u<o;u++)if(n[u]===t)return u;return-1}function cI(t,n,r,o){return Av(this.multi,[])}function dI(t,n,r,o){const u=this.multi;let l;if(this.providerFactory){const g=this.providerFactory.componentProviders,_=Io(r,r[1],this.providerFactory.index,o);l=_.slice(0,g),Av(u,l);for(let S=g;S<_.length;S++)l.push(_[S])}else l=[],Av(u,l);return l}function Av(t,n){for(let r=0;r<t.length;r++)n.push((0,t[r])());return n}function V0(t,n=[]){return r=>{r.providersResolver=(o,u)=>function(t,n,r){const o=sn();if(o.firstCreatePass){const u=St(t);Tv(r,o.data,o.blueprint,u,!0),Tv(n,o.data,o.blueprint,u,!1)}}(o,u?u(t):t,n)}}class U0{}const j0="ngComponent";class pI{resolveComponentFactory(n){throw function(t){const n=Error(`No component factory found for ${Re(t)}. Did you add it to @NgModule.entryComponents?`);return n[j0]=t,n}(n)}}let Ff=(()=>{class t{}return t.NULL=new pI,t})();function Gy(...t){}function Lf(t,n){return new Hl(Zr(t,n))}const yI=function(){return Lf(Xn(),ut())};let Hl=(()=>{class t{constructor(r){this.nativeElement=r}}return t.__NG_ELEMENT_ID__=yI,t})();function $0(t){return t instanceof Hl?t.nativeElement:t}class zy{}let _I=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>EI(),t})();const EI=function(){const t=ut(),r=vi(Xn().index,t);return function(t){return t[11]}(qr(r)?r:t)};let Mv=(()=>{class t{}return t.\u0275prov=Un({token:t,providedIn:"root",factory:()=>null}),t})();class H0{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const xv=new H0("12.2.13");class G0{constructor(){}supports(n){return Vd(n)}create(n){return new II(n)}}const CI=(t,n)=>n;class II{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||CI}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,o=this._removalsHead,u=0,l=null;for(;r||o;){const g=!o||r&&r.currentIndex<W0(o,u,l)?r:o,_=W0(g,u,l),S=g.currentIndex;if(g===o)u--,o=o._nextRemoved;else if(r=r._next,null==g.previousIndex)u++;else{l||(l=[]);const k=_-u,H=S-u;if(k!=H){for(let le=0;le<k;le++){const ke=le<l.length?l[le]:l[le]=0,Xe=ke+le;H<=Xe&&Xe<k&&(l[le]=ke+1)}l[g.previousIndex]=H-k}}_!==S&&n(g,_,S)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!Vd(n))throw new Error(`Error trying to diff '${Re(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let u,l,g,r=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let _=0;_<this.length;_++)l=n[_],g=this._trackByFn(_,l),null!==r&&Object.is(r.trackById,g)?(o&&(r=this._verifyReinsertion(r,l,g,_)),Object.is(r.item,l)||this._addIdentityChange(r,l)):(r=this._mismatch(r,l,g,_),o=!0),r=r._next}else u=0,function(t,n){if(Array.isArray(t))for(let r=0;r<t.length;r++)n(t[r]);else{const r=t[Ld()]();let o;for(;!(o=r.next()).done;)n(o.value)}}(n,_=>{g=this._trackByFn(u,_),null!==r&&Object.is(r.trackById,g)?(o&&(r=this._verifyReinsertion(r,_,g,u)),Object.is(r.item,_)||this._addIdentityChange(r,_)):(r=this._mismatch(r,_,g,u),o=!0),r=r._next,u++}),this.length=u;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,o,u){let l;return null===n?l=this._itTail:(l=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,l,u)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,u))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,l,u)):n=this._addAfter(new TI(r,o),l,u),n}_verifyReinsertion(n,r,o,u){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==l?n=this._reinsertAfter(l,n._prev,u):n.currentIndex!=u&&(n.currentIndex=u,this._addToMoves(n,u)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const u=n._prevRemoved,l=n._nextRemoved;return null===u?this._removalsHead=l:u._nextRemoved=l,null===l?this._removalsTail=u:l._prevRemoved=u,this._insertAfter(n,r,o),this._addToMoves(n,o),n}_moveAfter(n,r,o){return this._unlink(n),this._insertAfter(n,r,o),this._addToMoves(n,o),n}_addAfter(n,r,o){return this._insertAfter(n,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,o){const u=null===r?this._itHead:r._next;return n._next=u,n._prev=r,null===u?this._itTail=n:u._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new z0),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,o=n._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new z0),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class TI{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class DI{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const r=n._prevDup,o=n._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class z0{constructor(){this.map=new Map}put(n){const r=n.trackById;let o=this.map.get(r);o||(o=new DI,this.map.set(r,o)),o.add(n)}get(n,r){const u=this.map.get(n);return u?u.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function W0(t,n,r){const o=t.previousIndex;if(null===o)return o;let u=0;return r&&o<r.length&&(u=r[o]),o+n+u}class K0{constructor(){}supports(n){return n instanceof Map||Eg(n)}create(){return new SI}}class SI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||Eg(n)))throw new Error(`Error trying to diff '${Re(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,u)=>{if(r&&r.key===u)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const l=this._getOrCreateRecordForKey(u,o);r=this._insertBeforeOrAppend(r,l)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const o=n._prev;return r._next=n,r._prev=o,n._prev=r,o&&(o._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const u=this._records.get(n);this._maybeAddToChanges(u,r);const l=u._prev,g=u._next;return l&&(l._next=g),g&&(g._prev=l),u._next=null,u._prev=null,u}const o=new AI(n);return this._records.set(n,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(o=>r(n[o],o))}}class AI{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function q0(){return new Wy([new G0])}let Wy=(()=>{class t{constructor(r){this.factories=r}static create(r,o){if(null!=o){const u=o.factories.slice();r=r.concat(u)}return new t(r)}static extend(r){return{provide:t,useFactory:o=>t.create(r,o||q0()),deps:[[t,new cu,new Qa]]}}find(r){const o=this.factories.find(u=>u.supports(r));if(null!=o)return o;throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(t){return t.name||typeof t}(r)}'`)}}return t.\u0275prov=Un({token:t,providedIn:"root",factory:q0}),t})();function Z0(){return new Ky([new K0])}let Ky=(()=>{class t{constructor(r){this.factories=r}static create(r,o){if(o){const u=o.factories.slice();r=r.concat(u)}return new t(r)}static extend(r){return{provide:t,useFactory:o=>t.create(r,o||Z0()),deps:[[t,new cu,new Qa]]}}find(r){const o=this.factories.find(u=>u.supports(r));if(o)return o;throw new Error(`Cannot find a differ supporting object '${r}'`)}}return t.\u0275prov=Un({token:t,providedIn:"root",factory:Z0}),t})();function qy(t,n,r,o,u=!1){for(;null!==r;){const l=n[r.index];if(null!==l&&o.push(wn(l)),Be(l))for(let _=10;_<l.length;_++){const S=l[_],k=S[1].firstChild;null!==k&&qy(S[1],S,k,o)}const g=r.type;if(8&g)qy(t,n,r.child,o);else if(32&g){const _=wh(r,n);let S;for(;S=_();)o.push(S)}else if(16&g){const _=yp(n,r);if(Array.isArray(_))o.push(..._);else{const S=Uu(n[16]);qy(S[1],S,_,o,!0)}}r=u?r.projectionNext:r.next}return o}class Wg{constructor(n,r){this._lView=n,this._cdRefInjectingView=r,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,r=n[1];return qy(r,n,r.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Be(n)){const r=n[8],o=r?r.indexOf(this):-1;o>-1&&(Bu(n,o),ce(r,o))}this._attachedToViewContainer=!1}rc(this._lView[1],this._lView)}onDestroy(n){Bm(this._lView[1],this._lView,null,n)}markForCheck(){Qh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Yp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,n,r){Hs(!0);try{Yp(t,n,r)}finally{Hs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,Mc(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class MI extends Wg{constructor(n){super(n),this._view=n}detectChanges(){Xh(this._view)}checkNoChanges(){!function(t){Hs(!0);try{Xh(t)}finally{Hs(!1)}}(this._view)}get context(){return null}}const OI=function(t){return function(t,n,r){if(it(t)&&!r){const o=vi(t.index,n);return new Wg(o,o)}return 47&t.type?new Wg(n[16],n):null}(Xn(),ut(),16==(16&t))};let PI=(()=>{class t{}return t.__NG_ELEMENT_ID__=OI,t})();const FI=[new K0],VI=new Wy([new G0]),UI=new Ky(FI),jI=function(){return Zy(Xn(),ut())};let Kg=(()=>{class t{}return t.__NG_ELEMENT_ID__=jI,t})();const $I=Kg,HI=class extends $I{constructor(n,r,o){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}createEmbeddedView(n){const r=this._declarationTContainer.tViews,o=Rd(this._declarationLView,r,n,16,null,r.declTNode,null,null,null,null);o[17]=this._declarationLView[this._declarationTContainer.index];const l=this._declarationLView[19];return null!==l&&(o[19]=l.createEmbeddedView(r)),kc(r,o,n),new Wg(o)}};function Zy(t,n){return 4&t.type?new HI(n,t,Lf(t,n)):null}class Qd{}class Y0{}const WI=function(){return X0(Xn(),ut())};let Yy=(()=>{class t{}return t.__NG_ELEMENT_ID__=WI,t})();const qI=Yy,Q0=class extends qI{constructor(n,r,o){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=o}get element(){return Lf(this._hostTNode,this._hostLView)}get injector(){return new C(this._hostTNode,this._hostLView)}get parentInjector(){const n=Zn(this._hostTNode,this._hostLView);if(_a(n)){const r=lo(n,this._hostLView),o=ms(n);return new C(r[1].data[o+8],r)}return new C(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=J0(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,r,o){const u=n.createEmbeddedView(r||{});return this.insert(u,o),u}createComponent(n,r,o,u,l){const g=o||this.parentInjector;if(!l&&null==n.ngModule&&g){const S=g.get(Qd,null);S&&(l=S)}const _=n.create(g,u,void 0,l);return this.insert(_.hostView,r),_}insert(n,r){const o=n._lView,u=o[1];if(Be(o[3])){const H=this.indexOf(n);if(-1!==H)this.detach(H);else{const re=o[3],le=new Q0(re,re[6],re[3]);le.detach(le.indexOf(n))}}const l=this._adjustIndex(r),g=this._lContainer;!function(t,n,r,o){const u=10+o,l=r.length;o>0&&(r[u-1][4]=n),o<l-10?(n[4]=r[u],q(r,10+o,n)):(r.push(n),n[4]=null),n[3]=r;const g=n[17];null!==g&&r!==g&&function(t,n){const r=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===r?t[9]=[n]:r.push(n)}(g,n);const _=n[19];null!==_&&_.insertView(t),n[2]|=128}(u,o,g,l);const _=ju(l,g),S=o[11],k=Rh(S,g[7]);return null!==k&&function(t,n,r,o,u,l){o[0]=u,o[6]=n,Mc(t,o,r,1,u,l)}(u,g[6],S,o,k,_),n.attachToViewContainerRef(),q(Ov(g),l,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=J0(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),o=Bu(this._lContainer,r);o&&(ce(Ov(this._lContainer),r),rc(o[1],o))}detach(n){const r=this._adjustIndex(n,-1),o=Bu(this._lContainer,r);return o&&null!=ce(Ov(this._lContainer),r)?new Wg(o):null}_adjustIndex(n,r=0){return null==n?this.length+r:n}};function J0(t){return t[8]}function Ov(t){return t[8]||(t[8]=[])}function X0(t,n){let r;const o=n[t.index];if(Be(o))r=o;else{let u;if(8&t.type)u=wn(o);else{const l=n[11];u=l.createComment("");const g=Zr(t,n);Ta(l,Rh(l,g),u,function(t,n){return It(t)?t.nextSibling(n):n.nextSibling}(l,g),!1)}n[t.index]=r=zm(o,n,u,t),Uc(n,r)}return new Q0(r,t,n)}const jf={};class vb extends Ff{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=br(n);return new bb(r,this.ngModule)}}function Eb(t){const n=[];for(let r in t)t.hasOwnProperty(r)&&n.push({propName:t[r],templateName:r});return n}const GT=new Vn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>_u});class bb extends U0{constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=n.selectors.map(Fh).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}get inputs(){return Eb(this.componentDef.inputs)}get outputs(){return Eb(this.componentDef.outputs)}create(n,r,o,u){const l=(u=u||this.ngModule)?function(t,n){return{get:(r,o,u)=>{const l=t.get(r,jf,u);return l!==jf||o===jf?l:n.get(r,o,u)}}}(n,u.injector):n,g=l.get(zy,mr),_=l.get(Mv,null),S=g.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",H=o?function(t,n,r){if(It(t))return t.selectRootElement(n,r===Ee.ShadowDom);let o="string"==typeof n?t.querySelector(n):n;return o.textContent="",o}(S,o,this.componentDef.encapsulation):hp(g.createRenderer(null,this.componentDef),k,function(t){const n=t.toLowerCase();return"svg"===n?U:"math"===n?"http://www.w3.org/1998/MathML/":null}(k)),re=this.componentDef.onPush?576:528,le=function(t,n){return{components:[],scheduler:t||_u,clean:P_,playerHandler:n||null,flags:0}}(),ke=Fc(0,null,null,1,0,null,null,null,null,null),Xe=Rd(null,ke,le,re,null,null,g,S,_,l);let vt,lt;ro(Xe);try{const Zt=function(t,n,r,o,u,l){const g=r[1];r[20]=t;const S=Ol(g,20,2,"#host",null),k=S.mergedAttrs=n.hostAttrs;null!==k&&(rf(S,k,!0),null!==t&&(zo(u,t,k),null!==S.classes&&Ep(u,t,S.classes),null!==S.styles&&Nh(u,t,S.styles)));const H=o.createRenderer(t,n),re=Rd(r,Um(n),null,n.onPush?64:16,r[20],S,o,H,l||null,null);return g.firstCreatePass&&(Wo(co(S,r),g,n.type),Zh(g,S),Hm(S,r.length,1)),Uc(r,re),r[20]=re}(H,this.componentDef,Xe,g,S);if(H)if(o)zo(S,H,["ng-version",xv.full]);else{const{attrs:Rt,classes:qn}=function(t){const n=[],r=[];let o=1,u=2;for(;o<t.length;){let l=t[o];if("string"==typeof l)2===u?""!==l&&n.push(l,t[++o]):8===u&&r.push(l);else{if(!wu(u))break;u=l}o++}return{attrs:n,classes:r}}(this.componentDef.selectors[0]);Rt&&zo(S,H,Rt),qn&&qn.length>0&&Ep(S,H,qn.join(" "))}if(lt=ts(ke,20),void 0!==r){const Rt=lt.projection=[];for(let qn=0;qn<this.ngContentSelectors.length;qn++){const Er=r[qn];Rt.push(null!=Er?Array.from(Er):null)}}vt=function(t,n,r,o,u){const l=r[1],g=function(t,n,r){const o=Xn();t.firstCreatePass&&(r.providersResolver&&r.providersResolver(r),Hp(t,o,n,Pl(t,n,1,null),r));const u=Io(n,t,o.directiveStart,o);go(u,n);const l=Zr(o,n);return l&&go(l,n),u}(l,r,n);if(o.components.push(g),t[8]=g,u&&u.forEach(S=>S(g,n)),n.contentQueries){const S=Xn();n.contentQueries(1,g,S.directiveStart)}const _=Xn();return!l.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(io(_.index),qh(r[1],_,0,_.directiveStart,_.directiveEnd,n),jm(n,g)),g}(Zt,this.componentDef,Xe,le,[Jo]),kc(ke,Xe,null)}finally{Pu()}return new KT(this.componentType,vt,Lf(lt,Xe),Xe,lt)}}class KT extends class{}{constructor(n,r,o,u,l){super(),this.location=o,this._rootLView=u,this._tNode=l,this.instance=r,this.hostView=this.changeDetectorRef=new MI(u),this.componentType=n}get injector(){return new C(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}const $f=new Map;class YT extends Qd{constructor(n,r){super(),this._parent=r,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new vb(this);const o=zr(n),u=n[Fr]||null;u&&wv(u),this._bootstrapComponents=Eu(o.bootstrap),this._r3Injector=uf(n,r,[{provide:Qd,useValue:this},{provide:Ff,useValue:this.componentFactoryResolver}],Re(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,r=_s.THROW_IF_NOT_FOUND,o=ze.Default){return n===_s||n===Qd||n===Bc?this:this._r3Injector.get(n,r,o)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class zv extends Y0{constructor(n){super(),this.moduleType=n,null!==zr(n)&&function(t){const n=new Set;!function r(o){const u=zr(o,!0),l=u.id;null!==l&&(function(t,n,r){if(n&&n!==r)throw new Error(`Duplicate module registered for ${t} - ${Re(n)} vs ${Re(n.name)}`)}(l,$f.get(l),o),$f.set(l,o));const g=Eu(u.imports);for(const _ of g)n.has(_)||(n.add(_),r(_))}(t)}(n)}create(n){return new YT(this.moduleType,n)}}function Ib(t,n,r){const o=Br()+t,u=ut();return u[o]===Tr?$u(u,o,r?n.call(r):n()):function(t,n){return t[n]}(u,o)}function Tb(t,n,r,o){return Db(ut(),Br(),t,n,r,o)}function Db(t,n,r,o,u,l){const g=n+r;return Xo(t,g,u)?$u(t,g+1,l?o.call(l,u):o(u)):function(t,n){const r=t[n];return r===Tr?void 0:r}(t,g+1)}function xb(t,n){const r=sn();let o;const u=t+20;r.firstCreatePass?(o=function(t,n){if(n)for(let r=n.length-1;r>=0;r--){const o=n[r];if(t===o.name)return o}throw new ot("302",`The pipe '${t}' could not be found!`)}(n,r.pipeRegistry),r.data[u]=o,o.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(u,o.onDestroy)):o=r.data[u];const l=o.factory||(o.factory=es(o.type)),g=Pt(Yc);try{const _=Zs(!1),S=l();return Zs(_),function(t,n,r,o){r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),n[r]=o}(r,ut(),u,S),S}finally{Pt(g)}}function Ob(t,n,r){const o=t+20,u=ut(),l=Ir(u,o);return function(t,n){Xa.isWrapped(n)&&(n=Xa.unwrap(n),t[ns()]=Tr);return n}(u,function(t,n){return t[1].data[n].pure}(u,o)?Db(u,Br(),n,l.transform,r,l):l.transform(r))}function Wv(t){return n=>{setTimeout(t,void 0,n)}}const Gl=class extends Ce.xQ{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,r,o){var u,l,g;let _=n,S=r||(()=>null),k=o;if(n&&"object"==typeof n){const re=n;_=null===(u=re.next)||void 0===u?void 0:u.bind(re),S=null===(l=re.error)||void 0===l?void 0:l.bind(re),k=null===(g=re.complete)||void 0===g?void 0:g.bind(re)}this.__isAsync&&(S=Wv(S),_&&(_=Wv(_)),k&&(k=Wv(k)));const H=super.subscribe({next:_,error:S,complete:k});return n instanceof Me.w&&n.add(H),H}};function dD(){return this._results[Ld()]()}class t_{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const r=Ld(),o=t_.prototype;o[r]||(o[r]=dD)}get changes(){return this._changes||(this._changes=new Gl)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){const o=this;o.dirty=!1;const u=b(n);(this._changesDetected=!function(t,n,r){if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++){let u=t[o],l=n[o];if(r&&(u=r(u),l=r(l)),l!==u)return!1}return!0}(o._results,u,r))&&(o._results=u,o.length=u.length,o.last=u[this.length-1],o.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Kv{constructor(n){this.queryList=n,this.matches=null}clone(){return new Kv(this.queryList)}setDirty(){this.queryList.setDirty()}}class qv{constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const o=null!==n.contentQueries?n.contentQueries[0]:r.length,u=[];for(let l=0;l<o;l++){const g=r.getByIndex(l);u.push(this.queries[g.indexInDeclarationView].clone())}return new qv(u)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==Bb(n,r).matches&&this.queries[r].setDirty()}}class Pb{constructor(n,r,o=null){this.predicate=n,this.flags=r,this.read=o}}class Zv{constructor(n=[]){this.queries=n}elementStart(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let o=0;o<this.length;o++){const u=null!==r?r.length:0,l=this.getByIndex(o).embeddedTView(n,u);l&&(l.indexInDeclarationView=o,null!==r?r.push(l):r=[l])}return null!==r?new Zv(r):null}template(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Yv{constructor(n,r=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new Yv(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let u=0;u<o.length;u++){const l=o[u];this.matchTNodeWithReadOption(n,r,pD(r,l)),this.matchTNodeWithReadOption(n,r,Wa(r,n,l,!1,!1))}else o===Kg?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,Wa(r,n,o,!1,!1))}matchTNodeWithReadOption(n,r,o){if(null!==o){const u=this.metadata.read;if(null!==u)if(u===Hl||u===Yy||u===Kg&&4&r.type)this.addMatch(r.index,-2);else{const l=Wa(r,n,u,!1,!1);null!==l&&this.addMatch(r.index,l)}else this.addMatch(r.index,o)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function pD(t,n){const r=t.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===n)return r[o+1];return null}function mD(t,n,r,o){return-1===r?function(t,n){return 11&t.type?Lf(t,n):4&t.type?Zy(t,n):null}(n,t):-2===r?function(t,n,r){return r===Hl?Lf(n,t):r===Kg?Zy(n,t):r===Yy?X0(n,t):void 0}(t,n,o):Io(t,t[1],r,n)}function Nb(t,n,r,o){const u=n[19].queries[o];if(null===u.matches){const l=t.data,g=r.matches,_=[];for(let S=0;S<g.length;S+=2){const k=g[S];_.push(k<0?null:mD(n,l[k],g[S+1],r.metadata.read))}u.matches=_}return u.matches}function Qv(t,n,r,o){const u=t.queries.getByIndex(r),l=u.matches;if(null!==l){const g=Nb(t,n,u,r);for(let _=0;_<l.length;_+=2){const S=l[_];if(S>0)o.push(g[_/2]);else{const k=l[_+1],H=n[-S];for(let re=10;re<H.length;re++){const le=H[re];le[17]===le[3]&&Qv(le[1],le,k,o)}if(null!==H[9]){const re=H[9];for(let le=0;le<re.length;le++){const ke=re[le];Qv(ke[1],ke,k,o)}}}}}return o}function kb(t){const n=ut(),r=sn(),o=ca();da(o+1);const u=Bb(r,o);if(t.dirty&&no(n)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const l=u.crossesNgTemplate?Qv(r,n,o,[]):Nb(r,n,u,o);t.reset(l,$0),t.notifyOnChanges()}return!0}return!1}function Fb(t,n,r,o){const u=sn();if(u.firstCreatePass){const l=Xn();(function(t,n,r){null===t.queries&&(t.queries=new Zv),t.queries.track(new Yv(n,r))})(u,new Pb(n,r,o),l.index),function(t,n){const r=t.contentQueries||(t.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(t.queries.length-1,n)}(u,t),2==(2&r)&&(u.staticContentQueries=!0)}!function(t,n,r){const o=new t_(4==(4&r));Bm(t,n,o,o.destroy),null===n[19]&&(n[19]=new qv),n[19].queries.push(new Kv(o))}(u,ut(),r)}function Lb(){return t=ut(),n=ca(),t[19].queries[n].queryList;var t,n}function Bb(t,n){return t.queries.getByIndex(n)}function jb(t,n){return Zy(t,n)}const rE=new Vn("Application Initializer");let Gf=(()=>{class t{constructor(r){this.appInits=r,this.resolve=Gy,this.reject=Gy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,u)=>{this.resolve=o,this.reject=u})}runInitializers(){if(this.initialized)return;const r=[],o=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const l=this.appInits[u]();if(wy(l))r.push(l);else if(Pg(l)){const g=new Promise((_,S)=>{l.subscribe({complete:_,error:S})});r.push(g)}}Promise.all(r).then(()=>{o()}).catch(u=>{this.reject(u)}),0===r.length&&o(),this.initialized=!0}}return t.\u0275fac=function(r){return new(r||t)(vr(rE,8))},t.\u0275prov=Un({token:t,factory:t.\u0275fac}),t})();const sw=new Vn("AppId"),KD={provide:sw,useFactory:function(){return`${iE()}${iE()}${iE()}`},deps:[]};function iE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ow=new Vn("Platform Initializer"),aw=new Vn("Platform ID"),uw=new Vn("appBootstrapListener");let lw=(()=>{class t{log(r){console.log(r)}warn(r){console.warn(r)}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Un({token:t,factory:t.\u0275fac}),t})();const i_=new Vn("LocaleId"),cw=new Vn("DefaultCurrencyCode");class ZD{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}const sE=function(t){return new zv(t)},YD=sE,QD=function(t){return Promise.resolve(sE(t))},dw=function(t){const n=sE(t),o=Eu(zr(t).declarations).reduce((u,l)=>{const g=br(l);return g&&u.push(new bb(g)),u},[]);return new ZD(n,o)},JD=dw,XD=function(t){return Promise.resolve(dw(t))};let sm=(()=>{class t{constructor(){this.compileModuleSync=YD,this.compileModuleAsync=QD,this.compileModuleAndAllComponentsSync=JD,this.compileModuleAndAllComponentsAsync=XD}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Un({token:t,factory:t.\u0275fac}),t})();const nS=(()=>Promise.resolve(0))();function oE(t){"undefined"==typeof Zone?nS.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ou{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gl(!1),this.onMicrotaskEmpty=new Gl(!1),this.onStable=new Gl(!1),this.onError=new Gl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!o&&r,u.shouldCoalesceRunChangeDetection=o,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function(){let t=Nt.requestAnimationFrame,n=Nt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(t){const n=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Nt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,uE(t),t.isCheckStableRunning=!0,aE(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),uE(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,o,u,l,g,_)=>{try{return hw(t),r.invokeTask(u,l,g,_)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||t.shouldCoalesceRunChangeDetection)&&n(),fw(t)}},onInvoke:(r,o,u,l,g,_,S)=>{try{return hw(t),r.invoke(u,l,g,_,S)}finally{t.shouldCoalesceRunChangeDetection&&n(),fw(t)}},onHasTask:(r,o,u,l)=>{r.hasTask(u,l),o===u&&("microTask"==l.change?(t._hasPendingMicrotasks=l.microTask,uE(t),aE(t)):"macroTask"==l.change&&(t.hasPendingMacrotasks=l.macroTask))},onHandleError:(r,o,u,l)=>(r.handleError(u,l),t.runOutsideAngular(()=>t.onError.emit(l)),!1)})}(u)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ou.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ou.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,r,o){return this._inner.run(n,r,o)}runTask(n,r,o,u){const l=this._inner,g=l.scheduleEventTask("NgZoneEvent: "+u,n,iS,Gy,Gy);try{return l.runTask(g,r,o)}finally{l.cancelTask(g)}}runGuarded(n,r,o){return this._inner.runGuarded(n,r,o)}runOutsideAngular(n){return this._outer.run(n)}}const iS={};function aE(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function uE(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function hw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function fw(t){t._nesting--,aE(t)}class aS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gl,this.onMicrotaskEmpty=new Gl,this.onStable=new Gl,this.onError=new Gl}run(n,r,o){return n.apply(r,o)}runGuarded(n,r,o){return n.apply(r,o)}runOutsideAngular(n){return n()}runTask(n,r,o,u){return n.apply(r,o)}}let pw=(()=>{class t{constructor(r){this._ngZone=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ou.assertNotInAngularZone(),oE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())oE(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,u){let l=-1;o&&o>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==l),r(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:r,timeoutId:l,updateCb:u})}whenStable(r,o,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(r,o,u){return[]}}return t.\u0275fac=function(r){return new(r||t)(vr(Ou))},t.\u0275prov=Un({token:t,factory:t.\u0275fac}),t})(),gw=(()=>{class t{constructor(){this._applications=new Map,lE.addToWindow(this)}registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return lE.findTestabilityInTree(this,r,o)}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Un({token:t,factory:t.\u0275fac}),t})();class uS{addToWindow(n){}findTestabilityInTree(n,r,o){return null}}function lS(t){lE=t}let lE=new uS,mw=!0,yw=!1;function cE(){return yw=!0,mw}function cS(){if(yw)throw new Error("Cannot enable prod mode after platform setup.");mw=!1}let dl;const _w=new Vn("AllowMultipleToken");class yS{constructor(n,r){this.name=n,this.token=r}}function vw(t,n,r=[]){const o=`Platform: ${n}`,u=new Vn(o);return(l=[])=>{let g=Ew();if(!g||g.injector.get(_w,!1))if(t)t(r.concat(l).concat({provide:u,useValue:!0}));else{const _=r.concat(l).concat({provide:u,useValue:!0},{provide:Od,useValue:"platform"});!function(t){if(dl&&!dl.destroyed&&!dl.injector.get(_w,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");dl=t.get(bw);const n=t.get(ow,null);n&&n.forEach(r=>r())}(_s.create({providers:_,name:o}))}return function(t){const n=Ew();if(!n)throw new Error("No platform exists!");if(!n.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return n}(u)}}function Ew(){return dl&&!dl.destroyed?dl:null}let bw=(()=>{class t{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,o){const _=function(t,n){let r;return r="noop"===t?new aS:("zone.js"===t?void 0:t)||new Ou({enableLongStackTrace:cE(),shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),r}(o?o.ngZone:void 0,{ngZoneEventCoalescing:o&&o.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:o&&o.ngZoneRunCoalescing||!1}),S=[{provide:Ou,useValue:_}];return _.run(()=>{const k=_s.create({providers:S,parent:this.injector,name:r.moduleType.name}),H=r.create(k),re=H.injector.get(xn,null);if(!re)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return _.runOutsideAngular(()=>{const le=_.onError.subscribe({next:ke=>{re.handleError(ke)}});H.onDestroy(()=>{dE(this._modules,H),le.unsubscribe()})}),function(t,n,r){try{const o=r();return wy(o)?o.catch(u=>{throw n.runOutsideAngular(()=>t.handleError(u)),u}):o}catch(o){throw n.runOutsideAngular(()=>t.handleError(o)),o}}(re,_,()=>{const le=H.injector.get(Gf);return le.runInitializers(),le.donePromise.then(()=>(wv(H.injector.get(i_,Uy)||Uy),this._moduleDoBootstrap(H),H))})})}bootstrapModule(r,o=[]){const u=ww({},o);return function(t,n,r){const o=new zv(r);return Promise.resolve(o)}(0,0,r).then(l=>this.bootstrapModuleFactory(l,u))}_moduleDoBootstrap(r){const o=r.injector.get(om);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(u=>o.bootstrap(u));else{if(!r.instance.ngDoBootstrap)throw new Error(`The module ${Re(r.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);r.instance.ngDoBootstrap(o)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(r){return new(r||t)(vr(_s))},t.\u0275prov=Un({token:t,factory:t.\u0275fac}),t})();function ww(t,n){return Array.isArray(n)?n.reduce(ww,t):Object.assign(Object.assign({},t),n)}let om=(()=>{class t{constructor(r,o,u,l,g){this._zone=r,this._injector=o,this._exceptionHandler=u,this._componentFactoryResolver=l,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new y.y(k=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{k.next(this._stable),k.complete()})}),S=new y.y(k=>{let H;this._zone.runOutsideAngular(()=>{H=this._zone.onStable.subscribe(()=>{Ou.assertNotInAngularZone(),oE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,k.next(!0))})})});const re=this._zone.onUnstable.subscribe(()=>{Ou.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{k.next(!1)}))});return()=>{H.unsubscribe(),re.unsubscribe()}});this.isStable=function(...t){let n=Number.POSITIVE_INFINITY,r=null,o=t[t.length-1];return(0,w.K)(o)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof o&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof y.y?t[0]:(0,K.J)(n)((0,we.n)(t,r))}(_,S.pipe(t=>(0,Y.x)()(function(t,n){return function(o){let u;u="function"==typeof t?t:function(){return t};const l=Object.create(o,Te.N);return l.source=o,l.subjectFactory=u,l}}(pe)(t))))}bootstrap(r,o){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let u;u=r instanceof U0?r:this._componentFactoryResolver.resolveComponentFactory(r),this.componentTypes.push(u.componentType);const l=function(t){return t.isBoundToModule}(u)?void 0:this._injector.get(Qd),_=u.create(_s.NULL,[],o||u.selector,l),S=_.location.nativeElement,k=_.injector.get(pw,null),H=k&&_.injector.get(gw);return k&&H&&H.registerApplication(S,k),_.onDestroy(()=>{this.detachView(_.hostView),dE(this.components,_),H&&H.unregisterApplication(S)}),this._loadComponent(_),_}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(r))}finally{this._runningTick=!1}}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;dE(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(uw,[]).concat(this._bootstrapListeners).forEach(u=>u(r))}ngOnDestroy(){this._views.slice().forEach(r=>r.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(r){return new(r||t)(vr(Ou),vr(_s),vr(xn),vr(Ff),vr(Gf))},t.\u0275prov=Un({token:t,factory:t.\u0275fac}),t})();function dE(t,n){const r=t.indexOf(n);r>-1&&t.splice(r,1)}class CS{}class TS{}const DS={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let SS=(()=>{class t{constructor(r,o){this._compiler=r,this._config=o||DS}load(r){return this.loadAndCompile(r)}loadAndCompile(r){let[o,u]=r.split("#");return void 0===u&&(u="default"),O(8255)(o).then(l=>l[u]).then(l=>Dw(l,o,u)).then(l=>this._compiler.compileModuleAsync(l))}loadFactory(r){let[o,u]=r.split("#"),l="NgFactory";return void 0===u&&(u="default",l=""),O(8255)(this._config.factoryPathPrefix+o+this._config.factoryPathSuffix).then(g=>g[u+l]).then(g=>Dw(g,o,u))}}return t.\u0275fac=function(r){return new(r||t)(vr(sm),vr(TS,8))},t.\u0275prov=Un({token:t,factory:t.\u0275fac}),t})();function Dw(t,n,r){if(!t)throw new Error(`Cannot find '${r}' in '${n}'`);return t}const kS=function(t){return null},LS=vw(null,"core",[{provide:aw,useValue:"unknown"},{provide:bw,deps:[_s]},{provide:gw,deps:[]},{provide:lw,deps:[]}]),$S=[{provide:om,useClass:om,deps:[Ou,_s,xn,Ff,Gf]},{provide:GT,deps:[Ou],useFactory:function(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(r){n.push(r)}}},{provide:Gf,useClass:Gf,deps:[[new Qa,rE]]},{provide:sm,useClass:sm,deps:[]},KD,{provide:Wy,useFactory:function(){return VI},deps:[]},{provide:Ky,useFactory:function(){return UI},deps:[]},{provide:i_,useFactory:function(t){return wv(t=t||"undefined"!=typeof $localize&&$localize.locale||Uy),t},deps:[[new Ya(i_),new Qa,new cu]]},{provide:cw,useValue:"USD"}];let GS=(()=>{class t{constructor(r){}}return t.\u0275fac=function(r){return new(r||t)(vr(om))},t.\u0275mod=Pr({type:t}),t.\u0275inj=cr({providers:$S}),t})()},2801:(Dt,Ve,O)=>{"use strict";O.d(Ve,{nm:()=>Dr});var y=O(9358);O(639),O(2329);var Ue=O(8239),st=O(8026),ot=O(3910),$t=O(3854),Mt=O(5422);const ne=new Map,oe={activated:!1,tokenObservers:[]},ye={initialized:!1,enabled:!1};function me(Be){return ne.get(Be)||oe}function _e(Be,Ge){ne.set(Be,Ge)}function Je(){return ye}class Fn{constructor(Ge,it,Ct,St,un){if(this.operation=Ge,this.retryPolicy=it,this.getWaitDuration=Ct,this.lowerBound=St,this.upperBound=un,this.pending=null,this.nextErrorWaitInterval=St,St>un)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ge){var it=this;return(0,Ue.Z)(function*(){it.stop();try{it.pending=new $t.BH,yield(Be=it.getNextRun(Ge),new Promise(Ge=>{setTimeout(Ge,Be)})),it.pending.resolve(),yield it.pending.promise,it.pending=new $t.BH,yield it.operation(),it.pending.resolve(),yield it.pending.promise,it.process(!0).catch(()=>{})}catch(Ct){it.retryPolicy(Ct)?it.process(!1).catch(()=>{}):it.stop()}var Be})()}getNextRun(Ge){if(Ge)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const it=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),it}}}const zt=new $t.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Qt(Be){if(!me(Be).activated)throw zt.create("use-before-activation",{appName:Be.name})}function Cr(Be,Ge){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,Ue.Z)(function*({url:Be,body:Ge},it){const Ct={"Content-Type":"application/json"},St=it.getImmediate({optional:!0});St&&(Ct["X-Firebase-Client"]=St.getPlatformInfoString());const un={method:"POST",body:JSON.stringify(Ge),headers:Ct};let Jn,ti;try{Jn=yield fetch(Be,un)}catch(ss){throw zt.create("fetch-network-error",{originalErrorMessage:ss.message})}if(200!==Jn.status)throw zt.create("fetch-status-error",{httpStatus:Jn.status});try{ti=yield Jn.json()}catch(ss){throw zt.create("fetch-parse-error",{originalErrorMessage:ss.message})}const $n=ti.ttl.match(/^([\d.]+)(s)$/);if(!$n||!$n[2]||isNaN(Number($n[1])))throw zt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${ti.ttl}`});const Ui=1e3*Number($n[1]),zi=Date.now();return{token:ti.attestationToken,expireTimeMillis:zi+Ui,issuedAtTimeMillis:zi}})).apply(this,arguments)}function oi(Be,Ge){const{projectId:it,appId:Ct,apiKey:St}=Be.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${it}/apps/${Ct}:exchangeDebugToken?key=${St}`,body:{debug_token:Ge}}}const or="firebase-app-check-store";let jt=null;function Ht(){return jt||(jt=new Promise((Be,Ge)=>{try{const it=indexedDB.open("firebase-app-check-database",1);it.onsuccess=Ct=>{Be(Ct.target.result)},it.onerror=Ct=>{var St;Ge(zt.create("storage-open",{originalErrorMessage:null===(St=Ct.target.error)||void 0===St?void 0:St.message}))},it.onupgradeneeded=Ct=>{const St=Ct.target.result;switch(Ct.oldVersion){case 0:St.createObjectStore(or,{keyPath:"compositeKey"})}}}catch(it){Ge(zt.create("storage-open",{originalErrorMessage:it.message}))}}),jt)}function Ft(){return(Ft=(0,Ue.Z)(function*(Be,Ge){const Ct=(yield Ht()).transaction(or,"readwrite"),un=Ct.objectStore(or).put({compositeKey:Be,value:Ge});return new Promise((Jn,ti)=>{un.onsuccess=$n=>{Jn()},Ct.onerror=$n=>{var Ui;ti(zt.create("storage-set",{originalErrorMessage:null===(Ui=$n.target.error)||void 0===Ui?void 0:Ui.message}))}})})).apply(this,arguments)}const Bn=new Mt.Yd("@firebase/app-check");function ir(Be,Ge){return(0,$t.hl)()?function(Be,Ge){return function(Be,Ge){return Ft.apply(this,arguments)}(function(Be){return`${Be.options.appId}-${Be.name}`}(Be),Ge)}(Be,Ge).catch(it=>{Bn.warn(`Failed to write token to IndexedDB. Error: ${it}`)}):Promise.resolve()}function Pe(){return Je().enabled}function Fe(){return pt.apply(this,arguments)}function pt(){return(pt=(0,Ue.Z)(function*(){const Be=Je();if(Be.enabled&&Be.token)return Be.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Nt={error:"UNKNOWN_ERROR"};function nn(Be){return $t.US.encodeString(JSON.stringify(Be),!1)}function pr(Be){return dr.apply(this,arguments)}function dr(){return(dr=(0,Ue.Z)(function*(Be,Ge=!1){const it=Be.app;Qt(it);const Ct=me(it);let un,St=Ct.token;if(!St){const $n=yield Ct.cachedTokenPromise;$n&&Fr($n)&&(St=$n)}if(!Ge&&St&&Fr(St))return{token:St.token};let ti,Jn=!1;if(Pe()){Ct.exchangeTokenPromise||(Ct.exchangeTokenPromise=Cr(oi(it,yield Fe()),Be.platformLoggerProvider).then(Ui=>(Ct.exchangeTokenPromise=void 0,Ui)),Jn=!0);const $n=yield Ct.exchangeTokenPromise;return yield ir(it,$n),_e(it,Object.assign(Object.assign({},Ct),{token:$n})),{token:$n.token}}try{Ct.exchangeTokenPromise||(Ct.exchangeTokenPromise=Ct.provider.getToken().then($n=>(Ct.exchangeTokenPromise=void 0,$n)),Jn=!0),St=yield Ct.exchangeTokenPromise}catch($n){"appCheck/throttled"===$n.code?Bn.warn($n.message):Bn.error($n),un=$n}return St?(ti={token:St.token},_e(it,Object.assign(Object.assign({},Ct),{token:St})),yield ir(it,St)):ti=ai(un),Jn&&nr(it,ti),ti})).apply(this,arguments)}function bn(Be,Ge){const it=me(Be),Ct=it.tokenObservers.filter(St=>St.next!==Ge);0===Ct.length&&it.tokenRefresher&&it.tokenRefresher.isRunning()&&it.tokenRefresher.stop(),_e(Be,Object.assign(Object.assign({},it),{tokenObservers:Ct}))}function Qn(Be){const{app:Ge}=Be,it=me(Ge);let Ct=it.tokenRefresher;Ct||(Ct=function(Be){const{app:Ge}=Be;return new Fn((0,Ue.Z)(function*(){let Ct;if(Ct=me(Ge).token?yield pr(Be,!0):yield pr(Be),Ct.error)throw Ct.error}),()=>!0,()=>{const it=me(Ge);if(it.token){let Ct=it.token.issuedAtTimeMillis+.5*(it.token.expireTimeMillis-it.token.issuedAtTimeMillis)+3e5;return Ct=Math.min(Ct,it.token.expireTimeMillis-3e5),Math.max(0,Ct-Date.now())}return 0},3e4,96e4)}(Be),_e(Ge,Object.assign(Object.assign({},it),{tokenRefresher:Ct}))),!Ct.isRunning()&&it.isTokenAutoRefreshEnabled&&Ct.start()}function nr(Be,Ge){const it=me(Be).tokenObservers;for(const Ct of it)try{"EXTERNAL"===Ct.type&&null!=Ge.error?Ct.error(Ge.error):Ct.next(Ge)}catch(St){}}function Fr(Be){return Be.expireTimeMillis-Date.now()>0}function ai(Be){return{token:nn(Nt),error:Be}}class ui{constructor(Ge,it){this.app=Ge,this.platformLoggerProvider=it}_delete(){const{tokenObservers:Ge}=me(this.app);for(const it of Ge)bn(this.app,it.next);return Promise.resolve()}}const Xt="app-check-internal";(0,st._registerComponent)(new ot.wA("app-check",Be=>function(Be,Ge){return new ui(Be,Ge)}(Be.getProvider("app").getImmediate(),Be.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Be,Ge,it)=>{Be.getProvider(Xt).initialize()})),(0,st._registerComponent)(new ot.wA(Xt,Be=>function(Be){return{getToken:Ge=>pr(Be,Ge),addTokenListener:Ge=>function(Be,Ge,it,Ct){const{app:St}=Be,un=me(St),Jn={next:it,error:Ct,type:Ge};if(_e(St,Object.assign(Object.assign({},un),{tokenObservers:[...un.tokenObservers,Jn]})),un.token&&Fr(un.token)){const ti=un.token;Promise.resolve().then(()=>{it({token:ti.token}),Qn(Be)}).catch(()=>{})}un.cachedTokenPromise.then(()=>Qn(Be))}(Be,"INTERNAL",Ge),removeTokenListener:Ge=>bn(Be.app,Ge)}}(Be.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,st.registerVersion)("@firebase/app-check","0.5.2");class Dr{constructor(){return(0,y.vb)("app-check")}}"undefined"!=typeof window&&window},8778:(Dt,Ve,O)=>{"use strict";O.d(Ve,{zQ:()=>or,rT:()=>Un,f7:()=>cr,L6:()=>Wn,_Q:()=>kr,lh:()=>oi,Qv:()=>Cr,nw:()=>Rr});var y=O(639),w=O(1827),K=O(2669),we=O(9753);const fe=(0,we.d)(jt=>function(){jt(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ce=O(8208),Me=O(776);let Te=(()=>{class jt extends w.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ve){const te=new he(this,this);return te.operator=ve,te}_throwIfClosed(){if(this.closed)throw new fe}next(ve){(0,Me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const te=this.observers.slice();for(const be of te)be.next(ve)}})}error(ve){(0,Me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ve;const{observers:te}=this;for(;te.length;)te.shift().error(ve)}})}complete(){(0,Me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ve}=this;for(;ve.length;)ve.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var ve;return(null===(ve=this.observers)||void 0===ve?void 0:ve.length)>0}_trySubscribe(ve){return this._throwIfClosed(),super._trySubscribe(ve)}_subscribe(ve){return this._throwIfClosed(),this._checkFinalizedStatuses(ve),this._innerSubscribe(ve)}_innerSubscribe(ve){const{hasError:te,isStopped:be,observers:dt}=this;return te||be?K.Lc:(dt.push(ve),new K.w0(()=>(0,Ce.P)(dt,ve)))}_checkFinalizedStatuses(ve){const{hasError:te,thrownError:be,isStopped:dt}=this;te?ve.error(be):dt&&ve.complete()}asObservable(){const ve=new w.y;return ve.source=this,ve}}return jt.create=(Ht,ve)=>new he(Ht,ve),jt})();class he extends Te{constructor(Ht,ve){super(),this.destination=Ht,this.source=ve}next(Ht){var ve,te;null===(te=null===(ve=this.destination)||void 0===ve?void 0:ve.next)||void 0===te||te.call(ve,Ht)}error(Ht){var ve,te;null===(te=null===(ve=this.destination)||void 0===ve?void 0:ve.error)||void 0===te||te.call(ve,Ht)}complete(){var Ht,ve;null===(ve=null===(Ht=this.destination)||void 0===Ht?void 0:Ht.complete)||void 0===ve||ve.call(Ht)}_subscribe(Ht){var ve,te;return null!==(te=null===(ve=this.source)||void 0===ve?void 0:ve.subscribe(Ht))&&void 0!==te?te:K.Lc}}var Q=O(2253),Y=O(3413);const pe=new w.y(jt=>jt.complete());var ct=O(7375),Re=O(1179),We=O(4323),xe=O(1373);class Le extends Te{constructor(Ht=1/0,ve=1/0,te=xe.l){super(),this._bufferSize=Ht,this._windowTime=ve,this._timestampProvider=te,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ve===1/0,this._bufferSize=Math.max(1,Ht),this._windowTime=Math.max(1,ve)}next(Ht){const{isStopped:ve,_buffer:te,_infiniteTimeWindow:be,_timestampProvider:dt,_windowTime:ze}=this;ve||(te.push(Ht),!be&&te.push(dt.now()+ze)),this._trimBuffer(),super.next(Ht)}_subscribe(Ht){this._throwIfClosed(),this._trimBuffer();const ve=this._innerSubscribe(Ht),{_infiniteTimeWindow:te,_buffer:be}=this,dt=be.slice();for(let ze=0;ze<dt.length&&!Ht.closed;ze+=te?1:2)Ht.next(dt[ze]);return this._checkFinalizedStatuses(Ht),ve}_trimBuffer(){const{_bufferSize:Ht,_timestampProvider:ve,_buffer:te,_infiniteTimeWindow:be}=this,dt=(be?1:2)*Ht;if(Ht<1/0&&dt<te.length&&te.splice(0,te.length-dt),!be){const ze=ve.now();let Ft=0;for(let wt=1;wt<te.length&&te[wt]<=ze;wt+=2)Ft=wt;Ft&&te.splice(0,Ft+1)}}}var Ue=O(3201),st=O(1894);function ot(jt){return jt<=0?()=>pe:(0,Ue.e)((Ht,ve)=>{let te=0;Ht.subscribe(new st.Q(ve,be=>{++te<=jt&&(ve.next(be),jt<=te&&ve.complete())}))})}var $t=O(3704);function ne(jt,Ht,...ve){return!0===Ht?(jt(),null):!1===Ht?null:Ht(...ve).pipe(ot(1)).subscribe(()=>jt())}function oe(jt,Ht,ve){var te,be;let dt,ze=!1;return jt&&"object"==typeof jt?(dt=null!==(te=jt.bufferSize)&&void 0!==te?te:1/0,Ht=null!==(be=jt.windowTime)&&void 0!==be?be:1/0,ze=!!jt.refCount,ve=jt.scheduler):dt=null!=jt?jt:1/0,function(jt={}){const{connector:Ht=(()=>new Te),resetOnError:ve=!0,resetOnComplete:te=!0,resetOnRefCountZero:be=!0}=jt;return dt=>{let ze=null,Ft=null,wt=null,Pt=0,_n=!1,Bn=!1;const Mn=()=>{null==Ft||Ft.unsubscribe(),Ft=null},Hn=()=>{Mn(),ze=wt=null,_n=Bn=!1},ir=()=>{const vn=ze;Hn(),null==vn||vn.unsubscribe()};return(0,Ue.e)((vn,Ee)=>{Pt++,!Bn&&!_n&&Mn();const Pe=wt=null!=wt?wt:Ht();Ee.add(()=>{Pt--,0===Pt&&!Bn&&!_n&&(Ft=ne(ir,be))}),Pe.subscribe(Ee),ze||(ze=new $t.Hp({next:Fe=>Pe.next(Fe),error:Fe=>{Bn=!0,Mn(),Ft=ne(Hn,ve,Fe),Pe.error(Fe)},complete:()=>{_n=!0,Mn(),Ft=ne(Hn,te),Pe.complete()}}),(0,Re.D)(vn).subscribe(ze))})(dt)}}({connector:()=>new Le(dt,Ht,ve),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ze})}const ye=(0,we.d)(jt=>function(){jt(this),this.name="EmptyError",this.message="no elements in sequence"});var me=O(1971);function _e(jt){return(0,Ue.e)((Ht,ve)=>{let te=!1;Ht.subscribe(new st.Q(ve,be=>{te=!0,ve.next(be)},()=>{te||ve.next(jt),ve.complete()}))})}function Je(jt=De){return(0,Ue.e)((Ht,ve)=>{let te=!1;Ht.subscribe(new st.Q(ve,be=>{te=!0,ve.next(be)},()=>te?ve.complete():ve.error(jt())))})}function De(){return new ye}var at=O(576),Bt=O(1926),Tt=O(6361);function yn(jt,Ht){return(0,Tt.m)(Ht)?(0,Bt.w)(()=>jt,Ht):(0,Bt.w)(()=>jt)}var Fn=O(8341),rn=O(6885),tr=O(8127),zt=O(9358),lr=O(8939),Qt=O(8583),cn=O(2801);O(7841);const Cr=new y.OlP("angularfire2.auth.use-emulator"),Wn=new y.OlP("angularfire2.auth.settings"),kr=new y.OlP("angularfire2.auth.tenant-id"),Un=new y.OlP("angularfire2.auth.langugage-code"),oi=new y.OlP("angularfire2.auth.use-device-language"),cr=new y.OlP("angularfire.auth.persistence"),Rr=(jt,Ht,ve,te,be,dt,ze,Ft)=>(0,lr.cc)(`${jt.name}.auth`,"AngularFireAuth",jt.name,()=>{const wt=Ht.runOutsideAngular(()=>jt.auth());if(ve&&wt.useEmulator(...ve),te&&(wt.tenantId=te),wt.languageCode=be,dt&&wt.useDeviceLanguage(),ze)for(const[Pt,_n]of Object.entries(ze))wt.settings[Pt]=_n;return Ft&&wt.setPersistence(Ft),wt},[ve,te,be,dt,ze,Ft]);let or=(()=>{class jt{constructor(ve,te,be,dt,ze,Ft,wt,Pt,_n,Bn,Mn,Hn){const ir=new Te,vn=(0,We.of)(void 0).pipe((0,Fn.Q)(ze.outsideAngular),(0,Bt.w)(()=>dt.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,4691)))),(0,rn.U)(()=>(0,lr.on)(ve,dt,te)),(0,rn.U)(Ee=>Rr(Ee,dt,Ft,Pt,_n,Bn,wt,Mn)),oe({bufferSize:1,refCount:!1}));if((0,Qt.PM)(be))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,We.of)(null);else{vn.pipe(function(jt,Ht){const ve=arguments.length>=2;return te=>te.pipe(jt?(0,me.h)((be,dt)=>jt(be,dt,te)):at.y,ot(1),ve?_e(Ht):Je(()=>new ye))}()).subscribe();const Pe=vn.pipe((0,Bt.w)(Qe=>Qe.getRedirectResult().then(Nt=>Nt,()=>null)),zt.iC,oe({bufferSize:1,refCount:!1})),Fe=vn.pipe((0,Bt.w)(Qe=>new w.y(Nt=>({unsubscribe:dt.runOutsideAngular(()=>Qe.onAuthStateChanged(nn=>Nt.next(nn),nn=>Nt.error(nn),()=>Nt.complete()))})))),pt=vn.pipe((0,Bt.w)(Qe=>new w.y(Nt=>({unsubscribe:dt.runOutsideAngular(()=>Qe.onIdTokenChanged(nn=>Nt.next(nn),nn=>Nt.error(nn),()=>Nt.complete()))}))));this.authState=Pe.pipe(yn(Fe),(0,tr.R)(ze.outsideAngular),(0,Fn.Q)(ze.insideAngular)),this.user=Pe.pipe(yn(pt),(0,tr.R)(ze.outsideAngular),(0,Fn.Q)(ze.insideAngular)),this.idToken=this.user.pipe((0,Bt.w)(Qe=>Qe?(0,Re.D)(Qe.getIdToken()):(0,We.of)(null))),this.idTokenResult=this.user.pipe((0,Bt.w)(Qe=>Qe?(0,Re.D)(Qe.getIdTokenResult()):(0,We.of)(null))),this.credential=function(...jt){const Ht=(0,ct.yG)(jt),ve=(0,ct._6)(jt,1/0),te=jt;return te.length?1===te.length?(0,Y.Xf)(te[0]):(0,Q.J)(ve)((0,Re.D)(te,Ht)):pe}(Pe,ir,this.authState.pipe((0,me.h)(Qe=>!Qe))).pipe((0,rn.U)(Qe=>(null==Qe?void 0:Qe.user)?Qe:null),(0,tr.R)(ze.outsideAngular),(0,Fn.Q)(ze.insideAngular))}return(0,lr.pX)(this,vn,dt,{spy:{apply:(Ee,Pe,Fe)=>{(Ee.startsWith("signIn")||Ee.startsWith("createUser"))&&Fe.then(pt=>ir.next(pt))}}})}}return jt.\u0275fac=function(ve){return new(ve||jt)(y.LFG(lr.Dh),y.LFG(lr.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(zt.HU),y.LFG(Cr,8),y.LFG(Wn,8),y.LFG(kr,8),y.LFG(Un,8),y.LFG(oi,8),y.LFG(cr,8),y.LFG(cn.nm,8))},jt.\u0275prov=y.Yz7({token:jt,factory:jt.\u0275fac,providedIn:"any"}),jt})()},743:(Dt,Ve,O)=>{"use strict";O.d(Ve,{ST:()=>Vy,yb:()=>_v});var y=O(639),w=O(4346),K=O(1827),we=O(1179),fe=O(4323),Ce=O(9358),Me=O(2253),he=O(7375);function Q(...s){return(0,Me.J)(1)((0,we.D)(s,(0,he.yG)(s)))}var Y=O(3201);function pe(...s){const e=(0,he.yG)(s);return(0,Y.e)((i,a)=>{(e?Q(s,i,e):Q(s,i)).subscribe(a)})}var qe=O(1894);function Ne(){return(0,Y.e)((s,e)=>{let i,a=!1;s.subscribe(new qe.Q(e,c=>{const m=i;i=c,a&&e.next([m,c]),a=!0}))})}function ct(s,e,i,a,c){return(m,D)=>{let F=i,Z=e,ae=0;m.subscribe(new qe.Q(D,Ae=>{const et=ae++;Z=F?s(Z,Ae,et):(F=!0,Ae),a&&D.next(Z)},c&&(()=>{F&&D.next(Z),D.complete()})))}}function Re(s,e){return(0,Y.e)(ct(s,e,arguments.length>=2,!0))}var Oe=O(576);function xe(s,e){return s===e}var at,Le=O(6885),Ue=O(1971),st=O(8939),ot=O(8583),Mt=(O(4691),O(3394)),ne=O(8239),oe=O(8026),ye=O(3910),me=O(5422),_e=O(3854),Je="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},De={},xt=xt||{},Bt=Je||self;function Tt(){}function yn(s){var e=typeof s;return"array"==(e="object"!=e?e:s?Array.isArray(s)?"array":e:"null")||"object"==e&&"number"==typeof s.length}function Fn(s){var e=typeof s;return"object"==e&&null!=s||"function"==e}var tr="closure_uid_"+(1e9*Math.random()>>>0),zt=0;function lr(s,e,i){return s.call.apply(s.bind,arguments)}function Qt(s,e,i){if(!s)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,a),s.apply(e,c)}}return function(){return s.apply(e,arguments)}}function cn(s,e,i){return(cn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?lr:Qt).apply(null,arguments)}function an(s,e){var i=Array.prototype.slice.call(arguments,1);return function(){var a=i.slice();return a.push.apply(a,arguments),s.apply(this,a)}}function Jt(s,e){function i(){}i.prototype=e.prototype,s.Z=e.prototype,s.prototype=new i,s.prototype.constructor=s,s.Vb=function(a,c,m){for(var D=Array(arguments.length-2),F=2;F<arguments.length;F++)D[F-2]=arguments[F];return e.prototype[c].apply(a,D)}}function Cr(){this.s=this.s,this.o=this.o}var kr={};Cr.prototype.s=!1,Cr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var s=function(s){return Object.prototype.hasOwnProperty.call(s,tr)&&s[tr]||(s[tr]=++zt)}(this);delete kr[s]}},Cr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Un=Array.prototype.indexOf?function(s,e){return Array.prototype.indexOf.call(s,e,void 0)}:function(s,e){if("string"==typeof s)return"string"!=typeof e||1!=e.length?-1:s.indexOf(e,0);for(let i=0;i<s.length;i++)if(i in s&&s[i]===e)return i;return-1},oi=Array.prototype.forEach?function(s,e,i){Array.prototype.forEach.call(s,e,i)}:function(s,e,i){const a=s.length,c="string"==typeof s?s.split(""):s;for(let m=0;m<a;m++)m in c&&e.call(i,c[m],m,s)};function Rr(s){return Array.prototype.concat.apply([],arguments)}function or(s){const e=s.length;if(0<e){const i=Array(e);for(let a=0;a<e;a++)i[a]=s[a];return i}return[]}function fr(s){return/^[\s\xa0]*$/.test(s)}var te,jt=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function Ht(s,e){return-1!=s.indexOf(e)}function ve(s,e){return s<e?-1:s>e?1:0}e:{var be=Bt.navigator;if(be){var dt=be.userAgent;if(dt){te=dt;break e}}te=""}function ze(s,e,i){for(const a in s)e.call(i,s[a],a,s)}function Ft(s){const e={};for(const i in s)e[i]=s[i];return e}var wt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pt(s,e){let i,a;for(let c=1;c<arguments.length;c++){for(i in a=arguments[c],a)s[i]=a[i];for(let m=0;m<wt.length;m++)i=wt[m],Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i])}}function _n(s){return _n[" "](s),s}_n[" "]=Tt;var pt,s,Mn=Ht(te,"Opera"),Hn=Ht(te,"Trident")||Ht(te,"MSIE"),ir=Ht(te,"Edge"),vn=ir||Hn,Ee=Ht(te,"Gecko")&&!(Ht(te.toLowerCase(),"webkit")&&!Ht(te,"Edge"))&&!(Ht(te,"Trident")||Ht(te,"MSIE"))&&!Ht(te,"Edge"),Pe=Ht(te.toLowerCase(),"webkit")&&!Ht(te,"Edge");function Fe(){var s=Bt.document;return s?s.documentMode:void 0}e:{var Qe="",Nt=(s=te,Ee?/rv:([^\);]+)(\)|;)/.exec(s):ir?/Edge\/([\d\.]+)/.exec(s):Hn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):Pe?/WebKit\/(\S+)/.exec(s):Mn?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(Nt&&(Qe=Nt?Nt[1]:""),Hn){var nn=Fe();if(null!=nn&&nn>parseFloat(Qe)){pt=String(nn);break e}}pt=Qe}var pr={};function dr(){return e=pr,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let s=0;const e=jt(String(pt)).split("."),i=jt("9").split("."),a=Math.max(e.length,i.length);for(let D=0;0==s&&D<a;D++){var c=e[D]||"",m=i[D]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],0==c[0].length&&0==m[0].length)break;s=ve(0==c[1].length?0:parseInt(c[1],10),0==m[1].length?0:parseInt(m[1],10))||ve(0==c[2].length,0==m[2].length)||ve(c[2],m[2]),c=c[3],m=m[3]}while(0==s)}return 0<=s}();var e}var Qn=Bt.document&&Hn&&(Fe()||parseInt(pt,10))||void 0,Gn=function(){if(!Bt.addEventListener||!Object.defineProperty)return!1;var s=!1,e=Object.defineProperty({},"passive",{get:function(){s=!0}});try{Bt.addEventListener("test",Tt,e),Bt.removeEventListener("test",Tt,e)}catch(i){}return s}();function nr(s,e){this.type=s,this.g=this.target=e,this.defaultPrevented=!1}function Fr(s,e){if(nr.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var i=this.type=s.type,a=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=e,e=s.relatedTarget){if(Ee){e:{try{_n(e.nodeName);var c=!0;break e}catch(m){}c=!1}c||(e=null)}}else"mouseover"==i?e=s.fromElement:"mouseout"==i&&(e=s.toElement);this.relatedTarget=e,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:ai[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&Fr.Z.h.call(this)}}nr.prototype.h=function(){this.defaultPrevented=!0},Jt(Fr,nr);var ai={2:"touch",3:"pen",4:"mouse"};Fr.prototype.h=function(){Fr.Z.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var ui="closure_listenable_"+(1e6*Math.random()|0),ds=0;function jr(s,e,i,a,c){this.listener=s,this.proxy=null,this.src=e,this.type=i,this.capture=!!a,this.ia=c,this.key=++ds,this.ca=this.fa=!1}function li(s){s.ca=!0,s.listener=null,s.proxy=null,s.src=null,s.ia=null}function Oi(s){this.src=s,this.g={},this.h=0}function Lr(s,e){var i=e.type;if(i in s.g){var m,a=s.g[i],c=Un(a,e);(m=0<=c)&&Array.prototype.splice.call(a,c,1),m&&(li(e),0==s.g[i].length&&(delete s.g[i],s.h--))}}function gi(s,e,i,a){for(var c=0;c<s.length;++c){var m=s[c];if(!m.ca&&m.listener==e&&m.capture==!!i&&m.ia==a)return c}return-1}Oi.prototype.add=function(s,e,i,a,c){var m=s.toString();(s=this.g[m])||(s=this.g[m]=[],this.h++);var D=gi(s,e,a,c);return-1<D?(e=s[D],i||(e.fa=!1)):((e=new jr(e,this.src,m,!!a,c)).fa=i,s.push(e)),e};var Pr="closure_lm_"+(1e6*Math.random()|0),Jr={};function Gr(s,e,i,a,c){if(a&&a.once)return br(s,e,i,a,c);if(Array.isArray(e)){for(var m=0;m<e.length;m++)Gr(s,e[m],i,a,c);return null}return i=Sn(i),s&&s[ui]?s.N(e,i,Fn(a)?!!a.capture:!!a,c):mi(s,e,i,!1,a,c)}function mi(s,e,i,a,c,m){if(!e)throw Error("Invalid event type");var D=Fn(c)?!!c.capture:!!c,F=Wr(s);if(F||(s[Pr]=F=new Oi(s)),(i=F.add(e,i,a,D,m)).proxy)return i;if(a=function(){var e=Pi;return function s(i){return e.call(s.src,s.listener,i)}}(),i.proxy=a,a.src=s,a.listener=i,s.addEventListener)Gn||(c=D),void 0===c&&(c=!1),s.addEventListener(e.toString(),a,c);else if(s.attachEvent)s.attachEvent(zr(e.toString()),a);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(a)}return i}function br(s,e,i,a,c){if(Array.isArray(e)){for(var m=0;m<e.length;m++)br(s,e[m],i,a,c);return null}return i=Sn(i),s&&s[ui]?s.O(e,i,Fn(a)?!!a.capture:!!a,c):mi(s,e,i,!0,a,c)}function Ji(s,e,i,a,c){if(Array.isArray(e))for(var m=0;m<e.length;m++)Ji(s,e[m],i,a,c);else a=Fn(a)?!!a.capture:!!a,i=Sn(i),s&&s[ui]?(s=s.i,(e=String(e).toString())in s.g&&-1<(i=gi(m=s.g[e],i,a,c))&&(li(m[i]),Array.prototype.splice.call(m,i,1),0==m.length&&(delete s.g[e],s.h--))):s&&(s=Wr(s))&&(e=s.g[e.toString()],s=-1,e&&(s=gi(e,i,a,c)),(i=-1<s?e[s]:null)&&gr(i))}function gr(s){if("number"!=typeof s&&s&&!s.ca){var e=s.src;if(e&&e[ui])Lr(e.i,s);else{var i=s.type,a=s.proxy;e.removeEventListener?e.removeEventListener(i,a,s.capture):e.detachEvent?e.detachEvent(zr(i),a):e.addListener&&e.removeListener&&e.removeListener(a),(i=Wr(e))?(Lr(i,s),0==i.h&&(i.src=null,e[Pr]=null)):li(s)}}}function zr(s){return s in Jr?Jr[s]:Jr[s]="on"+s}function Pi(s,e){if(s.ca)s=!0;else{e=new Fr(e,this);var i=s.listener,a=s.ia||s.src;s.fa&&gr(s),s=i.call(a,e)}return s}function Wr(s){return(s=s[Pr])instanceof Oi?s:null}var Gt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sn(s){return"function"==typeof s?s:(s[Gt]||(s[Gt]=function(e){return s.handleEvent(e)}),s[Gt])}function Wt(){Cr.call(this),this.i=new Oi(this),this.P=this,this.I=null}function je(s,e){var i,a=s.I;if(a)for(i=[];a;a=a.I)i.push(a);if(s=s.P,a=e.type||e,"string"==typeof e)e=new nr(e,s);else if(e instanceof nr)e.target=e.target||s;else{var c=e;Pt(e=new nr(a,s),c)}if(c=!0,i)for(var m=i.length-1;0<=m;m--){var D=e.g=i[m];c=He(D,a,!0,e)&&c}if(c=He(D=e.g=s,a,!0,e)&&c,c=He(D,a,!1,e)&&c,i)for(m=0;m<i.length;m++)c=He(D=e.g=i[m],a,!1,e)&&c}function He(s,e,i,a){if(!(e=s.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,m=0;m<e.length;++m){var D=e[m];if(D&&!D.ca&&D.capture==i){var F=D.listener,Z=D.ia||D.src;D.fa&&Lr(s.i,D),c=!1!==F.call(Z,a)&&c}}return c&&!a.defaultPrevented}Jt(Wt,Cr),Wt.prototype[ui]=!0,Wt.prototype.removeEventListener=function(s,e,i,a){Ji(this,s,e,i,a)},Wt.prototype.M=function(){if(Wt.Z.M.call(this),this.i){var e,s=this.i;for(e in s.g){for(var i=s.g[e],a=0;a<i.length;a++)li(i[a]);delete s.g[e],s.h--}}this.I=null},Wt.prototype.N=function(s,e,i,a){return this.i.add(String(s),e,!1,i,a)},Wt.prototype.O=function(s,e,i,a){return this.i.add(String(s),e,!0,i,a)};var ue=Bt.JSON.stringify;function rt(){var s=ei;let e=null;return s.g&&(e=s.g,s.g=s.g.next,s.g||(s.h=null),e.next=null),e}var Xr,Dn=new class{constructor(s,e){this.i=s,this.j=e,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}(()=>new Pn,s=>s.reset());class Pn{constructor(){this.next=this.g=this.h=null}set(e,i){this.h=e,this.g=i,this.next=null}reset(){this.next=this.g=this.h=null}}function Xt(s){Bt.setTimeout(()=>{throw s},0)}function sr(s,e){Xr||function(){var s=Bt.Promise.resolve(void 0);Xr=function(){s.then(Di)}}(),Dr||(Xr(),Dr=!0),ei.add(s,e)}var Dr=!1,ei=new class{constructor(){this.h=this.g=null}add(e,i){const a=Dn.get();a.set(e,i),this.h?this.h.next=a:this.g=a,this.h=a}};function Di(){for(var s;s=rt();){try{s.h.call(s.g)}catch(i){Xt(i)}var e=Dn;e.j(s),100>e.h&&(e.h++,s.next=e.g,e.g=s)}Dr=!1}function $r(s,e){Wt.call(this),this.h=s||1,this.g=e||Bt,this.j=cn(this.kb,this),this.l=Date.now()}function ci(s){s.da=!1,s.S&&(s.g.clearTimeout(s.S),s.S=null)}function wr(s,e,i){if("function"==typeof s)i&&(s=cn(s,i));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=cn(s.handleEvent,s)}return 2147483647<Number(e)?-1:Bt.setTimeout(s,e||0)}function vo(s){s.g=wr(()=>{s.g=null,s.i&&(s.i=!1,vo(s))},s.j);const e=s.h;s.h=null,s.m.apply(null,e)}Jt($r,Wt),(at=$r.prototype).da=!1,at.S=null,at.kb=function(){if(this.da){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-s):(this.S&&(this.g.clearTimeout(this.S),this.S=null),je(this,"tick"),this.da&&(ci(this),this.start()))}},at.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},at.M=function(){$r.Z.M.call(this),ci(this),delete this.g};class Ni extends Cr{constructor(e,i){super(),this.m=e,this.j=i,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:vo(this)}M(){super.M(),this.g&&(Bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Si(s){Cr.call(this),this.h=s,this.g={}}Jt(Si,Cr);var yi=[];function Es(s,e,i,a){Array.isArray(i)||(i&&(yi[0]=i.toString()),i=yi);for(var c=0;c<i.length;c++){var m=Gr(e,i[c],a||s.handleEvent,!1,s.h||s);if(!m)break;s.g[m.key]=m}}function Xi(s){ze(s.g,function(e,i){this.g.hasOwnProperty(i)&&gr(e)},s),s.g={}}function Vi(){this.g=!0}function qr(s,e,i,a){s.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(s,e){if(!s.g)return e;if(!e)return null;try{var i=JSON.parse(e);if(i)for(s=0;s<i.length;s++)if(Array.isArray(i[s])){var a=i[s];if(!(2>a.length)){var c=a[1];if(Array.isArray(c)&&!(1>c.length)){var m=c[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var D=1;D<c.length;D++)c[D]=""}}}return ue(i)}catch(F){return e}}(s,i)+(a?" "+a:"")})}Si.prototype.M=function(){Si.Z.M.call(this),Xi(this)},Si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vi.prototype.Aa=function(){this.g=!1},Vi.prototype.info=function(){};var it={},Ct=null;function St(){return Ct=Ct||new Wt}function un(s){nr.call(this,it.Ma,s)}function Jn(s){const e=St();je(e,new un(e,s))}function ti(s,e){nr.call(this,it.STAT_EVENT,s),this.stat=e}function $n(s){const e=St();je(e,new ti(e,s))}function Ui(s,e){nr.call(this,it.Na,s),this.size=e}function zi(s,e){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return Bt.setTimeout(function(){s()},e)}it.Ma="serverreachability",Jt(un,nr),it.STAT_EVENT="statevent",Jt(ti,nr),it.Na="timingevent",Jt(Ui,nr);var ss={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Oo={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ai(){}function Fs(){}Ai.prototype.h=null;var Ls,_i={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function bs(){nr.call(this,"d")}function os(){nr.call(this,"c")}function eo(){}function Vs(s,e,i,a){this.l=s,this.j=e,this.m=i,this.X=a||1,this.V=new Si(this),this.P=ws,this.W=new $r(s=vn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Us}function Us(){this.i=null,this.g="",this.h=!1}Jt(bs,nr),Jt(os,nr),Jt(eo,Ai),eo.prototype.g=function(){return new XMLHttpRequest},eo.prototype.i=function(){return{}},Ls=new eo;var ws=45e3,Ws={},Bi={};function Wi(s,e,i){s.K=1,s.v=_r(Ze(e)),s.s=i,s.U=!0,bo(s,null)}function bo(s,e){s.F=Date.now(),Rs(s),s.A=Ze(s.v);var i=s.A,a=s.X;Array.isArray(a)||(a=[String(a)]),ie(i.h,"t",a),s.C=0,i=s.l.H,s.h=new Us,s.g=ko(s.l,i?e:null,!s.s),0<s.O&&(s.L=new Ni(cn(s.Ia,s,s.g),s.O)),Es(s.V,s.g,"readystatechange",s.gb),e=s.H?Ft(s.H):{},s.s?(s.u||(s.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.s,e)):(s.u="GET",s.g.ea(s.A,s.u,null,e)),Jn(1),function(s,e,i,a,c,m){s.info(function(){if(s.g)if(m)for(var D="",F=m.split("&"),Z=0;Z<F.length;Z++){var ae=F[Z].split("=");if(1<ae.length){var Ae=ae[0];ae=ae[1];var et=Ae.split("_");D=2<=et.length&&"type"==et[1]?D+(Ae+"=")+ae+"&":D+(Ae+"=redacted&")}}else D=null;else D=m;return"XMLHTTP REQ ("+a+") [attempt "+c+"]: "+e+"\n"+i+"\n"+D})}(s.j,s.u,s.A,s.m,s.X,s.s)}function es(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Ba}function Ki(s,e,i){let c,a=!0;for(;!s.I&&s.C<i.length;){if(c=Po(s,i),c==Bi){4==e&&(s.o=4,$n(14),a=!1),qr(s.j,s.m,null,"[Incomplete Response]");break}if(c==Ws){s.o=4,$n(15),qr(s.j,s.m,i,"[Invalid Chunk]"),a=!1;break}qr(s.j,s.m,c,null),js(s,c)}es(s)&&c!=Bi&&c!=Ws&&(s.h.g="",s.C=0),4!=e||0!=i.length||s.h.h||(s.o=1,$n(16),a=!1),s.i=s.i&&a,a?0<i.length&&!s.aa&&(s.aa=!0,(e=s.l).g==s&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),so(e),e.L=!0,$n(11))):(qr(s.j,s.m,i,"[Invalid Chunked Response]"),Cs(s),Ks(s))}function Po(s,e){var i=s.C,a=e.indexOf("\n",i);return-1==a?Bi:(i=Number(e.substring(i,a)),isNaN(i)?Ws:(a+=1)+i>e.length?Bi:(e=e.substr(a,i),s.C=a+i,e))}function Rs(s){s.Y=Date.now()+s.P,Bs(s,s.P)}function Bs(s,e){if(null!=s.B)throw Error("WatchDog timer not null");s.B=zi(cn(s.eb,s),e)}function to(s){s.B&&(Bt.clearTimeout(s.B),s.B=null)}function Ks(s){0==s.l.G||s.I||ka(s.l,s)}function Cs(s){to(s);var e=s.L;e&&"function"==typeof e.na&&e.na(),s.L=null,ci(s.W),Xi(s.V),s.g&&(e=s.g,s.g=null,e.abort(),e.na())}function js(s,e){try{var i=s.l;if(0!=i.G&&(i.g==s||sn(i.i,s)))if(i.I=s.N,!s.J&&sn(i.i,s)&&3==i.G){try{var a=i.Ca.g.parse(e)}catch(ae){a=null}if(Array.isArray(a)&&3==a.length){var c=a;if(0==c[0])e:if(i.u)i.ta=c[1],0<i.ta-i.U&&37500>c[2]&&i.N&&0==i.A&&!i.v&&(i.v=zi(cn(i.ab,i),6e3));else{if(i.g){if(!(i.g.F+3e3<s.F))break e;oo(i),sa(i)}ou(i),$n(18)}if(1>=ut(i.i)&&i.ka){try{i.ka()}catch(ae){}i.ka=void 0}}else wo(i,11)}else if((s.J||i.g==s)&&oo(i),!fr(e))for(c=i.Ca.g.parse(e),e=0;e<c.length;e++){let ae=c[e];if(i.U=ae[0],ae=ae[1],2==i.G)if("c"==ae[0]){i.J=ae[1],i.la=ae[2];const Ae=ae[3];null!=Ae&&(i.ma=Ae,i.h.info("VER="+i.ma));const et=ae[4];null!=et&&(i.za=et,i.h.info("SVER="+i.za));const bt=ae[5];null!=bt&&"number"==typeof bt&&0<bt&&(i.K=a=1.5*bt,i.h.info("backChannelRequestTimeoutMs_="+a)),a=i;const Ot=s.g;if(Ot){const tn=Ot.g?Ot.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tn){var m=a.i;!m.g&&(Ht(tn,"spdy")||Ht(tn,"quic")||Ht(tn,"h2"))&&(m.j=m.l,m.g=new Set,m.h&&(ii(m,m.h),m.h=null))}if(a.D){const jn=Ot.g?Ot.g.getResponseHeader("X-HTTP-Session-Id"):null;jn&&(a.sa=jn,wn(a.F,a.D,jn))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-s.F,i.h.info("Handshake RTT: "+i.O+"ms"));var D=s;if((a=i).oa=gs(a,a.H?a.la:null,a.W),D.J){Xn(a.i,D);var F=D,Z=a.K;Z&&F.setTimeout(Z),F.B&&(to(F),Rs(F)),a.g=D}else ga(a);0<i.l.length&&hi(i)}else"stop"!=ae[0]&&"close"!=ae[0]||wo(i,7);else 3==i.G&&("stop"==ae[0]||"close"==ae[0]?"stop"==ae[0]?wo(i,7):pa(i):"noop"!=ae[0]&&i.j&&i.j.wa(ae),i.A=0)}Jn(4)}catch(ae){}}function V(s,e){if(s.forEach&&"function"==typeof s.forEach)s.forEach(e,void 0);else if(yn(s)||"string"==typeof s)oi(s,e,void 0);else{if(s.T&&"function"==typeof s.T)var i=s.T();else if(s.R&&"function"==typeof s.R)i=void 0;else if(yn(s)||"string"==typeof s){i=[];for(var a=s.length,c=0;c<a;c++)i.push(c)}else for(c in i=[],a=0,s)i[a++]=c;c=(a=function(s){if(s.R&&"function"==typeof s.R)return s.R();if("string"==typeof s)return s.split("");if(yn(s)){for(var e=[],i=s.length,a=0;a<i;a++)e.push(s[a]);return e}for(a in e=[],i=0,s)e[i++]=s[a];return e}(s)).length;for(var m=0;m<c;m++)e.call(void 0,a[m],i&&i[m],s)}}function J(s,e){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var a=0;a<i;a+=2)this.set(arguments[a],arguments[a+1])}else if(s)if(s instanceof J)for(i=s.T(),a=0;a<i.length;a++)this.set(i[a],s.get(i[a]));else for(a in s)this.set(a,s[a])}function U(s){if(s.i!=s.g.length){for(var e=0,i=0;e<s.g.length;){var a=s.g[e];I(s.h,a)&&(s.g[i++]=a),e++}s.g.length=i}if(s.i!=s.g.length){var c={};for(i=e=0;e<s.g.length;)I(c,a=s.g[e])||(s.g[i++]=a,c[a]=1),e++;s.g.length=i}}function I(s,e){return Object.prototype.hasOwnProperty.call(s,e)}(at=Vs.prototype).setTimeout=function(s){this.P=s},at.gb=function(s){s=s.target;const e=this.L;e&&3==ro(s)?e.l():this.Ia(s)},at.Ia=function(s){try{if(s==this.g)e:{const Ae=ro(this.g);var e=this.g.Da();const et=this.g.ba();if(!(3>Ae)&&(3!=Ae||vn||this.g&&(this.h.h||this.g.ga()||Zu(this.g)))){this.I||4!=Ae||7==e||Jn(8==e||0>=et?3:2),to(this);var i=this.g.ba();this.N=i;t:if(es(this)){var a=Zu(this.g);s="";var c=a.length,m=4==ro(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Cs(this),Ks(this);var D="";break t}this.h.i=new Bt.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,s+=this.h.i.decode(a[e],{stream:m&&e==c-1});a.splice(0,c),this.h.g+=s,this.C=0,D=this.h.g}else D=this.g.ga();if(this.i=200==i,function(s,e,i,a,c,m,D){s.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+c+"]: "+e+"\n"+i+"\n"+m+" "+D})}(this.j,this.u,this.A,this.m,this.X,Ae,i),this.i){if(this.$&&!this.J){t:{if(this.g){var F,Z=this.g;if((F=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fr(F)){var ae=F;break t}}ae=null}if(!(i=ae)){this.i=!1,this.o=3,$n(12),Cs(this),Ks(this);break e}qr(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,js(this,i)}this.U?(Ki(this,Ae,D),vn&&this.i&&3==Ae&&(Es(this.V,this.W,"tick",this.fb),this.W.start())):(qr(this.j,this.m,D,null),js(this,D)),4==Ae&&Cs(this),this.i&&!this.I&&(4==Ae?ka(this.l,this):(this.i=!1,Rs(this)))}else 400==i&&0<D.indexOf("Unknown SID")?(this.o=3,$n(12)):(this.o=0,$n(13)),Cs(this),Ks(this)}}}catch(Ae){}},at.fb=function(){if(this.g){var s=ro(this.g),e=this.g.ga();this.C<e.length&&(to(this),Ki(this,s,e),this.i&&4!=s&&Rs(this))}},at.cancel=function(){this.I=!0,Cs(this)},at.eb=function(){this.B=null;const s=Date.now();0<=s-this.Y?(function(s,e){s.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Jn(3),$n(17)),Cs(this),this.o=2,Ks(this)):Bs(this,this.Y-s)},(at=J.prototype).R=function(){U(this);for(var s=[],e=0;e<this.g.length;e++)s.push(this.h[this.g[e]]);return s},at.T=function(){return U(this),this.g.concat()},at.get=function(s,e){return I(this.h,s)?this.h[s]:e},at.set=function(s,e){I(this.h,s)||(this.i++,this.g.push(s)),this.h[s]=e},at.forEach=function(s,e){for(var i=this.T(),a=0;a<i.length;a++){var c=i[a],m=this.get(c);s.call(e,m,c,this)}};var A=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function W(s,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,s instanceof W){this.g=void 0!==e?e:s.g,It(this,s.j),this.s=s.s,In(this,s.i),mr(this,s.m),this.l=s.l,e=s.h;var i=new as;i.i=e.i,e.g&&(i.g=new J(e.g),i.h=e.h),rr(this,i),this.o=s.o}else s&&(i=String(s).match(A))?(this.g=!!e,It(this,i[1]||"",!0),this.s=Zr(i[2]||""),In(this,i[3]||"",!0),mr(this,i[4]),this.l=Zr(i[5]||"",!0),rr(this,i[6]||"",!0),this.o=Zr(i[7]||"")):(this.g=!!e,this.h=new as(null,this.g))}function Ze(s){return new W(s)}function It(s,e,i){s.j=i?Zr(e,!0):e,s.j&&(s.j=s.j.replace(/:$/,""))}function In(s,e,i){s.i=i?Zr(e,!0):e}function mr(s,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);s.m=e}else s.m=null}function rr(s,e,i){e instanceof as?(s.h=e,function(s,e){e&&!s.j&&(qs(s),s.i=null,s.g.forEach(function(i,a){var c=a.toLowerCase();a!=c&&(G(this,a),ie(this,c,i))},s)),s.j=e}(s.h,s.g)):(i||(e=Zi(e,Ms)),s.h=new as(e,s.g))}function wn(s,e,i){s.h.set(e,i)}function _r(s){return wn(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function Zr(s,e){return s?e?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Zi(s,e,i){return"string"==typeof s?(s=encodeURI(s).replace(e,ts),i&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function ts(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}W.prototype.toString=function(){var s=[],e=this.j;e&&s.push(Zi(e,Ir,!0),":");var i=this.i;return(i||"file"==e)&&(s.push("//"),(e=this.s)&&s.push(Zi(e,Ir,!0),"@"),s.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&s.push(":",String(i))),(i=this.l)&&(this.i&&"/"!=i.charAt(0)&&s.push("/"),s.push(Zi(i,"/"==i.charAt(0)?no:vi,!0))),(i=this.h.toString())&&s.push("?",i),(i=this.o)&&s.push("#",Zi(i,la)),s.join("")};var Ir=/[#\/\?@]/g,vi=/[#\?:]/g,no=/[#\?]/g,Ms=/[#\?@]/g,la=/#/g;function as(s,e){this.h=this.g=null,this.i=s||null,this.j=!!e}function qs(s){s.g||(s.g=new J,s.h=0,s.i&&function(s,e){if(s){s=s.split("&");for(var i=0;i<s.length;i++){var a=s[i].indexOf("="),c=null;if(0<=a){var m=s[i].substring(0,a);c=s[i].substring(a+1)}else m=s[i];e(m,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(s.i,function(e,i){s.add(decodeURIComponent(e.replace(/\+/g," ")),i)}))}function G(s,e){qs(s),e=Ie(s,e),I(s.g.h,e)&&(s.i=null,s.h-=s.g.get(e).length,I((s=s.g).h,e)&&(delete s.h[e],s.i--,s.g.length>2*s.i&&U(s)))}function L(s,e){return qs(s),e=Ie(s,e),I(s.g.h,e)}function ie(s,e,i){G(s,e),0<i.length&&(s.i=null,s.g.set(Ie(s,e),or(i)),s.h+=i.length)}function Ie(s,e){return e=String(e),s.j&&(e=e.toLowerCase()),e}function kt(s){this.l=s||gn,s=Bt.PerformanceNavigationTiming?0<(s=Bt.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(Bt.g&&Bt.g.Ea&&Bt.g.Ea()&&Bt.g.Ea().Zb),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(at=as.prototype).add=function(s,e){qs(this),this.i=null,s=Ie(this,s);var i=this.g.get(s);return i||this.g.set(s,i=[]),i.push(e),this.h+=1,this},at.forEach=function(s,e){qs(this),this.g.forEach(function(i,a){oi(i,function(c){s.call(e,c,a,this)},this)},this)},at.T=function(){qs(this);for(var s=this.g.R(),e=this.g.T(),i=[],a=0;a<e.length;a++)for(var c=s[a],m=0;m<c.length;m++)i.push(e[a]);return i},at.R=function(s){qs(this);var e=[];if("string"==typeof s)L(this,s)&&(e=Rr(e,this.g.get(Ie(this,s))));else{s=this.g.R();for(var i=0;i<s.length;i++)e=Rr(e,s[i])}return e},at.set=function(s,e){return qs(this),this.i=null,L(this,s=Ie(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[e]),this.h+=1,this},at.get=function(s,e){return s&&0<(s=this.R(s)).length?String(s[0]):e},at.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var s=[],e=this.g.T(),i=0;i<e.length;i++){var a=e[i],c=encodeURIComponent(String(a));a=this.R(a);for(var m=0;m<a.length;m++){var D=c;""!==a[m]&&(D+="="+encodeURIComponent(String(a[m]))),s.push(D)}}return this.i=s.join("&")};var gn=10;function dn(s){return!!s.h||!!s.g&&s.g.size>=s.j}function ut(s){return s.h?1:s.g?s.g.size:0}function sn(s,e){return s.h?s.h==e:!!s.g&&s.g.has(e)}function ii(s,e){s.g?s.g.add(e):s.h=e}function Xn(s,e){s.h&&s.h==e?s.h=null:s.g&&s.g.has(e)&&s.g.delete(e)}function di(s){if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){let e=s.i;for(const i of s.g.values())e=e.concat(i.D);return e}return or(s.i)}function Hr(){}function Ei(){this.g=new Hr}function Vr(s,e,i){const a=i||"";try{V(s,function(c,m){let D=c;Fn(c)&&(D=ue(c)),e.push(a+m+"="+encodeURIComponent(D))})}catch(c){throw e.push(a+"type="+encodeURIComponent("_badmap")),c}}function ps(s,e,i,a,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(a)}catch(m){}}function wi(s){this.l=s.$b||null,this.j=s.ib||!1}function Ur(s,e){Wt.call(this),this.D=s,this.u=e,this.m=void 0,this.readyState=Hs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kt.prototype.cancel=function(){if(this.i=di(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const s of this.g.values())s.cancel();this.g.clear()}},Hr.prototype.stringify=function(s){return Bt.JSON.stringify(s,void 0)},Hr.prototype.parse=function(s){return Bt.JSON.parse(s,void 0)},Jt(wi,Ai),wi.prototype.g=function(){return new Ur(this.l,this.j)},wi.prototype.i=function(s){return function(){return s}}({}),Jt(Ur,Wt);var Hs=0;function Br(s){s.j.read().then(s.Sa.bind(s)).catch(s.ha.bind(s))}function ns(s){s.readyState=4,s.l=null,s.j=null,s.A=null,Is(s)}function Is(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(at=Ur.prototype).open=function(s,e){if(this.readyState!=Hs)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=e,this.readyState=1,Is(this)},at.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(e.body=s),(this.D||Bt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},at.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ns(this)),this.readyState=Hs},at.Va=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,Is(this)),this.g&&(this.readyState=3,Is(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Bt.ReadableStream&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Br(this)}else s.text().then(this.Ua.bind(this),this.ha.bind(this))},at.Sa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var e=s.value?s.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!s.done}))&&(this.response=this.responseText+=e)}s.done?ns(this):Is(this),3==this.readyState&&Br(this)}},at.Ua=function(s){this.g&&(this.response=this.responseText=s,ns(this))},at.Ta=function(s){this.g&&(this.response=s,ns(this))},at.ha=function(){this.g&&ns(this)},at.setRequestHeader=function(s,e){this.v.append(s,e)},at.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},at.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],e=this.h.entries();for(var i=e.next();!i.done;)s.push((i=i.value)[0]+": "+i[1]),i=e.next();return s.join("\r\n")},Object.defineProperty(Ur.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var Gs=Bt.JSON.parse;function Yr(s){Wt.call(this),this.headers=new J,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ma,this.K=this.L=!1}Jt(Yr,Wt);var Ma="",xa=/^https?$/i,iu=["POST","PUT"];function Oa(s){return"content-type"==s.toLowerCase()}function ia(s,e){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=e,s.m=5,ca(s),Pa(s)}function ca(s){s.D||(s.D=!0,je(s,"complete"),je(s,"error"))}function da(s){if(s.h&&void 0!==xt&&(!s.C[1]||4!=ro(s)||2!=s.ba()))if(s.v&&4==ro(s))wr(s.Fa,0,s);else if(je(s,"readystatechange"),4==ro(s)){s.h=!1;try{const F=s.ba();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var i;if(!(i=e)){var a;if(a=0===F){var c=String(s.H).match(A)[1]||null;if(!c&&Bt.self&&Bt.self.location){var m=Bt.self.location.protocol;c=m.substr(0,m.length-1)}a=!xa.test(c?c.toLowerCase():"")}i=a}if(i)je(s,"complete"),je(s,"success");else{s.m=6;try{var D=2<ro(s)?s.g.statusText:""}catch(Z){D=""}s.j=D+" ["+s.ba()+"]",ca(s)}}finally{Pa(s)}}}function Pa(s,e){if(s.g){Na(s);const i=s.g,a=s.C[0]?Tt:null;s.g=null,s.C=null,e||je(s,"ready");try{i.onreadystatechange=a}catch(c){}}}function Na(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(Bt.clearTimeout(s.A),s.A=null)}function ro(s){return s.g?s.g.readyState:0}function Zu(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case Ma:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ha(s,e,i){e:{for(a in i){var a=!1;break e}a=!0}a||(i=function(s){let e="";return ze(s,function(i,a){e+=a,e+=":",e+=i,e+="\r\n"}),e}(i),"string"==typeof s?null!=i&&encodeURIComponent(String(i)):wn(s,e,i))}function fa(s,e,i){return i&&i.internalChannelParams&&i.internalChannelParams[s]||e}function Pu(s){this.za=0,this.l=[],this.h=new Vi,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=fa("failFast",!1,s),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=fa("baseRetryDelayMs",5e3,s),this.$a=fa("retryDelaySeedMs",1e4,s),this.Ya=fa("forwardChannelMaxRetries",2,s),this.ra=fa("forwardChannelRequestTimeoutMs",2e4,s),this.qa=s&&s.xmlHttpFactory||void 0,this.Ba=s&&s.Yb||!1,this.K=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.J="",this.i=new kt(s&&s.concurrentRequestLimit),this.Ca=new Ei,this.ja=s&&s.fastHandshake||!1,this.Ra=s&&s.Wb||!1,s&&s.Aa&&this.h.Aa(),s&&s.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&s&&s.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!s||!1!==s.Xb}function pa(s){if(Ci(s),3==s.G){var e=s.V++,i=Ze(s.F);wn(i,"SID",s.J),wn(i,"RID",e),wn(i,"TYPE","terminate"),Ho(s,i),(e=new Vs(s,s.h,e,void 0)).K=2,e.v=_r(Ze(i)),i=!1,Bt.navigator&&Bt.navigator.sendBeacon&&(i=Bt.navigator.sendBeacon(e.v.toString(),"")),!i&&Bt.Image&&((new Image).src=e.v,i=!0),i||(e.g=ko(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Rs(e)}ao(s)}function sa(s){s.g&&(so(s),s.g.cancel(),s.g=null)}function Ci(s){sa(s),s.u&&(Bt.clearTimeout(s.u),s.u=null),oo(s),s.i.cancel(),s.m&&("number"==typeof s.m&&Bt.clearTimeout(s.m),s.m=null)}function io(s,e){s.l.push(new class{constructor(s,e){this.h=s,this.g=e}}(s.Za++,e)),3==s.G&&hi(s)}function hi(s){dn(s.i)||s.m||(s.m=!0,sr(s.Ha,s),s.C=0)}function us(s,e){var i;i=e?e.m:s.V++;const a=Ze(s.F);wn(a,"SID",s.J),wn(a,"RID",i),wn(a,"AID",s.U),Ho(s,a),s.o&&s.s&&ha(a,s.o,s.s),i=new Vs(s,s.h,i,s.C+1),null===s.o&&(i.H=s.s),e&&(s.l=e.D.concat(s.l)),e=Ha(s,i,1e3),i.setTimeout(Math.round(.5*s.ra)+Math.round(.5*s.ra*Math.random())),ii(s.i,i),Wi(i,a,e)}function Ho(s,e){s.j&&V({},function(i,a){wn(e,a,i)})}function Ha(s,e,i){i=Math.min(s.l.length,i);var a=s.j?cn(s.j.Oa,s.j,s):null;e:{var c=s.l;let m=-1;for(;;){const D=["count="+i];-1==m?0<i?(m=c[0].h,D.push("ofs="+m)):m=0:D.push("ofs="+m);let F=!0;for(let Z=0;Z<i;Z++){let ae=c[Z].h;const Ae=c[Z].g;if(ae-=m,0>ae)m=Math.max(0,c[Z].h-100),F=!1;else try{Vr(Ae,D,"req"+ae+"_")}catch(et){a&&a(Ae)}}if(F){a=D.join("&");break e}}}return s=s.l.splice(0,i),e.D=s,a}function ga(s){s.g||s.u||(s.Y=1,sr(s.Ga,s),s.A=0)}function ou(s){return!(s.g||s.u||3<=s.A||(s.Y++,s.u=zi(cn(s.Ga,s),Ga(s,s.A)),s.A++,0))}function so(s){null!=s.B&&(Bt.clearTimeout(s.B),s.B=null)}function No(s){s.g=new Vs(s,s.h,"rpc",s.Y),null===s.o&&(s.g.H=s.s),s.g.O=0;var e=Ze(s.oa);wn(e,"RID","rpc"),wn(e,"SID",s.J),wn(e,"CI",s.N?"0":"1"),wn(e,"AID",s.U),Ho(s,e),wn(e,"TYPE","xmlhttp"),s.o&&s.s&&ha(e,s.o,s.s),s.K&&s.g.setTimeout(s.K);var i=s.g;s=s.la,i.K=1,i.v=_r(Ze(e)),i.s=null,i.U=!0,bo(i,s)}function oo(s){null!=s.v&&(Bt.clearTimeout(s.v),s.v=null)}function ka(s,e){var i=null;if(s.g==e){oo(s),so(s),s.g=null;var a=2}else{if(!sn(s.i,e))return;i=e.D,Xn(s.i,e),a=1}if(s.I=e.N,0!=s.G)if(e.i)if(1==a){i=e.s?e.s.length:0,e=Date.now()-e.F;var c=s.C;je(a=St(),new Ui(a,i,e,c)),hi(s)}else ga(s);else if(3==(c=e.o)||0==c&&0<s.I||!(1==a&&function(s,e){return!(ut(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.l=e.D.concat(s.l),0):1==s.G||2==s.G||s.C>=(s.Xa?0:s.Ya)||(s.m=zi(cn(s.Ha,s,e),Ga(s,s.C)),s.C++,0)))}(s,e)||2==a&&ou(s)))switch(i&&0<i.length&&(e=s.i,e.i=e.i.concat(i)),c){case 1:wo(s,5);break;case 4:wo(s,10);break;case 3:wo(s,6);break;default:wo(s,2)}}function Ga(s,e){let i=s.Pa+Math.floor(Math.random()*s.$a);return s.j||(i*=2),i*e}function wo(s,e){if(s.h.info("Error code "+e),2==e){var i=null;s.j&&(i=null);var a=cn(s.jb,s);i||(i=new W("//www.google.com/images/cleardot.gif"),Bt.location&&"http"==Bt.location.protocol||It(i,"https"),_r(i)),function(s,e){const i=new Vi;if(Bt.Image){const a=new Image;a.onload=an(ps,i,a,"TestLoadImage: loaded",!0,e),a.onerror=an(ps,i,a,"TestLoadImage: error",!1,e),a.onabort=an(ps,i,a,"TestLoadImage: abort",!1,e),a.ontimeout=an(ps,i,a,"TestLoadImage: timeout",!1,e),Bt.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=s}else e(!1)}(i.toString(),a)}else $n(2);s.G=0,s.j&&s.j.va(e),ao(s),Ci(s)}function ao(s){s.G=0,s.I=-1,s.j&&((0!=di(s.i).length||0!=s.l.length)&&(s.i.i.length=0,or(s.l),s.l.length=0),s.j.ua())}function gs(s,e,i){let a=function(s){return s instanceof W?Ze(s):new W(s,void 0)}(i);if(""!=a.i)e&&In(a,e+"."+a.i),mr(a,a.m);else{const c=Bt.location;a=function(s,e,i,a){var c=new W(null,void 0);return s&&It(c,s),e&&In(c,e),i&&mr(c,i),a&&(c.l=a),c}(c.protocol,e?e+"."+c.hostname:c.hostname,+c.port,i)}return s.aa&&ze(s.aa,function(c,m){wn(a,m,c)}),i=s.sa,(e=s.D)&&i&&wn(a,e,i),wn(a,"VER",s.ma),Ho(s,a),a}function ko(s,e,i){if(e&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Yr(i&&s.Ba&&!s.qa?new wi({ib:!0}):s.qa)).L=s.H,e}function Nu(){}function Fo(){if(Hn&&!(10<=Number(Qn)))throw Error("Environmental error: no available transport.")}function Yi(s,e){Wt.call(this),this.g=new Pu(e),this.l=s,this.h=e&&e.messageUrlParams||null,s=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(s?s["X-WebChannel-Content-Type"]=e.messageContentType:s={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(s?s["X-WebChannel-Client-Profile"]=e.ya:s={"X-WebChannel-Client-Profile":e.ya}),this.g.P=s,(s=e&&e.httpHeadersOverwriteParam)&&!fr(s)&&(this.g.o=s),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!fr(e)&&(this.g.D=e,null!==(s=this.h)&&e in s&&e in(s=this.h)&&delete s[e]),this.j=new Go(this)}function au(s){bs.call(this);var e=s.__sm__;if(e){e:{for(const i in e){s=i;break e}s=void 0}(this.i=s)&&(s=this.i,e=null!==e&&s in e?e[s]:void 0),this.data=e}else this.data=s}function Mr(){os.call(this),this.status=1}function Go(s){this.g=s}(at=Yr.prototype).ea=function(s,e,i,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);e=e?e.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ls.g(),this.C=function(s){return s.h||(s.h=s.i())}(this.u?this.u:Ls),this.g.onreadystatechange=cn(this.Fa,this);try{this.F=!0,this.g.open(e,String(s),!0),this.F=!1}catch(m){return void ia(this,m)}s=i||"";const c=new J(this.headers);a&&V(a,function(m,D){c.set(D,m)}),a=function(s){e:{var e=Oa;const i=s.length,a="string"==typeof s?s.split(""):s;for(let c=0;c<i;c++)if(c in a&&e.call(void 0,a[c],c,s)){e=c;break e}e=-1}return 0>e?null:"string"==typeof s?s.charAt(e):s[e]}(c.T()),i=Bt.FormData&&s instanceof Bt.FormData,!(0<=Un(iu,e))||a||i||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),c.forEach(function(m,D){this.g.setRequestHeader(D,m)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Na(this),0<this.B&&((this.K=function(s){return Hn&&dr()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cn(this.pa,this)):this.A=wr(this.pa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(m){ia(this,m)}},at.pa=function(){void 0!==xt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,je(this,"timeout"),this.abort(8))},at.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,je(this,"complete"),je(this,"abort"),Pa(this))},at.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pa(this,!0)),Yr.Z.M.call(this)},at.Fa=function(){this.s||(this.F||this.v||this.l?da(this):this.cb())},at.cb=function(){da(this)},at.ba=function(){try{return 2<ro(this)?this.g.status:-1}catch(s){return-1}},at.ga=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},at.Qa=function(s){if(this.g){var e=this.g.responseText;return s&&0==e.indexOf(s)&&(e=e.substring(s.length)),Gs(e)}},at.Da=function(){return this.m},at.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(at=Pu.prototype).ma=8,at.G=1,at.hb=function(s){try{this.h.info("Origin Trials invoked: "+s)}catch(e){}},at.Ha=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.V=Math.floor(1e5*Math.random()),s=this.V++;const c=new Vs(this,this.h,s,void 0);let m=this.s;if(this.P&&(m?(m=Ft(m),Pt(m,this.P)):m=this.P),null===this.o&&(c.H=m),this.ja)e:{for(var e=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(e+=a)){e=i;break e}if(4096===e||i===this.l.length-1){e=i+1;break e}}e=1e3}else e=1e3;e=Ha(this,c,e),wn(i=Ze(this.F),"RID",s),wn(i,"CVER",22),this.D&&wn(i,"X-HTTP-Session-Id",this.D),Ho(this,i),this.o&&m&&ha(i,this.o,m),ii(this.i,c),this.Ra&&wn(i,"TYPE","init"),this.ja?(wn(i,"$req",e),wn(i,"SID","null"),c.$=!0,Wi(c,i,null)):Wi(c,i,e),this.G=2}}else 3==this.G&&(s?us(this,s):0==this.l.length||dn(this.i)||us(this))},at.Ga=function(){if(this.u=null,No(this),this.$&&!(this.L||null==this.g||0>=this.O)){var s=2*this.O;this.h.info("BP detection timer enabled: "+s),this.B=zi(cn(this.bb,this),s)}},at.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,$n(10),sa(this),No(this))},at.ab=function(){null!=this.v&&(this.v=null,sa(this),ou(this),$n(19))},at.jb=function(s){s?(this.h.info("Successfully pinged google.com"),$n(2)):(this.h.info("Failed to ping google.com"),$n(1))},(at=Nu.prototype).xa=function(){},at.wa=function(){},at.va=function(){},at.ua=function(){},at.Oa=function(){},Fo.prototype.g=function(s,e){return new Yi(s,e)},Jt(Yi,Wt),Yi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var s=this.g,e=this.l,i=this.h||void 0;s.Wa&&(s.h.info("Origin Trials enabled."),sr(cn(s.hb,s,e))),$n(0),s.W=e,s.aa=i||{},s.N=s.X,s.F=gs(s,null,s.W),hi(s)},Yi.prototype.close=function(){pa(this.g)},Yi.prototype.u=function(s){if("string"==typeof s){var e={};e.__data__=s,io(this.g,e)}else this.v?((e={}).__data__=ue(s),io(this.g,e)):io(this.g,s)},Yi.prototype.M=function(){this.g.j=null,delete this.j,pa(this.g),delete this.g,Yi.Z.M.call(this)},Jt(au,bs),Jt(Mr,os),Jt(Go,Nu),Go.prototype.xa=function(){je(this.g,"a")},Go.prototype.wa=function(s){je(this.g,new au(s))},Go.prototype.va=function(s){je(this.g,new Mr(s))},Go.prototype.ua=function(){je(this.g,"b")},Fo.prototype.createWebChannel=Fo.prototype.g,Yi.prototype.send=Yi.prototype.u,Yi.prototype.open=Yi.prototype.m,Yi.prototype.close=Yi.prototype.close,ss.NO_ERROR=0,ss.TIMEOUT=8,ss.HTTP_ERROR=6,Oo.COMPLETE="complete",Fs.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",Wt.prototype.listen=Wt.prototype.N,Yr.prototype.listenOnce=Yr.prototype.O,Yr.prototype.getLastError=Yr.prototype.La,Yr.prototype.getLastErrorCode=Yr.prototype.Da,Yr.prototype.getStatus=Yr.prototype.ba,Yr.prototype.getResponseJson=Yr.prototype.Qa,Yr.prototype.getResponseText=Yr.prototype.ga,Yr.prototype.send=Yr.prototype.ea;var ma=De.createWebChannelTransport=function(){return new Fo},zo=De.getStatEventTarget=function(){return St()},Lo=De.ErrorCode=ss,To=De.EventType=Oo,ya=De.Event=it,uo=De.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},_a=De.FetchXmlHttpFactory=wi,ms=De.WebChannel=Fs,Fa=De.XhrIo=Yr;const lo="@firebase/firestore";class fi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fi.UNAUTHENTICATED=new fi(null),fi.GOOGLE_CREDENTIALS=new fi("google-credentials-uid"),fi.FIRST_PARTY=new fi("first-party-uid"),fi.MOCK_USER=new fi("mock-user");let Zs="9.5.0";const rs=new me.Yd("@firebase/firestore");function va(){return rs.logLevel}function Kt(s,...e){if(rs.logLevel<=me.in.DEBUG){const i=e.map(Ts);rs.debug(`Firestore (${Zs}): ${s}`,...i)}}function Ri(s,...e){if(rs.logLevel<=me.in.ERROR){const i=e.map(Ts);rs.error(`Firestore (${Zs}): ${s}`,...i)}}function co(s,...e){if(rs.logLevel<=me.in.WARN){const i=e.map(Ts);rs.warn(`Firestore (${Zs}): ${s}`,...i)}}function Ts(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(i){return s}}function Rn(s="Unexpected state"){const e=`FIRESTORE (${Zs}) INTERNAL ASSERTION FAILED: `+s;throw Ri(e),new Error(e)}function Zn(s,e){s||Rn()}function on(s,e){return s}const mt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Lt extends Error{constructor(e,i){super(i),this.code=e,this.message=i,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ji{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}class za{constructor(e,i){this.user=i,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class xs{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(fi.UNAUTHENTICATED))}shutdown(){}}class uu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Wa{constructor(e){this.t=e,this.currentUser=fi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){var a=this;let c=this.i;const m=ae=>this.i!==c?(c=this.i,i(ae)):Promise.resolve();let D=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),D.resolve(),D=new ji,e.enqueueRetryable(()=>m(this.currentUser))};const F=()=>{const ae=D;e.enqueueRetryable((0,ne.Z)(function*(){yield ae.promise,yield m(a.currentUser)}))},Z=ae=>{Kt("FirebaseCredentialsProvider","Auth detected"),this.auth=ae,this.auth.addAuthTokenListener(this.o),F()};this.t.onInit(ae=>Z(ae)),setTimeout(()=>{if(!this.auth){const ae=this.t.getImmediate({optional:!0});ae?Z(ae):(Kt("FirebaseCredentialsProvider","Auth not yet detected"),D.resolve(),D=new ji)}},0),F()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(Kt("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Zn("string"==typeof a.accessToken),new za(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Zn(null===e||"string"==typeof e),new fi(e)}}class Io{constructor(e,i,a){this.h=e,this.l=i,this.m=a,this.type="FirstParty",this.user=fi.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},i=this.h.auth.getAuthHeaderValueForFirstParty([]);return i&&(e.Authorization=i),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class Ka{constructor(e,i,a){this.h=e,this.l=i,this.m=a}getToken(){return Promise.resolve(new Io(this.h,this.l,this.m))}start(e,i){e.enqueueRetryable(()=>i(fi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Os{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.g(a),this.p=a=>i.writeSequenceNumber(a))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function x(s){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}Os.T=-1;class C{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const c=x(40);for(let m=0;m<c.length;++m)a.length<20&&c[m]<i&&(a+=e.charAt(c[m]%e.length))}return a}}function v(s,e){return s<e?-1:s>e?1:0}function N(s,e,i){return s.length===e.length&&s.every((a,c)=>i(a,e[c]))}function $(s){return s+"\0"}class X{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new Lt(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Lt(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new Lt(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Lt(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return X.fromMillis(Date.now())}static fromDate(e){return X.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*i));return new X(i,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?v(this.nanoseconds,e.nanoseconds):v(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class de{constructor(e){this.timestamp=e}static fromTimestamp(e){return new de(e)}static min(){return new de(new X(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function $e(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function yt(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function hn(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class er{constructor(e,i,a){void 0===i?i=0:i>e.length&&Rn(),void 0===a?a=e.length-i:a>e.length-i&&Rn(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return 0===er.comparator(this,e)}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof er?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let c=0;c<a;c++){const m=e.get(c),D=i.get(c);if(m<D)return-1;if(m>D)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class en extends er{construct(e,i,a){return new en(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new Lt(mt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(c=>c.length>0))}return new en(i)}static emptyPath(){return new en([])}}const ni=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends er{construct(e,i,a){return new Nn(e,i,a)}static isValidIdentifier(e){return ni.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Nn(["__name__"])}static fromServerFormat(e){const i=[];let a="",c=0;const m=()=>{if(0===a.length)throw new Lt(mt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let D=!1;for(;c<e.length;){const F=e[c];if("\\"===F){if(c+1===e.length)throw new Lt(mt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const Z=e[c+1];if("\\"!==Z&&"."!==Z&&"`"!==Z)throw new Lt(mt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=Z,c+=2}else"`"===F?(D=!D,c++):"."!==F||D?(a+=F,c++):(m(),c++)}if(m(),D)throw new Lt(mt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nn(i)}static emptyPath(){return new Nn([])}}class Ds{constructor(e){this.fields=e,e.sort(Nn.comparator)}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return N(this.fields,e.fields,(i,a)=>i.isEqual(a))}}class Vn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=atob(e);return new Vn(i)}static fromUint8Array(e){const i=function(a){let c="";for(let m=0;m<a.length;++m)c+=String.fromCharCode(a[m]);return c}(e);return new Vn(i)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return v(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vn.EMPTY_BYTE_STRING=new Vn("");const La=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $i(s){if(Zn(!!s),"string"==typeof s){let e=0;const i=La.exec(s);if(Zn(!!i),i[1]){let c=i[1];c=(c+"000000000").substr(0,9),e=Number(c)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Kr(s.seconds),nanos:Kr(s.nanos)}}function Kr(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function So(s){return"string"==typeof s?Vn.fromBase64String(s):Vn.fromUint8Array(s)}function ku(s){var e,i;return"server_timestamp"===(null===(i=((null===(e=null==s?void 0:s.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function lu(s){const e=s.mapValue.fields.__previous_value__;return ku(e)?lu(e):e}function Ko(s){const e=$i(s.mapValue.fields.__local_write_time__.timestampValue);return new X(e.seconds,e.nanos)}function Ys(s){return null==s}function qa(s){return 0===s&&1/s==-1/0}function vc(s){return"number"==typeof s&&Number.isInteger(s)&&!qa(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}class On{constructor(e){this.path=e}static fromPath(e){return new On(en.fromString(e))}static fromName(e){return new On(en.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===en.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,i){return en.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new On(new en(e.slice()))}}function ho(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ku(s)?4:10:Rn()}function Ao(s,e){const i=ho(s);if(i!==ho(e))return!1;switch(i){case 0:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Ko(s).isEqual(Ko(e));case 3:return function(a,c){if("string"==typeof a.timestampValue&&"string"==typeof c.timestampValue&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const m=$i(a.timestampValue),D=$i(c.timestampValue);return m.seconds===D.seconds&&m.nanos===D.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return c=e,So(s.bytesValue).isEqual(So(c.bytesValue));case 7:return s.referenceValue===e.referenceValue;case 8:return function(a,c){return Kr(a.geoPointValue.latitude)===Kr(c.geoPointValue.latitude)&&Kr(a.geoPointValue.longitude)===Kr(c.geoPointValue.longitude)}(s,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return Kr(a.integerValue)===Kr(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const m=Kr(a.doubleValue),D=Kr(c.doubleValue);return m===D?qa(m)===qa(D):isNaN(m)&&isNaN(D)}return!1}(s,e);case 9:return N(s.arrayValue.values||[],e.arrayValue.values||[],Ao);case 10:return function(a,c){const m=a.mapValue.fields||{},D=c.mapValue.fields||{};if($e(m)!==$e(D))return!1;for(const F in m)if(m.hasOwnProperty(F)&&(void 0===D[F]||!Ao(m[F],D[F])))return!1;return!0}(s,e);default:return Rn()}var c}function Ii(s,e){return void 0!==(s.values||[]).find(i=>Ao(i,e))}function qo(s,e){const i=ho(s),a=ho(e);if(i!==a)return v(i,a);switch(i){case 0:return 0;case 1:return v(s.booleanValue,e.booleanValue);case 2:return function(c,m){const D=Kr(c.integerValue||c.doubleValue),F=Kr(m.integerValue||m.doubleValue);return D<F?-1:D>F?1:D===F?0:isNaN(D)?isNaN(F)?0:-1:1}(s,e);case 3:return M(s.timestampValue,e.timestampValue);case 4:return M(Ko(s),Ko(e));case 5:return v(s.stringValue,e.stringValue);case 6:return function(c,m){const D=So(c),F=So(m);return D.compareTo(F)}(s.bytesValue,e.bytesValue);case 7:return function(c,m){const D=c.split("/"),F=m.split("/");for(let Z=0;Z<D.length&&Z<F.length;Z++){const ae=v(D[Z],F[Z]);if(0!==ae)return ae}return v(D.length,F.length)}(s.referenceValue,e.referenceValue);case 8:return function(c,m){const D=v(Kr(c.latitude),Kr(m.latitude));return 0!==D?D:v(Kr(c.longitude),Kr(m.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return function(c,m){const D=c.values||[],F=m.values||[];for(let Z=0;Z<D.length&&Z<F.length;++Z){const ae=qo(D[Z],F[Z]);if(ae)return ae}return v(D.length,F.length)}(s.arrayValue,e.arrayValue);case 10:return function(c,m){const D=c.fields||{},F=Object.keys(D),Z=m.fields||{},ae=Object.keys(Z);F.sort(),ae.sort();for(let Ae=0;Ae<F.length&&Ae<ae.length;++Ae){const et=v(F[Ae],ae[Ae]);if(0!==et)return et;const bt=qo(D[F[Ae]],Z[ae[Ae]]);if(0!==bt)return bt}return v(F.length,ae.length)}(s.mapValue,e.mapValue);default:throw Rn()}}function M(s,e){if("string"==typeof s&&"string"==typeof e&&s.length===e.length)return v(s,e);const i=$i(s),a=$i(e),c=v(i.seconds,a.seconds);return 0!==c?c:v(i.nanos,a.nanos)}function f(s){return h(s)}function h(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(a){const c=$i(a);return`time(${c.seconds},${c.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?So(s.bytesValue).toBase64():"referenceValue"in s?On.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(e=s.geoPointValue).latitude},${e.longitude})`:"arrayValue"in s?function(a){let c="[",m=!0;for(const D of a.values||[])m?m=!1:c+=",",c+=h(D);return c+"]"}(s.arrayValue):"mapValue"in s?function(a){const c=Object.keys(a.fields||{}).sort();let m="{",D=!0;for(const F of c)D?D=!1:m+=",",m+=`${F}:${h(a.fields[F])}`;return m+"}"}(s.mapValue):Rn();var e}function b(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function B(s){return!!s&&"integerValue"in s}function q(s){return!!s&&"arrayValue"in s}function ce(s){return!!s&&"nullValue"in s}function Se(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function nt(s){return!!s&&"mapValue"in s}function Et(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return yt(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Et(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Et(s.arrayValue.values[i]);return e}return Object.assign({},s)}class Vt{constructor(e){this.value=e}static empty(){return new Vt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!nt(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Et(i)}setAll(e){let i=Nn.emptyPath(),a={},c=[];e.forEach((D,F)=>{if(!i.isImmediateParentOf(F)){const Z=this.getFieldsMap(i);this.applyChanges(Z,a,c),a={},c=[],i=F.popLast()}D?a[F.lastSegment()]=Et(D):c.push(F.lastSegment())});const m=this.getFieldsMap(i);this.applyChanges(m,a,c)}delete(e){const i=this.field(e.popLast());nt(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ao(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let c=i.mapValue.fields[e.get(a)];nt(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=c),i=c}return i.mapValue.fields}applyChanges(e,i,a){yt(i,(c,m)=>e[c]=m);for(const c of a)delete e[c]}clone(){return new Vt(Et(this.value))}}function ln(s){const e=[];return yt(s.fields,(i,a)=>{const c=new Nn([i]);if(nt(a)){const m=ln(a.mapValue).fields;if(0===m.length)e.push(c);else for(const D of m)e.push(c.child(D))}else e.push(c)}),new Ds(e)}class fn{constructor(e,i,a,c,m){this.key=e,this.documentType=i,this.version=a,this.data=c,this.documentState=m}static newInvalidDocument(e){return new fn(e,0,de.min(),Vt.empty(),0)}static newFoundDocument(e,i,a){return new fn(e,1,i,a,0)}static newNoDocument(e,i){return new fn(e,2,i,Vt.empty(),0)}static newUnknownDocument(e,i){return new fn(e,3,i,Vt.empty(),2)}convertToFoundDocument(e,i){return this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new fn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ar{constructor(e,i=null,a=[],c=[],m=null,D=null,F=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=c,this.limit=m,this.startAt=D,this.endAt=F,this.A=null}}function An(s,e=null,i=[],a=[],c=null,m=null,D=null){return new ar(s,e,i,a,c,m,D)}function Yn(s){const e=on(s);if(null===e.A){let i=e.path.canonicalString();null!==e.collectionGroup&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>function(s){return s.field.canonicalString()+s.op.toString()+f(s.value)}(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>{return(c=a).field.canonicalString()+c.dir;var c}).join(","),Ys(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=Nr(e.startAt)),e.endAt&&(i+="|ub:",i+=Nr(e.endAt)),e.A=i}return e.A}function ki(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let c=0;c<s.orderBy.length;c++)if(!pn(s.orderBy[c],e.orderBy[c]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let c=0;c<s.filters.length;c++)if((i=s.filters[c]).op!==(a=e.filters[c]).op||!i.field.isEqual(a.field)||!Ao(i.value,a.value))return!1;var i,a;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!zn(s.startAt,e.startAt)&&zn(s.endAt,e.endAt)}function Mi(s){return On.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}class ri extends class{}{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?"in"===i||"not-in"===i?this.R(e,i,a):new j(e,i,a):"array-contains"===i?new gt(e,a):"in"===i?new At(e,a):"not-in"===i?new Cn(e,a):"array-contains-any"===i?new qt(e,a):new ri(e,i,a)}static R(e,i,a){return"in"===i?new ee(e,a):new ge(e,a)}matches(e){const i=e.data.field(this.field);return"!="===this.op?null!==i&&this.P(qo(i,this.value)):null!==i&&ho(this.value)===ho(i)&&this.P(qo(i,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Rn()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class j extends ri{constructor(e,i,a){super(e,i,a),this.key=On.fromName(a.referenceValue)}matches(e){const i=On.comparator(e.key,this.key);return this.P(i)}}class ee extends ri{constructor(e,i){super(e,"in",i),this.keys=tt(0,i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class ge extends ri{constructor(e,i){super(e,"not-in",i),this.keys=tt(0,i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function tt(s,e){var i;return((null===(i=e.arrayValue)||void 0===i?void 0:i.values)||[]).map(a=>On.fromName(a.referenceValue))}class gt extends ri{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return q(i)&&Ii(i.arrayValue,this.value)}}class At extends ri{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return null!==i&&Ii(this.value.arrayValue,i)}}class Cn extends ri{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ii(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return null!==i&&!Ii(this.value.arrayValue,i)}}class qt extends ri{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!q(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Ii(this.value.arrayValue,a))}}class kn{constructor(e,i){this.position=e,this.before=i}}function Nr(s){return`${s.before?"b":"a"}:${s.position.map(e=>f(e)).join(",")}`}class is{constructor(e,i="asc"){this.field=e,this.dir=i}}function pn(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}function En(s,e,i){let a=0;for(let c=0;c<s.position.length;c++){const m=e[c],D=s.position[c];if(a=m.field.isKeyField()?On.comparator(On.fromName(D.referenceValue),i.key):qo(D,i.data.field(m.field)),"desc"===m.dir&&(a*=-1),0!==a)break}return s.before?a<=0:a<0}function zn(s,e){if(null===s)return null===e;if(null===e||s.before!==e.before||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ao(s.position[i],e.position[i]))return!1;return!0}class hr{constructor(e,i=null,a=[],c=[],m=null,D="F",F=null,Z=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=c,this.limit=m,this.limitType=D,this.startAt=F,this.endAt=Z,this.V=null,this.S=null}}function xi(s,e,i,a,c,m,D,F){return new hr(s,e,i,a,c,m,D,F)}function Ti(s){return new hr(s)}function pi(s){return!Ys(s.limit)&&"F"===s.limitType}function Ro(s){return!Ys(s.limit)&&"L"===s.limitType}function vr(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function gl(s){for(const e of s.filters)if(e.v())return e.field;return null}function Vo(s){return null!==s.collectionGroup}function fo(s){const e=on(s);if(null===e.V){e.V=[];const i=gl(e),a=vr(e);if(null!==i&&null===a)i.isKeyField()||e.V.push(new is(i)),e.V.push(new is(Nn.keyField(),"asc"));else{let c=!1;for(const m of e.explicitOrderBy)e.V.push(m),m.field.isKeyField()&&(c=!0);if(!c){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new is(Nn.keyField(),m))}}}return e.V}function Ps(s){const e=on(s);if(!e.S)if("F"===e.limitType)e.S=An(e.path,e.collectionGroup,fo(e),e.filters,e.limit,e.startAt,e.endAt);else{const i=[];for(const m of fo(e))i.push(new is(m.field,"desc"===m.dir?"asc":"desc"));const a=e.endAt?new kn(e.endAt.position,!e.endAt.before):null,c=e.startAt?new kn(e.startAt.position,!e.startAt.before):null;e.S=An(e.path,e.collectionGroup,i,e.filters,e.limit,a,c)}return e.S}function Va(s,e,i){return new hr(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Za(s,e){return ki(Ps(s),Ps(e))&&s.limitType===e.limitType}function ml(s){return`${Yn(Ps(s))}|lt:${s.limitType}`}function nh(s){return`Query(target=${function(s){let e=s.path.canonicalString();return null!==s.collectionGroup&&(e+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(e+=`, filters: [${s.filters.map(i=>{return`${(a=i).field.canonicalString()} ${a.op} ${f(a.value)}`;var a}).join(", ")}]`),Ys(s.limit)||(e+=", limit: "+s.limit),s.orderBy.length>0&&(e+=`, orderBy: [${s.orderBy.map(i=>{return`${(a=i).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),s.startAt&&(e+=", startAt: "+Nr(s.startAt)),s.endAt&&(e+=", endAt: "+Nr(s.endAt)),`Target(${e})`}(Ps(s))}; limitType=${s.limitType})`}function Ya(s,e){return e.isFoundDocument()&&function(i,a){const c=a.key.path;return null!==i.collectionGroup?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):On.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(s,e)&&function(i,a){for(const c of i.explicitOrderBy)if(!c.field.isKeyField()&&null===a.data.field(c.field))return!1;return!0}(s,e)&&function(i,a){for(const c of i.filters)if(!c.matches(a))return!1;return!0}(s,e)&&(a=e,!((i=s).startAt&&!En(i.startAt,fo(i),a)||i.endAt&&En(i.endAt,fo(i),a)));var i,a}function Qa(s){return(e,i)=>{let a=!1;for(const c of fo(s)){const m=Ec(c,e,i);if(0!==m)return m;a=a||c.field.isKeyField()}return 0}}function Ec(s,e,i){const a=s.field.isKeyField()?On.comparator(e.key,i.key):function(c,m,D){const F=m.data.field(c),Z=D.data.field(c);return null!==F&&null!==Z?qo(F,Z):Rn()}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Rn()}}function cu(s,e){if(s.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qa(e)?"-0":e}}function rh(s){return{integerValue:""+s}}function rd(s,e){return vc(e)?rh(e):cu(s,e)}class yl{constructor(){this._=void 0}}function _l(s,e,i){return s instanceof vl?function(a,c){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&(m.fields.__previous_value__=c),{mapValue:m}}(i,e):s instanceof Ea?El(s,e):s instanceof Fu?Yf(s,e):function(a,c){const m=sh(a,c),D=oh(m)+oh(a.C);return B(m)&&B(a.C)?rh(D):cu(a.N,D)}(s,e)}function ih(s,e,i){return s instanceof Ea?El(s,e):s instanceof Fu?Yf(s,e):i}function sh(s,e){return s instanceof Yu?B(i=e)||(a=i)&&"doubleValue"in a?e:{integerValue:0}:null;var a,i}class vl extends yl{}class Ea extends yl{constructor(e){super(),this.elements=e}}function El(s,e){const i=Qf(e);for(const a of s.elements)i.some(c=>Ao(c,a))||i.push(a);return{arrayValue:{values:i}}}class Fu extends yl{constructor(e){super(),this.elements=e}}function Yf(s,e){let i=Qf(e);for(const a of s.elements)i=i.filter(c=>!Ao(c,a));return{arrayValue:{values:i}}}class Yu extends yl{constructor(e,i){super(),this.N=e,this.C=i}}function oh(s){return Kr(s.integerValue||s.doubleValue)}function Qf(s){return q(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Qu{constructor(e,i){this.field=e,this.transform=i}}class id{constructor(e,i){this.version=e,this.transformResults=i}}class ys{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ys}static exists(e){return new ys(void 0,e)}static updateTime(e){return new ys(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ju(s,e){return void 0!==s.updateTime?e.isFoundDocument()&&e.version.isEqual(s.updateTime):void 0===s.exists||s.exists===e.isFoundDocument()}class du{}function sd(s,e,i){s instanceof wl?function(a,c,m){const D=a.value.clone(),F=Zo(a.fieldTransforms,c,m.transformResults);D.setAll(F),c.convertToFoundDocument(m.version,D).setHasCommittedMutations()}(s,e,i):s instanceof hu?function(a,c,m){if(!Ju(a.precondition,c))return void c.convertToUnknownDocument(m.version);const D=Zo(a.fieldTransforms,c,m.transformResults),F=c.data;F.setAll(ah(a)),F.setAll(D),c.convertToFoundDocument(m.version,F).setHasCommittedMutations()}(s,e,i):e.convertToNoDocument(i.version).setHasCommittedMutations()}function od(s,e,i){var c;s instanceof wl?function(a,c,m){if(!Ju(a.precondition,c))return;const D=a.value.clone(),F=uh(a.fieldTransforms,m,c);D.setAll(F),c.convertToFoundDocument(bc(c),D).setHasLocalMutations()}(s,e,i):s instanceof hu?function(a,c,m){if(!Ju(a.precondition,c))return;const D=uh(a.fieldTransforms,m,c),F=c.data;F.setAll(ah(a)),F.setAll(D),c.convertToFoundDocument(bc(c),F).setHasLocalMutations()}(s,e,i):Ju(s.precondition,c=e)&&c.convertToNoDocument(de.min())}function Xf(s,e){let i=null;for(const a of s.fieldTransforms){const c=e.data.field(a.field),m=sh(a.transform,c||null);null!=m&&(null==i&&(i=Vt.empty()),i.set(a.field,m))}return i||null}function bl(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(i=s.fieldTransforms)&&void 0===a||i&&a&&N(i,a,(c,m)=>function(s,e){return s.field.isEqual(e.field)&&(a=e.transform,(i=s.transform)instanceof Ea&&a instanceof Ea||i instanceof Fu&&a instanceof Fu?N(i.elements,a.elements,Ao):i instanceof Yu&&a instanceof Yu?Ao(i.C,a.C):i instanceof vl&&a instanceof vl);var i,a}(c,m))))&&(0===s.type?s.value.isEqual(e.value):1!==s.type||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask));var i,a}function bc(s){return s.isFoundDocument()?s.version:de.min()}class wl extends du{constructor(e,i,a,c=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=c,this.type=0}}class hu extends du{constructor(e,i,a,c,m=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=c,this.fieldTransforms=m,this.type=1}}function ah(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function Zo(s,e,i){const a=new Map;Zn(s.length===i.length);for(let c=0;c<i.length;c++){const m=s[c],D=m.transform,F=e.data.field(m.field);a.set(m.field,ih(D,F,i[c]))}return a}function uh(s,e,i){const a=new Map;for(const c of s){const m=c.transform,D=i.data.field(c.field);a.set(c.field,_l(m,D,e))}return a}class zl extends du{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}}class Wl extends du{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}}class ep{constructor(e){this.count=e}}var Ss,Sr;function Xu(s){switch(s){default:return Rn();case mt.CANCELLED:case mt.UNKNOWN:case mt.DEADLINE_EXCEEDED:case mt.RESOURCE_EXHAUSTED:case mt.INTERNAL:case mt.UNAVAILABLE:case mt.UNAUTHENTICATED:return!1;case mt.INVALID_ARGUMENT:case mt.NOT_FOUND:case mt.ALREADY_EXISTS:case mt.PERMISSION_DENIED:case mt.FAILED_PRECONDITION:case mt.ABORTED:case mt.OUT_OF_RANGE:case mt.UNIMPLEMENTED:case mt.DATA_LOSS:return!0}}function Kl(s){if(void 0===s)return Ri("GRPC error has no .code"),mt.UNKNOWN;switch(s){case Ss.OK:return mt.OK;case Ss.CANCELLED:return mt.CANCELLED;case Ss.UNKNOWN:return mt.UNKNOWN;case Ss.DEADLINE_EXCEEDED:return mt.DEADLINE_EXCEEDED;case Ss.RESOURCE_EXHAUSTED:return mt.RESOURCE_EXHAUSTED;case Ss.INTERNAL:return mt.INTERNAL;case Ss.UNAVAILABLE:return mt.UNAVAILABLE;case Ss.UNAUTHENTICATED:return mt.UNAUTHENTICATED;case Ss.INVALID_ARGUMENT:return mt.INVALID_ARGUMENT;case Ss.NOT_FOUND:return mt.NOT_FOUND;case Ss.ALREADY_EXISTS:return mt.ALREADY_EXISTS;case Ss.PERMISSION_DENIED:return mt.PERMISSION_DENIED;case Ss.FAILED_PRECONDITION:return mt.FAILED_PRECONDITION;case Ss.ABORTED:return mt.ABORTED;case Ss.OUT_OF_RANGE:return mt.OUT_OF_RANGE;case Ss.UNIMPLEMENTED:return mt.UNIMPLEMENTED;case Ss.DATA_LOSS:return mt.DATA_LOSS;default:return Rn()}}(Sr=Ss||(Ss={}))[Sr.OK=0]="OK",Sr[Sr.CANCELLED=1]="CANCELLED",Sr[Sr.UNKNOWN=2]="UNKNOWN",Sr[Sr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sr[Sr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sr[Sr.NOT_FOUND=5]="NOT_FOUND",Sr[Sr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sr[Sr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sr[Sr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sr[Sr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sr[Sr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sr[Sr.ABORTED=10]="ABORTED",Sr[Sr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sr[Sr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sr[Sr.INTERNAL=13]="INTERNAL",Sr[Sr.UNAVAILABLE=14]="UNAVAILABLE",Sr[Sr.DATA_LOSS=15]="DATA_LOSS";class Qs{constructor(e,i){this.comparator=e,this.root=i||Js.EMPTY}insert(e,i){return new Qs(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Js.BLACK,null,null))}remove(e){return new Qs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Js.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(0===a)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const c=this.comparator(e,a.key);if(0===c)return i+a.left.size;c<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wc(this.root,e,this.comparator,!0)}}class wc{constructor(e,i,a,c){this.isReverse=c,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=i?a(e.key,i):1,c&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Js{constructor(e,i,a,c,m){this.key=e,this.value=i,this.color=null!=a?a:Js.RED,this.left=null!=c?c:Js.EMPTY,this.right=null!=m?m:Js.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,c,m){return new Js(null!=e?e:this.key,null!=i?i:this.value,null!=a?a:this.color,null!=c?c:this.left,null!=m?m:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let c=this;const m=a(e,c.key);return c=m<0?c.copy(null,null,null,c.left.insert(e,i,a),null):0===m?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(e,i,a)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Js.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,c=this;if(i(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,i),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===i(e,c.key)){if(c.right.isEmpty())return Js.EMPTY;a=c.right.min(),c=c.copy(a.key,a.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,i))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Js.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Js.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Rn();const e=this.left.check();if(e!==this.right.check())throw Rn();return e+(this.isRed()?0:1)}}Js.EMPTY=null,Js.RED=!0,Js.BLACK=!1,Js.EMPTY=new class{constructor(){this.size=0}get key(){throw Rn()}get value(){throw Rn()}get color(){throw Rn()}get left(){throw Rn()}get right(){throw Rn()}copy(s,e,i,a,c){return this}insert(s,e,i){return new Js(s,e)}remove(s,e){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class As{constructor(e){this.comparator=e,this.data=new Qs(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const c=a.getNext();if(this.comparator(c.key,e[1])>=0)return;i(c.key)}}forEachWhile(e,i){let a;for(a=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new lh(this.data.getIterator())}getIteratorFrom(e){return new lh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof As)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const c=i.getNext().key,m=a.getNext().key;if(0!==this.comparator(c,m))return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new As(this.comparator);return i.data=e,i}}class lh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const ch=new Qs(On.comparator);function ba(){return ch}const tp=new Qs(On.comparator);function Cc(){return tp}const ad=new Qs(On.comparator);function np(){return ad}const rp=new As(On.comparator);function Qr(...s){let e=rp;for(const i of s)e=e.add(i);return e}const Ic=new As(v);function oa(){return Ic}class fu{constructor(e,i,a,c,m){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=c,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,i){const a=new Map;return a.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,i)),new fu(de.min(),a,oa(),ba(),Qr())}}class pu{constructor(e,i,a,c,m){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=c,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,i){return new pu(Vn.EMPTY_BYTE_STRING,i,Qr(),Qr(),Qr())}}class ql{constructor(e,i,a,c){this.k=e,this.removedTargetIds=i,this.key=a,this.$=c}}class ud{constructor(e,i){this.targetId=e,this.O=i}}class ip{constructor(e,i,a=Vn.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=c}}class dh{constructor(){this.F=0,this.M=Dc(),this.L=Vn.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=Qr(),i=Qr(),a=Qr();return this.M.forEach((c,m)=>{switch(m){case 0:e=e.add(c);break;case 2:i=i.add(c);break;case 1:a=a.add(c);break;default:Rn()}}),new pu(this.L,this.B,e,i,a)}G(){this.U=!1,this.M=Dc()}H(e,i){this.U=!0,this.M=this.M.insert(e,i)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class hm{constructor(e){this.tt=e,this.et=new Map,this.nt=ba(),this.st=Tc(),this.it=new As(v)}rt(e){for(const i of e.k)e.$&&e.$.isFoundDocument()?this.ot(i,e.$):this.ct(i,e.key,e.$);for(const i of e.removedTargetIds)this.ct(i,e.key,e.$)}at(e){this.forEachTarget(e,i=>{const a=this.ut(i);switch(e.state){case 0:this.ht(i)&&a.j(e.resumeToken);break;case 1:a.X(),a.q||a.G(),a.j(e.resumeToken);break;case 2:a.X(),a.q||this.removeTarget(i);break;case 3:this.ht(i)&&(a.Z(),a.j(e.resumeToken));break;case 4:this.ht(i)&&(this.lt(i),a.j(e.resumeToken));break;default:Rn()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.et.forEach((a,c)=>{this.ht(c)&&i(c)})}ft(e){const i=e.targetId,a=e.O.count,c=this.dt(i);if(c){const m=c.target;if(Mi(m))if(0===a){const D=new On(m.path);this.ct(i,D,fn.newNoDocument(D,de.min()))}else Zn(1===a);else this.wt(i)!==a&&(this.lt(i),this.it=this.it.add(i))}}_t(e){const i=new Map;this.et.forEach((m,D)=>{const F=this.dt(D);if(F){if(m.current&&Mi(F.target)){const Z=new On(F.target.path);null!==this.nt.get(Z)||this.gt(D,Z)||this.ct(D,Z,fn.newNoDocument(Z,e))}m.K&&(i.set(D,m.W()),m.G())}});let a=Qr();this.st.forEach((m,D)=>{let F=!0;D.forEachWhile(Z=>{const ae=this.dt(Z);return!ae||2===ae.purpose||(F=!1,!1)}),F&&(a=a.add(m))});const c=new fu(e,i,this.it,this.nt,a);return this.nt=ba(),this.st=Tc(),this.it=new As(v),c}ot(e,i){if(!this.ht(e))return;const a=this.gt(e,i.key)?2:0;this.ut(e).H(i.key,a),this.nt=this.nt.insert(i.key,i),this.st=this.st.insert(i.key,this.yt(i.key).add(e))}ct(e,i,a){if(!this.ht(e))return;const c=this.ut(e);this.gt(e,i)?c.H(i,1):c.J(i),this.st=this.st.insert(i,this.yt(i).delete(e)),a&&(this.nt=this.nt.insert(i,a))}removeTarget(e){this.et.delete(e)}wt(e){const i=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let i=this.et.get(e);return i||(i=new dh,this.et.set(e,i)),i}yt(e){let i=this.st.get(e);return i||(i=new As(v),this.st=this.st.insert(e,i)),i}ht(e){const i=null!==this.dt(e);return i||Kt("WatchChangeAggregator","Detected inactive target",e),i}dt(e){const i=this.et.get(e);return i&&i.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new dh),this.tt.getRemoteKeysForTarget(e).forEach(i=>{this.ct(e,i,null)})}gt(e,i){return this.tt.getRemoteKeysForTarget(e).has(i)}}function Tc(){return new Qs(On.comparator)}function Dc(){return new Qs(On.comparator)}const ld={asc:"ASCENDING",desc:"DESCENDING"},cd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class fm{constructor(e,i){this.databaseId=e,this.D=i}}function el(s,e){return s.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hh(s,e){return s.D?e.toBase64():e.toUint8Array()}function sp(s,e){return el(s,e.toTimestamp())}function po(s){return Zn(!!s),de.fromTimestamp(function(e){const i=$i(e);return new X(i.seconds,i.nanos)}(s))}function dd(s,e){return(i=s,new en(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function Sc(s){const e=en.fromString(s);return Zn(pd(e)),e}function Ja(s,e){return dd(s.databaseId,e.path)}function aa(s,e){const i=Sc(e);if(i.get(1)!==s.databaseId.projectId)throw new Lt(mt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new Lt(mt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new On(Uo(i))}function Cl(s,e){return dd(s.databaseId,e)}function fh(s){const e=Sc(s);return 4===e.length?en.emptyPath():Uo(e)}function Fi(s){return new en(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Uo(s){return Zn(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function Il(s,e,i){return{name:Ja(s,e),fields:i.value.mapValue.fields}}function Zl(s,e,i){const a=aa(s,e.name),c=po(e.updateTime),m=new Vt({mapValue:{fields:e.fields}}),D=fn.newFoundDocument(a,c,m);return i&&D.setHasCommittedMutations(),i?D.setHasCommittedMutations():D}function Tl(s,e){let i;if(e instanceof wl)i={update:Il(s,e.key,e.value)};else if(e instanceof zl)i={delete:Ja(s,e.key)};else if(e instanceof hu)i={update:Il(s,e.key,e.data),updateMask:fd(e.fieldMask)};else{if(!(e instanceof Wl))return Rn();i={verify:Ja(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(c,m){const D=m.transform;if(D instanceof vl)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof Ea)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof Fu)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof Yu)return{fieldPath:m.field.canonicalString(),increment:D.C};throw Rn()}(0,a))),e.precondition.isNone||(i.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:sp(s,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Rn()),i;var c}function gh(s,e){const i=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?ys.updateTime(po(c.updateTime)):void 0!==c.exists?ys.exists(c.exists):ys.none():ys.none(),a=e.updateTransforms?e.updateTransforms.map(c=>function(m,D){let F=null;"setToServerValue"in D?(Zn("REQUEST_TIME"===D.setToServerValue),F=new vl):"appendMissingElements"in D?F=new Ea(D.appendMissingElements.values||[]):"removeAllFromArray"in D?F=new Fu(D.removeAllFromArray.values||[]):"increment"in D?F=new Yu(m,D.increment):Rn();const Z=Nn.fromServerFormat(D.fieldPath);return new Qu(Z,F)}(s,c)):[];var c;if(e.update){const c=aa(s,e.update.name),m=new Vt({mapValue:{fields:e.update.fields}});if(e.updateMask){const D=new Ds((e.updateMask.fieldPaths||[]).map(ae=>Nn.fromServerFormat(ae)));return new hu(c,m,D,i,a)}return new wl(c,m,i,a)}if(e.delete){const c=aa(s,e.delete);return new zl(c,i)}if(e.verify){const c=aa(s,e.verify);return new Wl(c,i)}return Rn()}function yh(s,e){return{documents:[Cl(s,e.path)]}}function Lu(s,e){const i={structuredQuery:{}},a=e.path;null!==e.collectionGroup?(i.parent=Cl(s,a),i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i.parent=Cl(s,a.popLast()),i.structuredQuery.from=[{collectionId:a.lastSegment()}]);const c=function(F){if(0===F.length)return;const Z=F.map(ae=>function(Ae){if("=="===Ae.op){if(Se(Ae.value))return{unaryFilter:{field:wa(Ae.field),op:"IS_NAN"}};if(ce(Ae.value))return{unaryFilter:{field:wa(Ae.field),op:"IS_NULL"}}}else if("!="===Ae.op){if(Se(Ae.value))return{unaryFilter:{field:wa(Ae.field),op:"IS_NOT_NAN"}};if(ce(Ae.value))return{unaryFilter:{field:wa(Ae.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wa(Ae.field),op:go(Ae.op),value:Ae.value}}}(ae));return 1===Z.length?Z[0]:{compositeFilter:{op:"AND",filters:Z}}}(e.filters);c&&(i.structuredQuery.where=c);const m=function(F){if(0!==F.length)return F.map(Z=>{return{field:wa((ae=Z).field),direction:Bo(ae.dir)};var ae})}(e.orderBy);m&&(i.structuredQuery.orderBy=m);const D=(Z=e.limit,s.D||Ys(Z)?Z:{value:Z});var Z;return null!==D&&(i.structuredQuery.limit=D),e.startAt&&(i.structuredQuery.startAt=Ac(e.startAt)),e.endAt&&(i.structuredQuery.endAt=Ac(e.endAt)),i}function _h(s){let e=fh(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let c=null;if(a>0){Zn(1===a);const Ae=i.from[0];Ae.allDescendants?c=Ae.collectionId:e=e.child(Ae.collectionId)}let m=[];i.where&&(m=Mo(i.where));let D=[];i.orderBy&&(D=i.orderBy.map(Ae=>{return new is(Vu((et=Ae).field),function(bt){switch(bt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(et.direction));var et}));let F=null;i.limit&&(F=function(Ae){let et;return et="object"==typeof Ae?Ae.value:Ae,Ys(et)?null:et}(i.limit));let Z=null;i.startAt&&(Z=Rc(i.startAt));let ae=null;return i.endAt&&(ae=Rc(i.endAt)),xi(e,c,D,m,F,"F",Z,ae)}function Mo(s){return s?void 0!==s.unaryFilter?[Ql(s)]:void 0!==s.fieldFilter?[gu(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(e=>Mo(e)).reduce((e,i)=>e.concat(i)):Rn():[]}function Ac(s){return{before:s.before,values:s.position}}function Rc(s){return new kn(s.values||[],!!s.before)}function Bo(s){return ld[s]}function go(s){return cd[s]}function wa(s){return{fieldPath:s.canonicalString()}}function Vu(s){return Nn.fromServerFormat(s.fieldPath)}function gu(s){return ri.create(Vu(s.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rn()}}(s.fieldFilter.op),s.fieldFilter.value)}function Ql(s){switch(s.unaryFilter.op){case"IS_NAN":const e=Vu(s.unaryFilter.field);return ri.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=Vu(s.unaryFilter.field);return ri.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Vu(s.unaryFilter.field);return ri.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Vu(s.unaryFilter.field);return ri.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Rn()}}function fd(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function pd(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function Yo(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=gd(e)),e=op(s.get(i),e);return gd(e)}function op(s,e){let i=e;const a=s.length;for(let c=0;c<a;c++){const m=s.charAt(c);switch(m){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=m}}return i}function gd(s){return s+"\x01\x01"}function mu(s){const e=s.length;if(Zn(e>=2),2===e)return Zn("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),en.emptyPath();const i=e-2,a=[];let c="";for(let m=0;m<e;){const D=s.indexOf("\x01",m);switch((D<0||D>i)&&Rn(),s.charAt(D+1)){case"\x01":const F=s.substring(m,D);let Z;0===c.length?Z=F:(c+=F,Z=c,c=""),a.push(Z);break;case"\x10":c+=s.substring(m,D),c+="\0";break;case"\x11":c+=s.substring(m,D+1);break;default:Rn()}m=D+2}return new en(a)}class ap{constructor(e,i){this.seconds=e,this.nanoseconds=i}}class E{constructor(e,i,a){this.ownerId=e,this.allowTabSynchronization=i,this.leaseTimestampMs=a}}E.store="owner",E.key="owner";class d{constructor(e,i,a){this.userId=e,this.lastAcknowledgedBatchId=i,this.lastStreamToken=a}}d.store="mutationQueues",d.keyPath="userId";class p{constructor(e,i,a,c,m){this.userId=e,this.batchId=i,this.localWriteTimeMs=a,this.baseMutations=c,this.mutations=m}}p.store="mutations",p.keyPath="batchId",p.userMutationsIndex="userMutationsIndex",p.userMutationsKeyPath=["userId","batchId"];class T{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,i){return[e,Yo(i)]}static key(e,i,a){return[e,Yo(i),a]}}T.store="documentMutations",T.PLACEHOLDER=new T;class z{constructor(e,i){this.path=e,this.readTime=i}}class se{constructor(e,i){this.path=e,this.version=i}}class Ke{constructor(e,i,a,c,m,D){this.unknownDocument=e,this.noDocument=i,this.document=a,this.hasCommittedMutations=c,this.readTime=m,this.parentPath=D}}Ke.store="remoteDocuments",Ke.readTimeIndex="readTimeIndex",Ke.readTimeIndexPath="readTime",Ke.collectionReadTimeIndex="collectionReadTimeIndex",Ke.collectionReadTimeIndexPath=["parentPath","readTime"];class _t{constructor(e){this.byteSize=e}}_t.store="remoteDocumentGlobal",_t.key="remoteDocumentGlobalKey";class Yt{constructor(e,i,a,c,m,D,F){this.targetId=e,this.canonicalId=i,this.readTime=a,this.resumeToken=c,this.lastListenSequenceNumber=m,this.lastLimboFreeSnapshotVersion=D,this.query=F}}Yt.store="targets",Yt.keyPath="targetId",Yt.queryTargetsIndexName="queryTargetsIndex",Yt.queryTargetsKeyPath=["canonicalId","targetId"];class mn{constructor(e,i,a){this.targetId=e,this.path=i,this.sequenceNumber=a}}mn.store="targetDocuments",mn.keyPath=["targetId","path"],mn.documentTargetsIndex="documentTargetsIndex",mn.documentTargetsKeyPath=["path","targetId"];class xn{constructor(e,i,a,c){this.highestTargetId=e,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=a,this.targetCount=c}}xn.key="targetGlobalKey",xn.store="targetGlobal";class Ln{constructor(e,i){this.collectionId=e,this.parent=i}}Ln.store="collectionParents",Ln.keyPath=["collectionId","parent"];class Hi{constructor(e,i,a,c){this.clientId=e,this.updateTimeMs=i,this.networkEnabled=a,this.inForeground=c}}Hi.store="clientMetadata",Hi.keyPath="clientId";class xo{constructor(e,i,a){this.bundleId=e,this.createTime=i,this.version=a}}xo.store="bundles",xo.keyPath="bundleId";class yu{constructor(e,i,a){this.name=e,this.readTime=i,this.bundledQuery=a}}yu.store="namedQueries",yu.keyPath="name";const vh=[d.store,p.store,T.store,Ke.store,Yt.store,E.store,xn.store,mn.store,Hi.store,_t.store,Ln.store,xo.store,yu.store],tl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ut{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Rn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Ut((a,c)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(a,c)},this.catchCallback=m=>{this.wrapFailure(i,m).next(a,c)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Ut?i:Ut.resolve(i)}catch(i){return Ut.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Ut.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Ut.reject(i)}static resolve(e){return new Ut((i,a)=>{i(e)})}static reject(e){return new Ut((i,a)=>{a(e)})}static waitFor(e){return new Ut((i,a)=>{let c=0,m=0,D=!1;e.forEach(F=>{++c,F.next(()=>{++m,D&&m===c&&i()},Z=>a(Z))}),D=!0,m===c&&i()})}static or(e){let i=Ut.resolve(!1);for(const a of e)i=i.next(c=>c?Ut.resolve(c):a());return i}static forEach(e,i){const a=[];return e.forEach((c,m)=>{a.push(i.call(this,c,m))}),this.waitFor(a)}}class Dl{constructor(e,i){this.action=e,this.transaction=i,this.aborted=!1,this.Et=new ji,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{i.error?this.Et.reject(new Sl(e,i.error)):this.Et.resolve()},this.transaction.onerror=a=>{const c=Al(a.target.error);this.Et.reject(new Sl(e,c))}}static open(e,i,a,c){try{return new Dl(i,e.transaction(c,a))}catch(m){throw new Sl(i,m)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(Kt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const i=this.transaction.objectStore(e);return new up(i)}}class Ca{constructor(e,i,a){this.name=e,this.version=i,this.At=a,12.2===Ca.Rt((0,_e.z$)())&&Ri("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Kt("SimpleDb","Removing database:",e),vu(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,_e.hl)())return!1;if(Ca.Pt())return!0;const e=(0,_e.z$)(),i=Ca.Rt(e),a=0<i&&i<10,c=Ca.vt(e),m=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||m)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,i){return e.store(i)}static Rt(e){const i=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static vt(e){const i=e.match(/Android ([\d.]+)/i),a=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(a)}Dt(e){var i=this;return(0,ne.Z)(function*(){return i.db||(Kt("SimpleDb","Opening database:",i.name),i.db=yield new Promise((a,c)=>{const m=indexedDB.open(i.name,i.version);m.onsuccess=D=>{a(D.target.result)},m.onblocked=()=>{c(new Sl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=D=>{const F=D.target.error;c("VersionError"===F.name?new Lt(mt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===F.name?new Lt(mt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+F):new Sl(e,F))},m.onupgradeneeded=D=>{Kt("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',D.oldVersion),i.At.Ct(D.target.result,m.transaction,D.oldVersion,i.version).next(()=>{Kt("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.Nt&&(i.db.onversionchange=a=>i.Nt(a)),i.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=i=>e(i))}runTransaction(e,i,a,c){var m=this;return(0,ne.Z)(function*(){const D="readonly"===i;let F=0;for(;;){++F;try{m.db=yield m.Dt(e);const Z=Dl.open(m.db,e,D?"readonly":"readwrite",a),ae=c(Z).catch(Ae=>(Z.abort(Ae),Ut.reject(Ae))).toPromise();return ae.catch(()=>{}),yield Z.It,ae}catch(Z){const ae="FirebaseError"!==Z.name&&F<3;if(Kt("SimpleDb","Transaction failed with error:",Z.message,"Retrying:",ae),m.close(),!ae)return Promise.reject(Z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class md{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return vu(this.kt.delete())}}class Sl extends Lt{constructor(e,i){super(mt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function _u(s){return"IndexedDbTransactionError"===s.name}class up{constructor(e){this.store=e}put(e,i){let a;return void 0!==i?(Kt("SimpleDb","PUT",this.store.name,e,i),a=this.store.put(i,e)):(Kt("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),vu(a)}add(e){return Kt("SimpleDb","ADD",this.store.name,e,e),vu(this.store.add(e))}get(e){return vu(this.store.get(e)).next(i=>(void 0===i&&(i=null),Kt("SimpleDb","GET",this.store.name,e,i),i))}delete(e){return Kt("SimpleDb","DELETE",this.store.name,e),vu(this.store.delete(e))}count(){return Kt("SimpleDb","COUNT",this.store.name),vu(this.store.count())}Lt(e,i){const a=this.cursor(this.options(e,i)),c=[];return this.Bt(a,(m,D)=>{c.push(D)}).next(()=>c)}Ut(e,i){Kt("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,i);a.qt=!1;const c=this.cursor(a);return this.Bt(c,(m,D,F)=>F.delete())}Kt(e,i){let a;i?a=e:(a={},i=e);const c=this.cursor(a);return this.Bt(c,i)}jt(e){const i=this.cursor({});return new Ut((a,c)=>{i.onerror=m=>{const D=Al(m.target.error);c(D)},i.onsuccess=m=>{const D=m.target.result;D?e(D.primaryKey,D.value).next(F=>{F?D.continue():a()}):a()}})}Bt(e,i){const a=[];return new Ut((c,m)=>{e.onerror=D=>{m(D.target.error)},e.onsuccess=D=>{const F=D.target.result;if(!F)return void c();const Z=new md(F),ae=i(F.primaryKey,F.value,Z);if(ae instanceof Ut){const Ae=ae.catch(et=>(Z.done(),Ut.reject(et)));a.push(Ae)}Z.isDone?c():null===Z.Ft?F.continue():F.continue(Z.Ft)}}).next(()=>Ut.waitFor(a))}options(e,i){let a;return void 0!==e&&("string"==typeof e?a=e:i=e),{index:a,range:i}}cursor(e){let i="next";if(e.reverse&&(i="prev"),e.index){const a=this.store.index(e.index);return e.qt?a.openKeyCursor(e.range,i):a.openCursor(e.range,i)}return this.store.openCursor(e.range,i)}}function vu(s){return new Ut((e,i)=>{s.onsuccess=a=>{e(a.target.result)},s.onerror=a=>{const c=Al(a.target.error);i(c)}})}let Eh=!1;function Al(s){const e=Ca.Rt((0,_e.z$)());if(e>=12.2&&e<13){const i="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(i)>=0){const a=new Lt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Eh||(Eh=!0,setTimeout(()=>{throw a},0)),a}}return s}class Eu extends Qo{constructor(e,i){super(),this.Qt=e,this.currentSequenceNumber=i}}function Ua(s,e){const i=on(s);return Ca.St(i.Qt,e)}class pm{constructor(e,i,a,c){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=c}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let c=0;c<this.mutations.length;c++){const m=this.mutations[c];m.key.isEqual(e.key)&&sd(m,e,a[c])}}applyToLocalView(e){for(const i of this.baseMutations)i.key.isEqual(e.key)&&od(i,e,this.localWriteTime);for(const i of this.mutations)i.key.isEqual(e.key)&&od(i,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(i=>{const a=e.get(i.key),c=a;this.applyToLocalView(c),a.isValidDocument()||c.convertToNoDocument(de.min())})}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Qr())}isEqual(e){return this.batchId===e.batchId&&N(this.mutations,e.mutations,(i,a)=>bl(i,a))&&N(this.baseMutations,e.baseMutations,(i,a)=>bl(i,a))}}class bh{constructor(e,i,a,c){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=c}static from(e,i,a){Zn(e.mutations.length===a.length);let c=np();const m=e.mutations;for(let D=0;D<m.length;D++)c=c.insert(m[D].key,a[D].version);return new bh(e,i,a,c)}}class Jl{constructor(e,i,a,c,m=de.min(),D=de.min(),F=Vn.EMPTY_BYTE_STRING){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=c,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=D,this.resumeToken=F}withSequenceNumber(e){return new Jl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,i){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class bu{constructor(e){this.Wt=e}}function yd(s,e){if(e.document)return Zl(s.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const i=On.fromSegments(e.noDocument.path),a=Xl(e.noDocument.readTime),c=fn.newNoDocument(i,a);return e.hasCommittedMutations?c.setHasCommittedMutations():c}if(e.unknownDocument){const i=On.fromSegments(e.unknownDocument.path),a=Xl(e.unknownDocument.version);return fn.newUnknownDocument(i,a)}return Rn()}function wh(s,e,i){const a=lp(i),c=e.key.path.popLast().toArray();if(e.isFoundDocument()){const m={name:Ja(F=s.Wt,(Z=e).key),fields:Z.data.value.mapValue.fields,updateTime:el(F,Z.version.toTimestamp())};return new Ke(null,null,m,e.hasCommittedMutations,a,c)}var F,Z;if(e.isNoDocument()){const m=e.key.path.toArray(),D=Uu(e.version),F=e.hasCommittedMutations;return new Ke(null,new z(m,D),null,F,a,c)}if(e.isUnknownDocument()){const m=e.key.path.toArray(),D=Uu(e.version);return new Ke(new se(m,D),null,null,!0,a,c)}return Rn()}function lp(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function cp(s){const e=new X(s[0],s[1]);return de.fromTimestamp(e)}function Uu(s){const e=s.toTimestamp();return new ap(e.seconds,e.nanoseconds)}function Xl(s){const e=new X(s.seconds,s.nanoseconds);return de.fromTimestamp(e)}function ec(s,e){const i=(e.baseMutations||[]).map(m=>gh(s.Wt,m));for(let m=0;m<e.mutations.length-1;++m){const D=e.mutations[m];m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(D.updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m)}const a=e.mutations.map(m=>gh(s.Wt,m)),c=X.fromMillis(e.localWriteTimeMs);return new pm(e.batchId,c,i,a)}function tc(s){const e=Xl(s.readTime),i=void 0!==s.lastLimboFreeSnapshotVersion?Xl(s.lastLimboFreeSnapshotVersion):de.min();let a;var c;return void 0!==s.query.documents?(Zn(1===(c=s.query).documents.length),a=Ps(Ti(fh(c.documents[0])))):a=Ps(_h(s.query)),new Jl(a,s.targetId,0,s.lastListenSequenceNumber,e,i,Vn.fromBase64String(s.resumeToken))}function Ch(s,e){const i=Uu(e.snapshotVersion),a=Uu(e.lastLimboFreeSnapshotVersion);let c;c=Mi(e.target)?yh(s.Wt,e.target):Lu(s.Wt,e.target);const m=e.resumeToken.toBase64();return new Yt(e.targetId,Yn(e.target),i,m,e.sequenceNumber,a,c)}function Ih(s){const e=_h({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?Va(e,e.limit,"L"):e}class xE{getBundleMetadata(e,i){return nc(e).get(i).next(a=>{if(a)return{id:(c=a).bundleId,createTime:Xl(c.createTime),version:c.version};var c})}saveBundleMetadata(e,i){return nc(e).put({bundleId:(a=i).id,createTime:Uu(po(a.createTime)),version:a.version});var a}getNamedQuery(e,i){return Th(e).get(i).next(a=>{if(a)return{name:(c=a).name,query:Ih(c.bundledQuery),readTime:Xl(c.readTime)};var c})}saveNamedQuery(e,i){return Th(e).put({name:(a=i).name,readTime:Uu(po(a.readTime)),bundledQuery:a.bundledQuery});var a}}function nc(s){return Ua(s,xo.store)}function Th(s){return Ua(s,yu.store)}class gm{constructor(){this.Gt=new dp}addToCollectionParentIndex(e,i){return this.Gt.add(i),Ut.resolve()}getCollectionParents(e,i){return Ut.resolve(this.Gt.getEntries(i))}}class dp{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),c=this.index[i]||new As(en.comparator),m=!c.has(a);return this.index[i]=c.add(a),m}has(e){const i=e.lastSegment(),a=e.popLast(),c=this.index[i];return c&&c.has(a)}getEntries(e){return(this.index[e]||new As(en.comparator)).toArray()}}class hp{constructor(){this.zt=new dp}addToCollectionParentIndex(e,i){if(!this.zt.has(i)){const a=i.lastSegment(),c=i.popLast();e.addOnCommittedListener(()=>{this.zt.add(i)});const m={collectionId:a,parent:Yo(c)};return mm(e).put(m)}return Ut.resolve()}getCollectionParents(e,i){const a=[],c=IDBKeyRange.bound([i,""],[$(i),""],!1,!0);return mm(e).Lt(c).next(m=>{for(const D of m){if(D.collectionId!==i)break;a.push(mu(D.parent))}return a})}}function mm(s){return Ua(s,Ln.store)}const ym={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ia{constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new Ia(e,Ia.DEFAULT_COLLECTION_PERCENTILE,Ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function _m(s,e,i){const a=s.store(p.store),c=s.store(T.store),m=[],D=IDBKeyRange.only(i.batchId);let F=0;const Z=a.Kt({range:D},(Ae,et,bt)=>(F++,bt.delete()));m.push(Z.next(()=>{Zn(1===F)}));const ae=[];for(const Ae of i.mutations){const et=T.key(e,Ae.key.path,i.batchId);m.push(c.delete(et)),ae.push(Ae.key)}return Ut.waitFor(m).next(()=>ae)}function Dh(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw Rn();e=s.noDocument}return JSON.stringify(e).length}Ia.DEFAULT_COLLECTION_PERCENTILE=10,Ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ia.DEFAULT=new Ia(41943040,Ia.DEFAULT_COLLECTION_PERCENTILE,Ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ia.DISABLED=new Ia(-1,0,0);class fp{constructor(e,i,a,c){this.userId=e,this.N=i,this.Ht=a,this.referenceDelegate=c,this.Jt={}}static Yt(e,i,a,c){Zn(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new fp(m,i,a,c)}checkEmpty(e){let i=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bu(e).Kt({index:p.userMutationsIndex,range:a},(c,m,D)=>{i=!1,D.done()}).next(()=>i)}addMutationBatch(e,i,a,c){const m=rc(e),D=Bu(e);return D.add({}).next(F=>{Zn("number"==typeof F);const Z=new pm(F,i,a,c),ae=function(bt,Ot,tn){const jn=tn.baseMutations.map(ks=>Tl(bt.Wt,ks)),xr=tn.mutations.map(ks=>Tl(bt.Wt,ks));return new p(Ot,tn.batchId,tn.localWriteTime.toMillis(),jn,xr)}(this.N,this.userId,Z),Ae=[];let et=new As((bt,Ot)=>v(bt.canonicalString(),Ot.canonicalString()));for(const bt of c){const Ot=T.key(this.userId,bt.key.path,F);et=et.add(bt.key.path.popLast()),Ae.push(D.put(ae)),Ae.push(m.put(Ot,T.PLACEHOLDER))}return et.forEach(bt=>{Ae.push(this.Ht.addToCollectionParentIndex(e,bt))}),e.addOnCommittedListener(()=>{this.Jt[F]=Z.keys()}),Ut.waitFor(Ae).next(()=>Z)})}lookupMutationBatch(e,i){return Bu(e).get(i).next(a=>a?(Zn(a.userId===this.userId),ec(this.N,a)):null)}Xt(e,i){return this.Jt[i]?Ut.resolve(this.Jt[i]):this.lookupMutationBatch(e,i).next(a=>{if(a){const c=a.keys();return this.Jt[i]=c,c}return null})}getNextMutationBatchAfterBatchId(e,i){const a=i+1,c=IDBKeyRange.lowerBound([this.userId,a]);let m=null;return Bu(e).Kt({index:p.userMutationsIndex,range:c},(D,F,Z)=>{F.userId===this.userId&&(Zn(F.batchId>=a),m=ec(this.N,F)),Z.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return Bu(e).Kt({index:p.userMutationsIndex,range:i,reverse:!0},(c,m,D)=>{a=m.batchId,D.done()}).next(()=>a)}getAllMutationBatches(e){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bu(e).Lt(p.userMutationsIndex,i).next(a=>a.map(c=>ec(this.N,c)))}getAllMutationBatchesAffectingDocumentKey(e,i){const a=T.prefixForPath(this.userId,i.path),c=IDBKeyRange.lowerBound(a),m=[];return rc(e).Kt({range:c},(D,F,Z)=>{const[ae,Ae,et]=D,bt=mu(Ae);if(ae===this.userId&&i.path.isEqual(bt))return Bu(e).get(et).next(Ot=>{if(!Ot)throw Rn();Zn(Ot.userId===this.userId),m.push(ec(this.N,Ot))});Z.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new As(v);const c=[];return i.forEach(m=>{const D=T.prefixForPath(this.userId,m.path),F=IDBKeyRange.lowerBound(D),Z=rc(e).Kt({range:F},(ae,Ae,et)=>{const[bt,Ot,tn]=ae,jn=mu(Ot);bt===this.userId&&m.path.isEqual(jn)?a=a.add(tn):et.done()});c.push(Z)}),Ut.waitFor(c).next(()=>this.Zt(e,a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,c=a.length+1,m=T.prefixForPath(this.userId,a),D=IDBKeyRange.lowerBound(m);let F=new As(v);return rc(e).Kt({range:D},(Z,ae,Ae)=>{const[et,bt,Ot]=Z,tn=mu(bt);et===this.userId&&a.isPrefixOf(tn)?tn.length===c&&(F=F.add(Ot)):Ae.done()}).next(()=>this.Zt(e,F))}Zt(e,i){const a=[],c=[];return i.forEach(m=>{c.push(Bu(e).get(m).next(D=>{if(null===D)throw Rn();Zn(D.userId===this.userId),a.push(ec(this.N,D))}))}),Ut.waitFor(c).next(()=>a)}removeMutationBatch(e,i){return _m(e.Qt,this.userId,i).next(a=>(e.addOnCommittedListener(()=>{this.te(i.batchId)}),Ut.forEach(a,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(i=>{if(!i)return Ut.resolve();const a=IDBKeyRange.lowerBound(T.prefixForUser(this.userId)),c=[];return rc(e).Kt({range:a},(m,D,F)=>{if(m[0]===this.userId){const Z=mu(m[1]);c.push(Z)}else F.done()}).next(()=>{Zn(0===c.length)})})}containsKey(e,i){return pp(e,this.userId,i)}ee(e){return Sh(e).get(this.userId).next(i=>i||new d(this.userId,-1,""))}}function pp(s,e,i){const a=T.prefixForPath(e,i.path),c=a[1],m=IDBKeyRange.lowerBound(a);let D=!1;return rc(s).Kt({range:m,qt:!0},(F,Z,ae)=>{const[Ae,et,bt]=F;Ae===e&&et===c&&(D=!0),ae.done()}).next(()=>D)}function Bu(s){return Ua(s,p.store)}function rc(s){return Ua(s,T.store)}function Sh(s){return Ua(s,d.store)}class ic{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new ic(0)}static ie(){return new ic(-1)}}class g_{constructor(e,i){this.referenceDelegate=e,this.N=i}allocateTargetId(e){return this.re(e).next(i=>{const a=new ic(i.highestTargetId);return i.highestTargetId=a.next(),this.oe(e,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(i=>de.fromTimestamp(new X(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(e,i,a){return this.re(e).next(c=>(c.highestListenSequenceNumber=i,a&&(c.lastRemoteSnapshotVersion=a.toTimestamp()),i>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=i),this.oe(e,c)))}addTargetData(e,i){return this.ce(e,i).next(()=>this.re(e).next(a=>(a.targetCount+=1,this.ae(i,a),this.oe(e,a))))}updateTargetData(e,i){return this.ce(e,i)}removeTargetData(e,i){return this.removeMatchingKeysForTargetId(e,i.targetId).next(()=>sc(e).delete(i.targetId)).next(()=>this.re(e)).next(a=>(Zn(a.targetCount>0),a.targetCount-=1,this.oe(e,a)))}removeTargets(e,i,a){let c=0;const m=[];return sc(e).Kt((D,F)=>{const Z=tc(F);Z.sequenceNumber<=i&&null===a.get(Z.targetId)&&(c++,m.push(this.removeTargetData(e,Z)))}).next(()=>Ut.waitFor(m)).next(()=>c)}forEachTarget(e,i){return sc(e).Kt((a,c)=>{const m=tc(c);i(m)})}re(e){return gp(e).get(xn.key).next(i=>(Zn(null!==i),i))}oe(e,i){return gp(e).put(xn.key,i)}ce(e,i){return sc(e).put(Ch(this.N,i))}ae(e,i){let a=!1;return e.targetId>i.highestTargetId&&(i.highestTargetId=e.targetId,a=!0),e.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.re(e).next(i=>i.targetCount)}getTargetData(e,i){const a=Yn(i),c=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let m=null;return sc(e).Kt({range:c,index:Yt.queryTargetsIndexName},(D,F,Z)=>{const ae=tc(F);ki(i,ae.target)&&(m=ae,Z.done())}).next(()=>m)}addMatchingKeys(e,i,a){const c=[],m=Ta(e);return i.forEach(D=>{const F=Yo(D.path);c.push(m.put(new mn(a,F))),c.push(this.referenceDelegate.addReference(e,a,D))}),Ut.waitFor(c)}removeMatchingKeys(e,i,a){const c=Ta(e);return Ut.forEach(i,m=>{const D=Yo(m.path);return Ut.waitFor([c.delete([a,D]),this.referenceDelegate.removeReference(e,a,m)])})}removeMatchingKeysForTargetId(e,i){const a=Ta(e),c=IDBKeyRange.bound([i],[i+1],!1,!0);return a.delete(c)}getMatchingKeysForTargetId(e,i){const a=IDBKeyRange.bound([i],[i+1],!1,!0),c=Ta(e);let m=Qr();return c.Kt({range:a,qt:!0},(D,F,Z)=>{const ae=mu(D[1]),Ae=new On(ae);m=m.add(Ae)}).next(()=>m)}containsKey(e,i){const a=Yo(i.path),c=IDBKeyRange.bound([a],[$(a)],!1,!0);let m=0;return Ta(e).Kt({index:mn.documentTargetsIndex,qt:!0,range:c},([D,F],Z,ae)=>{0!==D&&(m++,ae.done())}).next(()=>m>0)}Tt(e,i){return sc(e).get(i).next(a=>a?tc(a):null)}}function sc(s){return Ua(s,Yt.store)}function gp(s){return Ua(s,xn.store)}function Ta(s){return Ua(s,mn.store)}function Rl(s){return Ah.apply(this,arguments)}function Ah(){return(Ah=(0,ne.Z)(function*(s){if(s.code!==mt.FAILED_PRECONDITION||s.message!==tl)throw s;Kt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function vm([s,e],[i,a]){const c=v(s,i);return 0===c?v(e,a):c}class Rh{constructor(e){this.ue=e,this.buffer=new As(vm),this.he=0}le(){return++this.he}fe(e){const i=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();vm(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class m_{constructor(e,i){this.garbageCollector=e,this.asyncQueue=i,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var i=this;const a=this.de?3e5:6e4;Kt("LruGarbageCollector",`Garbage collection scheduled in ${a}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",a,(0,ne.Z)(function*(){i.we=null,i.de=!0;try{yield e.collectGarbage(i.garbageCollector)}catch(c){_u(c)?Kt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c):yield Rl(c)}yield i._e(e)}))}}class Em{constructor(e,i){this.me=e,this.params=i}calculateTargetCount(e,i){return this.me.ge(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(0===i)return Ut.resolve(Os.T);const a=new Rh(i);return this.me.forEachTarget(e,c=>a.fe(c.sequenceNumber)).next(()=>this.me.ye(e,c=>a.fe(c))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.me.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.me.removeOrphanedDocuments(e,i)}collect(e,i){return-1===this.params.cacheSizeCollectionThreshold?(Kt("LruGarbageCollector","Garbage collection skipped; disabled"),Ut.resolve(ym)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(Kt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ym):this.pe(e,i))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,i){let a,c,m,D,F,Z,ae;const Ae=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(et=>(et>this.params.maximumSequenceNumbersToCollect?(Kt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${et}`),c=this.params.maximumSequenceNumbersToCollect):c=et,D=Date.now(),this.nthSequenceNumber(e,c))).next(et=>(a=et,F=Date.now(),this.removeTargets(e,a,i))).next(et=>(m=et,Z=Date.now(),this.removeOrphanedDocuments(e,a))).next(et=>(ae=Date.now(),va()<=me.in.DEBUG&&Kt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${D-Ae}ms\n\tDetermined least recently used ${c} in `+(F-D)+`ms\n\tRemoved ${m} targets in `+(Z-F)+`ms\n\tRemoved ${et} documents in `+(ae-Z)+`ms\nTotal Duration: ${ae-Ae}ms`),Ut.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:m,documentsRemoved:et})))}}class bm{constructor(e,i){this.db=e,this.garbageCollector=new Em(this,i)}ge(e){const i=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(a=>i.next(c=>a+c))}Te(e){let i=0;return this.ye(e,a=>{i++}).next(()=>i)}forEachTarget(e,i){return this.db.getTargetCache().forEachTarget(e,i)}ye(e,i){return this.Ee(e,(a,c)=>i(c))}addReference(e,i,a){return _d(e,a)}removeReference(e,i,a){return _d(e,a)}removeTargets(e,i,a){return this.db.getTargetCache().removeTargets(e,i,a)}markPotentiallyOrphaned(e,i){return _d(e,i)}Ie(e,i){return function(a,c){let m=!1;return Sh(a).jt(D=>pp(a,D,c).next(F=>(F&&(m=!0),Ut.resolve(!F)))).next(()=>m)}(e,i)}removeOrphanedDocuments(e,i){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let m=0;return this.Ee(e,(D,F)=>{if(F<=i){const Z=this.Ie(e,D).next(ae=>{if(!ae)return m++,a.getEntry(e,D).next(()=>(a.removeEntry(D),Ta(e).delete([0,Yo(D.path)])))});c.push(Z)}}).next(()=>Ut.waitFor(c)).next(()=>a.apply(e)).next(()=>m)}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,i){return _d(e,i)}Ee(e,i){const a=Ta(e);let c,m=Os.T;return a.Kt({index:mn.documentTargetsIndex},([D,F],{path:Z,sequenceNumber:ae})=>{0===D?(m!==Os.T&&i(new On(mu(c)),m),m=ae,c=Z):m=Os.T}).next(()=>{m!==Os.T&&i(new On(mu(c)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function _d(s,e){return Ta(s).put((a=s.currentSequenceNumber,new mn(0,Yo(e.path),a)));var a}class Ml{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={}}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(void 0!==a)for(const[c,m]of a)if(this.equalsFn(c,e))return m}has(e){return void 0!==this.get(e)}set(e,i){const a=this.mapKeyFn(e),c=this.inner[a];if(void 0!==c){for(let m=0;m<c.length;m++)if(this.equalsFn(c[m][0],e))return void(c[m]=[e,i]);c.push([e,i])}else this.inner[a]=[[e,i]]}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(void 0===a)return!1;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return 1===a.length?delete this.inner[i]:a.splice(c,1),!0;return!1}forEach(e){yt(this.inner,(i,a)=>{for(const[c,m]of a)e(c,m)})}isEmpty(){return hn(this.inner)}}class mp{constructor(){this.changes=new Ml(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}getReadTime(e){const i=this.changes.get(e);return i?i.readTime:de.min()}addEntry(e,i){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:i})}removeEntry(e,i=null){this.assertNotApplied(),this.changes.set(e,{document:fn.newInvalidDocument(e),readTime:i})}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return void 0!==a?Ut.resolve(a.document):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Mh{constructor(e,i){this.N=e,this.Ht=i}addEntry(e,i,a){return ju(e).put(vd(i),a)}removeEntry(e,i){const a=ju(e),c=vd(i);return a.delete(c)}updateMetadata(e,i){return this.getMetadata(e).next(a=>(a.byteSize+=i,this.Ae(e,a)))}getEntry(e,i){return ju(e).get(vd(i)).next(a=>this.Re(i,a))}be(e,i){return ju(e).get(vd(i)).next(a=>({document:this.Re(i,a),size:Dh(a)}))}getEntries(e,i){let a=ba();return this.Pe(e,i,(c,m)=>{const D=this.Re(c,m);a=a.insert(c,D)}).next(()=>a)}ve(e,i){let a=ba(),c=new Qs(On.comparator);return this.Pe(e,i,(m,D)=>{const F=this.Re(m,D);a=a.insert(m,F),c=c.insert(m,Dh(D))}).next(()=>({documents:a,Ve:c}))}Pe(e,i,a){if(i.isEmpty())return Ut.resolve();const c=IDBKeyRange.bound(i.first().path.toArray(),i.last().path.toArray()),m=i.getIterator();let D=m.getNext();return ju(e).Kt({range:c},(F,Z,ae)=>{const Ae=On.fromSegments(F);for(;D&&On.comparator(D,Ae)<0;)a(D,null),D=m.getNext();D&&D.isEqual(Ae)&&(a(D,Z),D=m.hasNext()?m.getNext():null),D?ae.Mt(D.path.toArray()):ae.done()}).next(()=>{for(;D;)a(D,null),D=m.hasNext()?m.getNext():null})}getDocumentsMatchingQuery(e,i,a){let c=ba();const m=i.path.length+1,D={};if(a.isEqual(de.min())){const F=i.path.toArray();D.range=IDBKeyRange.lowerBound(F)}else{const F=i.path.toArray(),Z=lp(a);D.range=IDBKeyRange.lowerBound([F,Z],!0),D.index=Ke.collectionReadTimeIndex}return ju(e).Kt(D,(F,Z,ae)=>{if(F.length!==m)return;const Ae=yd(this.N,Z);i.path.isPrefixOf(Ae.key.path)?Ya(i,Ae)&&(c=c.insert(Ae.key,Ae)):ae.done()}).next(()=>c)}newChangeBuffer(e){return new xh(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(i=>i.byteSize)}getMetadata(e){return yp(e).get(_t.key).next(i=>(Zn(!!i),i))}Ae(e,i){return yp(e).put(_t.key,i)}Re(e,i){if(i){const a=yd(this.N,i);if(!a.isNoDocument()||!a.version.isEqual(de.min()))return a}return fn.newInvalidDocument(e)}}class xh extends mp{constructor(e,i){super(),this.Se=e,this.trackRemovals=i,this.De=new Ml(a=>a.toString(),(a,c)=>a.isEqual(c))}applyChanges(e){const i=[];let a=0,c=new As((m,D)=>v(m.canonicalString(),D.canonicalString()));return this.changes.forEach((m,D)=>{const F=this.De.get(m);if(D.document.isValidDocument()){const Z=wh(this.Se.N,D.document,this.getReadTime(m));c=c.add(m.path.popLast()),a+=Dh(Z)-F,i.push(this.Se.addEntry(e,m,Z))}else if(a-=F,this.trackRemovals){const Z=wh(this.Se.N,fn.newNoDocument(m,de.min()),this.getReadTime(m));i.push(this.Se.addEntry(e,m,Z))}else i.push(this.Se.removeEntry(e,m))}),c.forEach(m=>{i.push(this.Se.Ht.addToCollectionParentIndex(e,m))}),i.push(this.Se.updateMetadata(e,a)),Ut.waitFor(i)}getFromCache(e,i){return this.Se.be(e,i).next(a=>(this.De.set(i,a.size),a.document))}getAllFromCache(e,i){return this.Se.ve(e,i).next(({documents:a,Ve:c})=>(c.forEach((m,D)=>{this.De.set(m,D)}),a))}}function yp(s){return Ua(s,_t.store)}function ju(s){return Ua(s,Ke.store)}function vd(s){return s.path.toArray()}class _p{constructor(e){this.N=e}Ct(e,i,a,c){Zn(a<c&&a>=0&&c<=11);const m=new Dl("createOrUpgrade",i);var F;a<1&&c>=1&&(e.createObjectStore(E.store),(F=e).createObjectStore(d.store,{keyPath:d.keyPath}),F.createObjectStore(p.store,{keyPath:p.keyPath,autoIncrement:!0}).createIndex(p.userMutationsIndex,p.userMutationsKeyPath,{unique:!0}),F.createObjectStore(T.store),Mc(e),function(F){F.createObjectStore(Ke.store)}(e));let D=Ut.resolve();return a<3&&c>=3&&(0!==a&&(function(F){F.deleteObjectStore(mn.store),F.deleteObjectStore(Yt.store),F.deleteObjectStore(xn.store)}(e),Mc(e)),D=D.next(()=>function(F){const Z=F.store(xn.store),ae=new xn(0,0,de.min().toTimestamp(),0);return Z.put(xn.key,ae)}(m))),a<4&&c>=4&&(0!==a&&(D=D.next(()=>function(F,Z){return Z.store(p.store).Lt().next(ae=>{F.deleteObjectStore(p.store),F.createObjectStore(p.store,{keyPath:p.keyPath,autoIncrement:!0}).createIndex(p.userMutationsIndex,p.userMutationsKeyPath,{unique:!0});const Ae=Z.store(p.store),et=ae.map(bt=>Ae.put(bt));return Ut.waitFor(et)})}(e,m))),D=D.next(()=>{!function(F){F.createObjectStore(Hi.store,{keyPath:Hi.keyPath})}(e)})),a<5&&c>=5&&(D=D.next(()=>this.Ce(m))),a<6&&c>=6&&(D=D.next(()=>(function(F){F.createObjectStore(_t.store)}(e),this.Ne(m)))),a<7&&c>=7&&(D=D.next(()=>this.xe(m))),a<8&&c>=8&&(D=D.next(()=>this.ke(e,m))),a<9&&c>=9&&(D=D.next(()=>{(function(F){F.objectStoreNames.contains("remoteDocumentChanges")&&F.deleteObjectStore("remoteDocumentChanges")})(e),function(F){const Z=F.objectStore(Ke.store);Z.createIndex(Ke.readTimeIndex,Ke.readTimeIndexPath,{unique:!1}),Z.createIndex(Ke.collectionReadTimeIndex,Ke.collectionReadTimeIndexPath,{unique:!1})}(i)})),a<10&&c>=10&&(D=D.next(()=>this.$e(m))),a<11&&c>=11&&(D=D.next(()=>{(function(F){F.createObjectStore(xo.store,{keyPath:xo.keyPath})})(e),function(F){F.createObjectStore(yu.store,{keyPath:yu.keyPath})}(e)})),D}Ne(e){let i=0;return e.store(Ke.store).Kt((a,c)=>{i+=Dh(c)}).next(()=>{const a=new _t(i);return e.store(_t.store).put(_t.key,a)})}Ce(e){const i=e.store(d.store),a=e.store(p.store);return i.Lt().next(c=>Ut.forEach(c,m=>{const D=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return a.Lt(p.userMutationsIndex,D).next(F=>Ut.forEach(F,Z=>{Zn(Z.userId===m.userId);const ae=ec(this.N,Z);return _m(e,m.userId,ae).next(()=>{})}))}))}xe(e){const i=e.store(mn.store),a=e.store(Ke.store);return e.store(xn.store).get(xn.key).next(c=>{const m=[];return a.Kt((D,F)=>{const Z=new en(D),ae=[0,Yo(Z)];m.push(i.get(ae).next(Ae=>Ae?Ut.resolve():i.put(new mn(0,Yo(Z),c.highestListenSequenceNumber))))}).next(()=>Ut.waitFor(m))})}ke(e,i){e.createObjectStore(Ln.store,{keyPath:Ln.keyPath});const a=i.store(Ln.store),c=new dp,m=D=>{if(c.add(D)){const F=D.lastSegment(),Z=D.popLast();return a.put({collectionId:F,parent:Yo(Z)})}};return i.store(Ke.store).Kt({qt:!0},(D,F)=>{const Z=new en(D);return m(Z.popLast())}).next(()=>i.store(T.store).Kt({qt:!0},([D,F,Z],ae)=>{const Ae=mu(F);return m(Ae.popLast())}))}$e(e){const i=e.store(Yt.store);return i.Kt((a,c)=>{const m=tc(c),D=Ch(this.N,m);return i.put(D)})}}function Mc(s){s.createObjectStore(mn.store,{keyPath:mn.keyPath}).createIndex(mn.documentTargetsIndex,mn.documentTargetsKeyPath,{unique:!0}),s.createObjectStore(Yt.store,{keyPath:Yt.keyPath}).createIndex(Yt.queryTargetsIndexName,Yt.queryTargetsKeyPath,{unique:!0}),s.createObjectStore(xn.store)}const vp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Oh{constructor(e,i,a,c,m,D,F,Z,ae,Ae){if(this.allowTabSynchronization=e,this.persistenceKey=i,this.clientId=a,this.Oe=m,this.window=D,this.document=F,this.Fe=ae,this.Me=Ae,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=et=>Promise.resolve(),!Oh.bt())throw new Lt(mt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bm(this,c),this.We=i+"main",this.N=new bu(Z),this.Ge=new Ca(this.We,11,new _p(this.N)),this.ze=new g_(this.referenceDelegate,this.N),this.Ht=new hp,this.He=new Mh(this.N,this.Ht),this.Je=new xE,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===Ae&&Ri("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Lt(mt.FAILED_PRECONDITION,vp);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new Os(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var i=this;return this.Qe=function(){var a=(0,ne.Z)(function*(c){if(i.started)return e(c)});return function(c){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var i=(0,ne.Z)(function*(a){null===a.newVersion&&(yield e())});return function(a){return i.apply(this,arguments)}}())}setNetworkEnabled(e){var i=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,ne.Z)(function*(){i.started&&(yield i.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ph(e).put(new Hi(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(i=>{i||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(i=>this.isPrimary&&!i?this.on(e).next(()=>!1):!!i&&this.cn(e).next(()=>!0))).catch(e=>{if(_u(e))return Kt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Kt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return Ed(e).get(E.key).next(i=>Ut.resolve(this.an(i)))}un(e){return Ph(e).delete(this.clientId)}hn(){var e=this;return(0,ne.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const i=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const c=Ua(a,Hi.store);return c.Lt().next(m=>{const D=e.fn(m,18e5),F=m.filter(Z=>-1===D.indexOf(Z));return Ut.forEach(F,Z=>c.delete(Z.clientId)).next(()=>F)})}).catch(()=>[]);if(e.Ye)for(const a of i)e.Ye.removeItem(e.dn(a.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}an(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Ut.resolve(!0):Ed(e).get(E.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)){if(this.an(i)&&this.networkEnabled)return!0;if(!this.an(i)){if(!i.allowTabSynchronization)throw new Lt(mt.FAILED_PRECONDITION,vp);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ph(e).Lt().next(a=>void 0===this.fn(a,5e3).find(c=>{if(this.clientId!==c.clientId){const D=!this.inForeground&&c.inForeground,F=this.networkEnabled===c.networkEnabled;if(!this.networkEnabled&&c.networkEnabled||D&&F)return!0}return!1}))}).next(i=>(this.isPrimary!==i&&Kt("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var e=this;return(0,ne.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[E.store,Hi.store],i=>{const a=new Eu(i,Os.T);return e.on(a).next(()=>e.un(a))}),e.Ge.close(),e.yn()})()}fn(e,i){return e.filter(a=>this.ln(a.updateTimeMs,i)&&!this.wn(a.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>Ph(e).Lt().next(i=>this.fn(i,18e5).map(a=>a.clientId)))}get started(){return this.Be}getMutationQueue(e){return fp.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,i,a){let m;return Kt("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===i?"readonly":"readwrite",vh,D=>(m=new Eu(D,this.Le?this.Le.next():Os.T),"readwrite-primary"===i?this.sn(m).next(F=>!!F||this.rn(m)).next(F=>{if(!F)throw Ri(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Lt(mt.FAILED_PRECONDITION,tl);return a(m)}).next(F=>this.cn(m).next(()=>F)):this.Tn(m).next(()=>a(m)))).then(D=>(m.raiseOnCommittedEvent(),D))}Tn(e){return Ed(e).get(E.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)&&!this.an(i)&&!(this.Me||this.allowTabSynchronization&&i.allowTabSynchronization))throw new Lt(mt.FAILED_PRECONDITION,vp)})}cn(e){const i=new E(this.clientId,this.allowTabSynchronization,Date.now());return Ed(e).put(E.key,i)}static bt(){return Ca.bt()}on(e){const i=Ed(e);return i.get(E.key).next(a=>this.an(a)?(Kt("IndexedDbPersistence","Releasing primary lease."),i.delete(E.key)):Ut.resolve())}ln(e,i){const a=Date.now();return!(e<a-i||e>a&&(Ri(`Detected an update time that is in the future: ${e} > ${a}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,_e.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var i;try{const a=null!==(null===(i=this.Ye)||void 0===i?void 0:i.getItem(this.dn(e)));return Kt("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return Ri("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){Ri("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ed(s){return Ua(s,E.store)}function Ph(s){return Ua(s,Hi.store)}function Nh(s,e){let i=s.projectId;return s.isDefaultDatabase||(i+="."+s.database),"firestore/"+e+"/"+i+"/"}class Ep{constructor(e,i){this.progress=e,this.En=i}}class bp{constructor(e,i,a){this.He=e,this.In=i,this.Ht=a}An(e,i){return this.In.getAllMutationBatchesAffectingDocumentKey(e,i).next(a=>this.Rn(e,i,a))}Rn(e,i,a){return this.He.getEntry(e,i).next(c=>{for(const m of a)m.applyToLocalView(c);return c})}bn(e,i){e.forEach((a,c)=>{for(const m of i)m.applyToLocalView(c)})}Pn(e,i){return this.He.getEntries(e,i).next(a=>this.vn(e,a).next(()=>a))}vn(e,i){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,i).next(a=>this.bn(i,a))}getDocumentsMatchingQuery(e,i,a){return On.isDocumentKey((c=i).path)&&null===c.collectionGroup&&0===c.filters.length?this.Vn(e,i.path):Vo(i)?this.Sn(e,i,a):this.Dn(e,i,a);var c}Vn(e,i){return this.An(e,new On(i)).next(a=>{let c=Cc();return a.isFoundDocument()&&(c=c.insert(a.key,a)),c})}Sn(e,i,a){const c=i.collectionGroup;let m=Cc();return this.Ht.getCollectionParents(e,c).next(D=>Ut.forEach(D,F=>{const Z=(ae=i,Ae=F.child(c),new hr(Ae,null,ae.explicitOrderBy.slice(),ae.filters.slice(),ae.limit,ae.limitType,ae.startAt,ae.endAt));var ae,Ae;return this.Dn(e,Z,a).next(ae=>{ae.forEach((Ae,et)=>{m=m.insert(Ae,et)})})}).next(()=>m))}Dn(e,i,a){let c,m;return this.He.getDocumentsMatchingQuery(e,i,a).next(D=>(c=D,this.In.getAllMutationBatchesAffectingQuery(e,i))).next(D=>(m=D,this.Cn(e,m,c).next(F=>{c=F;for(const Z of m)for(const ae of Z.mutations){const Ae=ae.key;let et=c.get(Ae);null==et&&(et=fn.newInvalidDocument(Ae),c=c.insert(Ae,et)),od(ae,et,Z.localWriteTime),et.isFoundDocument()||(c=c.remove(Ae))}}))).next(()=>(c.forEach((D,F)=>{Ya(i,F)||(c=c.remove(D))}),c))}Cn(e,i,a){let c=Qr();for(const D of i)for(const F of D.mutations)F instanceof hu&&null===a.get(F.key)&&(c=c.add(F.key));let m=a;return this.He.getEntries(e,c).next(D=>(D.forEach((F,Z)=>{Z.isFoundDocument()&&(m=m.insert(F,Z))}),m))}}class wm{constructor(e,i,a,c){this.targetId=e,this.fromCache=i,this.Nn=a,this.xn=c}static kn(e,i){let a=Qr(),c=Qr();for(const m of i.docChanges)switch(m.type){case 0:a=a.add(m.doc.key);break;case 1:c=c.add(m.doc.key)}return new wm(e,i.fromCache,a,c)}}class wp{$n(e){this.On=e}getDocumentsMatchingQuery(e,i,a,c){return 0===(m=i).filters.length&&null===m.limit&&null==m.startAt&&null==m.endAt&&(0===m.explicitOrderBy.length||1===m.explicitOrderBy.length&&m.explicitOrderBy[0].field.isKeyField())||a.isEqual(de.min())?this.Fn(e,i):this.On.Pn(e,c).next(m=>{const D=this.Mn(i,m);return(pi(i)||Ro(i))&&this.Ln(i.limitType,D,c,a)?this.Fn(e,i):(va()<=me.in.DEBUG&&Kt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),nh(i)),this.On.getDocumentsMatchingQuery(e,i,a).next(F=>(D.forEach(Z=>{F=F.insert(Z.key,Z)}),F)))});var m}Mn(e,i){let a=new As(Qa(e));return i.forEach((c,m)=>{Ya(e,m)&&(a=a.add(m))}),a}Ln(e,i,a,c){if(a.size!==i.size)return!0;const m="F"===e?i.last():i.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(c)>0)}Fn(e,i){return va()<=me.in.DEBUG&&Kt("QueryEngine","Using full collection scan to execute query:",nh(i)),this.On.getDocumentsMatchingQuery(e,i,de.min())}}class y_{constructor(e,i,a,c){this.persistence=e,this.Bn=i,this.N=c,this.Un=new Qs(v),this.qn=new Ml(m=>Yn(m),ki),this.Kn=de.min(),this.In=e.getMutationQueue(a),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new bp(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Un))}}function Cp(s,e,i,a){return new y_(s,e,i,a)}function Cm(s,e){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,ne.Z)(function*(s,e){const i=on(s);let a=i.In,c=i.Qn;const m=yield i.persistence.runTransaction("Handle user change","readonly",D=>{let F;return i.In.getAllMutationBatches(D).next(Z=>(F=Z,a=i.persistence.getMutationQueue(e),c=new bp(i.jn,a,i.persistence.getIndexManager()),a.getAllMutationBatches(D))).next(Z=>{const ae=[],Ae=[];let et=Qr();for(const bt of F){ae.push(bt.batchId);for(const Ot of bt.mutations)et=et.add(Ot.key)}for(const bt of Z){Ae.push(bt.batchId);for(const Ot of bt.mutations)et=et.add(Ot.key)}return c.Pn(D,et).next(bt=>({Wn:bt,removedBatchIds:ae,addedBatchIds:Ae}))})});return i.In=a,i.Qn=c,i.Bn.$n(i.Qn),m})).apply(this,arguments)}function wu(s,e){const i=on(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const c=e.batch.keys(),m=i.jn.newChangeBuffer({trackRemovals:!0});return function(D,F,Z,ae){const Ae=Z.batch,et=Ae.keys();let bt=Ut.resolve();return et.forEach(Ot=>{bt=bt.next(()=>ae.getEntry(F,Ot)).next(tn=>{const jn=Z.docVersions.get(Ot);Zn(null!==jn),tn.version.compareTo(jn)<0&&(Ae.applyToRemoteDocument(tn,Z),tn.isValidDocument()&&ae.addEntry(tn,Z.commitVersion))})}),bt.next(()=>D.In.removeMutationBatch(F,Ae))}(i,a,e,m).next(()=>m.apply(a)).next(()=>i.In.performConsistencyCheck(a)).next(()=>i.Qn.Pn(a,c))})}function Im(s){const e=on(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.ze.getLastRemoteSnapshotVersion(i))}function Tm(s,e){const i=on(s),a=e.snapshotVersion;let c=i.Un;return i.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const D=i.jn.newChangeBuffer({trackRemovals:!0});c=i.Un;const F=[];e.targetChanges.forEach((ae,Ae)=>{const et=c.get(Ae);if(!et)return;F.push(i.ze.removeMatchingKeys(m,ae.removedDocuments,Ae).next(()=>i.ze.addMatchingKeys(m,ae.addedDocuments,Ae)));const bt=ae.resumeToken;if(bt.approximateByteSize()>0){const Ot=et.withResumeToken(bt,a).withSequenceNumber(m.currentSequenceNumber);c=c.insert(Ae,Ot),tn=et,xr=ae,Zn((jn=Ot).resumeToken.approximateByteSize()>0),(0===tn.resumeToken.approximateByteSize()||jn.snapshotVersion.toMicroseconds()-tn.snapshotVersion.toMicroseconds()>=3e8||xr.addedDocuments.size+xr.modifiedDocuments.size+xr.removedDocuments.size>0)&&F.push(i.ze.updateTargetData(m,Ot))}var tn,jn,xr});let Z=ba();if(e.documentUpdates.forEach((ae,Ae)=>{e.resolvedLimboDocuments.has(ae)&&F.push(i.persistence.referenceDelegate.updateLimboDocument(m,ae))}),F.push(Dm(m,D,e.documentUpdates,a,void 0).next(ae=>{Z=ae})),!a.isEqual(de.min())){const ae=i.ze.getLastRemoteSnapshotVersion(m).next(Ae=>i.ze.setTargetsMetadata(m,m.currentSequenceNumber,a));F.push(ae)}return Ut.waitFor(F).next(()=>D.apply(m)).next(()=>i.Qn.vn(m,Z)).next(()=>Z)}).then(m=>(i.Un=c,m))}function Dm(s,e,i,a,c){let m=Qr();return i.forEach(D=>m=m.add(D)),e.getEntries(s,m).next(D=>{let F=ba();return i.forEach((Z,ae)=>{const Ae=D.get(Z),et=(null==c?void 0:c.get(Z))||a;ae.isNoDocument()&&ae.version.isEqual(de.min())?(e.removeEntry(Z,et),F=F.insert(Z,ae)):!Ae.isValidDocument()||ae.version.compareTo(Ae.version)>0||0===ae.version.compareTo(Ae.version)&&Ae.hasPendingWrites?(e.addEntry(ae,et),F=F.insert(Z,ae)):Kt("LocalStore","Ignoring outdated watch update for ",Z,". Current version:",Ae.version," Watch version:",ae.version)}),F})}function __(s,e){const i=on(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),i.In.getNextMutationBatchAfterBatchId(a,e)))}function xc(s,e){const i=on(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let c;return i.ze.getTargetData(a,e).next(m=>m?(c=m,Ut.resolve(c)):i.ze.allocateTargetId(a).next(D=>(c=new Jl(e,D,0,a.currentSequenceNumber),i.ze.addTargetData(a,c).next(()=>c))))}).then(a=>{const c=i.Un.get(a.targetId);return(null===c||a.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(i.Un=i.Un.insert(a.targetId,a),i.qn.set(e,a.targetId)),a})}function Oc(s,e,i){return kh.apply(this,arguments)}function kh(){return(kh=(0,ne.Z)(function*(s,e,i){const a=on(s),c=a.Un.get(e),m=i?"readwrite":"readwrite-primary";try{i||(yield a.persistence.runTransaction("Release target",m,D=>a.persistence.referenceDelegate.removeTarget(D,c)))}catch(D){if(!_u(D))throw D;Kt("LocalStore",`Failed to update sequence numbers for target ${e}: ${D}`)}a.Un=a.Un.remove(e),a.qn.delete(c.target)})).apply(this,arguments)}function Fh(s,e,i){const a=on(s);let c=de.min(),m=Qr();return a.persistence.runTransaction("Execute query","readonly",D=>function(F,Z,ae){const Ae=on(F),et=Ae.qn.get(ae);return void 0!==et?Ut.resolve(Ae.Un.get(et)):Ae.ze.getTargetData(Z,ae)}(a,D,Ps(e)).next(F=>{if(F)return c=F.lastLimboFreeSnapshotVersion,a.ze.getMatchingKeysForTargetId(D,F.targetId).next(Z=>{m=Z})}).next(()=>a.Bn.getDocumentsMatchingQuery(D,e,i?c:de.min(),i?m:Qr())).next(F=>({documents:F,Gn:m})))}function Sm(s,e){const i=on(s),a=on(i.ze),c=i.Un.get(e);return c?Promise.resolve(c.target):i.persistence.runTransaction("Get target data","readonly",m=>a.Tt(m,e).next(D=>D?D.target:null))}function Am(s){const e=on(s);return e.persistence.runTransaction("Get new document changes","readonly",i=>function(a,c,m){const D=on(a);let F=ba(),Z=lp(m);const ae=ju(c),Ae=IDBKeyRange.lowerBound(Z,!0);return ae.Kt({index:Ke.readTimeIndex,range:Ae},(et,bt)=>{const Ot=yd(D.N,bt);F=F.insert(Ot.key,Ot),Z=bt.readTime}).next(()=>({En:F,readTime:cp(Z)}))}(e.jn,i,e.Kn)).then(({En:i,readTime:a})=>(e.Kn=a,i))}function Lh(){return(Lh=(0,ne.Z)(function*(s){const e=on(s);return e.persistence.runTransaction("Synchronize last document change read time","readonly",i=>function(a){const c=ju(a);let m=de.min();return c.Kt({index:Ke.readTimeIndex,reverse:!0},(D,F,Z)=>{F.readTime&&(m=cp(F.readTime)),Z.done()}).next(()=>m)}(i)).then(i=>{e.Kn=i})})).apply(this,arguments)}function Pc(){return(Pc=(0,ne.Z)(function*(s,e,i,a){const c=on(s);let m=Qr(),D=ba(),F=np();for(const Ae of i){const et=e.zn(Ae.metadata.name);Ae.document&&(m=m.add(et)),D=D.insert(et,e.Hn(Ae)),F=F.insert(et,e.Jn(Ae.metadata.readTime))}const Z=c.jn.newChangeBuffer({trackRemovals:!0}),ae=yield xc(c,(Ae=a,Ps(Ti(en.fromString(`__bundle__/docs/${Ae}`)))));var Ae;return c.persistence.runTransaction("Apply bundle documents","readwrite",Ae=>Dm(Ae,Z,D,de.min(),F).next(et=>(Z.apply(Ae),et)).next(et=>c.ze.removeMatchingKeysForTargetId(Ae,ae.targetId).next(()=>c.ze.addMatchingKeys(Ae,m,ae.targetId)).next(()=>c.Qn.vn(Ae,et)).next(()=>et)))})).apply(this,arguments)}function Cu(s,e){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,ne.Z)(function*(s,e,i=Qr()){const a=yield xc(s,Ps(Ih(e.bundledQuery))),c=on(s);return c.persistence.runTransaction("Save named query","readwrite",m=>{const D=po(e.readTime);if(a.snapshotVersion.compareTo(D)>=0)return c.Je.saveNamedQuery(m,e);const F=a.withResumeToken(Vn.EMPTY_BYTE_STRING,D);return c.Un=c.Un.insert(F.targetId,F),c.ze.updateTargetData(m,F).next(()=>c.ze.removeMatchingKeysForTargetId(m,a.targetId)).next(()=>c.ze.addMatchingKeys(m,i,a.targetId)).next(()=>c.Je.saveNamedQuery(m,e))})})).apply(this,arguments)}class v_{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,i){return Ut.resolve(this.Yn.get(i))}saveBundleMetadata(e,i){var a;return this.Yn.set(i.id,{id:(a=i).id,version:a.version,createTime:po(a.createTime)}),Ut.resolve()}getNamedQuery(e,i){return Ut.resolve(this.Xn.get(i))}saveNamedQuery(e,i){return this.Xn.set(i.name,{name:(a=i).name,query:Ih(a.bundledQuery),readTime:po(a.readTime)}),Ut.resolve();var a}}class bd{constructor(){this.Zn=new As(ls.ts),this.es=new As(ls.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,i){const a=new ls(e,i);this.Zn=this.Zn.add(a),this.es=this.es.add(a)}ss(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.rs(new ls(e,i))}os(e,i){e.forEach(a=>this.removeReference(a,i))}cs(e){const i=new On(new en([])),a=new ls(i,e),c=new ls(i,e+1),m=[];return this.es.forEachInRange([a,c],D=>{this.rs(D),m.push(D.key)}),m}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const i=new On(new en([])),a=new ls(i,e),c=new ls(i,e+1);let m=Qr();return this.es.forEachInRange([a,c],D=>{m=m.add(D.key)}),m}containsKey(e){const i=new ls(e,0),a=this.Zn.firstAfterOrEqual(i);return null!==a&&e.isEqual(a.key)}}class ls{constructor(e,i){this.key=e,this.ls=i}static ts(e,i){return On.comparator(e.key,i.key)||v(e.ls,i.ls)}static ns(e,i){return v(e.ls,i.ls)||On.comparator(e.key,i.key)}}class Tp{constructor(e,i){this.Ht=e,this.referenceDelegate=i,this.In=[],this.fs=1,this.ds=new As(ls.ts)}checkEmpty(e){return Ut.resolve(0===this.In.length)}addMutationBatch(e,i,a,c){const m=this.fs;this.fs++;const D=new pm(m,i,a,c);this.In.push(D);for(const F of c)this.ds=this.ds.add(new ls(F.key,m)),this.Ht.addToCollectionParentIndex(e,F.key.path.popLast());return Ut.resolve(D)}lookupMutationBatch(e,i){return Ut.resolve(this.ws(i))}getNextMutationBatchAfterBatchId(e,i){const c=this._s(i+1),m=c<0?0:c;return Ut.resolve(this.In.length>m?this.In[m]:null)}getHighestUnacknowledgedBatchId(){return Ut.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Ut.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new ls(i,0),c=new ls(i,Number.POSITIVE_INFINITY),m=[];return this.ds.forEachInRange([a,c],D=>{const F=this.ws(D.ls);m.push(F)}),Ut.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new As(v);return i.forEach(c=>{const m=new ls(c,0),D=new ls(c,Number.POSITIVE_INFINITY);this.ds.forEachInRange([m,D],F=>{a=a.add(F.ls)})}),Ut.resolve(this.gs(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,c=a.length+1;let m=a;On.isDocumentKey(m)||(m=m.child(""));const D=new ls(new On(m),0);let F=new As(v);return this.ds.forEachWhile(Z=>{const ae=Z.key.path;return!!a.isPrefixOf(ae)&&(ae.length===c&&(F=F.add(Z.ls)),!0)},D),Ut.resolve(this.gs(F))}gs(e){const i=[];return e.forEach(a=>{const c=this.ws(a);null!==c&&i.push(c)}),i}removeMutationBatch(e,i){Zn(0===this.ys(i.batchId,"removed")),this.In.shift();let a=this.ds;return Ut.forEach(i.mutations,c=>{const m=new ls(c.key,i.batchId);return a=a.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.ds=a})}te(e){}containsKey(e,i){const a=new ls(i,0),c=this.ds.firstAfterOrEqual(a);return Ut.resolve(i.isEqual(c&&c.key))}performConsistencyCheck(e){return Ut.resolve()}ys(e,i){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const i=this._s(e);return i<0||i>=this.In.length?null:this.In[i]}}class Mm{constructor(e,i){this.Ht=e,this.ps=i,this.docs=new Qs(On.comparator),this.size=0}addEntry(e,i,a){const c=i.key,m=this.docs.get(c),D=m?m.size:0,F=this.ps(i);return this.docs=this.docs.insert(c,{document:i.clone(),size:F,readTime:a}),this.size+=F-D,this.Ht.addToCollectionParentIndex(e,c.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Ut.resolve(a?a.document.clone():fn.newInvalidDocument(i))}getEntries(e,i){let a=ba();return i.forEach(c=>{const m=this.docs.get(c);a=a.insert(c,m?m.document.clone():fn.newInvalidDocument(c))}),Ut.resolve(a)}getDocumentsMatchingQuery(e,i,a){let c=ba();const m=new On(i.path.child("")),D=this.docs.getIteratorFrom(m);for(;D.hasNext();){const{key:F,value:{document:Z,readTime:ae}}=D.getNext();if(!i.path.isPrefixOf(F.path))break;ae.compareTo(a)<=0||Ya(i,Z)&&(c=c.insert(Z.key,Z.clone()))}return Ut.resolve(c)}Ts(e,i){return Ut.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new Dp(this)}getSize(e){return Ut.resolve(this.size)}}class Dp extends mp{constructor(e){super(),this.Se=e}applyChanges(e){const i=[];return this.changes.forEach((a,c)=>{c.document.isValidDocument()?i.push(this.Se.addEntry(e,c.document,this.getReadTime(a))):this.Se.removeEntry(a)}),Ut.waitFor(i)}getFromCache(e,i){return this.Se.getEntry(e,i)}getAllFromCache(e,i){return this.Se.getEntries(e,i)}}class OE{constructor(e){this.persistence=e,this.Es=new Ml(i=>Yn(i),ki),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Is=0,this.As=new bd,this.targetCount=0,this.Rs=ic.se()}forEachTarget(e,i){return this.Es.forEach((a,c)=>i(c)),Ut.resolve()}getLastRemoteSnapshotVersion(e){return Ut.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ut.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Ut.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.Is&&(this.Is=i),Ut.resolve()}ce(e){this.Es.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Rs=new ic(i),this.highestTargetId=i),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,i){return this.ce(i),this.targetCount+=1,Ut.resolve()}updateTargetData(e,i){return this.ce(i),Ut.resolve()}removeTargetData(e,i){return this.Es.delete(i.target),this.As.cs(i.targetId),this.targetCount-=1,Ut.resolve()}removeTargets(e,i,a){let c=0;const m=[];return this.Es.forEach((D,F)=>{F.sequenceNumber<=i&&null===a.get(F.targetId)&&(this.Es.delete(D),m.push(this.removeMatchingKeysForTargetId(e,F.targetId)),c++)}),Ut.waitFor(m).next(()=>c)}getTargetCount(e){return Ut.resolve(this.targetCount)}getTargetData(e,i){const a=this.Es.get(i)||null;return Ut.resolve(a)}addMatchingKeys(e,i,a){return this.As.ss(i,a),Ut.resolve()}removeMatchingKeys(e,i,a){this.As.os(i,a);const c=this.persistence.referenceDelegate,m=[];return c&&i.forEach(D=>{m.push(c.markPotentiallyOrphaned(e,D))}),Ut.waitFor(m)}removeMatchingKeysForTargetId(e,i){return this.As.cs(i),Ut.resolve()}getMatchingKeysForTargetId(e,i){const a=this.As.hs(i);return Ut.resolve(a)}containsKey(e,i){return Ut.resolve(this.As.containsKey(i))}}class xm{constructor(e,i){this.bs={},this.Le=new Os(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new OE(this),this.Ht=new gm,this.He=new Mm(this.Ht,a=>this.referenceDelegate.Ps(a)),this.N=new bu(i),this.Je=new v_(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let i=this.bs[e.toKey()];return i||(i=new Tp(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=i),i}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,i,a){Kt("MemoryPersistence","Starting transaction:",e);const c=new PE(this.Le.next());return this.referenceDelegate.vs(),a(c).next(m=>this.referenceDelegate.Vs(c).next(()=>m)).toPromise().then(m=>(c.raiseOnCommittedEvent(),m))}Ss(e,i){return Ut.or(Object.values(this.bs).map(a=>()=>a.containsKey(e,i)))}}class PE extends Qo{constructor(e){super(),this.currentSequenceNumber=e}}class Iu{constructor(e){this.persistence=e,this.Ds=new bd,this.Cs=null}static Ns(e){return new Iu(e)}get xs(){if(this.Cs)return this.Cs;throw Rn()}addReference(e,i,a){return this.Ds.addReference(a,i),this.xs.delete(a.toString()),Ut.resolve()}removeReference(e,i,a){return this.Ds.removeReference(a,i),this.xs.add(a.toString()),Ut.resolve()}markPotentiallyOrphaned(e,i){return this.xs.add(i.toString()),Ut.resolve()}removeTarget(e,i){this.Ds.cs(i.targetId).forEach(c=>this.xs.add(c.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(c=>{c.forEach(m=>this.xs.add(m.toString()))}).next(()=>a.removeTargetData(e,i))}vs(){this.Cs=new Set}Vs(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ut.forEach(this.xs,a=>{const c=On.fromPath(a);return this.ks(e,c).next(m=>{m||i.removeEntry(c)})}).next(()=>(this.Cs=null,i.apply(e)))}updateLimboDocument(e,i){return this.ks(e,i).next(a=>{a?this.xs.delete(i.toString()):this.xs.add(i.toString())})}Ps(e){return 0}ks(e,i){return Ut.or([()=>Ut.resolve(this.Ds.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ss(e,i)])}}function wd(s,e){return`firestore_clients_${s}_${e}`}function Cd(s,e,i){let a=`firestore_mutations_${s}_${i}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function Id(s,e){return`firestore_targets_${s}_${e}`}class Sp{constructor(e,i,a,c){this.user=e,this.batchId=i,this.state=a,this.error=c}static $s(e,i,a){const c=JSON.parse(a);let m,D="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return D&&c.error&&(D="string"==typeof c.error.message&&"string"==typeof c.error.code,D&&(m=new Lt(c.error.code,c.error.message))),D?new Sp(e,i,c.state,m):(Ri("SharedClientState",`Failed to parse mutation state for ID '${i}': ${a}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Td{constructor(e,i,a){this.targetId=e,this.state=i,this.error=a}static $s(e,i){const a=JSON.parse(i);let c,m="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return m&&a.error&&(m="string"==typeof a.error.message&&"string"==typeof a.error.code,m&&(c=new Lt(a.error.code,a.error.message))),m?new Td(e,a.state,c):(Ri("SharedClientState",`Failed to parse target state for ID '${e}': ${i}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Dd{constructor(e,i){this.clientId=e,this.activeTargetIds=i}static $s(e,i){const a=JSON.parse(i);let c="object"==typeof a&&a.activeTargetIds instanceof Array,m=oa();for(let D=0;c&&D<a.activeTargetIds.length;++D)c=vc(a.activeTargetIds[D]),m=m.add(a.activeTargetIds[D]);return c?new Dd(e,m):(Ri("SharedClientState",`Failed to parse client data for instance '${e}': ${i}`),null)}}class Om{constructor(e,i){this.clientId=e,this.onlineState=i}static $s(e){const i=JSON.parse(e);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new Om(i.clientId,i.onlineState):(Ri("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ap{constructor(){this.activeTargetIds=oa()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pm{constructor(e,i,a,c,m){this.window=e,this.Oe=i,this.persistenceKey=a,this.Ls=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Qs(v),this.started=!1,this.Ks=[];const D=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.js=wd(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new Ap),this.Ws=new RegExp(`^firestore_clients_${D}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${D}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${D}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(F){return`firestore_bundle_loaded_${F}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ne.Z)(function*(){const i=yield e.syncEngine.pn();for(const c of i){if(c===e.Ls)continue;const m=e.getItem(wd(e.persistenceKey,c));if(m){const D=Dd.$s(c,m);D&&(e.qs=e.qs.insert(D.clientId,D))}}e.Ys();const a=e.storage.getItem(e.Hs);if(a){const c=e.Xs(a);c&&e.Zs(c)}for(const c of e.Ks)e.Us(c);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let i=!1;return this.qs.forEach((a,c)=>{c.activeTargetIds.has(e)&&(i=!0)}),i}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,i,a){this.ei(e,i,a),this.ni(e)}addLocalQueryTarget(e){let i="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(Id(this.persistenceKey,e));if(a){const c=Td.$s(e,a);c&&(i=c.state)}}return this.si.Fs(e),this.Ys(),i}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Id(this.persistenceKey,e))}updateQueryState(e,i,a){this.ii(e,i,a)}handleUserChange(e,i,a){i.forEach(c=>{this.ni(c)}),this.currentUser=e,a.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const i=this.storage.getItem(e);return Kt("SharedClientState","READ",e,i),i}setItem(e,i){Kt("SharedClientState","SET",e,i),this.storage.setItem(e,i)}removeItem(e){Kt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var i=this;const a=e;if(a.storageArea===this.storage){if(Kt("SharedClientState","EVENT",a.key,a.newValue),a.key===this.js)return void Ri("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,ne.Z)(function*(){if(i.started){if(null!==a.key)if(i.Ws.test(a.key)){if(null==a.newValue){const c=i.ci(a.key);return i.ai(c,null)}{const c=i.ui(a.key,a.newValue);if(c)return i.ai(c.clientId,c)}}else if(i.Gs.test(a.key)){if(null!==a.newValue){const c=i.hi(a.key,a.newValue);if(c)return i.li(c)}}else if(i.zs.test(a.key)){if(null!==a.newValue){const c=i.fi(a.key,a.newValue);if(c)return i.di(c)}}else if(a.key===i.Hs){if(null!==a.newValue){const c=i.Xs(a.newValue);if(c)return i.Zs(c)}}else if(a.key===i.Qs){const c=function(m){let D=Os.T;if(null!=m)try{const F=JSON.parse(m);Zn("number"==typeof F),D=F}catch(F){Ri("SharedClientState","Failed to read sequence number from WebStorage",F)}return D}(a.newValue);c!==Os.T&&i.sequenceNumberHandler(c)}else if(a.key===i.Js)return i.syncEngine.wi()}else i.Ks.push(a)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,i,a){const c=new Sp(this.currentUser,e,i,a),m=Cd(this.persistenceKey,this.currentUser,e);this.setItem(m,c.Os())}ni(e){const i=Cd(this.persistenceKey,this.currentUser,e);this.removeItem(i)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,i,a){const c=Id(this.persistenceKey,e),m=new Td(e,i,a);this.setItem(c,m.Os())}oi(){this.setItem(this.Js,"value-not-used")}ci(e){const i=this.Ws.exec(e);return i?i[1]:null}ui(e,i){const a=this.ci(e);return Dd.$s(a,i)}hi(e,i){const a=this.Gs.exec(e),c=Number(a[1]);return Sp.$s(new fi(void 0!==a[2]?a[2]:null),c,i)}fi(e,i){const a=this.zs.exec(e),c=Number(a[1]);return Td.$s(c,i)}Xs(e){return Om.$s(e)}li(e){var i=this;return(0,ne.Z)(function*(){if(e.user.uid===i.currentUser.uid)return i.syncEngine._i(e.batchId,e.state,e.error);Kt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ai(e,i){const a=i?this.qs.insert(e,i):this.qs.remove(e),c=this.ti(this.qs),m=this.ti(a),D=[],F=[];return m.forEach(Z=>{c.has(Z)||D.push(Z)}),c.forEach(Z=>{m.has(Z)||F.push(Z)}),this.syncEngine.gi(D,F).then(()=>{this.qs=a})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let i=oa();return e.forEach((a,c)=>{i=i.unionWith(c.activeTargetIds)}),i}}class Rp{constructor(){this.yi=new Ap,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,i,a){this.pi[e]=i}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new Ap,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Nm{Ti(e){}shutdown(){}}class km{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Kt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){Kt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Mp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class NE{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class kE extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,i,a,c){const m=this.Bi(e,i);Kt("RestConnection","Sending: ",m,a);const D={};return this.Ui(D,c),this.qi(e,m,D,a).then(F=>(Kt("RestConnection","Received: ",F),F),F=>{throw co("RestConnection",`${e} failed with error: `,F,"url: ",m,"request:",a),F})}Ki(e,i,a,c){return this.Li(e,i,a,c)}Ui(e,i){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+Zs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i)for(const a in i.authHeaders)i.authHeaders.hasOwnProperty(a)&&(e[a]=i.authHeaders[a])}Bi(e,i){return`${this.Fi}/v1/${i}:${Mp[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,i,a,c){return new Promise((m,D)=>{const F=new Fa;F.listenOnce(To.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case Lo.NO_ERROR:const ae=F.getResponseJson();Kt("Connection","XHR received:",JSON.stringify(ae)),m(ae);break;case Lo.TIMEOUT:Kt("Connection",'RPC "'+e+'" timed out'),D(new Lt(mt.DEADLINE_EXCEEDED,"Request time out"));break;case Lo.HTTP_ERROR:const Ae=F.getStatus();if(Kt("Connection",'RPC "'+e+'" failed with status:',Ae,"response text:",F.getResponseText()),Ae>0){const et=F.getResponseJson().error;if(et&&et.status&&et.message){const bt=function(Ot){const tn=Ot.toLowerCase().replace(/_/g,"-");return Object.values(mt).indexOf(tn)>=0?tn:mt.UNKNOWN}(et.status);D(new Lt(bt,et.message))}else D(new Lt(mt.UNKNOWN,"Server responded with status "+F.getStatus()))}else D(new Lt(mt.UNAVAILABLE,"Connection failed."));break;default:Rn()}}finally{Kt("Connection",'RPC "'+e+'" completed.')}});const Z=JSON.stringify(c);F.send(i,"POST",Z,a,15)})}ji(e,i){const a=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=ma(),m=zo(),D={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(D.xmlHttpFactory=new _a({})),this.Ui(D.initMessageHeaders,i),(0,_e.uI)()||(0,_e.b$)()||(0,_e.d)()||(0,_e.w1)()||(0,_e.Mn)()||(0,_e.ru)()||(D.httpHeadersOverwriteParam="$httpHeaders");const F=a.join("");Kt("Connection","Creating WebChannel: "+F,D);const Z=c.createWebChannel(F,D);let ae=!1,Ae=!1;const et=new NE({vi:Ot=>{Ae?Kt("Connection","Not sending because WebChannel is closed:",Ot):(ae||(Kt("Connection","Opening WebChannel transport."),Z.open(),ae=!0),Kt("Connection","WebChannel sending:",Ot),Z.send(Ot))},Vi:()=>Z.close()}),bt=(Ot,tn,jn)=>{Ot.listen(tn,xr=>{try{jn(xr)}catch(ks){setTimeout(()=>{throw ks},0)}})};return bt(Z,ms.EventType.OPEN,()=>{Ae||Kt("Connection","WebChannel transport opened.")}),bt(Z,ms.EventType.CLOSE,()=>{Ae||(Ae=!0,Kt("Connection","WebChannel transport closed"),et.$i())}),bt(Z,ms.EventType.ERROR,Ot=>{Ae||(Ae=!0,co("Connection","WebChannel transport errored:",Ot),et.$i(new Lt(mt.UNAVAILABLE,"The operation could not be completed")))}),bt(Z,ms.EventType.MESSAGE,Ot=>{var tn;if(!Ae){const jn=Ot.data[0];Zn(!!jn);const xr=jn,ks=xr.error||(null===(tn=xr[0])||void 0===tn?void 0:tn.error);if(ks){Kt("Connection","WebChannel received error:",ks);const ru=ks.status;let xu=function(zu){const Zd=Ss[zu];if(void 0!==Zd)return Kl(Zd)}(ru),Gu=ks.message;void 0===xu&&(xu=mt.INTERNAL,Gu="Unknown error status: "+ru+" with message "+ks.message),Ae=!0,et.$i(new Lt(xu,Gu)),Z.close()}else Kt("Connection","WebChannel received:",jn),et.Oi(jn)}}),bt(m,ya.STAT_EVENT,Ot=>{Ot.stat===uo.PROXY?Kt("Connection","Detected buffering proxy"):Ot.stat===uo.NOPROXY&&Kt("Connection","Detected no buffering proxy")}),setTimeout(()=>{et.ki()},0),et}}function E_(){return"undefined"!=typeof window?window:null}function xp(){return"undefined"!=typeof document?document:null}function Uh(s){return new fm(s,!0)}class Fm{constructor(e,i,a=1e3,c=1.5,m=6e4){this.Oe=e,this.timerId=i,this.Qi=a,this.Wi=c,this.Gi=m,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const i=Math.floor(this.zi+this.Zi()),a=Math.max(0,Date.now()-this.Ji),c=Math.max(0,i-a);c>0&&Kt("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.zi} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,c,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class b_{constructor(e,i,a,c,m,D,F){this.Oe=e,this.er=a,this.nr=c,this.sr=m,this.credentialsProvider=D,this.listener=F,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new Fm(e,i)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}stop(){var e=this;return(0,ne.Z)(function*(){e.ur()&&(yield e.close(0))})()}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(e){this.gr(),this.stream.send(e)}_r(){var e=this;return(0,ne.Z)(function*(){if(e.hr())return e.close(0)})()}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,i){var a=this;return(0,ne.Z)(function*(){a.gr(),a.yr(),a.ar.cancel(),a.ir++,4!==e?a.ar.reset():i&&i.code===mt.RESOURCE_EXHAUSTED?(Ri(i.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),a.ar.Yi()):i&&i.code===mt.UNAUTHENTICATED&&3!==a.state&&a.credentialsProvider.invalidateToken(),null!==a.stream&&(a.pr(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.Ci(i)})()}pr(){}auth(){this.state=1;const e=this.Tr(this.ir),i=this.ir;this.credentialsProvider.getToken().then(a=>{this.ir===i&&this.Er(a)},a=>{e(()=>{const c=new Lt(mt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.Ir(c)})})}Er(e){const i=this.Tr(this.ir);this.stream=this.Ar(e),this.stream.Si(()=>{i(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(a=>{i(()=>this.Ir(a))}),this.stream.onMessage(a=>{i(()=>this.onMessage(a))})}lr(){var e=this;this.state=5,this.ar.Xi((0,ne.Z)(function*(){e.state=0,e.start()}))}Ir(e){return Kt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Tr(e){return i=>{this.Oe.enqueueAndForget(()=>this.ir===e?i():(Kt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FE extends b_{constructor(e,i,a,c,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,m),this.N=c}Ar(e){return this.sr.ji("Listen",e)}onMessage(e){this.ar.reset();const i=function(s,e){let i;if("targetChange"in e){const a="NO_CHANGE"===(Z=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Z?1:"REMOVE"===Z?2:"CURRENT"===Z?3:"RESET"===Z?4:Rn(),c=e.targetChange.targetIds||[],m=function(Z,ae){return Z.D?(Zn(void 0===ae||"string"==typeof ae),Vn.fromBase64String(ae||"")):(Zn(void 0===ae||ae instanceof Uint8Array),Vn.fromUint8Array(ae||new Uint8Array))}(s,e.targetChange.resumeToken),D=e.targetChange.cause,F=D&&function(Z){const ae=void 0===Z.code?mt.UNKNOWN:Kl(Z.code);return new Lt(ae,Z.message||"")}(D);i=new ip(a,c,m,F||null)}else if("documentChange"in e){const a=e.documentChange,c=aa(s,a.document.name),m=po(a.document.updateTime),D=new Vt({mapValue:{fields:a.document.fields}}),F=fn.newFoundDocument(c,m,D);i=new ql(a.targetIds||[],a.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const a=e.documentDelete,c=aa(s,a.document),m=a.readTime?po(a.readTime):de.min(),D=fn.newNoDocument(c,m);i=new ql([],a.removedTargetIds||[],D.key,D)}else if("documentRemove"in e){const a=e.documentRemove,c=aa(s,a.document);i=new ql([],a.removedTargetIds||[],c,null)}else{if(!("filter"in e))return Rn();{const a=e.filter,m=new ep(a.count||0);i=new ud(a.targetId,m)}}var Z;return i}(this.N,e),a=function(c){if(!("targetChange"in c))return de.min();const m=c.targetChange;return m.targetIds&&m.targetIds.length?de.min():m.readTime?po(m.readTime):de.min()}(e);return this.listener.Rr(i,a)}br(e){const i={};i.database=Fi(this.N),i.addTarget=function(c,m){let D;const F=m.target;return D=Mi(F)?{documents:yh(c,F)}:{query:Lu(c,F)},D.targetId=m.targetId,m.resumeToken.approximateByteSize()>0?D.resumeToken=hh(c,m.resumeToken):m.snapshotVersion.compareTo(de.min())>0&&(D.readTime=el(c,m.snapshotVersion.toTimestamp())),D}(this.N,e);const a=function(s,e){const i=function(a,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Rn()}}(0,e.purpose);return null==i?null:{"goog-listen-tags":i}}(0,e);a&&(i.labels=a),this.mr(i)}Pr(e){const i={};i.database=Fi(this.N),i.removeTarget=e,this.mr(i)}}class LE extends b_{constructor(e,i,a,c,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,m),this.N=c,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(e){return this.sr.ji("Write",e)}onMessage(e){if(Zn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.vr){this.ar.reset();const i=function(s,e){return s&&s.length>0?(Zn(void 0!==e),s.map(i=>function(a,c){let m=po(a.updateTime?a.updateTime:c);return m.isEqual(de.min())&&(m=po(c)),new id(m,a.transformResults||[])}(i,e))):[]}(e.writeResults,e.commitTime),a=po(e.commitTime);return this.listener.Dr(a,i)}return Zn(!e.writeResults||0===e.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const e={};e.database=Fi(this.N),this.mr(e)}Sr(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>Tl(this.N,a))};this.mr(i)}}class VE extends class{}{constructor(e,i,a){super(),this.credentials=e,this.sr=i,this.N=a,this.kr=!1}$r(){if(this.kr)throw new Lt(mt.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,i,a){return this.$r(),this.credentials.getToken().then(c=>this.sr.Li(e,i,a,c)).catch(c=>{throw"FirebaseError"===c.name?(c.code===mt.UNAUTHENTICATED&&this.credentials.invalidateToken(),c):new Lt(mt.UNKNOWN,c.toString())})}Ki(e,i,a){return this.$r(),this.credentials.getToken().then(c=>this.sr.Ki(e,i,a,c)).catch(c=>{throw"FirebaseError"===c.name?(c.code===mt.UNAUTHENTICATED&&this.credentials.invalidateToken(),c):new Lt(mt.UNKNOWN,c.toString())})}terminate(){this.kr=!0}}class UE{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(e){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Br("Offline")))}set(e){this.Kr(),this.Or=0,"Online"===e&&(this.Mr=!1),this.Br(e)}Br(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Ur(e){const i=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(Ri(i),this.Mr=!1):Kt("OnlineStateTracker",i)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class xl{constructor(e,i,a,c,m){var D=this;this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=m,this.zr.Ti(F=>{a.enqueueAndForget((0,ne.Z)(function*(){var Z;lc(D)&&(Kt("RemoteStore","Restarting streams for network reachability change."),yield(Z=(0,ne.Z)(function*(ae){const Ae=on(ae);Ae.Wr.add(4),yield ac(Ae),Ae.Hr.set("Unknown"),Ae.Wr.delete(4),yield oc(Ae)}),function(ae){return Z.apply(this,arguments)})(D))}))}),this.Hr=new UE(a,c)}}function oc(s){return Op.apply(this,arguments)}function Op(){return(Op=(0,ne.Z)(function*(s){if(lc(s))for(const e of s.Gr)yield e(!0)})).apply(this,arguments)}function ac(s){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,ne.Z)(function*(s){for(const e of s.Gr)yield e(!1)})).apply(this,arguments)}function Ad(s,e){const i=on(s);i.Qr.has(e.targetId)||(i.Qr.set(e.targetId,e),Np(i)?Bh(i):Lc(i).hr()&&Pp(i,e))}function uc(s,e){const i=on(s),a=Lc(i);i.Qr.delete(e),a.hr()&&nl(i,e),0===i.Qr.size&&(a.hr()?a.wr():lc(i)&&i.Hr.set("Unknown"))}function Pp(s,e){s.Jr.Y(e.targetId),Lc(s).br(e)}function nl(s,e){s.Jr.Y(e),Lc(s).Pr(e)}function Bh(s){s.Jr=new hm({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>s.Qr.get(e)||null}),Lc(s).start(),s.Hr.Lr()}function Np(s){return lc(s)&&!Lc(s).ur()&&s.Qr.size>0}function lc(s){return 0===on(s).Wr.size}function jh(s){s.Jr=void 0}function w_(s){return $h.apply(this,arguments)}function $h(){return($h=(0,ne.Z)(function*(s){s.Qr.forEach((e,i)=>{Pp(s,e)})})).apply(this,arguments)}function C_(s,e){return kp.apply(this,arguments)}function kp(){return(kp=(0,ne.Z)(function*(s,e){jh(s),Np(s)?(s.Hr.qr(e),Bh(s)):s.Hr.set("Unknown")})).apply(this,arguments)}function Rd(s,e,i){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,ne.Z)(function*(s,e,i){if(s.Hr.set("Online"),e instanceof ip&&2===e.state&&e.cause)try{yield(a=(0,ne.Z)(function*(c,m){const D=m.cause;for(const F of m.targetIds)c.Qr.has(F)&&(yield c.remoteSyncer.rejectListen(F,D),c.Qr.delete(F),c.Jr.removeTarget(F))}),function(c,m){return a.apply(this,arguments)})(s,e)}catch(a){Kt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield Nc(s,a)}else if(e instanceof ql?s.Jr.rt(e):e instanceof ud?s.Jr.ft(e):s.Jr.at(e),!i.isEqual(de.min()))try{const a=yield Im(s.localStore);i.compareTo(a)>=0&&(yield function(c,m){const D=c.Jr._t(m);return D.targetChanges.forEach((F,Z)=>{if(F.resumeToken.approximateByteSize()>0){const ae=c.Qr.get(Z);ae&&c.Qr.set(Z,ae.withResumeToken(F.resumeToken,m))}}),D.targetMismatches.forEach(F=>{const Z=c.Qr.get(F);if(!Z)return;c.Qr.set(F,Z.withResumeToken(Vn.EMPTY_BYTE_STRING,Z.snapshotVersion)),nl(c,F);const ae=new Jl(Z.target,F,1,Z.sequenceNumber);Pp(c,ae)}),c.remoteSyncer.applyRemoteEvent(D)}(s,i))}catch(a){Kt("RemoteStore","Failed to raise snapshot:",a),yield Nc(s,a)}var a})).apply(this,arguments)}function Nc(s,e,i){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,ne.Z)(function*(s,e,i){if(!_u(e))throw e;s.Wr.add(1),yield ac(s),s.Hr.set("Offline"),i||(i=()=>Im(s.localStore)),s.asyncQueue.enqueueRetryable((0,ne.Z)(function*(){Kt("RemoteStore","Retrying IndexedDB access"),yield i(),s.Wr.delete(1),yield oc(s)}))})).apply(this,arguments)}function kc(s,e){return e().catch(i=>Nc(s,i,e))}function Tu(s){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,ne.Z)(function*(s){const e=on(s),i=mo(e);let a=e.jr.length>0?e.jr[e.jr.length-1].batchId:-1;for(;Lm(e);)try{const c=yield __(e.localStore,a);if(null===c){0===e.jr.length&&i.wr();break}a=c.batchId,Vm(e,c)}catch(c){yield Nc(e,c)}Hh(e)&&Gh(e)})).apply(this,arguments)}function Lm(s){return lc(s)&&s.jr.length<10}function Vm(s,e){s.jr.push(e);const i=mo(s);i.hr()&&i.Vr&&i.Sr(e.mutations)}function Hh(s){return lc(s)&&!mo(s).ur()&&s.jr.length>0}function Gh(s){mo(s).start()}function Um(s){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,ne.Z)(function*(s){mo(s).Nr()})).apply(this,arguments)}function I_(s){return zh.apply(this,arguments)}function zh(){return(zh=(0,ne.Z)(function*(s){const e=mo(s);for(const i of s.jr)e.Sr(i.mutations)})).apply(this,arguments)}function BE(s,e,i){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,ne.Z)(function*(s,e,i){const a=s.jr.shift(),c=bh.from(a,e,i);yield kc(s,()=>s.remoteSyncer.applySuccessfulWrite(c)),yield Tu(s)})).apply(this,arguments)}function Bm(s,e){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,ne.Z)(function*(s,e){var i;e&&mo(s).Vr&&(yield(i=(0,ne.Z)(function*(a,c){if(Xu(m=c.code)&&m!==mt.ABORTED){const D=a.jr.shift();mo(a).dr(),yield kc(a,()=>a.remoteSyncer.rejectFailedWrite(D.batchId,c)),yield Tu(a)}var m}),function(a,c){return i.apply(this,arguments)})(s,e)),Hh(s)&&Gh(s)})).apply(this,arguments)}function Kh(s,e){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,ne.Z)(function*(s,e){const i=on(s);e?(i.Wr.delete(2),yield oc(i)):e||(i.Wr.add(2),yield ac(i),i.Hr.set("Unknown"))})).apply(this,arguments)}function Lc(s){return s.Yr||(s.Yr=function(e,i,a){const c=on(e);return c.$r(),new FE(i,c.sr,c.credentials,c.N,a)}(s.datastore,s.asyncQueue,{Si:w_.bind(null,s),Ci:C_.bind(null,s),Rr:Rd.bind(null,s)}),s.Gr.push(function(){var e=(0,ne.Z)(function*(i){i?(s.Yr.dr(),Np(s)?Bh(s):s.Hr.set("Unknown")):(yield s.Yr.stop(),jh(s))});return function(i){return e.apply(this,arguments)}}())),s.Yr}function mo(s){return s.Xr||(s.Xr=function(e,i,a){const c=on(e);return c.$r(),new LE(i,c.sr,c.credentials,c.N,a)}(s.datastore,s.asyncQueue,{Si:Um.bind(null,s),Ci:Bm.bind(null,s),Cr:I_.bind(null,s),Dr:BE.bind(null,s)}),s.Gr.push(function(){var e=(0,ne.Z)(function*(i){i?(s.Xr.dr(),yield Tu(s)):(yield s.Xr.stop(),s.jr.length>0&&(Kt("RemoteStore",`Stopping write stream with ${s.jr.length} pending writes`),s.jr=[]))});return function(i){return e.apply(this,arguments)}}())),s.Xr}class Up{constructor(e,i,a,c,m){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=c,this.removalCallback=m,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(D=>{})}static createAndSchedule(e,i,a,c,m){const D=Date.now()+a,F=new Up(e,i,D,c,m);return F.start(a),F}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Lt(mt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vc(s,e){if(Ri("AsyncQueue",`${e}: ${s}`),_u(s))return new Lt(mt.UNAVAILABLE,`${e}: ${s}`);throw s}class Md{constructor(e){this.comparator=e?(i,a)=>e(i,a)||On.comparator(i.key,a.key):(i,a)=>On.comparator(i.key,a.key),this.keyedMap=Cc(),this.sortedSet=new Qs(this.comparator)}static emptySet(e){return new Md(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Md)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const c=i.getNext().key,m=a.getNext().key;if(!c.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,i){const a=new Md;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class T_{constructor(){this.Zr=new Qs(On.comparator)}track(e){const i=e.doc.key,a=this.Zr.get(i);a?0!==e.type&&3===a.type?this.Zr=this.Zr.insert(i,e):3===e.type&&1!==a.type?this.Zr=this.Zr.insert(i,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.Zr=this.Zr.insert(i,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.Zr=this.Zr.insert(i,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.Zr=this.Zr.remove(i):1===e.type&&2===a.type?this.Zr=this.Zr.insert(i,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.Zr=this.Zr.insert(i,{type:2,doc:e.doc}):Rn():this.Zr=this.Zr.insert(i,e)}eo(){const e=[];return this.Zr.inorderTraversal((i,a)=>{e.push(a)}),e}}class cc{constructor(e,i,a,c,m,D,F,Z){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=c,this.mutatedKeys=m,this.fromCache=D,this.syncStateChanged=F,this.excludesMetadataChanges=Z}static fromInitialDocuments(e,i,a,c){const m=[];return i.forEach(D=>{m.push({type:0,doc:D})}),new cc(e,i,Md.emptySet(i),m,a,c,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Za(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let c=0;c<i.length;c++)if(i[c].type!==a[c].type||!i[c].doc.isEqual(a[c].doc))return!1;return!0}}class jE{constructor(){this.no=void 0,this.listeners=[]}}class D_{constructor(){this.queries=new Ml(e=>ml(e),Za),this.onlineState="Unknown",this.so=new Set}}function xd(s,e){return qh.apply(this,arguments)}function qh(){return(qh=(0,ne.Z)(function*(s,e){const i=on(s),a=e.query;let c=!1,m=i.queries.get(a);if(m||(c=!0,m=new jE),c)try{m.no=yield i.onListen(a)}catch(D){const F=Vc(D,`Initialization of query '${nh(e.query)}' failed`);return void e.onError(F)}i.queries.set(a,m),m.listeners.push(e),e.io(i.onlineState),m.no&&e.ro(m.no)&&$p(i)})).apply(this,arguments)}function Bp(s,e){return jp.apply(this,arguments)}function jp(){return(jp=(0,ne.Z)(function*(s,e){const i=on(s),a=e.query;let c=!1;const m=i.queries.get(a);if(m){const D=m.listeners.indexOf(e);D>=0&&(m.listeners.splice(D,1),c=0===m.listeners.length)}if(c)return i.queries.delete(a),i.onUnlisten(a)})).apply(this,arguments)}function S_(s,e){const i=on(s);let a=!1;for(const c of e){const D=i.queries.get(c.query);if(D){for(const F of D.listeners)F.ro(c)&&(a=!0);D.no=c}}a&&$p(i)}function jm(s,e,i){const a=on(s),c=a.queries.get(e);if(c)for(const m of c.listeners)m.onError(i);a.queries.delete(e)}function $p(s){s.so.forEach(e=>{e.next()})}class Zh{constructor(e,i,a){this.query=e,this.oo=i,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=a||{}}ro(e){if(!this.options.includeMetadataChanges){const a=[];for(const c of e.docChanges)3!==c.type&&a.push(c);e=new cc(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let i=!1;return this.co?this.uo(e)&&(this.oo.next(e),i=!0):this.ho(e,this.onlineState)&&(this.lo(e),i=!0),this.ao=e,i}onError(e){this.oo.error(e)}io(e){this.onlineState=e;let i=!1;return this.ao&&!this.co&&this.ho(this.ao,e)&&(this.lo(this.ao),i=!0),i}ho(e,i){return!e.fromCache||!(this.options.fo&&"Offline"!==i||e.docs.isEmpty()&&"Offline"!==i)}uo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(e){e=cc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.oo.next(e)}}class A_{constructor(e,i){this.payload=e,this.byteLength=i}wo(){return"metadata"in this.payload}}class $m{constructor(e){this.N=e}zn(e){return aa(this.N,e)}Hn(e){return e.metadata.exists?Zl(this.N,e.document,!1):fn.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return po(e)}}class Hm{constructor(e,i,a){this._o=e,this.localStore=i,this.N=a,this.queries=[],this.documents=[],this.progress=Hp(e)}mo(e){this.progress.bytesLoaded+=e.byteLength;let i=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++i):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++i),i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}yo(e){const i=new Map,a=new $m(this.N);for(const c of e)if(c.metadata.queries){const m=a.zn(c.metadata.name);for(const D of c.metadata.queries){const F=(i.get(D)||Qr()).add(m);i.set(D,F)}}return i}complete(){var e=this;return(0,ne.Z)(function*(){const i=yield function(s,e,i,a){return Pc.apply(this,arguments)}(e.localStore,new $m(e.N),e.documents,e._o.id),a=e.yo(e.documents);for(const c of e.queries)yield Cu(e.localStore,c,a.get(c.name));return e.progress.taskState="Success",new Ep(Object.assign({},e.progress),i)})()}}function Hp(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class Gm{constructor(e){this.key=e}}class Du{constructor(e){this.key=e}}class Yh{constructor(e,i){this.query=e,this.po=i,this.To=null,this.current=!1,this.Eo=Qr(),this.mutatedKeys=Qr(),this.Io=Qa(e),this.Ao=new Md(this.Io)}get Ro(){return this.po}bo(e,i){const a=i?i.Po:new T_,c=i?i.Ao:this.Ao;let m=i?i.mutatedKeys:this.mutatedKeys,D=c,F=!1;const Z=pi(this.query)&&c.size===this.query.limit?c.last():null,ae=Ro(this.query)&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((Ae,et)=>{const bt=c.get(Ae),Ot=Ya(this.query,et)?et:null,tn=!!bt&&this.mutatedKeys.has(bt.key),jn=!!Ot&&(Ot.hasLocalMutations||this.mutatedKeys.has(Ot.key)&&Ot.hasCommittedMutations);let xr=!1;bt&&Ot?bt.data.isEqual(Ot.data)?tn!==jn&&(a.track({type:3,doc:Ot}),xr=!0):this.vo(bt,Ot)||(a.track({type:2,doc:Ot}),xr=!0,(Z&&this.Io(Ot,Z)>0||ae&&this.Io(Ot,ae)<0)&&(F=!0)):!bt&&Ot?(a.track({type:0,doc:Ot}),xr=!0):bt&&!Ot&&(a.track({type:1,doc:bt}),xr=!0,(Z||ae)&&(F=!0)),xr&&(Ot?(D=D.add(Ot),m=jn?m.add(Ae):m.delete(Ae)):(D=D.delete(Ae),m=m.delete(Ae)))}),pi(this.query)||Ro(this.query))for(;D.size>this.query.limit;){const Ae=pi(this.query)?D.last():D.first();D=D.delete(Ae.key),m=m.delete(Ae.key),a.track({type:1,doc:Ae})}return{Ao:D,Po:a,Ln:F,mutatedKeys:m}}vo(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a){const c=this.Ao;this.Ao=e.Ao,this.mutatedKeys=e.mutatedKeys;const m=e.Po.eo();m.sort((ae,Ae)=>function(et,bt){const Ot=tn=>{switch(tn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rn()}};return Ot(et)-Ot(bt)}(ae.type,Ae.type)||this.Io(ae.doc,Ae.doc)),this.Vo(a);const D=i?this.So():[],F=0===this.Eo.size&&this.current?1:0,Z=F!==this.To;return this.To=F,0!==m.length||Z?{snapshot:new cc(this.query,e.Ao,c,m,e.mutatedKeys,0===F,Z,!1),Do:D}:{Do:D}}io(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new T_,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(e){return!this.po.has(e)&&!!this.Ao.has(e)&&!this.Ao.get(e).hasLocalMutations}Vo(e){e&&(e.addedDocuments.forEach(i=>this.po=this.po.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.po=this.po.delete(i)),this.current=e.current)}So(){if(!this.current)return[];const e=this.Eo;this.Eo=Qr(),this.Ao.forEach(a=>{this.Co(a.key)&&(this.Eo=this.Eo.add(a.key))});const i=[];return e.forEach(a=>{this.Eo.has(a)||i.push(new Du(a))}),this.Eo.forEach(a=>{e.has(a)||i.push(new Gm(a))}),i}No(e){this.po=e.Gn,this.Eo=Qr();const i=this.bo(e.documents);return this.applyChanges(i,!0)}xo(){return cc.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class R_{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class M_{constructor(e){this.key=e,this.ko=!1}}class $E{constructor(e,i,a,c,m,D){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=c,this.currentUser=m,this.maxConcurrentLimboResolutions=D,this.$o={},this.Oo=new Ml(F=>ml(F),Za),this.Fo=new Map,this.Mo=new Set,this.Lo=new Qs(On.comparator),this.Bo=new Map,this.Uo=new bd,this.qo={},this.Ko=new Map,this.jo=ic.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}function zm(s,e){return Gp.apply(this,arguments)}function Gp(){return(Gp=(0,ne.Z)(function*(s,e){const i=og(s);let a,c;const m=i.Oo.get(e);if(m)a=m.targetId,i.sharedClientState.addLocalQueryTarget(a),c=m.view.xo();else{const D=yield xc(i.localStore,Ps(e)),F=i.sharedClientState.addLocalQueryTarget(D.targetId);a=D.targetId,c=yield zp(i,e,a,"current"===F),i.isPrimaryClient&&Ad(i.remoteStore,D)}return c})).apply(this,arguments)}function zp(s,e,i,a){return Wp.apply(this,arguments)}function Wp(){return(Wp=(0,ne.Z)(function*(s,e,i,a){s.Wo=(Ae,et,bt)=>{return(Ot=(0,ne.Z)(function*(tn,jn,xr,ks){let ru=jn.view.bo(xr);ru.Ln&&(ru=yield Fh(tn.localStore,jn.query,!1).then(({documents:zu})=>jn.view.bo(zu,ru)));const xu=ks&&ks.targetChanges.get(jn.targetId),Gu=jn.view.applyChanges(ru,tn.isPrimaryClient,xu);return Su(tn,jn.targetId,Gu.Do),Gu.snapshot}),function(tn,jn,xr,ks){return Ot.apply(this,arguments)})(s,Ae,et,bt);var Ot};const c=yield Fh(s.localStore,e,!0),m=new Yh(e,c.Gn),D=m.bo(c.documents),F=pu.createSynthesizedTargetChangeForCurrentChange(i,a&&"Offline"!==s.onlineState),Z=m.applyChanges(D,s.isPrimaryClient,F);Su(s,i,Z.Do);const ae=new R_(e,i,m);return s.Oo.set(e,ae),s.Fo.has(i)?s.Fo.get(i).push(e):s.Fo.set(i,[e]),Z.snapshot})).apply(this,arguments)}function Kp(s,e){return qp.apply(this,arguments)}function qp(){return(qp=(0,ne.Z)(function*(s,e){const i=on(s),a=i.Oo.get(e),c=i.Fo.get(a.targetId);if(c.length>1)return i.Fo.set(a.targetId,c.filter(m=>!Za(m,e))),void i.Oo.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||(yield Oc(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),uc(i.remoteStore,a.targetId),dc(i,a.targetId)}).catch(Rl))):(dc(i,a.targetId),yield Oc(i.localStore,a.targetId,!0))})).apply(this,arguments)}function Uc(){return(Uc=(0,ne.Z)(function*(s,e,i){const a=ag(s);try{const c=yield function(m,D){const F=on(m),Z=X.now(),ae=D.reduce((et,bt)=>et.add(bt.key),Qr());let Ae;return F.persistence.runTransaction("Locally write mutations","readwrite",et=>F.Qn.Pn(et,ae).next(bt=>{Ae=bt;const Ot=[];for(const tn of D){const jn=Xf(tn,Ae.get(tn.key));null!=jn&&Ot.push(new hu(tn.key,jn,ln(jn.value.mapValue),ys.exists(!0)))}return F.In.addMutationBatch(et,Z,Ot,D)})).then(et=>(et.applyToLocalDocumentSet(Ae),{batchId:et.batchId,changes:Ae}))}(a.localStore,e);a.sharedClientState.addPendingMutation(c.batchId),function(m,D,F){let Z=m.qo[m.currentUser.toKey()];Z||(Z=new Qs(v)),Z=Z.insert(D,F),m.qo[m.currentUser.toKey()]=Z}(a,c.batchId,i),yield rl(a,c.changes),yield Tu(a.remoteStore)}catch(c){const m=Vc(c,"Failed to persist write");i.reject(m)}})).apply(this,arguments)}function Qh(s,e){return Zp.apply(this,arguments)}function Zp(){return(Zp=(0,ne.Z)(function*(s,e){const i=on(s);try{const a=yield Tm(i.localStore,e);e.targetChanges.forEach((c,m)=>{const D=i.Bo.get(m);D&&(Zn(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?D.ko=!0:c.modifiedDocuments.size>0?Zn(D.ko):c.removedDocuments.size>0&&(Zn(D.ko),D.ko=!1))}),yield rl(i,a,e)}catch(a){yield Rl(a)}})).apply(this,arguments)}function Jh(s,e,i){const a=on(s);if(a.isPrimaryClient&&0===i||!a.isPrimaryClient&&1===i){const c=[];a.Oo.forEach((m,D)=>{const F=D.view.io(e);F.snapshot&&c.push(F.snapshot)}),function(m,D){const F=on(m);F.onlineState=D;let Z=!1;F.queries.forEach((ae,Ae)=>{for(const et of Ae.listeners)et.io(D)&&(Z=!0)}),Z&&$p(F)}(a.eventManager,e),c.length&&a.$o.Rr(c),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function Yp(s,e,i){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,ne.Z)(function*(s,e,i){const a=on(s);a.sharedClientState.updateQueryState(e,"rejected",i);const c=a.Bo.get(e),m=c&&c.key;if(m){let D=new Qs(On.comparator);D=D.insert(m,fn.newNoDocument(m,de.min()));const F=Qr().add(m),Z=new fu(de.min(),new Map,new As(v),D,F);yield Qh(a,Z),a.Lo=a.Lo.remove(m),a.Bo.delete(e),eg(a)}else yield Oc(a.localStore,e,!1).then(()=>dc(a,e,i)).catch(Rl)})).apply(this,arguments)}function O_(s,e){return Qp.apply(this,arguments)}function Qp(){return(Qp=(0,ne.Z)(function*(s,e){const i=on(s),a=e.batch.batchId;try{const c=yield wu(i.localStore,e);nf(i,a,null),tf(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),yield rl(i,c)}catch(c){yield Rl(c)}})).apply(this,arguments)}function Jp(s,e,i){return Wm.apply(this,arguments)}function Wm(){return(Wm=(0,ne.Z)(function*(s,e,i){const a=on(s);try{const c=yield function(m,D){const F=on(m);return F.persistence.runTransaction("Reject batch","readwrite-primary",Z=>{let ae;return F.In.lookupMutationBatch(Z,D).next(Ae=>(Zn(null!==Ae),ae=Ae.keys(),F.In.removeMutationBatch(Z,Ae))).next(()=>F.In.performConsistencyCheck(Z)).next(()=>F.Qn.Pn(Z,ae))})}(a.localStore,e);nf(a,e,i),tf(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),yield rl(a,c)}catch(c){yield Rl(c)}})).apply(this,arguments)}function ef(){return(ef=(0,ne.Z)(function*(s,e){const i=on(s);lc(i.remoteStore)||Kt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(m){const D=on(m);return D.persistence.runTransaction("Get highest unacknowledged batch id","readonly",F=>D.In.getHighestUnacknowledgedBatchId(F))}(i.localStore);if(-1===a)return void e.resolve();const c=i.Ko.get(a)||[];c.push(e),i.Ko.set(a,c)}catch(a){const c=Vc(a,"Initialization of waitForPendingWrites() operation failed");e.reject(c)}})).apply(this,arguments)}function tf(s,e){(s.Ko.get(e)||[]).forEach(i=>{i.resolve()}),s.Ko.delete(e)}function nf(s,e,i){const a=on(s);let c=a.qo[a.currentUser.toKey()];if(c){const m=c.get(e);m&&(i?m.reject(i):m.resolve(),c=c.remove(e)),a.qo[a.currentUser.toKey()]=c}}function dc(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Fo.get(e))s.Oo.delete(a),i&&s.$o.Go(a,i);s.Fo.delete(e),s.isPrimaryClient&&s.Uo.cs(e).forEach(a=>{s.Uo.containsKey(a)||Xp(s,a)})}function Xp(s,e){s.Mo.delete(e.path.canonicalString());const i=s.Lo.get(e);null!==i&&(uc(s.remoteStore,i),s.Lo=s.Lo.remove(e),s.Bo.delete(i),eg(s))}function Su(s,e,i){for(const a of i)a instanceof Gm?(s.Uo.addReference(a.key,e),rf(s,a)):a instanceof Du?(Kt("SyncEngine","Document no longer in limbo: "+a.key),s.Uo.removeReference(a.key,e),s.Uo.containsKey(a.key)||Xp(s,a.key)):Rn()}function rf(s,e){const i=e.key,a=i.path.canonicalString();s.Lo.get(i)||s.Mo.has(a)||(Kt("SyncEngine","New document in limbo: "+i),s.Mo.add(a),eg(s))}function eg(s){for(;s.Mo.size>0&&s.Lo.size<s.maxConcurrentLimboResolutions;){const e=s.Mo.values().next().value;s.Mo.delete(e);const i=new On(en.fromString(e)),a=s.jo.next();s.Bo.set(a,new M_(i)),s.Lo=s.Lo.insert(i,a),Ad(s.remoteStore,new Jl(Ps(Ti(i.path)),a,2,Os.T))}}function rl(s,e,i){return Km.apply(this,arguments)}function Km(){return(Km=(0,ne.Z)(function*(s,e,i){const a=on(s),c=[],m=[],D=[];var F;a.Oo.isEmpty()||(a.Oo.forEach((F,Z)=>{D.push(a.Wo(Z,e,i).then(ae=>{if(ae){a.isPrimaryClient&&a.sharedClientState.updateQueryState(Z.targetId,ae.fromCache?"not-current":"current"),c.push(ae);const Ae=wm.kn(Z.targetId,ae);m.push(Ae)}}))}),yield Promise.all(D),a.$o.Rr(c),yield(F=(0,ne.Z)(function*(Z,ae){const Ae=on(Z);try{yield Ae.persistence.runTransaction("notifyLocalViewChanges","readwrite",et=>Ut.forEach(ae,bt=>Ut.forEach(bt.Nn,Ot=>Ae.persistence.referenceDelegate.addReference(et,bt.targetId,Ot)).next(()=>Ut.forEach(bt.xn,Ot=>Ae.persistence.referenceDelegate.removeReference(et,bt.targetId,Ot)))))}catch(et){if(!_u(et))throw et;Kt("LocalStore","Failed to update sequence numbers: "+et)}for(const et of ae){const bt=et.targetId;if(!et.fromCache){const Ot=Ae.Un.get(bt),jn=Ot.withLastLimboFreeSnapshotVersion(Ot.snapshotVersion);Ae.Un=Ae.Un.insert(bt,jn)}}}),function(Z,ae){return F.apply(this,arguments)})(a.localStore,m))})).apply(this,arguments)}function Bc(s,e){return sf.apply(this,arguments)}function sf(){return(sf=(0,ne.Z)(function*(s,e){const i=on(s);if(!i.currentUser.isEqual(e)){Kt("SyncEngine","User change. New user:",e.toKey());const a=yield Cm(i.localStore,e);i.currentUser=e,(c=i).Ko.forEach(D=>{D.forEach(F=>{F.reject(new Lt(mt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Ko.clear(),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield rl(i,a.Wn)}var c})).apply(this,arguments)}function Od(s,e){const i=on(s),a=i.Bo.get(e);if(a&&a.ko)return Qr().add(a.key);{let c=Qr();const m=i.Fo.get(e);if(!m)return c;for(const D of m){const F=i.Oo.get(D);c=c.unionWith(F.view.Ro)}return c}}function Pd(s,e){return tg.apply(this,arguments)}function tg(){return(tg=(0,ne.Z)(function*(s,e){const i=on(s),a=yield Fh(i.localStore,e.query,!0),c=e.view.No(a);return i.isPrimaryClient&&Su(i,e.targetId,c.Do),c})).apply(this,arguments)}function ng(s){return af.apply(this,arguments)}function af(){return(af=(0,ne.Z)(function*(s){const e=on(s);return Am(e.localStore).then(i=>rl(e,i))})).apply(this,arguments)}function N_(s,e,i,a){return uf.apply(this,arguments)}function uf(){return(uf=(0,ne.Z)(function*(s,e,i,a){const c=on(s),m=yield function(D,F){const Z=on(D),ae=on(Z.In);return Z.persistence.runTransaction("Lookup mutation documents","readonly",Ae=>ae.Xt(Ae,F).next(et=>et?Z.Qn.Pn(Ae,et):Ut.resolve(null)))}(c.localStore,e);var F;null!==m?("pending"===i?yield Tu(c.remoteStore):"acknowledged"===i||"rejected"===i?(nf(c,e,a||null),tf(c,e),F=e,on(on(c.localStore).In).te(F)):Rn(),yield rl(c,m)):Kt("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Nd(){return(Nd=(0,ne.Z)(function*(s,e){const i=on(s);if(og(i),ag(i),!0===e&&!0!==i.Qo){const a=i.sharedClientState.getAllActiveQueryTargets(),c=yield qm(i,a.toArray());i.Qo=!0,yield Kh(i.remoteStore,!0);for(const m of c)Ad(i.remoteStore,m)}else if(!1===e&&!1!==i.Qo){const a=[];let c=Promise.resolve();i.Fo.forEach((m,D)=>{i.sharedClientState.isLocalQueryTarget(D)?a.push(D):c=c.then(()=>(dc(i,D),Oc(i.localStore,D,!0))),uc(i.remoteStore,D)}),yield c,yield qm(i,a),function(m){const D=on(m);D.Bo.forEach((F,Z)=>{uc(D.remoteStore,Z)}),D.Uo.us(),D.Bo=new Map,D.Lo=new Qs(On.comparator)}(i),i.Qo=!1,yield Kh(i.remoteStore,!1)}})).apply(this,arguments)}function qm(s,e,i){return rg.apply(this,arguments)}function rg(){return(rg=(0,ne.Z)(function*(s,e,i){const a=on(s),c=[],m=[];for(const D of e){let F;const Z=a.Fo.get(D);if(Z&&0!==Z.length){F=yield xc(a.localStore,Ps(Z[0]));for(const ae of Z){const Ae=a.Oo.get(ae),et=yield Pd(a,Ae);et.snapshot&&m.push(et.snapshot)}}else{const ae=yield Sm(a.localStore,D);F=yield xc(a.localStore,ae),yield zp(a,ig(ae),D,!1)}c.push(F)}return a.$o.Rr(m),c})).apply(this,arguments)}function ig(s){return xi(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function jc(s){const e=on(s);return on(on(e.localStore).persistence).pn()}function Zm(s,e,i,a){return sg.apply(this,arguments)}function sg(){return(sg=(0,ne.Z)(function*(s,e,i,a){const c=on(s);if(c.Qo)Kt("SyncEngine","Ignoring unexpected query state notification.");else if(c.Fo.has(e))switch(i){case"current":case"not-current":{const m=yield Am(c.localStore),D=fu.createSynthesizedRemoteEventForCurrentChange(e,"current"===i);yield rl(c,m,D);break}case"rejected":yield Oc(c.localStore,e,!0),dc(c,e,a);break;default:Rn()}})).apply(this,arguments)}function F_(s,e,i){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,ne.Z)(function*(s,e,i){const a=og(s);if(a.Qo){for(const c of e){if(a.Fo.has(c)){Kt("SyncEngine","Adding an already active target "+c);continue}const m=yield Sm(a.localStore,c),D=yield xc(a.localStore,m);yield zp(a,ig(m),D.targetId,!1),Ad(a.remoteStore,D)}for(const c of i)a.Fo.has(c)&&(yield Oc(a.localStore,c,!1).then(()=>{uc(a.remoteStore,c),dc(a,c)}).catch(Rl))}})).apply(this,arguments)}function og(s){const e=on(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Od.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yp.bind(null,e),e.$o.Rr=S_.bind(null,e.eventManager),e.$o.Go=jm.bind(null,e.eventManager),e}function ag(s){const e=on(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Jp.bind(null,e),e}class Ym{constructor(){this.synchronizeTabs=!1}initialize(e){var i=this;return(0,ne.Z)(function*(){i.N=Uh(e.databaseInfo.databaseId),i.sharedClientState=i.Ho(e),i.persistence=i.Jo(e),yield i.persistence.start(),i.gcScheduler=i.Yo(e),i.localStore=i.Xo(e)})()}Yo(e){return null}Xo(e){return Cp(this.persistence,new wp,e.initialUser,this.N)}Jo(e){return new xm(Iu.Ns,this.N)}Ho(e){return new Rp}terminate(){var e=this;return(0,ne.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class V_ extends Ym{constructor(e,i,a){super(),this.Zo=e,this.cacheSizeBytes=i,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(e){var i=()=>super.initialize,a=this;return(0,ne.Z)(function*(){yield i().call(a,e),yield function(s){return Lh.apply(this,arguments)}(a.localStore),yield a.Zo.initialize(a,e),yield ag(a.Zo.syncEngine),yield Tu(a.Zo.remoteStore),yield a.persistence.nn(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(a.localStore),Promise.resolve()))})()}Xo(e){return Cp(this.persistence,new wp,e.initialUser,this.N)}Yo(e){return new m_(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Jo(e){const i=Nh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Ia.withCacheSize(this.cacheSizeBytes):Ia.DEFAULT;return new Oh(this.synchronizeTabs,i,e.clientId,a,e.asyncQueue,E_(),xp(),this.N,this.sharedClientState,!!this.forceOwnership)}Ho(e){return new Rp}}class U_ extends V_{constructor(e,i){super(e,i,!1),this.Zo=e,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(e){var i=()=>super.initialize,a=this;return(0,ne.Z)(function*(){yield i().call(a,e);const c=a.Zo.syncEngine;a.sharedClientState instanceof Pm&&(a.sharedClientState.syncEngine={_i:N_.bind(null,c),mi:Zm.bind(null,c),gi:F_.bind(null,c),pn:jc.bind(null,c),wi:ng.bind(null,c)},yield a.sharedClientState.start()),yield a.persistence.nn(function(){var m=(0,ne.Z)(function*(D){yield function(s,e){return Nd.apply(this,arguments)}(a.Zo.syncEngine,D),a.gcScheduler&&(D&&!a.gcScheduler.started?a.gcScheduler.start(a.localStore):D||a.gcScheduler.stop())});return function(D){return m.apply(this,arguments)}}())})()}Ho(e){const i=E_();if(!Pm.bt(i))throw new Lt(mt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Nh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Pm(i,e.asyncQueue,a,e.clientId,e.initialUser)}}class lf{initialize(e,i){var a=this;return(0,ne.Z)(function*(){a.localStore||(a.localStore=e.localStore,a.sharedClientState=e.sharedClientState,a.datastore=a.createDatastore(i),a.remoteStore=a.createRemoteStore(i),a.eventManager=a.createEventManager(i),a.syncEngine=a.createSyncEngine(i,!e.synchronizeTabs),a.sharedClientState.onlineStateHandler=c=>Jh(a.syncEngine,c,1),a.remoteStore.remoteSyncer.handleCredentialChange=Bc.bind(null,a.syncEngine),yield Kh(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(e){return new D_}createDatastore(e){const i=Uh(e.databaseInfo.databaseId),a=new kE(e.databaseInfo);return new VE(e.credentials,a,i)}createRemoteStore(e){return i=this.localStore,a=this.datastore,c=e.asyncQueue,m=F=>Jh(this.syncEngine,F,0),D=km.bt()?new km:new Nm,new xl(i,a,c,m,D);var i,a,c,m,D}createSyncEngine(e,i){return function(a,c,m,D,F,Z,ae){const Ae=new $E(a,c,m,D,F,Z);return ae&&(Ae.Qo=!0),Ae}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){return(e=(0,ne.Z)(function*(i){const a=on(i);Kt("RemoteStore","RemoteStore shutting down."),a.Wr.add(5),yield ac(a),a.zr.shutdown(),a.Hr.set("Unknown")}),function(i){return e.apply(this,arguments)})(this.remoteStore);var e}}function _s(s,e=10240){let i=0;return{read:()=>(0,ne.Z)(function*(){if(i<s.byteLength){const a={value:s.slice(i,i+e),done:!1};return i+=e,a}return{done:!0}})(),cancel:()=>(0,ne.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class $c{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.tc(this.observer.next,e)}error(e){this.observer.error?this.tc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}ec(){this.muted=!0}tc(e,i){this.muted||setTimeout(()=>{this.muted||e(i)},0)}}class HE{constructor(e,i){this.nc=e,this.N=i,this.metadata=new ji,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then(a=>{a&&a.wo()?this.metadata.resolve(a.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.payload)}`))},a=>this.metadata.reject(a))}close(){return this.nc.cancel()}getMetadata(){var e=this;return(0,ne.Z)(function*(){return e.metadata.promise})()}zo(){var e=this;return(0,ne.Z)(function*(){return yield e.getMetadata(),e.ic()})()}ic(){var e=this;return(0,ne.Z)(function*(){const i=yield e.rc();if(null===i)return null;const a=e.sc.decode(i),c=Number(a);isNaN(c)&&e.oc(`length string (${a}) is not valid number`);const m=yield e.cc(c);return new A_(JSON.parse(m),i.length+c)})()}ac(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}rc(){var e=this;return(0,ne.Z)(function*(){for(;e.ac()<0&&!(yield e.uc()););if(0===e.buffer.length)return null;const i=e.ac();i<0&&e.oc("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,i);return e.buffer=e.buffer.slice(i),a})()}cc(e){var i=this;return(0,ne.Z)(function*(){for(;i.buffer.length<e;)(yield i.uc())&&i.oc("Reached the end of bundle when more is expected.");const a=i.sc.decode(i.buffer.slice(0,e));return i.buffer=i.buffer.slice(e),a})()}oc(e){throw this.nc.cancel(),new Error(`Invalid bundle format: ${e}`)}uc(){var e=this;return(0,ne.Z)(function*(){const i=yield e.nc.read();if(!i.done){const a=new Uint8Array(e.buffer.length+i.value.length);a.set(e.buffer),a.set(i.value,e.buffer.length),e.buffer=a}return i.done})()}}class il{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var i=this;return(0,ne.Z)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw new Lt(mt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(c=(0,ne.Z)(function*(m,D){const F=on(m),Z=Fi(F.N)+"/documents",ae={documents:D.map(Ot=>Ja(F.N,Ot))},Ae=yield F.Ki("BatchGetDocuments",Z,ae),et=new Map;Ae.forEach(Ot=>{const tn=function(s,e){return"found"in e?function(i,a){Zn(!!a.found);const c=aa(i,a.found.name),m=po(a.found.updateTime),D=new Vt({mapValue:{fields:a.found.fields}});return fn.newFoundDocument(c,m,D)}(s,e):"missing"in e?function(i,a){Zn(!!a.missing),Zn(!!a.readTime);const c=aa(i,a.missing),m=po(a.readTime);return fn.newNoDocument(c,m)}(s,e):Rn()}(F.N,Ot);et.set(tn.key.toString(),tn)});const bt=[];return D.forEach(Ot=>{const tn=et.get(Ot.toString());Zn(!!tn),bt.push(tn)}),bt}),function(m,D){return c.apply(this,arguments)})(i.datastore,e);var c;return a.forEach(c=>i.recordVersion(c)),a})()}set(e,i){this.write(i.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,i){try{this.write(i.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new zl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ne.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const i=e.readVersions;var a;e.mutations.forEach(a=>{i.delete(a.key.toString())}),i.forEach((a,c)=>{const m=On.fromPath(c);e.mutations.push(new Wl(m,e.precondition(m)))}),yield(a=(0,ne.Z)(function*(c,m){const D=on(c),F=Fi(D.N)+"/documents",Z={writes:m.map(ae=>Tl(D.N,ae))};yield D.Li("Commit",F,Z)}),function(c,m){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let i;if(e.isFoundDocument())i=e.version;else{if(!e.isNoDocument())throw Rn();i=de.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!i.isEqual(a))throw new Lt(mt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),i)}precondition(e){const i=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&i?ys.updateTime(i):ys.none()}preconditionForUpdate(e){const i=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&i){if(i.isEqual(de.min()))throw new Lt(mt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ys.updateTime(i)}return ys.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ug{constructor(e,i,a,c){this.asyncQueue=e,this.datastore=i,this.updateFunction=a,this.deferred=c,this.hc=5,this.ar=new Fm(this.asyncQueue,"transaction_retry")}run(){this.hc-=1,this.lc()}lc(){var e=this;this.ar.Xi((0,ne.Z)(function*(){const i=new il(e.datastore),a=e.fc(i);a&&a.then(c=>{e.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{e.deferred.resolve(c)}).catch(m=>{e.dc(m)}))}).catch(c=>{e.dc(c)})}))}fc(e){try{const i=this.updateFunction(e);return!Ys(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}dc(e){this.hc>0&&this.wc(e)?(this.hc-=1,this.asyncQueue.enqueueAndForget(()=>(this.lc(),Promise.resolve()))):this.deferred.reject(e)}wc(e){if("FirebaseError"===e.name){const i=e.code;return"aborted"===i||"failed-precondition"===i||!Xu(i)}return!1}}class lg{constructor(e,i,a){var c=this;this.credentials=e,this.asyncQueue=i,this.databaseInfo=a,this.user=fi.UNAUTHENTICATED,this.clientId=C.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(i,function(){var m=(0,ne.Z)(function*(D){Kt("FirestoreClient","Received user=",D.uid),yield c.credentialListener(D),c.user=D});return function(D){return m.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,ne.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Lt(mt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const i=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ne.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),i.resolve()}catch(a){const c=Vc(a,"Failed to shutdown persistence");i.reject(c)}})),i.promise}}function B_(s,e){return cg.apply(this,arguments)}function cg(){return(cg=(0,ne.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress(),Kt("FirestoreClient","Initializing OfflineComponentProvider");const i=yield s.getConfiguration();yield e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(function(){var c=(0,ne.Z)(function*(m){a.isEqual(m)||(yield Cm(e.localStore,m),a=m)});return function(m){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=e})).apply(this,arguments)}function Qm(s,e){return cf.apply(this,arguments)}function cf(){return(cf=(0,ne.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress();const i=yield df(s);Kt("FirestoreClient","Initializing OnlineComponentProvider");const a=yield s.getConfiguration();yield e.initialize(i,a),s.setCredentialChangeListener(c=>{return(m=(0,ne.Z)(function*(D,F){const Z=on(D);Z.asyncQueue.verifyOperationInProgress(),Kt("RemoteStore","RemoteStore received new credentials");const ae=lc(Z);Z.Wr.add(3),yield ac(Z),ae&&Z.Hr.set("Unknown"),yield Z.remoteSyncer.handleCredentialChange(F),Z.Wr.delete(3),yield oc(Z)}),function(D,F){return m.apply(this,arguments)})(e.remoteStore,c);var m}),s.onlineComponents=e})).apply(this,arguments)}function df(s){return hf.apply(this,arguments)}function hf(){return(hf=(0,ne.Z)(function*(s){return s.offlineComponents||(Kt("FirestoreClient","Using default OfflineComponentProvider"),yield B_(s,new Ym)),s.offlineComponents})).apply(this,arguments)}function kd(s){return dg.apply(this,arguments)}function dg(){return(dg=(0,ne.Z)(function*(s){return s.onlineComponents||(Kt("FirestoreClient","Using default OnlineComponentProvider"),yield Qm(s,new lf)),s.onlineComponents})).apply(this,arguments)}function Jm(s){return df(s).then(e=>e.persistence)}function hc(s){return df(s).then(e=>e.localStore)}function ff(s){return kd(s).then(e=>e.remoteStore)}function pf(s){return kd(s).then(e=>e.syncEngine)}function fc(s){return gf.apply(this,arguments)}function gf(){return(gf=(0,ne.Z)(function*(s){const e=yield kd(s),i=e.eventManager;return i.onListen=zm.bind(null,e.syncEngine),i.onUnlisten=Kp.bind(null,e.syncEngine),i})).apply(this,arguments)}function ey(s,e,i={}){const a=new ji;return s.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return function(c,m,D,F,Z){const ae=new $c({next:et=>{m.enqueueAndForget(()=>Bp(c,Ae));const bt=et.docs.has(D);!bt&&et.fromCache?Z.reject(new Lt(mt.UNAVAILABLE,"Failed to get document because the client is offline.")):bt&&et.fromCache&&F&&"server"===F.source?Z.reject(new Lt(mt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Z.resolve(et)},error:et=>Z.reject(et)}),Ae=new Zh(Ti(D.path),ae,{includeMetadataChanges:!0,fo:!0});return xd(c,Ae)}(yield fc(s),s.asyncQueue,e,i,a)})),a.promise}function hg(s,e,i={}){const a=new ji;return s.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return function(c,m,D,F,Z){const ae=new $c({next:et=>{m.enqueueAndForget(()=>Bp(c,Ae)),et.fromCache&&"server"===F.source?Z.reject(new Lt(mt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Z.resolve(et)},error:et=>Z.reject(et)}),Ae=new Zh(D,ae,{includeMetadataChanges:!0,fo:!0});return xd(c,Ae)}(yield fc(s),s.asyncQueue,e,i,a)})),a.promise}class zE{constructor(e,i,a,c,m,D,F,Z){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=c,this.ssl=m,this.forceLongPolling=D,this.autoDetectLongPolling=F,this.useFetchStreams=Z}}class Fd{constructor(e,i){this.projectId=e,this.database=i||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Fd&&e.projectId===this.projectId&&e.database===this.database}}const mf=new Map;function fg(s,e,i){if(!i)throw new Lt(mt.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function pg(s,e,i,a){if(!0===e&&!0===a)throw new Lt(mt.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function gg(s){if(!On.isDocumentKey(s))throw new Lt(mt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function W_(s){if(On.isDocumentKey(s))throw new Lt(mt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Da(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const e=(i=s).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof s?"a function":Rn()}function bi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new Lt(mt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Da(s);throw new Lt(mt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function K_(s,e){if(e<=0)throw new Lt(mt.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}class q_{constructor(e){var i;if(void 0===e.host){if(void 0!==e.ssl)throw new Lt(mt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(i=e.ssl)||void 0===i||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Lt(mt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,pg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hc{constructor(e,i){this._credentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q_({}),this._settingsFrozen=!1,e instanceof Fd?this._databaseId=e:(this._app=e,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Lt(mt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fd(a.options.projectId)}(e))}get app(){if(!this._app)throw new Lt(mt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Lt(mt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q_(e),void 0!==e.credentials&&(this._credentials=function(i){if(!i)return new xs;switch(i.type){case"gapi":const a=i.client;return Zn(!("object"!=typeof a||null===a||!a.auth||!a.auth.getAuthHeaderValueForFirstParty)),new Ka(a,i.sessionIndex||"0",i.iamToken||null);case"provider":return i.client;default:throw new Lt(mt.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=mf.get(e);i&&(Kt("ComponentProvider","Removing Datastore"),mf.delete(e),i.terminate())}(this),Promise.resolve()}}class cs{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cs(this.firestore,e,this._key)}}class Jo{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Jo(this.firestore,e,this._query)}}class sl extends Jo{constructor(e,i,a){super(e,i,Ti(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cs(this.firestore,null,new On(e))}withConverter(e){return new sl(this.firestore,e,this._path)}}function mg(s,e,...i){if(s=(0,_e.m9)(s),fg("collection","path",e),s instanceof Hc){const a=en.fromString(e,...i);return W_(a),new sl(s,null,a)}{if(!(s instanceof cs||s instanceof sl))throw new Lt(mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(en.fromString(e,...i));return W_(a),new sl(s.firestore,null,a)}}function yf(s,e,...i){if(s=(0,_e.m9)(s),1===arguments.length&&(e=C.I()),fg("doc","path",e),s instanceof Hc){const a=en.fromString(e,...i);return gg(a),new cs(s,null,new On(a))}{if(!(s instanceof cs||s instanceof sl))throw new Lt(mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(en.fromString(e,...i));return gg(a),new cs(s.firestore,s instanceof sl?s.converter:null,new On(a))}}function _f(s,e){return s=(0,_e.m9)(s),e=(0,_e.m9)(e),(s instanceof cs||s instanceof sl)&&(e instanceof cs||e instanceof sl)&&s.firestore===e.firestore&&s.path===e.path&&s.converter===e.converter}function ry(s,e){return s=(0,_e.m9)(s),e=(0,_e.m9)(e),s instanceof Jo&&e instanceof Jo&&s.firestore===e.firestore&&Za(s._query,e._query)&&s.converter===e.converter}class Z_{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new Fm(this,"async_queue_retry"),this.Rc=()=>{const i=xp();i&&Kt("AsyncQueue","Visibility state changed to "+i.visibilityState),this.ar.tr()};const e=xp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.bc(),this.Pc(e)}enterRestrictedMode(e){if(!this.gc){this.gc=!0,this.Ic=e||!1;const i=xp();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Rc)}}enqueue(e){if(this.bc(),this.gc)return new Promise(()=>{});const i=new ji;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.mc.push(e),this.vc()))}vc(){var e=this;return(0,ne.Z)(function*(){if(0!==e.mc.length){try{yield e.mc[0](),e.mc.shift(),e.ar.reset()}catch(i){if(!_u(i))throw i;Kt("AsyncQueue","Operation failed with retryable error: "+i)}e.mc.length>0&&e.ar.Xi(()=>e.vc())}})()}Pc(e){const i=this._c.then(()=>(this.Ec=!0,e().catch(a=>{throw this.Tc=a,this.Ec=!1,Ri("INTERNAL UNHANDLED ERROR: ",function(m){let D=m.message||"";return m.stack&&(D=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),D}(a)),a}).then(a=>(this.Ec=!1,a))));return this._c=i,i}enqueueAfterDelay(e,i,a){this.bc(),this.Ac.indexOf(e)>-1&&(i=0);const c=Up.createAndSchedule(this,e,i,a,m=>this.Vc(m));return this.yc.push(c),c}bc(){this.Tc&&Rn()}verifyOperationInProgress(){}Sc(){var e=this;return(0,ne.Z)(function*(){let i;do{i=e._c,yield i}while(i!==e._c)})()}Dc(e){for(const i of this.yc)if(i.timerId===e)return!0;return!1}Cc(e){return this.Sc().then(()=>{this.yc.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.yc)if(i.skipDelay(),"all"!==e&&i.timerId===e)break;return this.Sc()})}Nc(e){this.Ac.push(e)}Vc(e){const i=this.yc.indexOf(e);this.yc.splice(i,1)}}function _g(s){return function(e,i){if("object"!=typeof e||null===e)return!1;const a=e;for(const c of["next","error","complete"])if(c in a&&"function"==typeof a[c])return!0;return!1}(s)}class Y_{constructor(){this._progressObserver={},this._taskCompletionResolver=new ji,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,i,a){this._progressObserver={next:e,error:i,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,i){return this._taskCompletionResolver.promise.then(e,i)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ns extends Hc{constructor(e,i){super(e,i),this.type="firestore",this._queue=new Z_,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Xa(this),this._firestoreClient.terminate()}}function yo(s){return s._firestoreClient||Xa(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function Xa(s){var e;const i=s._freezeSettings(),a=(m=(null===(e=s._app)||void 0===e?void 0:e.options.appId)||"",new zE(s._databaseId,m,s._persistenceKey,(F=i).host,F.ssl,F.experimentalForceLongPolling,F.experimentalAutoDetectLongPolling,F.useFetchStreams));var m,F;s._firestoreClient=new lg(s._credentials,s._queue,a)}function iy(s,e,i){const a=new ji;return s.asyncQueue.enqueue((0,ne.Z)(function*(){try{yield B_(s,i),yield Qm(s,e),a.resolve()}catch(c){if(!("FirebaseError"===(m=c).name?m.code===mt.FAILED_PRECONDITION||m.code===mt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&m instanceof DOMException)||22===m.code||20===m.code||11===m.code))throw c;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),a.reject(c)}var m})).then(()=>a.promise)}function Ef(s){if(s._initialized||s._terminated)throw new Lt(mt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Sa{constructor(...e){for(let i=0;i<e.length;++i)if(0===e[i].length)throw new Lt(mt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ua{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ua(Vn.fromBase64String(e))}catch(i){throw new Lt(mt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ua(Vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class tu{constructor(e){this._methodName=e}}class ol{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new Lt(mt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new Lt(mt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return v(this._lat,e._lat)||v(this._long,e._long)}}const zc=/^__.*__$/;class Wc{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return null!==this.fieldMask?new hu(e,this.data,this.fieldMask,i,this.fieldTransforms):new wl(e,this.data,i,this.fieldTransforms)}}class pc{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new hu(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function gc(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rn()}}class jd{constructor(e,i,a,c,m,D){this.settings=e,this.databaseId=i,this.N=a,this.ignoreUndefinedProperties=c,void 0===m&&this.xc(),this.fieldTransforms=m||[],this.fieldMask=D||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(e){return new jd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(e){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(e),c=this.$c({path:a,Fc:!1});return c.Mc(e),c}Lc(e){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(e),c=this.$c({path:a,Fc:!1});return c.xc(),c}Bc(e){return this.$c({path:void 0,Fc:!0})}Uc(e){return Tf(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(e){return void 0!==this.fieldMask.find(i=>e.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>e.isPrefixOf(i.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Mc(this.path.get(e))}Mc(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(gc(this.kc)&&zc.test(e))throw this.Uc('Document fields cannot begin and end with "__"')}}class sy{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.N=a||Uh(e)}jc(e,i,a,c=!1){return new jd({kc:e,methodName:i,Kc:a,path:Nn.emptyPath(),Fc:!1,qc:c},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function kl(s){const e=s._freezeSettings(),i=Uh(s._databaseId);return new sy(s._databaseId,!!e.ignoreUndefinedProperties,i)}function $d(s,e,i,a,c,m={}){const D=s.jc(m.merge||m.mergeFields?2:0,e,i,c);Ig("Data must be an object, but it was:",D,a);const F=uy(a,D);let Z,ae;if(m.merge)Z=new Ds(D.fieldMask),ae=D.fieldTransforms;else if(m.mergeFields){const Ae=[];for(const et of m.mergeFields){const bt=Cf(e,et,i);if(!D.contains(bt))throw new Lt(mt.INVALID_ARGUMENT,`Field '${bt}' is specified in your field mask but missing from your input data.`);ly(Ae,bt)||Ae.push(bt)}Z=new Ds(Ae),ae=D.fieldTransforms.filter(et=>Z.covers(et.field))}else Z=null,ae=D.fieldTransforms;return new Wc(new Vt(F),Z,ae)}class Kc extends tu{_toFieldTransform(e){if(2!==e.kc)throw e.Uc(1===e.kc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kc}}function bg(s,e,i){return new jd({kc:3,Kc:e.settings.Kc,methodName:s._methodName,Fc:i},e.databaseId,e.N,e.ignoreUndefinedProperties)}class bf extends tu{_toFieldTransform(e){return new Qu(e.path,new vl)}isEqual(e){return e instanceof bf}}class oy extends tu{constructor(e,i){super(e),this.Qc=i}_toFieldTransform(e){const i=bg(this,e,!0),a=this.Qc.map(m=>Fl(m,i)),c=new Ea(a);return new Qu(e.path,c)}isEqual(e){return this===e}}class ay extends tu{constructor(e,i){super(e),this.Qc=i}_toFieldTransform(e){const i=bg(this,e,!0),a=this.Qc.map(m=>Fl(m,i)),c=new Fu(a);return new Qu(e.path,c)}isEqual(e){return this===e}}class X_ extends tu{constructor(e,i){super(e),this.Wc=i}_toFieldTransform(e){const i=new Yu(e.N,rd(e.N,this.Wc));return new Qu(e.path,i)}isEqual(e){return this===e}}function wf(s,e,i,a){const c=s.jc(1,e,i);Ig("Data must be an object, but it was:",c,a);const m=[],D=Vt.empty();yt(a,(Z,ae)=>{const Ae=If(e,Z,i);ae=(0,_e.m9)(ae);const et=c.Lc(Ae);if(ae instanceof Kc)m.push(Ae);else{const bt=Fl(ae,et);null!=bt&&(m.push(Ae),D.set(Ae,bt))}});const F=new Ds(m);return new pc(D,F,c.fieldTransforms)}function wg(s,e,i,a,c,m){const D=s.jc(1,e,i),F=[Cf(e,a,i)],Z=[c];if(m.length%2!=0)throw new Lt(mt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let bt=0;bt<m.length;bt+=2)F.push(Cf(e,m[bt])),Z.push(m[bt+1]);const ae=[],Ae=Vt.empty();for(let bt=F.length-1;bt>=0;--bt)if(!ly(ae,F[bt])){const Ot=F[bt];let tn=Z[bt];tn=(0,_e.m9)(tn);const jn=D.Lc(Ot);if(tn instanceof Kc)ae.push(Ot);else{const xr=Fl(tn,jn);null!=xr&&(ae.push(Ot),Ae.set(Ot,xr))}}const et=new Ds(ae);return new pc(Ae,et,D.fieldTransforms)}function Cg(s,e,i,a=!1){return Fl(i,s.jc(a?4:3,e))}function Fl(s,e){if(ev(s=(0,_e.m9)(s)))return Ig("Unsupported field value:",e,s),uy(s,e);if(s instanceof tu)return function(i,a){if(!gc(a.kc))throw a.Uc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Uc(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(s,e),null;if(void 0===s&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Fc&&4!==e.kc)throw e.Uc("Nested arrays are not supported");return function(i,a){const c=[];let m=0;for(const D of i){let F=Fl(D,a.Bc(m));null==F&&(F={nullValue:"NULL_VALUE"}),c.push(F),m++}return{arrayValue:{values:c}}}(s,e)}return function(i,a){if(null===(i=(0,_e.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return rd(a.N,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const c=X.fromDate(i);return{timestampValue:el(a.N,c)}}if(i instanceof X){const c=new X(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:el(a.N,c)}}if(i instanceof ol)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ua)return{bytesValue:hh(a.N,i._byteString)};if(i instanceof cs){const c=a.databaseId,m=i.firestore._databaseId;if(!m.isEqual(c))throw a.Uc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:dd(i.firestore._databaseId||a.databaseId,i._key.path)}}throw a.Uc(`Unsupported field value: ${Da(i)}`)}(s,e)}function uy(s,e){const i={};return hn(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yt(s,(a,c)=>{const m=Fl(c,e.Oc(a));null!=m&&(i[a]=m)}),{mapValue:{fields:i}}}function ev(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof X||s instanceof ol||s instanceof ua||s instanceof cs||s instanceof tu)}function Ig(s,e,i){if(!ev(i)||"object"!=typeof(a=i)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=Da(i);throw e.Uc("an object"===a?s+" a custom object":s+" "+a)}var a}function Cf(s,e,i){if((e=(0,_e.m9)(e))instanceof Sa)return e._internalPath;if("string"==typeof e)return If(s,e);throw Tf("Field path arguments must be of type string or FieldPath.",s,!1,void 0,i)}const tv=new RegExp("[~\\*/\\[\\]]");function If(s,e,i){if(e.search(tv)>=0)throw Tf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Sa(...e.split("."))._internalPath}catch(a){throw Tf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Tf(s,e,i,a,c){const m=a&&!a.isEmpty(),D=void 0!==c;let F=`Function ${e}() called with invalid data`;i&&(F+=" (via `toFirestore()`)"),F+=". ";let Z="";return(m||D)&&(Z+=" (found",m&&(Z+=` in field ${a}`),D&&(Z+=` in document ${c}`),Z+=")"),new Lt(mt.INVALID_ARGUMENT,F+s+Z)}function ly(s,e){return s.some(i=>i.isEqual(e))}class Df{constructor(e,i,a,c,m){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=c,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new cs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new nv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Hd("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i)}}}class nv extends Df{data(){return super.data()}}function Hd(s,e){return"string"==typeof e?If(s,e):e instanceof Sa?e._internalPath:e._delegate._internalPath}class qc{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ll extends Df{constructor(e,i,a,c,m,D){super(e,i,a,c,D),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Sf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Hd("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Sf extends Ll{data(e={}){return super.data(e)}}class Vl{constructor(e,i,a,c){this._firestore=e,this._userDataWriter=i,this._snapshot=c,this.metadata=new qc(c.hasPendingWrites,c.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Sf(this._firestore,this._userDataWriter,a.key,a,new qc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Lt(mt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let m=0;return a._snapshot.docChanges.map(D=>({type:"added",doc:new Sf(a._firestore,a._userDataWriter,D.doc.key,D.doc,new qc(a._snapshot.mutatedKeys.has(D.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:m++}))}{let m=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(D=>c||3!==D.type).map(D=>{const F=new Sf(a._firestore,a._userDataWriter,D.doc.key,D.doc,new qc(a._snapshot.mutatedKeys.has(D.doc.key),a._snapshot.fromCache),a.query.converter);let Z=-1,ae=-1;return 0!==D.type&&(Z=m.indexOf(D.doc.key),m=m.delete(D.doc.key)),1!==D.type&&(m=m.add(D.doc),ae=m.indexOf(D.doc.key)),{type:WE(D.type),doc:F,oldIndex:Z,newIndex:ae}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function WE(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rn()}}function cy(s,e){return s instanceof Ll&&e instanceof Ll?s._firestore===e._firestore&&s._key.isEqual(e._key)&&(null===s._document?null===e._document:s._document.isEqual(e._document))&&s._converter===e._converter:s instanceof Vl&&e instanceof Vl&&s._firestore===e._firestore&&ry(s.query,e.query)&&s.metadata.isEqual(e.metadata)&&s._snapshot.isEqual(e._snapshot)}function dy(s){if(Ro(s)&&0===s.explicitOrderBy.length)throw new Lt(mt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mc{}function Hu(s,...e){for(const i of e)s=i._apply(s);return s}class rv extends mc{constructor(e,i,a){super(),this.Gc=e,this.zc=i,this.Hc=a,this.type="where"}_apply(e){const i=kl(e.firestore),a=function(c,m,D,F,Z,ae,Ae){let et;if(Z.isKeyField()){if("array-contains"===ae||"array-contains-any"===ae)throw new Lt(mt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ae}' queries on FieldPath.documentId().`);if("in"===ae||"not-in"===ae){Dg(Ae,ae);const Ot=[];for(const tn of Ae)Ot.push(my(F,c,tn));et={arrayValue:{values:Ot}}}else et=my(F,c,Ae)}else"in"!==ae&&"not-in"!==ae&&"array-contains-any"!==ae||Dg(Ae,ae),et=Cg(D,"where",Ae,"in"===ae||"not-in"===ae);const bt=ri.create(Z,ae,et);return function(Ot,tn){if(tn.v()){const xr=gl(Ot);if(null!==xr&&!xr.isEqual(tn.field))throw new Lt(mt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${xr.toString()}' and '${tn.field.toString()}'`);const ks=vr(Ot);null!==ks&&yy(0,tn.field,ks)}const jn=function(xr,ks){for(const ru of xr.filters)if(ks.indexOf(ru.op)>=0)return ru.op;return null}(Ot,function(xr){switch(xr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(tn.op));if(null!==jn)throw new Lt(mt.INVALID_ARGUMENT,jn===tn.op?`Invalid query. You cannot use more than one '${tn.op.toString()}' filter.`:`Invalid query. You cannot use '${tn.op.toString()}' filters with '${jn.toString()}' filters.`)}(c,bt),bt}(e._query,0,i,e.firestore._databaseId,this.Gc,this.zc,this.Hc);return new Jo(e.firestore,e.converter,function(c,m){const D=c.filters.concat([m]);return new hr(c.path,c.collectionGroup,c.explicitOrderBy.slice(),D,c.limit,c.limitType,c.startAt,c.endAt)}(e._query,a))}}class qE extends mc{constructor(e,i){super(),this.Gc=e,this.Jc=i,this.type="orderBy"}_apply(e){const i=function(a,c,m){if(null!==a.startAt)throw new Lt(mt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new Lt(mt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const D=new is(c,m);return function(F,Z){if(null===vr(F)){const ae=gl(F);null!==ae&&yy(0,ae,Z.field)}}(a,D),D}(e._query,this.Gc,this.Jc);return new Jo(e.firestore,e.converter,function(a,c){const m=a.explicitOrderBy.concat([c]);return new hr(a.path,a.collectionGroup,m,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,i))}}class hy extends mc{constructor(e,i,a){super(),this.type=e,this.Yc=i,this.Xc=a}_apply(e){return new Jo(e.firestore,e.converter,Va(e._query,this.Yc,this.Xc))}}class py extends mc{constructor(e,i,a){super(),this.type=e,this.Zc=i,this.ta=a}_apply(e){const i=Gd(e,this.type,this.Zc,this.ta);return new Jo(e.firestore,e.converter,(c=i,new hr((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,c,a.endAt)));var a,c}}class Tg extends mc{constructor(e,i,a){super(),this.type=e,this.Zc=i,this.ta=a}_apply(e){const i=Gd(e,this.type,this.Zc,this.ta);return new Jo(e.firestore,e.converter,(c=i,new hr((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,c)));var a,c}}function Gd(s,e,i,a){if(i[0]=(0,_e.m9)(i[0]),i[0]instanceof Df)return function(c,m,D,F,Z){if(!F)throw new Lt(mt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${D}().`);const ae=[];for(const Ae of fo(c))if(Ae.field.isKeyField())ae.push(b(m,F.key));else{const et=F.data.field(Ae.field);if(ku(et))throw new Lt(mt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ae.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===et){const bt=Ae.field.canonicalString();throw new Lt(mt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${bt}' (used as the orderBy) does not exist.`)}ae.push(et)}return new kn(ae,Z)}(s._query,s.firestore._databaseId,e,i[0]._document,a);{const c=kl(s.firestore);return function(m,D,F,Z,ae,Ae){const et=m.explicitOrderBy;if(ae.length>et.length)throw new Lt(mt.INVALID_ARGUMENT,`Too many arguments provided to ${Z}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const bt=[];for(let Ot=0;Ot<ae.length;Ot++){const tn=ae[Ot];if(et[Ot].field.isKeyField()){if("string"!=typeof tn)throw new Lt(mt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Z}(), but got a ${typeof tn}`);if(!Vo(m)&&-1!==tn.indexOf("/"))throw new Lt(mt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${Z}() must be a plain document ID, but '${tn}' contains a slash.`);const jn=m.path.child(en.fromString(tn));if(!On.isDocumentKey(jn))throw new Lt(mt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${Z}() must result in a valid document path, but '${jn}' is not because it contains an odd number of segments.`);const xr=new On(jn);bt.push(b(D,xr))}else{const jn=Cg(F,Z,tn);bt.push(jn)}}return new kn(bt,Ae)}(s._query,s.firestore._databaseId,c,e,i,a)}}function my(s,e,i){if("string"==typeof(i=(0,_e.m9)(i))){if(""===i)throw new Lt(mt.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vo(e)&&-1!==i.indexOf("/"))throw new Lt(mt.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(en.fromString(i));if(!On.isDocumentKey(a))throw new Lt(mt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return b(s,new On(a))}if(i instanceof cs)return b(s,i._key);throw new Lt(mt.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Da(i)}.`)}function Dg(s,e){if(!Array.isArray(s)||0===s.length)throw new Lt(mt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(s.length>10)throw new Lt(mt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function yy(s,e,i){if(!i.isEqual(e))throw new Lt(mt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class Sg{convertValue(e,i="none"){switch(ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(So(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 10:return this.convertObject(e.mapValue,i);default:throw Rn()}}convertObject(e,i){const a={};return yt(e.fields,(c,m)=>{a[c]=this.convertValue(m,i)}),a}convertGeoPoint(e){return new ol(Kr(e.latitude),Kr(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=lu(e);return null==a?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ko(e));default:return null}}convertTimestamp(e){const i=$i(e);return new X(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=en.fromString(e);Zn(pd(a));const c=new Fd(a.get(1),a.get(3)),m=new On(a.popFirst(5));return c.isEqual(i)||Ri(`Document ${m} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),m}}function Af(s,e,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,a}class ov extends Sg{constructor(e){super(),this.firestore=e}convertBytes(e){return new ua(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new cs(this.firestore,null,i)}}class _y{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=kl(e)}set(e,i,a){this._verifyNotCommitted();const c=al(e,this._firestore),m=Af(c.converter,i,a),D=$d(this._dataReader,"WriteBatch.set",c._key,m,null!==c.converter,a);return this._mutations.push(D.toMutation(c._key,ys.none())),this}update(e,i,a,...c){this._verifyNotCommitted();const m=al(e,this._firestore);let D;return D="string"==typeof(i=(0,_e.m9)(i))||i instanceof Sa?wg(this._dataReader,"WriteBatch.update",m._key,i,a,c):wf(this._dataReader,"WriteBatch.update",m._key,i),this._mutations.push(D.toMutation(m._key,ys.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=al(e,this._firestore);return this._mutations=this._mutations.concat(new zl(i._key,ys.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Lt(mt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function al(s,e){if((s=(0,_e.m9)(s)).firestore!==e)throw new Lt(mt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class Ul extends Sg{constructor(e){super(),this.firestore=e}convertBytes(e){return new ua(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new cs(this.firestore,null,i)}}function lv(s,e,i){s=bi(s,cs);const a=bi(s.firestore,Ns),c=Af(s.converter,e,i);return Bl(a,[$d(kl(a),"setDoc",s._key,c,null!==s.converter,i).toMutation(s._key,ys.none())])}function Yc(s,e,i,...a){s=bi(s,cs);const c=bi(s.firestore,Ns),m=kl(c);let D;return D="string"==typeof(e=(0,_e.m9)(e))||e instanceof Sa?wg(m,"updateDoc",s._key,e,i,a):wf(m,"updateDoc",s._key,e),Bl(c,[D.toMutation(s._key,ys.exists(!0))])}function Rf(s,...e){var i,a,c;s=(0,_e.m9)(s);let m={includeMetadataChanges:!1},D=0;"object"!=typeof e[D]||_g(e[D])||(m=e[D],D++);const F={includeMetadataChanges:m.includeMetadataChanges};if(_g(e[D])){const et=e[D];e[D]=null===(i=et.next)||void 0===i?void 0:i.bind(et),e[D+1]=null===(a=et.error)||void 0===a?void 0:a.bind(et),e[D+2]=null===(c=et.complete)||void 0===c?void 0:c.bind(et)}let Z,ae,Ae;if(s instanceof cs)ae=bi(s.firestore,Ns),Ae=Ti(s._key.path),Z={next:et=>{e[D]&&e[D](zd(ae,s,et))},error:e[D+1],complete:e[D+2]};else{const et=bi(s,Jo);ae=bi(et.firestore,Ns),Ae=et._query;const bt=new Ul(ae);Z={next:Ot=>{e[D]&&e[D](new Vl(ae,bt,et,Ot))},error:e[D+1],complete:e[D+2]},dy(s._query)}return function(et,bt,Ot,tn){const jn=new $c(tn),xr=new Zh(bt,jn,Ot);return et.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return xd(yield fc(et),xr)})),()=>{jn.ec(),et.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return Bp(yield fc(et),xr)}))}}(yo(ae),Ae,F,Z)}function Bl(s,e){return function(i,a){const c=new ji;return i.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return function(s,e,i){return Uc.apply(this,arguments)}(yield pf(i),a,c)})),c.promise}(yo(s),e)}function zd(s,e,i){const a=i.docs.get(e._key),c=new Ul(s);return new Ll(s,c,e._key,a,new qc(i.hasPendingWrites,i.fromCache),e.converter)}class Ey extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=kl(e)}get(e){const i=al(e,this._firestore),a=new ov(this._firestore);return this._transaction.lookup([i._key]).then(c=>{if(!c||1!==c.length)return Rn();const m=c[0];if(m.isFoundDocument())return new Df(this._firestore,a,m.key,m,i.converter);if(m.isNoDocument())return new Df(this._firestore,a,i._key,null,i.converter);throw Rn()})}set(e,i,a){const c=al(e,this._firestore),m=Af(c.converter,i,a),D=$d(this._dataReader,"Transaction.set",c._key,m,null!==c.converter,a);return this._transaction.set(c._key,D),this}update(e,i,a,...c){const m=al(e,this._firestore);let D;return D="string"==typeof(i=(0,_e.m9)(i))||i instanceof Sa?wg(this._dataReader,"Transaction.update",m._key,i,a,c):wf(this._dataReader,"Transaction.update",m._key,i),this._transaction.update(m._key,D),this}delete(e){const i=al(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,i){super(e,i),this._firestore=e}get(e){const i=al(e,this._firestore),a=new Ul(this._firestore);return super.get(e).then(c=>new Ll(this._firestore,a,i._key,c._document,new qc(!1,!1),i.converter))}}function Wd(s,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Lt("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return e}function Ng(){if("undefined"==typeof Uint8Array)throw new Lt("unimplemented","Uint8Arrays are not available in this environment.")}function Iy(){if("undefined"==typeof atob)throw new Lt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(s,e=!0){Zs=oe.SDK_VERSION,(0,oe._registerComponent)(new ye.wA("firestore",(i,{options:a})=>{const c=i.getProvider("app").getImmediate(),m=new Ns(c,new Wa(i.getProvider("auth-internal")));return a=Object.assign({useFetchStreams:e},a),m._setSettings(a),m},"PUBLIC")),(0,oe.registerVersion)(lo,"3.3.1",s),(0,oe.registerVersion)(lo,"3.3.1","esm2017")}();class Qc{constructor(e){this._delegate=e}static fromBase64String(e){return Iy(),new Qc(ua.fromBase64String(e))}static fromUint8Array(e){return Ng(),new Qc(ua.fromUint8Array(e))}toBase64(){return Iy(),this._delegate.toBase64()}toUint8Array(){return Ng(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Mf(s){return function(s,e){if("object"!=typeof s||null===s)return!1;const i=s;for(const a of["next","error","complete"])if(a in i&&"function"==typeof i[a])return!0;return!1}(s)}class Ty{enableIndexedDbPersistence(e,i){return function(s,e){Ef(s=bi(s,Ns));const i=yo(s),a=s._freezeSettings(),c=new lf;return iy(i,c,new V_(c,a.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(e){return function(s){Ef(s=bi(s,Ns));const e=yo(s),i=s._freezeSettings(),a=new lf;return iy(e,a,new U_(a,i.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(s){if(s._initialized&&!s._terminated)throw new Lt(mt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ji;return s._queue.enqueueAndForgetEvenWhileRestricted((0,ne.Z)(function*(){try{yield(i=(0,ne.Z)(function*(a){if(!Ca.bt())return Promise.resolve();const c=a+"main";yield Ca.delete(c)}),function(a){return i.apply(this,arguments)})(Nh(s._databaseId,s._persistenceKey)),e.resolve()}catch(i){e.reject(i)}var i})),e.promise}(e._delegate)}}class Dy{constructor(e,i,a){this._delegate=i,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},e instanceof Fd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const i=this._delegate._getSettings();!e.merge&&i.host!==e.host&&co("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},i),e)).merge,this._delegate._setSettings(e)}useEmulator(e,i,a={}){!function(s,e,i,a={}){var c;const m=(s=bi(s,Hc))._getSettings();if("firestore.googleapis.com"!==m.host&&m.host!==e&&co("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},m),{host:`${e}:${i}`,ssl:!1})),a.mockUserToken){let D,F;if("string"==typeof a.mockUserToken)D=a.mockUserToken,F=fi.MOCK_USER;else{D=(0,_e.Sg)(a.mockUserToken,null===(c=s._app)||void 0===c?void 0:c.options.projectId);const Z=a.mockUserToken.sub||a.mockUserToken.user_id;if(!Z)throw new Lt(mt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new fi(Z)}s._credentials=new uu(new za(D,F))}}(this._delegate,e,i,a)}enableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,ne.Z)(function*(){const e=yield Jm(s),i=yield ff(s);return e.setNetworkEnabled(!0),function(a){const c=on(a);return c.Wr.delete(0),oc(c)}(i)}))}(yo(s=bi(s,Ns)))}(this._delegate)}disableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,ne.Z)(function*(){const e=yield Jm(s),i=yield ff(s);return e.setNetworkEnabled(!1),(a=(0,ne.Z)(function*(c){const m=on(c);m.Wr.add(0),yield ac(m),m.Hr.set("Offline")}),function(c){return a.apply(this,arguments)})(i);var a}))}(yo(s=bi(s,Ns)))}(this._delegate)}enablePersistence(e){let i=!1,a=!1;return e&&(i=!!e.synchronizeTabs,a=!!e.experimentalForceOwningTab,pg("synchronizeTabs",i,"experimentalForceOwningTab",a)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(s){return function(e){const i=new ji;return e.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return function(s,e){return ef.apply(this,arguments)}(yield pf(e),i)})),i.promise}(yo(s=bi(s,Ns)))}(this._delegate)}onSnapshotsInSync(e){return function(s,e){return function(s,e){const i=new $c(e);return s.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return a=yield fc(s),c=i,on(a).so.add(c),void c.next();var a,c})),()=>{i.ec(),s.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return a=yield fc(s),c=i,void on(a).so.delete(c);var a,c}))}}(yo(s=bi(s,Ns)),_g(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Lt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ed(this,mg(this._delegate,e))}catch(i){throw ea(i,"collection()","Firestore.collection()")}}doc(e){try{return new Ba(this,yf(this._delegate,e))}catch(i){throw ea(i,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ta(this,function(s,e){if(s=bi(s,Hc),fg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Lt(mt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Jo(s,null,(i=e,new hr(en.emptyPath(),i)));var i}(this._delegate,e))}catch(i){throw ea(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(s,e){return function(s,e){const i=new ji;return s.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){const a=yield(c=s,kd(c).then(m=>m.datastore));var c;new ug(s.asyncQueue,a,e,i).run()})),i.promise}(yo(s=bi(s,Ns)),i=>e(new Ey(s,i)))}(this._delegate,i=>e(new xf(this,i)))}batch(){return yo(this._delegate),new Of(new _y(this._delegate,e=>Bl(this._delegate,e)))}loadBundle(e){return function(s,e){const i=yo(s=bi(s,Ns)),a=new Y_;return function(s,e,i,a){const c=function(m,D){let F;return F="string"==typeof m?(new TextEncoder).encode(m):m,Z=function(Z,ae){if(Z instanceof Uint8Array)return _s(Z,void 0);if(Z instanceof ArrayBuffer)return _s(new Uint8Array(Z),void 0);if(Z instanceof ReadableStream)return Z.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(F),new HE(Z,D);var Z}(i,Uh(e));s.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){!function(s,e,i){const a=on(s);var c;(c=(0,ne.Z)(function*(m,D,F){try{const Z=yield D.getMetadata();if(yield function(bt,Ot){const tn=on(bt),jn=po(Ot.createTime);return tn.persistence.runTransaction("hasNewerBundle","readonly",xr=>tn.Je.getBundleMetadata(xr,Ot.id)).then(xr=>!!xr&&xr.createTime.compareTo(jn)>=0)}(m.localStore,Z))return yield D.close(),void F._completeWith((bt=Z,{taskState:"Success",documentsLoaded:bt.totalDocuments,bytesLoaded:bt.totalBytes,totalDocuments:bt.totalDocuments,totalBytes:bt.totalBytes}));F._updateProgress(Hp(Z));const ae=new Hm(Z,m.localStore,D.N);let Ae=yield D.zo();for(;Ae;){const bt=yield ae.mo(Ae);bt&&F._updateProgress(bt),Ae=yield D.zo()}const et=yield ae.complete();yield rl(m,et.En,void 0),yield function(bt,Ot){const tn=on(bt);return tn.persistence.runTransaction("Save bundle","readwrite",jn=>tn.Je.saveBundleMetadata(jn,Ot))}(m.localStore,Z),F._completeWith(et.progress)}catch(Z){co("SyncEngine",`Loading bundle failed with ${Z}`),F._failWith(Z)}var bt}),function(m,D,F){return c.apply(this,arguments)})(a,e,i).then(()=>{a.sharedClientState.notifyBundleLoaded()})}(yield pf(s),c,a)}))}(i,s._databaseId,e,a),a}(this._delegate,e)}namedQuery(e){return function(s,e){return function(s,e){return s.asyncQueue.enqueue((0,ne.Z)(function*(){return function(i,a){const c=on(i);return c.persistence.runTransaction("Get named query","readonly",m=>c.Je.getNamedQuery(m,a))}(yield hc(s),e)}))}(yo(s=bi(s,Ns)),e).then(i=>i?new Jo(s,null,i.query):null)}(this._delegate,e).then(i=>i?new ta(this,i):null)}}class Kd extends Sg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qc(new ua(e))}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return Ba.forKey(i,this.firestore,null)}}class xf{constructor(e,i){this._firestore=e,this._delegate=i,this._userDataWriter=new Kd(e)}get(e){const i=$l(e);return this._delegate.get(i).then(a=>new Jc(this._firestore,new Ll(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,i.converter)))}set(e,i,a){const c=$l(e);return a?(Wd("Transaction.set",a),this._delegate.set(c,i,a)):this._delegate.set(c,i),this}update(e,i,a,...c){const m=$l(e);return 2===arguments.length?this._delegate.update(m,i):this._delegate.update(m,i,a,...c),this}delete(e){const i=$l(e);return this._delegate.delete(i),this}}class Of{constructor(e){this._delegate=e}set(e,i,a){const c=$l(e);return a?(Wd("WriteBatch.set",a),this._delegate.set(c,i,a)):this._delegate.set(c,i),this}update(e,i,a,...c){const m=$l(e);return 2===arguments.length?this._delegate.update(m,i):this._delegate.update(m,i,a,...c),this}delete(e){const i=$l(e);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class jl{constructor(e,i,a){this._firestore=e,this._userDataWriter=i,this._delegate=a}fromFirestore(e,i){const a=new Sf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Xc(this._firestore,a),null!=i?i:{})}toFirestore(e,i){return i?this._delegate.toFirestore(e,i):this._delegate.toFirestore(e)}static getInstance(e,i){const a=jl.INSTANCES;let c=a.get(e);c||(c=new WeakMap,a.set(e,c));let m=c.get(i);return m||(m=new jl(e,new Kd(e),i),c.set(i,m)),m}}jl.INSTANCES=new WeakMap;class Ba{constructor(e,i){this.firestore=e,this._delegate=i,this._userDataWriter=new Kd(e)}static forPath(e,i,a){if(e.length%2!=0)throw new Lt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ba(i,new cs(i._delegate,a,new On(e)))}static forKey(e,i,a){return new Ba(i,new cs(i._delegate,a,e))}get id(){return this._delegate.id}get parent(){return new ed(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ed(this.firestore,mg(this._delegate,e))}catch(i){throw ea(i,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,_e.m9)(e))instanceof cs&&_f(this._delegate,e)}set(e,i){i=Wd("DocumentReference.set",i);try{return i?lv(this._delegate,e,i):lv(this._delegate,e)}catch(a){throw ea(a,"setDoc()","DocumentReference.set()")}}update(e,i,...a){try{return 1===arguments.length?Yc(this._delegate,e):Yc(this._delegate,e,i,...a)}catch(c){throw ea(c,"updateDoc()","DocumentReference.update()")}}delete(){return function(s){return Bl(bi(s.firestore,Ns),[new zl(s._key,ys.none())])}(this._delegate)}onSnapshot(...e){const i=Fg(e),a=Lg(e,c=>new Jc(this.firestore,new Ll(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return Rf(this._delegate,i,a)}get(e){let i;return i="cache"===(null==e?void 0:e.source)?function(s){s=bi(s,cs);const e=bi(s.firestore,Ns),i=yo(e),a=new Ul(e);return function(s,e){const i=new ji;return s.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return(a=(0,ne.Z)(function*(c,m,D){try{const F=yield function(Z,ae){const Ae=on(Z);return Ae.persistence.runTransaction("read document","readonly",et=>Ae.Qn.An(et,ae))}(c,m);F.isFoundDocument()?D.resolve(F):F.isNoDocument()?D.resolve(null):D.reject(new Lt(mt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(F){const Z=Vc(F,`Failed to get document '${m} from cache`);D.reject(Z)}}),function(c,m,D){return a.apply(this,arguments)})(yield hc(s),e,i);var a})),i.promise}(i,s._key).then(c=>new Ll(e,a,s._key,c,new qc(null!==c&&c.hasLocalMutations,!0),s.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(s){s=bi(s,cs);const e=bi(s.firestore,Ns);return ey(yo(e),s._key,{source:"server"}).then(i=>zd(e,s,i))}(this._delegate):function(s){s=bi(s,cs);const e=bi(s.firestore,Ns);return ey(yo(e),s._key).then(i=>zd(e,s,i))}(this._delegate),i.then(a=>new Jc(this.firestore,new Ll(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(e){return new Ba(this.firestore,this._delegate.withConverter(e?jl.getInstance(this.firestore,e):null))}}function ea(s,e,i){return s.message=s.message.replace(e,i),s}function Fg(s){for(const e of s)if("object"==typeof e&&!Mf(e))return e;return{}}function Lg(s,e){var i,a;let c;return c=Mf(s[0])?s[0]:Mf(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:m=>{c.next&&c.next(e(m))},error:null===(i=c.error)||void 0===i?void 0:i.bind(c),complete:null===(a=c.complete)||void 0===a?void 0:a.bind(c)}}class Jc{constructor(e,i){this._firestore=e,this._delegate=i}get ref(){return new Ba(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,i){return this._delegate.get(e,i)}isEqual(e){return cy(this._delegate,e._delegate)}}class Xc extends Jc{data(e){const i=this._delegate.data(e);return function(s,e){s||Rn()}(void 0!==i),i}}class ta{constructor(e,i){this.firestore=e,this._delegate=i,this._userDataWriter=new Kd(e)}where(e,i,a){try{return new ta(this.firestore,Hu(this._delegate,function(s,e,i){const a=e,c=Hd("where",s);return new rv(c,a,i)}(e,i,a)))}catch(c){throw ea(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,i){try{return new ta(this.firestore,Hu(this._delegate,function(s,e="asc"){const i=e,a=Hd("orderBy",s);return new qE(a,i)}(e,i)))}catch(a){throw ea(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ta(this.firestore,Hu(this._delegate,function(s){return K_("limit",s),new hy("limit",s,"F")}(e)))}catch(i){throw ea(i,"limit()","Query.limit()")}}limitToLast(e){try{return new ta(this.firestore,Hu(this._delegate,function(s){return K_("limitToLast",s),new hy("limitToLast",s,"L")}(e)))}catch(i){throw ea(i,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ta(this.firestore,Hu(this._delegate,function(...s){return new py("startAt",s,!0)}(...e)))}catch(i){throw ea(i,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ta(this.firestore,Hu(this._delegate,function(...s){return new py("startAfter",s,!1)}(...e)))}catch(i){throw ea(i,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ta(this.firestore,Hu(this._delegate,function(...s){return new Tg("endBefore",s,!0)}(...e)))}catch(i){throw ea(i,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ta(this.firestore,Hu(this._delegate,function(...s){return new Tg("endAt",s,!1)}(...e)))}catch(i){throw ea(i,"endAt()","Query.endAt()")}}isEqual(e){return ry(this._delegate,e._delegate)}get(e){let i;return i="cache"===(null==e?void 0:e.source)?function(s){s=bi(s,Jo);const e=bi(s.firestore,Ns),i=yo(e),a=new Ul(e);return function(s,e){const i=new ji;return s.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return(a=(0,ne.Z)(function*(c,m,D){try{const F=yield Fh(c,m,!0),Z=new Yh(m,F.Gn),ae=Z.bo(F.documents),Ae=Z.applyChanges(ae,!1);D.resolve(Ae.snapshot)}catch(F){const Z=Vc(F,`Failed to execute query '${m} against cache`);D.reject(Z)}}),function(c,m,D){return a.apply(this,arguments)})(yield hc(s),e,i);var a})),i.promise}(i,s._query).then(c=>new Vl(e,a,s,c))}(this._delegate):"server"===(null==e?void 0:e.source)?function(s){s=bi(s,Jo);const e=bi(s.firestore,Ns),i=yo(e),a=new Ul(e);return hg(i,s._query,{source:"server"}).then(c=>new Vl(e,a,s,c))}(this._delegate):function(s){s=bi(s,Jo);const e=bi(s.firestore,Ns),i=yo(e),a=new Ul(e);return dy(s._query),hg(i,s._query).then(c=>new Vl(e,a,s,c))}(this._delegate),i.then(a=>new Vg(this.firestore,new Vl(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...e){const i=Fg(e),a=Lg(e,c=>new Vg(this.firestore,new Vl(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return Rf(this._delegate,i,a)}withConverter(e){return new ta(this.firestore,this._delegate.withConverter(e?jl.getInstance(this.firestore,e):null))}}class XE{constructor(e,i){this._firestore=e,this._delegate=i}get type(){return this._delegate.type}get doc(){return new Xc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Vg{constructor(e,i){this._firestore=e,this._delegate=i}get query(){return new ta(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Xc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(i=>new XE(this._firestore,i))}forEach(e,i){this._delegate.forEach(a=>{e.call(i,new Xc(this._firestore,a))})}isEqual(e){return cy(this._delegate,e._delegate)}}class ed extends ta{constructor(e,i){super(e,i),this.firestore=e,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ba(this.firestore,e):null}doc(e){try{return new Ba(this.firestore,void 0===e?yf(this._delegate):yf(this._delegate,e))}catch(i){throw ea(i,"doc()","CollectionReference.doc()")}}add(e){return function(s,e){const i=bi(s.firestore,Ns),a=yf(s),c=Af(s.converter,e);return Bl(i,[$d(kl(s.firestore),"addDoc",a._key,c,null!==s.converter,{}).toMutation(a._key,ys.exists(!1))]).then(()=>a)}(this._delegate,e).then(i=>new Ba(this.firestore,i))}isEqual(e){return _f(this._delegate,e._delegate)}withConverter(e){return new ed(this.firestore,this._delegate.withConverter(e?jl.getInstance(this.firestore,e):null))}}function $l(s){return bi(s,cs)}class Ug{constructor(...e){this._delegate=new Sa(...e)}static documentId(){return new Ug(Nn.keyField().canonicalString())}isEqual(e){return(e=(0,_e.m9)(e))instanceof Sa&&this._delegate._internalPath.isEqual(e._internalPath)}}class vs{constructor(e){this._delegate=e}static serverTimestamp(){const e=new bf("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new vs(e)}static delete(){const e=new Kc("deleteField");return e._methodName="FieldValue.delete",new vs(e)}static arrayUnion(...e){const i=function(...s){return new oy("arrayUnion",s)}(...e);return i._methodName="FieldValue.arrayUnion",new vs(i)}static arrayRemove(...e){const i=function(...s){return new ay("arrayRemove",s)}(...e);return i._methodName="FieldValue.arrayRemove",new vs(i)}static increment(e){const i=function(s){return new X_("increment",s)}(e);return i._methodName="FieldValue.increment",new vs(i)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Ay={Firestore:Dy,GeoPoint:ol,Timestamp:X,Blob:Qc,Transaction:xf,WriteBatch:Of,DocumentReference:Ba,DocumentSnapshot:Jc,Query:ta,QueryDocumentSnapshot:Xc,QuerySnapshot:Vg,CollectionReference:ed,FieldPath:Ug,FieldValue:vs,setLogLevel:function(s){!function(s){rs.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};!function(s){(function(s,e){s.INTERNAL.registerComponent(new ye.wA("firestore-compat",i=>((e,i)=>new Dy(e,i,new Ty))(i.getProvider("app-compat").getImmediate(),i.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Ay)))})(s),s.registerVersion("@firebase/firestore-compat","0.1.8")}(Mt.Z);var ul=O(8778),mv=O(2801),Ry=O(7841);function yc(s,e){return function(s,e=w.z){return new K.y(i=>{let a;return null!=e?e.schedule(()=>{a=s.onSnapshot({includeMetadataChanges:!0},i)}):a=s.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=a&&a()}})}(s,e)}function Bg(s,e){return yc(s,e).pipe((0,Le.U)(i=>({payload:i,type:"query"})))}function qd(s,e){return Bg(s,e).pipe(pe(void 0),Ne(),(0,Le.U)(([i,a])=>{const c=a.payload.docChanges(),m=c.map(D=>({type:D.type,payload:D}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((D,F)=>{const Z=c.find(Ae=>Ae.doc.ref.isEqual(D.ref)),ae=null==i?void 0:i.payload.docs.find(Ae=>Ae.ref.isEqual(D.ref));Z&&JSON.stringify(Z.doc.metadata)===JSON.stringify(D.metadata)||!Z&&ae&&JSON.stringify(ae.metadata)===JSON.stringify(D.metadata)||m.push({type:"modified",payload:{oldIndex:F,newIndex:F,type:"modified",doc:D}})}),m}))}function xy(s,e,i){return qd(s,i).pipe(Re((a,c)=>function(s,e,i){return e.forEach(a=>{i.indexOf(a.type)>-1&&(s=function(s,e){switch(e.type){case"added":if(!s[e.newIndex]||!s[e.newIndex].doc.ref.isEqual(e.doc.ref))return Py(s,e.newIndex,0,e);break;case"modified":if(null==s[e.oldIndex]||s[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const i=s.slice();return i.splice(e.oldIndex,1),i.splice(e.newIndex,0,e),i}return Py(s,e.newIndex,1,e)}break;case"removed":if(s[e.oldIndex]&&s[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Py(s,e.oldIndex,1)}return s}(s,a))}),s}(a,c.map(m=>m.payload),e),[]),function(s,e=Oe.y){return s=null!=s?s:xe,(0,Y.e)((i,a)=>{let c,m=!0;i.subscribe(new qe.Q(a,D=>{const F=e(D);(m||!s(c,F))&&(m=!1,c=F,a.next(D))}))})}(),(0,Le.U)(a=>a.map(c=>({type:c.type,payload:c}))))}function Py(s,e,i,...a){const c=s.slice();return c.splice(e,i,...a),c}function Pf(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}class Au{constructor(e,i,a){this.ref=e,this.query=i,this.afs=a}stateChanges(e){let i=qd(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(i=i.pipe((0,Le.U)(a=>a.filter(c=>e.indexOf(c.type)>-1)))),i.pipe(pe(void 0),Ne(),(0,Ue.h)(([a,c])=>c.length>0||!a),(0,Le.U)(([a,c])=>c),Ce.iC)}auditTrail(e){return this.stateChanges(e).pipe(Re((i,a)=>[...i,...a],[]))}snapshotChanges(e){const i=Pf(e);return xy(this.query,i,this.afs.schedulers.outsideAngular).pipe(Ce.iC)}valueChanges(e={}){return Bg(this.query,this.afs.schedulers.outsideAngular).pipe((0,Le.U)(i=>i.payload.docs.map(a=>e.idField?Object.assign(Object.assign({},a.data()),{[e.idField]:a.id}):a.data())),Ce.iC)}get(e){return(0,we.D)(this.query.get(e)).pipe(Ce.iC)}add(e){return this.ref.add(e)}doc(e){return new ky(this.ref.doc(e),this.afs)}}class ky{constructor(e,i){this.ref=e,this.afs=i}set(e,i){return this.ref.set(e,i)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,i){const a=this.ref.collection(e),{ref:c,query:m}=jg(a,i);return new Au(c,m,this.afs)}snapshotChanges(){return function(s,e){return yc(s,e).pipe(pe(void 0),Ne(),(0,Le.U)(([i,a])=>a.exists?(null==i?void 0:i.exists)?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ce.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Le.U)(({payload:i})=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data()))}get(e){return(0,we.D)(this.ref.get(e)).pipe(Ce.iC)}}class Fy{constructor(e,i){this.query=e,this.afs=i}stateChanges(e){return e&&0!==e.length?qd(this.query,this.afs.schedulers.outsideAngular).pipe((0,Le.U)(i=>i.filter(a=>e.indexOf(a.type)>-1)),(0,Ue.h)(i=>i.length>0),Ce.iC):qd(this.query,this.afs.schedulers.outsideAngular).pipe(Ce.iC)}auditTrail(e){return this.stateChanges(e).pipe(Re((i,a)=>[...i,...a],[]))}snapshotChanges(e){const i=Pf(e);return xy(this.query,i,this.afs.schedulers.outsideAngular).pipe(Ce.iC)}valueChanges(e={}){return Bg(this.query,this.afs.schedulers.outsideAngular).pipe((0,Le.U)(a=>a.payload.docs.map(c=>e.idField?Object.assign({[e.idField]:c.id},c.data()):c.data())),Ce.iC)}get(e){return(0,we.D)(this.query.get(e)).pipe(Ce.iC)}}const Ru=new y.OlP("angularfire2.enableFirestorePersistence"),nu=new y.OlP("angularfire2.firestore.persistenceSettings"),Mu=new y.OlP("angularfire2.firestore.settings"),Ly=new y.OlP("angularfire2.firestore.use-emulator");function jg(s,e=(i=>i)){return{query:e(s),ref:s}}let Vy=(()=>{class s{constructor(i,a,c,m,D,F,Z,ae,Ae,et,bt,Ot,tn,jn,xr,ks,ru){this.schedulers=Z;const xu=(0,st.on)(i,F,a),Gu=Ae;et&&(0,ul.nw)(xu,F,bt,tn,jn,xr,Ot,ks),[this.firestore,this.persistenceEnabled$]=(0,st.cc)(`${xu.name}.firestore`,"AngularFirestore",xu.name,()=>{const zu=F.runOutsideAngular(()=>xu.firestore());if(m&&zu.settings(m),Gu&&zu.useEmulator(...Gu),c&&!(0,ot.PM)(D)){const Zd=()=>{try{return(0,we.D)(zu.enablePersistence(ae||void 0).then(()=>!0,()=>!1))}catch(vv){return"undefined"!=typeof console&&console.warn(vv),(0,fe.of)(!1)}};return[zu,F.runOutsideAngular(Zd)]}return[zu,(0,fe.of)(!1)]},[m,Gu,c])}collection(i,a){let c;c="string"==typeof i?this.firestore.collection(i):i;const{ref:m,query:D}=jg(c,a),F=this.schedulers.ngZone.run(()=>m);return new Au(F,D,this)}collectionGroup(i,a){const c=a||(D=>D),m=this.firestore.collectionGroup(i);return new Fy(c(m),this)}doc(i){let a;a="string"==typeof i?this.firestore.doc(i):i;const c=this.schedulers.ngZone.run(()=>a);return new ky(c,this)}createId(){return this.firestore.collection("_").doc().id}}return s.\u0275fac=function(i){return new(i||s)(y.LFG(st.Dh),y.LFG(st.xv,8),y.LFG(Ru,8),y.LFG(Mu,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(Ce.HU),y.LFG(nu,8),y.LFG(Ly,8),y.LFG(ul.zQ,8),y.LFG(ul.Qv,8),y.LFG(ul.L6,8),y.LFG(ul._Q,8),y.LFG(ul.rT,8),y.LFG(ul.lh,8),y.LFG(ul.f7,8),y.LFG(mv.nm,8))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),_v=(()=>{class s{constructor(){Ry.Z.registerVersion("angularfire",Ce.q4.full,"fst-compat")}static enablePersistence(i){return{ngModule:s,providers:[{provide:Ru,useValue:!0},{provide:nu,useValue:i}]}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({providers:[Vy]}),s})()},9273:(Dt,Ve,O)=>{"use strict";O.d(Ve,{Q1:()=>Ms,TE:()=>qs});var y=O(1827),w=O(4323),K=O(1179),we=O(4346),fe=O(3201),Ce=O(1894),Te=O(6885),he=O(1926),Q=O(9358),Y=O(639),pe=O(8939),qe=O(3394),Ne=O(8239),ct=O(8026),Re=O(3854),Oe=O(3910);const We="firebasestorage.googleapis.com",xe="storageBucket";class st extends Re.ZR{constructor(L,ie){super(ot(L),`Firebase Storage: ${ie} (${ot(L)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,st.prototype)}_codeEquals(L){return ot(L)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(L){this.customData.serverResponse=L,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function ot(G){return"storage/"+G}function $t(){return new st("unknown","An unknown error occurred, please check the error payload for server response.")}function Je(){return new st("canceled","User canceled the upload/download.")}function Bt(){return new st("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Fn(G){return new st("invalid-argument",G)}function rn(){return new st("app-deleted","The Firebase app was deleted.")}function tr(G){return new st("invalid-root-operation","The operation '"+G+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zt(G,L){return new st("invalid-format","String does not match format '"+G+"': "+L)}function lr(G){throw new st("internal-error","Internal error: "+G)}class Qt{constructor(L,ie){this.bucket=L,this.path_=ie}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const L=encodeURIComponent;return"/b/"+L(this.bucket)+"/o/"+L(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(L,ie){let Ie;try{Ie=Qt.makeFromUrl(L,ie)}catch(Ye){return new Qt(L,"")}if(""===Ie.path)return Ie;throw new st("invalid-default-bucket","Invalid default bucket '"+L+"'.")}static makeFromUrl(L,ie){let Ie=null;const Ye="([A-Za-z0-9.\\-_]+)",gn=new RegExp("^gs://"+Ye+"(/(.*))?$","i");function ut(Ur){Ur.path_=decodeURIComponent(Ur.path)}const ii=ie.replace(/[.]/g,"\\."),wi=[{regex:gn,indices:{bucket:1,path:3},postModify:function(Ur){"/"===Ur.path.charAt(Ur.path.length-1)&&(Ur.path_=Ur.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${ii}/v[A-Za-z0-9_]+/b/${Ye}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:ut},{regex:new RegExp(`^https?://${ie===We?"(?:storage.googleapis.com|storage.cloud.google.com)":ie}/${Ye}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:ut}];for(let Ur=0;Ur<wi.length;Ur++){const Hs=wi[Ur],Br=Hs.regex.exec(L);if(Br){let Is=Br[Hs.indices.path];Is||(Is=""),Ie=new Qt(Br[Hs.indices.bucket],Is),Hs.postModify(Ie);break}}if(null==Ie)throw new st("invalid-url","Invalid URL '"+L+"'.");return Ie}}class cn{constructor(L){this.promise_=Promise.reject(L)}getPromise(){return this.promise_}cancel(L=!1){}}function Un(G){return"string"==typeof G||G instanceof String}function oi(G){return cr()&&G instanceof Blob}function cr(){return"undefined"!=typeof Blob}function Rr(G,L,ie,Ie){if(Ie<L)throw Fn(`Invalid value for '${G}'. Expected ${L} or greater.`);if(Ie>ie)throw Fn(`Invalid value for '${G}'. Expected ${ie} or less.`)}function or(G,L,ie){let Ie=L;return null==ie&&(Ie=`https://${L}`),`${ie}://${Ie}/v0${G}`}function fr(G){const L=encodeURIComponent;let ie="?";for(const Ie in G)G.hasOwnProperty(Ie)&&(ie=ie+(L(Ie)+"=")+L(G[Ie])+"&");return ie=ie.slice(0,-1),ie}var jt=(()=>{return(G=jt||(jt={}))[G.NO_ERROR=0]="NO_ERROR",G[G.NETWORK_ERROR=1]="NETWORK_ERROR",G[G.ABORT=2]="ABORT",jt;var G})();class Ht{constructor(L,ie,Ie,Ye,ht,kt,gn,dn,ut,sn,ii){this.url_=L,this.method_=ie,this.headers_=Ie,this.body_=Ye,this.successCodes_=ht,this.additionalRetryCodes_=kt,this.callback_=gn,this.errorCallback_=dn,this.timeout_=ut,this.progressCallback_=sn,this.connectionFactory_=ii,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Xn,di)=>{this.resolve_=Xn,this.reject_=di,this.start_()})}start_(){const ie=(Ie,Ye)=>{const ht=this.resolve_,kt=this.reject_,gn=Ye.connection;if(Ye.wasSuccessCode)try{const dn=this.callback_(gn,gn.getResponse());void 0!==dn?ht(dn):ht()}catch(dn){kt(dn)}else if(null!==gn){const dn=$t();dn.serverResponse=gn.getErrorText(),kt(this.errorCallback_?this.errorCallback_(gn,dn):dn)}else kt(Ye.canceled?this.appDelete_?rn():Je():new st("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?ie(0,new ve(!1,null,!0)):this.backoffId_=function(G,L,ie){let Ie=1,Ye=null,ht=null,kt=!1,gn=0;function dn(){return 2===gn}let ut=!1;function sn(...Vr){ut||(ut=!0,L.apply(null,Vr))}function ii(Vr){Ye=setTimeout(()=>{Ye=null,G(di,dn())},Vr)}function Xn(){ht&&clearTimeout(ht)}function di(Vr,...fs){if(ut)return void Xn();if(Vr)return Xn(),void sn.call(null,Vr,...fs);if(dn()||kt)return Xn(),void sn.call(null,Vr,...fs);let wi;Ie<64&&(Ie*=2),1===gn?(gn=2,wi=0):wi=1e3*(Ie+Math.random()),ii(wi)}let Hr=!1;function Ei(Vr){Hr||(Hr=!0,Xn(),!ut&&(null!==Ye?(Vr||(gn=2),clearTimeout(Ye),ii(0)):Vr||(gn=1)))}return ii(0),ht=setTimeout(()=>{kt=!0,Ei(!0)},ie),Ei}((Ie,Ye)=>{if(Ye)return void Ie(!1,new ve(!1,null,!0));const ht=this.connectionFactory_();this.pendingConnection_=ht;const kt=gn=>{null!==this.progressCallback_&&this.progressCallback_(gn.loaded,gn.lengthComputable?gn.total:-1)};null!==this.progressCallback_&&ht.addUploadProgressListener(kt),ht.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&ht.removeUploadProgressListener(kt),this.pendingConnection_=null;const gn=ht.getErrorCode()===jt.NO_ERROR,dn=ht.getStatus();if(!gn||this.isRetryStatusCode_(dn)){const sn=ht.getErrorCode()===jt.ABORT;return void Ie(!1,new ve(!1,null,sn))}const ut=-1!==this.successCodes_.indexOf(dn);Ie(!0,new ve(ut,ht))})},ie,this.timeout_)}getPromise(){return this.promise_}cancel(L){this.canceled_=!0,this.appDelete_=L||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(L){const ie=L>=500&&L<600,Ye=-1!==[408,429].indexOf(L),ht=-1!==this.additionalRetryCodes_.indexOf(L);return ie||Ye||ht}}class ve{constructor(L,ie,Ie){this.wasSuccessCode=L,this.connection=ie,this.canceled=!!Ie}}function Pt(...G){const L="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==L){const ie=new L;for(let Ie=0;Ie<G.length;Ie++)ie.append(G[Ie]);return ie.getBlob()}if(cr())return new Blob(G);throw new st("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Mn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Hn{constructor(L,ie){this.data=L,this.contentType=ie||null}}function ir(G,L){switch(G){case Mn.RAW:return new Hn(vn(L));case Mn.BASE64:case Mn.BASE64URL:return new Hn(Pe(G,L));case Mn.DATA_URL:return new Hn(function(G){const L=new Fe(G);return L.base64?Pe(Mn.BASE64,L.rest):function(G){let L;try{L=decodeURIComponent(G)}catch(ie){throw zt(Mn.DATA_URL,"Malformed data URL.")}return vn(L)}(L.rest)}(L),function(G){return new Fe(G).contentType}(L))}throw $t()}function vn(G){const L=[];for(let ie=0;ie<G.length;ie++){let Ie=G.charCodeAt(ie);Ie<=127?L.push(Ie):Ie<=2047?L.push(192|Ie>>6,128|63&Ie):55296==(64512&Ie)?ie<G.length-1&&56320==(64512&G.charCodeAt(ie+1))?(Ie=65536|(1023&Ie)<<10|1023&G.charCodeAt(++ie),L.push(240|Ie>>18,128|Ie>>12&63,128|Ie>>6&63,128|63&Ie)):L.push(239,191,189):56320==(64512&Ie)?L.push(239,191,189):L.push(224|Ie>>12,128|Ie>>6&63,128|63&Ie)}return new Uint8Array(L)}function Pe(G,L){switch(G){case Mn.BASE64:{const Ye=-1!==L.indexOf("-"),ht=-1!==L.indexOf("_");if(Ye||ht)throw zt(G,"Invalid character '"+(Ye?"-":"_")+"' found: is it base64url encoded?");break}case Mn.BASE64URL:{const Ye=-1!==L.indexOf("+"),ht=-1!==L.indexOf("/");if(Ye||ht)throw zt(G,"Invalid character '"+(Ye?"+":"/")+"' found: is it base64 encoded?");L=L.replace(/-/g,"+").replace(/_/g,"/");break}}let ie;try{ie=function(G){return atob(G)}(L)}catch(Ye){throw zt(G,"Invalid character found")}const Ie=new Uint8Array(ie.length);for(let Ye=0;Ye<ie.length;Ye++)Ie[Ye]=ie.charCodeAt(Ye);return Ie}class Fe{constructor(L){this.base64=!1,this.contentType=null;const ie=L.match(/^data:([^,]+)?,/);if(null===ie)throw zt(Mn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Ie=ie[1]||null;null!=Ie&&(this.base64=function(G,L){return G.length>=L.length&&G.substring(G.length-L.length)===L}(Ie,";base64"),this.contentType=this.base64?Ie.substring(0,Ie.length-";base64".length):Ie),this.rest=L.substring(L.indexOf(",")+1)}}class nn{constructor(L,ie){let Ie=0,Ye="";oi(L)?(this.data_=L,Ie=L.size,Ye=L.type):L instanceof ArrayBuffer?(ie?this.data_=new Uint8Array(L):(this.data_=new Uint8Array(L.byteLength),this.data_.set(new Uint8Array(L))),Ie=this.data_.length):L instanceof Uint8Array&&(ie?this.data_=L:(this.data_=new Uint8Array(L.length),this.data_.set(L)),Ie=L.length),this.size_=Ie,this.type_=Ye}size(){return this.size_}type(){return this.type_}slice(L,ie){if(oi(this.data_)){const Ye=function(G,L,ie){return G.webkitSlice?G.webkitSlice(L,ie):G.mozSlice?G.mozSlice(L,ie):G.slice?G.slice(L,ie):null}(this.data_,L,ie);return null===Ye?null:new nn(Ye)}{const Ie=new Uint8Array(this.data_.buffer,L,ie-L);return new nn(Ie,!0)}}static getBlob(...L){if(cr()){const ie=L.map(Ie=>Ie instanceof nn?Ie.data_:Ie);return new nn(Pt.apply(null,ie))}{const ie=L.map(kt=>Un(kt)?ir(Mn.RAW,kt).data:kt.data_);let Ie=0;ie.forEach(kt=>{Ie+=kt.byteLength});const Ye=new Uint8Array(Ie);let ht=0;return ie.forEach(kt=>{for(let gn=0;gn<kt.length;gn++)Ye[ht++]=kt[gn]}),new nn(Ye,!0)}}uploadData(){return this.data_}}function pr(G){let L;try{L=JSON.parse(G)}catch(ie){return null}return function(G){return"object"==typeof G&&!Array.isArray(G)}(L)?L:null}function bn(G){const L=G.lastIndexOf("/",G.length-2);return-1===L?G:G.slice(L+1)}function Qn(G,L){return L}class Gn{constructor(L,ie,Ie,Ye){this.server=L,this.local=ie||L,this.writable=!!Ie,this.xform=Ye||Qn}}let nr=null;function ai(){if(nr)return nr;const G=[];G.push(new Gn("bucket")),G.push(new Gn("generation")),G.push(new Gn("metageneration")),G.push(new Gn("name","fullPath",!0));const ie=new Gn("name");ie.xform=function(ht,kt){return function(G){return!Un(G)||G.length<2?G:bn(G)}(kt)},G.push(ie);const Ye=new Gn("size");return Ye.xform=function(ht,kt){return void 0!==kt?Number(kt):kt},G.push(Ye),G.push(new Gn("timeCreated")),G.push(new Gn("updated")),G.push(new Gn("md5Hash",null,!0)),G.push(new Gn("cacheControl",null,!0)),G.push(new Gn("contentDisposition",null,!0)),G.push(new Gn("contentEncoding",null,!0)),G.push(new Gn("contentLanguage",null,!0)),G.push(new Gn("contentType",null,!0)),G.push(new Gn("metadata","customMetadata",!0)),nr=G,nr}function jr(G,L,ie){const Ie=pr(L);return null===Ie?null:function(G,L,ie){const Ie={type:"file"},Ye=ie.length;for(let ht=0;ht<Ye;ht++){const kt=ie[ht];Ie[kt.local]=kt.xform(Ie,L[kt.server])}return function(G,L){Object.defineProperty(G,"ref",{get:function(){const ht=new Qt(G.bucket,G.fullPath);return L._makeStorageReference(ht)}})}(Ie,G),Ie}(G,Ie,ie)}function Oi(G,L){const ie={},Ie=L.length;for(let Ye=0;Ye<Ie;Ye++){const ht=L[Ye];ht.writable&&(ie[ht.server]=G[ht.local])}return JSON.stringify(ie)}const Lr="prefixes";class Gr{constructor(L,ie,Ie,Ye){this.url=L,this.method=ie,this.handler=Ie,this.timeout=Ye,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function mi(G){if(!G)throw $t()}function Li(G,L){return function(Ie,Ye){const ht=jr(G,Ye,L);return mi(null!==ht),ht}}function gr(G){return function(ie,Ie){let Ye;return Ye=401===ie.getStatus()?ie.getErrorText().includes("Firebase App Check token is invalid")?new st("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new st("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===ie.getStatus()?function(G){return new st("quota-exceeded","Quota for bucket '"+G+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(G.bucket):403===ie.getStatus()?function(G){return new st("unauthorized","User does not have permission to access '"+G+"'.")}(G.path):Ie,Ye.serverResponse=Ie.serverResponse,Ye}}function zr(G){const L=gr(G);return function(Ie,Ye){let ht=L(Ie,Ye);return 404===Ie.getStatus()&&(ht=function(G){return new st("object-not-found","Object '"+G+"' does not exist.")}(G.path)),ht.serverResponse=Ye.serverResponse,ht}}function Pi(G,L,ie){const Ye=or(L.fullServerUrl(),G.host,G._protocol),kt=G.maxOperationRetryTime,gn=new Gr(Ye,"GET",Li(G,ie),kt);return gn.errorHandler=zr(L),gn}function Wr(G,L,ie,Ie,Ye){const ht={};ht.prefix=L.isRoot?"":L.path+"/",ie&&ie.length>0&&(ht.delimiter=ie),Ie&&(ht.pageToken=Ie),Ye&&(ht.maxResults=Ye);const gn=or(L.bucketOnlyServerUrl(),G.host,G._protocol),ut=G.maxOperationRetryTime,sn=new Gr(gn,"GET",function(G,L){return function(Ie,Ye){const ht=function(G,L,ie){const Ie=pr(ie);return null===Ie?null:function(G,L,ie){const Ie={prefixes:[],items:[],nextPageToken:ie.nextPageToken};if(ie[Lr])for(const Ye of ie[Lr]){const ht=Ye.replace(/\/$/,""),kt=G._makeStorageReference(new Qt(L,ht));Ie.prefixes.push(kt)}if(ie.items)for(const Ye of ie.items){const ht=G._makeStorageReference(new Qt(L,Ye.name));Ie.items.push(ht)}return Ie}(G,L,Ie)}(G,L,Ye);return mi(null!==ht),ht}}(G,L.bucket),ut);return sn.urlParams=ht,sn.errorHandler=gr(L),sn}function ue(G,L,ie){const Ie=Object.assign({},ie);return Ie.fullPath=G.path,Ie.size=L.size(),Ie.contentType||(Ie.contentType=function(G,L){return L&&L.type()||"application/octet-stream"}(0,L)),Ie}class ft{constructor(L,ie,Ie,Ye){this.current=L,this.total=ie,this.finalized=!!Ie,this.metadata=Ye||null}}function Dn(G,L){let ie=null;try{ie=G.getResponseHeader("X-Goog-Upload-Status")}catch(Ye){mi(!1)}return mi(!!ie&&-1!==(L||["active"]).indexOf(ie)),ie}const Gi={STATE_CHANGED:"state_changed"},Dr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ei(G){switch(G){case"running":case"pausing":case"canceling":return Dr.RUNNING;case"paused":return Dr.PAUSED;case"success":return Dr.SUCCESS;case"canceled":return Dr.CANCELED;case"error":default:return Dr.ERROR}}class Di{constructor(L,ie,Ie){if("function"==typeof L||null!=ie||null!=Ie)this.next=L,this.error=null!=ie?ie:void 0,this.complete=null!=Ie?Ie:void 0;else{const ht=L;this.next=ht.next,this.error=ht.error,this.complete=ht.complete}}}function $r(G){return(...L)=>{Promise.resolve().then(()=>G(...L))}}class vo extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=jt.NO_ERROR,this.sendPromise_=new Promise(L=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=jt.ABORT,L()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=jt.NETWORK_ERROR,L()}),this.xhr_.addEventListener("load",()=>{L()})})}send(L,ie,Ie,Ye){if(this.sent_)throw lr("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(ie,L,!0),void 0!==Ye)for(const ht in Ye)Ye.hasOwnProperty(ht)&&this.xhr_.setRequestHeader(ht,Ye[ht].toString());return void 0!==Ie?this.xhr_.send(Ie):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw lr("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw lr("cannot .getStatus() before sending");try{return this.xhr_.status}catch(L){return-1}}getResponse(){if(!this.sent_)throw lr("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw lr("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(L){return this.xhr_.getResponseHeader(L)}addUploadProgressListener(L){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",L)}removeUploadProgressListener(L){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",L)}}{initXhr(){this.xhr_.responseType="text"}}function Ni(){return new vo}class Vi{constructor(L,ie,Ie=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=L,this._blob=ie,this._metadata=Ie,this._mappings=ai(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Ye=>{this._request=void 0,this._chunkMultiplier=1,Ye._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=Ye,this._transition("error"))},this._metadataErrorHandler=Ye=>{this._request=void 0,Ye._codeEquals("canceled")?this.completeTransitions_():(this._error=Ye,this._transition("error"))},this._promise=new Promise((Ye,ht)=>{this._resolve=Ye,this._reject=ht,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const L=this._transferred;return ie=>this._updateProgress(L+ie)}_shouldDoResumable(L){return L.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(L){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([ie,Ie])=>{switch(this._state){case"running":L(ie,Ie);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((L,ie)=>{const Ie=function(G,L,ie,Ie,Ye){const ht=L.bucketOnlyServerUrl(),kt=ue(L,Ie,Ye),gn={name:kt.fullPath},dn=or(ht,G.host,G._protocol),sn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Ie.size()}`,"X-Goog-Upload-Header-Content-Type":kt.contentType,"Content-Type":"application/json; charset=utf-8"},ii=Oi(kt,ie),Hr=new Gr(dn,"POST",function(Ei){let Vr;Dn(Ei);try{Vr=Ei.getResponseHeader("X-Goog-Upload-URL")}catch(fs){mi(!1)}return mi(Un(Vr)),Vr},G.maxUploadRetryTime);return Hr.urlParams=gn,Hr.headers=sn,Hr.body=ii,Hr.errorHandler=gr(L),Hr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ye=this._ref.storage._makeRequest(Ie,Ni,L,ie);this._request=Ye,Ye.getPromise().then(ht=>{this._request=void 0,this._uploadUrl=ht,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const L=this._uploadUrl;this._resolveToken((ie,Ie)=>{const Ye=function(G,L,ie,Ie){const dn=new Gr(ie,"POST",function(ut){const sn=Dn(ut,["active","final"]);let ii=null;try{ii=ut.getResponseHeader("X-Goog-Upload-Size-Received")}catch(di){mi(!1)}ii||mi(!1);const Xn=Number(ii);return mi(!isNaN(Xn)),new ft(Xn,Ie.size(),"final"===sn)},G.maxUploadRetryTime);return dn.headers={"X-Goog-Upload-Command":"query"},dn.errorHandler=gr(L),dn}(this._ref.storage,this._ref._location,L,this._blob),ht=this._ref.storage._makeRequest(Ye,Ni,ie,Ie);this._request=ht,ht.getPromise().then(kt=>{kt=kt,this._request=void 0,this._updateProgress(kt.current),this._needToFetchStatus=!1,kt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const L=262144*this._chunkMultiplier,ie=new ft(this._transferred,this._blob.size()),Ie=this._uploadUrl;this._resolveToken((Ye,ht)=>{let kt;try{kt=function(G,L,ie,Ie,Ye,ht,kt,gn){const dn=new ft(0,0);if(kt?(dn.current=kt.current,dn.total=kt.total):(dn.current=0,dn.total=Ie.size()),Ie.size()!==dn.total)throw new st("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const ut=dn.total-dn.current;let sn=ut;Ye>0&&(sn=Math.min(sn,Ye));const ii=dn.current,Hr={"X-Goog-Upload-Command":sn===ut?"upload, finalize":"upload","X-Goog-Upload-Offset":`${dn.current}`},Ei=Ie.slice(ii,ii+sn);if(null===Ei)throw Bt();const wi=new Gr(ie,"POST",function(Ur,Hs){const Br=Dn(Ur,["active","final"]),ns=dn.current+sn,Is=Ie.size();let Gs;return Gs="final"===Br?Li(L,ht)(Ur,Hs):null,new ft(ns,Is,"final"===Br,Gs)},L.maxUploadRetryTime);return wi.headers=Hr,wi.body=Ei.uploadData(),wi.progressCallback=gn||null,wi.errorHandler=gr(G),wi}(this._ref._location,this._ref.storage,Ie,this._blob,L,this._mappings,ie,this._makeProgressCallback())}catch(dn){return this._error=dn,void this._transition("error")}const gn=this._ref.storage._makeRequest(kt,Ni,Ye,ht);this._request=gn,gn.getPromise().then(dn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(dn.current),dn.finalized?(this._metadata=dn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((L,ie)=>{const Ie=Pi(this._ref.storage,this._ref._location,this._mappings),Ye=this._ref.storage._makeRequest(Ie,Ni,L,ie);this._request=Ye,Ye.getPromise().then(ht=>{this._request=void 0,this._metadata=ht,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((L,ie)=>{const Ie=function(G,L,ie,Ie,Ye){const ht=L.bucketOnlyServerUrl(),kt={"X-Goog-Upload-Protocol":"multipart"},dn=function(){let wi="";for(let Ur=0;Ur<2;Ur++)wi+=Math.random().toString().slice(2);return wi}();kt["Content-Type"]="multipart/related; boundary="+dn;const ut=ue(L,Ie,Ye),sn=Oi(ut,ie),di=nn.getBlob("--"+dn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+sn+"\r\n--"+dn+"\r\nContent-Type: "+ut.contentType+"\r\n\r\n",Ie,"\r\n--"+dn+"--");if(null===di)throw Bt();const Hr={name:ut.fullPath},Ei=or(ht,G.host,G._protocol),fs=G.maxUploadRetryTime,ps=new Gr(Ei,"POST",Li(G,ie),fs);return ps.urlParams=Hr,ps.headers=kt,ps.body=di.uploadData(),ps.errorHandler=gr(L),ps}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ye=this._ref.storage._makeRequest(Ie,Ni,L,ie);this._request=Ye,Ye.getPromise().then(ht=>{this._request=void 0,this._metadata=ht,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(L){const ie=this._transferred;this._transferred=L,this._transferred!==ie&&this._notifyObservers()}_transition(L){if(this._state!==L)switch(L){case"canceling":case"pausing":this._state=L,void 0!==this._request&&this._request.cancel();break;case"running":const ie="paused"===this._state;this._state=L,ie&&(this._notifyObservers(),this._start());break;case"paused":this._state=L,this._notifyObservers();break;case"canceled":this._error=Je(),this._state=L,this._notifyObservers();break;case"error":case"success":this._state=L,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const L=ei(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:L,metadata:this._metadata,task:this,ref:this._ref}}on(L,ie,Ie,Ye){const ht=new Di(ie||void 0,Ie||void 0,Ye||void 0);return this._addObserver(ht),()=>{this._removeObserver(ht)}}then(L,ie){return this._promise.then(L,ie)}catch(L){return this.then(null,L)}_addObserver(L){this._observers.push(L),this._notifyObserver(L)}_removeObserver(L){const ie=this._observers.indexOf(L);-1!==ie&&this._observers.splice(ie,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(ie=>{this._notifyObserver(ie)})}_finishPromise(){if(void 0!==this._resolve){let L=!0;switch(ei(this._state)){case Dr.SUCCESS:$r(this._resolve.bind(null,this.snapshot))();break;case Dr.CANCELED:case Dr.ERROR:$r(this._reject.bind(null,this._error))();break;default:L=!1}L&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(L){switch(ei(this._state)){case Dr.RUNNING:case Dr.PAUSED:L.next&&$r(L.next.bind(L,this.snapshot))();break;case Dr.SUCCESS:L.complete&&$r(L.complete.bind(L))();break;case Dr.CANCELED:case Dr.ERROR:L.error&&$r(L.error.bind(L,this._error))();break;default:L.error&&$r(L.error.bind(L,this._error))()}}resume(){const L="paused"===this._state||"pausing"===this._state;return L&&this._transition("running"),L}pause(){const L="running"===this._state;return L&&this._transition("pausing"),L}cancel(){const L="running"===this._state||"pausing"===this._state;return L&&this._transition("canceling"),L}}class Kn{constructor(L,ie){this._service=L,this._location=ie instanceof Qt?ie:Qt.makeFromUrl(ie,L.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(L,ie){return new Kn(L,ie)}get root(){const L=new Qt(this._location.bucket,"");return this._newRef(this._service,L)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bn(this._location.path)}get storage(){return this._service}get parent(){const L=function(G){if(0===G.length)return null;const L=G.lastIndexOf("/");return-1===L?"":G.slice(0,L)}(this._location.path);if(null===L)return null;const ie=new Qt(this._location.bucket,L);return new Kn(this._service,ie)}_throwIfRoot(L){if(""===this._location.path)throw tr(L)}}function St(G,L,ie){return un.apply(this,arguments)}function un(){return(un=(0,Ne.Z)(function*(G,L,ie){const Ye=yield Jn(G,{pageToken:ie});L.prefixes.push(...Ye.prefixes),L.items.push(...Ye.items),null!=Ye.nextPageToken&&(yield St(G,L,Ye.nextPageToken))})).apply(this,arguments)}function Jn(G,L){null!=L&&"number"==typeof L.maxResults&&Rr("options.maxResults",1,1e3,L.maxResults);const ie=L||{},Ie=Wr(G.storage,G._location,"/",ie.pageToken,ie.maxResults);return G.storage.makeRequestWithTokens(Ie,Ni)}function Ui(G){G._throwIfRoot("getDownloadURL");const L=function(G,L,ie){const Ye=or(L.fullServerUrl(),G.host,G._protocol),kt=G.maxOperationRetryTime,gn=new Gr(Ye,"GET",function(G,L){return function(Ie,Ye){const ht=jr(G,Ye,L);return mi(null!==ht),function(G,L,ie,Ie){const Ye=pr(L);if(null===Ye||!Un(Ye.downloadTokens))return null;const ht=Ye.downloadTokens;if(0===ht.length)return null;const kt=encodeURIComponent;return ht.split(",").map(ut=>{const ii=G.fullPath;return or("/b/"+kt(G.bucket)+"/o/"+kt(ii),ie,Ie)+fr({alt:"media",token:ut})})[0]}(ht,Ye,G.host,G._protocol)}}(G,ie),kt);return gn.errorHandler=zr(L),gn}(G.storage,G._location,ai());return G.storage.makeRequestWithTokens(L,Ni).then(ie=>{if(null===ie)throw new st("no-download-url","The given file does not have any download URLs.");return ie})}function ss(G,L){const ie=function(G,L){const ie=L.split("/").filter(Ie=>Ie.length>0).join("/");return 0===G.length?ie:G+"/"+ie}(G._location.path,L),Ie=new Qt(G._location.bucket,ie);return new Kn(G.storage,Ie)}function zs(G,L){if(G instanceof os){const ie=G;if(null==ie._bucket)throw new st("no-default-bucket","No default bucket found. Did you set the '"+xe+"' property when initializing the app?");const Ie=new Kn(ie,ie._bucket);return null!=L?zs(Ie,L):Ie}return void 0!==L?ss(G,L):G}function Fs(G,L){if(L&&function(G){return/^[A-Za-z]+:\/\//.test(G)}(L)){if(G instanceof os)return function(G,L){return new Kn(G,L)}(G,L);throw Fn("To use ref(service, url), the first argument must be a Storage instance.")}return zs(G,L)}function _i(G,L){const ie=null==L?void 0:L[xe];return null==ie?null:Qt.makeFromBucketSpec(ie,G)}class os{constructor(L,ie,Ie,Ye,ht){this.app=L,this._authProvider=ie,this._appCheckProvider=Ie,this._url=Ye,this._firebaseVersion=ht,this._bucket=null,this._host=We,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Ye?Qt.makeFromBucketSpec(Ye,this._host):_i(this._host,this.app.options)}get host(){return this._host}set host(L){this._host=L,this._bucket=null!=this._url?Qt.makeFromBucketSpec(this._url,L):_i(L,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(L){Rr("time",0,Number.POSITIVE_INFINITY,L),this._maxUploadRetryTime=L}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(L){Rr("time",0,Number.POSITIVE_INFINITY,L),this._maxOperationRetryTime=L}_getAuthToken(){var L=this;return(0,Ne.Z)(function*(){if(L._overrideAuthToken)return L._overrideAuthToken;const ie=L._authProvider.getImmediate({optional:!0});if(ie){const Ie=yield ie.getToken();if(null!==Ie)return Ie.accessToken}return null})()}_getAppCheckToken(){var L=this;return(0,Ne.Z)(function*(){const ie=L._appCheckProvider.getImmediate({optional:!0});return ie?(yield ie.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(L=>L.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(L){return new Kn(this,L)}_makeRequest(L,ie,Ie,Ye){if(this._deleted)return new cn(rn());{const ht=function(G,L,ie,Ie,Ye,ht){const kt=fr(G.urlParams),gn=G.url+kt,dn=Object.assign({},G.headers);return function(G,L){L&&(G["X-Firebase-GMPID"]=L)}(dn,L),function(G,L){null!==L&&L.length>0&&(G.Authorization="Firebase "+L)}(dn,ie),function(G,L){G["X-Firebase-Storage-Version"]="webjs/"+(null!=L?L:"AppManager")}(dn,ht),function(G,L){null!==L&&(G["X-Firebase-AppCheck"]=L)}(dn,Ie),new Ht(gn,G.method,dn,G.body,G.successCodes,G.additionalRetryCodes,G.handler,G.errorHandler,G.timeout,G.progressCallback,Ye)}(L,this._appId,Ie,Ye,ie,this._firebaseVersion);return this._requests.add(ht),ht.getPromise().then(()=>this._requests.delete(ht),()=>this._requests.delete(ht)),ht}}makeRequestWithTokens(L,ie){var Ie=this;return(0,Ne.Z)(function*(){const[Ye,ht]=yield Promise.all([Ie._getAuthToken(),Ie._getAppCheckToken()]);return Ie._makeRequest(L,ie,Ye,ht).getPromise()})()}}const Ls="@firebase/storage";function Bs(G,L){return Fs(G=(0,Re.m9)(G),L)}(0,ct._registerComponent)(new Oe.wA("storage",function(G,{instanceIdentifier:L}){const ie=G.getProvider("app").getImmediate(),Ie=G.getProvider("auth-internal"),Ye=G.getProvider("app-check-internal");return new os(ie,Ie,Ye,L,ct.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,ct.registerVersion)(Ls,"0.9.0",""),(0,ct.registerVersion)(Ls,"0.9.0","esm2017");class U{constructor(L,ie,Ie){this._delegate=L,this.task=ie,this.ref=Ie}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class I{constructor(L,ie){this._delegate=L,this._ref=ie,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new U(this._delegate.snapshot,this,this._ref)}then(L,ie){return this._delegate.then(Ie=>{if(L)return L(new U(Ie,this,this._ref))},ie)}on(L,ie,Ie,Ye){let ht;return ie&&(ht="function"==typeof ie?kt=>ie(new U(kt,this,this._ref)):{next:ie.next?kt=>ie.next(new U(kt,this,this._ref)):void 0,complete:ie.complete||void 0,error:ie.error||void 0}),this._delegate.on(L,ht,Ie||void 0,Ye||void 0)}}class A{constructor(L,ie){this._delegate=L,this._service=ie}get prefixes(){return this._delegate.prefixes.map(L=>new R(L,this._service))}get items(){return this._delegate.items.map(L=>new R(L,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class R{constructor(L,ie){this._delegate=L,this.storage=ie}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(L){const ie=function(G,L){return ss(G,L)}(this._delegate,L);return new R(ie,this.storage)}get root(){return new R(this._delegate.root,this.storage)}get parent(){const L=this._delegate.parent;return null==L?null:new R(L,this.storage)}put(L,ie){return this._throwIfRoot("put"),new I(function(G,L,ie){return function(G,L,ie){return G._throwIfRoot("uploadBytesResumable"),new Vi(G,new nn(L),ie)}(G=(0,Re.m9)(G),L,ie)}(this._delegate,L,ie),this)}putString(L,ie=Mn.RAW,Ie){this._throwIfRoot("putString");const Ye=ir(ie,L),ht=Object.assign({},Ie);return null==ht.contentType&&null!=Ye.contentType&&(ht.contentType=Ye.contentType),new I(new Vi(this._delegate,new nn(Ye.data,!0),ht),this)}listAll(){return(G=this._delegate,function(G){const L={prefixes:[],items:[]};return St(G,L).then(()=>L)}(G=(0,Re.m9)(G))).then(L=>new A(L,this.storage));var G}list(L){return function(G,L){return Jn(G=(0,Re.m9)(G),L)}(this._delegate,L||void 0).then(ie=>new A(ie,this.storage))}getMetadata(){return function(G){G._throwIfRoot("getMetadata");const L=Pi(G.storage,G._location,ai());return G.storage.makeRequestWithTokens(L,Ni)}((0,Re.m9)(this._delegate))}updateMetadata(L){return function(G,L){return function(G,L){G._throwIfRoot("updateMetadata");const ie=function(G,L,ie,Ie){const ht=or(L.fullServerUrl(),G.host,G._protocol),gn=Oi(ie,Ie),ut=G.maxOperationRetryTime,sn=new Gr(ht,"PATCH",Li(G,Ie),ut);return sn.headers={"Content-Type":"application/json; charset=utf-8"},sn.body=gn,sn.errorHandler=zr(L),sn}(G.storage,G._location,L,ai());return G.storage.makeRequestWithTokens(ie,Ni)}(G=(0,Re.m9)(G),L)}(this._delegate,L)}getDownloadURL(){return Ui((0,Re.m9)(this._delegate))}delete(){return this._throwIfRoot("delete"),function(G){G._throwIfRoot("deleteObject");const L=function(G,L){const Ie=or(L.fullServerUrl(),G.host,G._protocol),gn=new Gr(Ie,"DELETE",function(dn,ut){},G.maxOperationRetryTime);return gn.successCodes=[200,204],gn.errorHandler=zr(L),gn}(G.storage,G._location);return G.storage.makeRequestWithTokens(L,Ni)}((0,Re.m9)(this._delegate))}_throwIfRoot(L){if(""===this._delegate._location.path)throw tr(L)}}class W{constructor(L,ie){this.app=L,this._delegate=ie}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(L){if(Ze(L))throw Fn("ref() expected a child path but got a URL, use refFromURL instead.");return new R(Bs(this._delegate,L),this)}refFromURL(L){if(!Ze(L))throw Fn("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Qt.makeFromUrl(L,this._delegate.host)}catch(ie){throw Fn("refFromUrl() expected a valid full URL but got an invalid one.")}return new R(Bs(this._delegate,L),this)}setMaxUploadRetryTime(L){this._delegate.maxUploadRetryTime=L}setMaxOperationRetryTime(L){this._delegate.maxOperationRetryTime=L}useEmulator(L,ie,Ie={}){!function(G,L,ie,Ie={}){!function(G,L,ie,Ie={}){G.host=`${L}:${ie}`,G._protocol="http";const{mockUserToken:Ye}=Ie;Ye&&(G._overrideAuthToken="string"==typeof Ye?Ye:(0,Re.Sg)(Ye,G.app.options.projectId))}(G,L,ie,Ie)}(this._delegate,L,ie,Ie)}}function Ze(G){return/^[A-Za-z]+:\/\//.test(G)}function rr(G,{instanceIdentifier:L}){const ie=G.getProvider("app-compat").getImmediate(),Ie=G.getProvider("storage").getImmediate({identifier:L});return new W(ie,Ie)}!function(G){const L={TaskState:Dr,TaskEvent:Gi,StringFormat:Mn,Storage:W,Reference:R};G.INTERNAL.registerComponent(new Oe.wA("storage-compat",rr,"PUBLIC").setServiceProps(L).setMultipleInstances(!0)),G.registerVersion("@firebase/storage-compat","0.1.8")}(qe.Z);var _r=O(2801),qi=O(7841);function Zr(G){const L=function(G){return new y.y(L=>{const ie=kt=>L.next(kt);ie(G.snapshot);const ht=G.on("state_changed",ie);return G.then(kt=>{ie(kt),L.complete()},kt=>{ie(G.snapshot),(kt=>{L.error(kt)})(kt)}),function(){ht()}}).pipe(function(G,L=we.z){return(0,fe.e)((ie,Ie)=>{let Ye=null,ht=null,kt=null;const gn=()=>{if(Ye){Ye.unsubscribe(),Ye=null;const ut=ht;ht=null,Ie.next(ut)}};function dn(){const ut=kt+G,sn=L.now();if(sn<ut)return Ye=this.schedule(void 0,ut-sn),void Ie.add(Ye);gn()}ie.subscribe(new Ce.Q(Ie,ut=>{ht=ut,kt=L.now(),Ye||(Ye=L.schedule(dn,G),Ie.add(Ye))},()=>{gn(),Ie.complete()},void 0,()=>{ht=Ye=null}))})}(0))}(G);return{task:G,then:G.then.bind(G),catch:G.catch.bind(G),pause:G.pause.bind(G),cancel:G.cancel.bind(G),resume:G.resume.bind(G),snapshotChanges:()=>L,percentageChanges:()=>L.pipe((0,Te.U)(ie=>ie.bytesTransferred/ie.totalBytes*100))}}function Zi(G){return{getDownloadURL:()=>(0,w.of)(void 0).pipe(Q.fc,(0,he.w)(()=>G.getDownloadURL()),Q.iC),getMetadata:()=>(0,w.of)(void 0).pipe(Q.fc,(0,he.w)(()=>G.getMetadata()),Q.iC),delete:()=>(0,K.D)(G.delete()),child:L=>Zi(G.child(L)),updateMetadata:L=>(0,K.D)(G.updateMetadata(L)),put:(L,ie)=>Zr(G.put(L,ie)),putString:(L,ie,Ie)=>Zr(G.putString(L,ie,Ie)),list:L=>(0,K.D)(G.list(L)),listAll:()=>(0,K.D)(G.listAll())}}const ts=new Y.OlP("angularfire2.storageBucket"),Ir=new Y.OlP("angularfire2.storage.maxUploadRetryTime"),vi=new Y.OlP("angularfire2.storage.maxOperationRetryTime"),no=new Y.OlP("angularfire2.storage.use-emulator");let Ms=(()=>{class G{constructor(ie,Ie,Ye,ht,kt,gn,dn,ut,sn,ii){const Xn=(0,pe.on)(ie,kt,Ie);this.storage=(0,pe.cc)(`${Xn.name}.storage.${Ye}`,"AngularFireStorage",Xn.name,()=>{const di=kt.runOutsideAngular(()=>Xn.storage(Ye||void 0)),Hr=sn;return Hr&&di.useEmulator(...Hr),dn&&di.setMaxUploadRetryTime(dn),ut&&di.setMaxOperationRetryTime(ut),di},[dn,ut])}ref(ie){return Zi(this.storage.ref(ie))}refFromURL(ie){return Zi(this.storage.refFromURL(ie))}upload(ie,Ie,Ye){return Zi(this.storage.ref(ie)).put(Ie,Ye)}}return G.\u0275fac=function(ie){return new(ie||G)(Y.LFG(pe.Dh),Y.LFG(pe.xv,8),Y.LFG(ts,8),Y.LFG(Y.Lbi),Y.LFG(Y.R0b),Y.LFG(Q.HU),Y.LFG(Ir,8),Y.LFG(vi,8),Y.LFG(no,8),Y.LFG(_r.nm,8))},G.\u0275prov=Y.Yz7({token:G,factory:G.\u0275fac,providedIn:"any"}),G})(),as=(()=>{class G{}return G.\u0275fac=function(ie){return new(ie||G)},G.\u0275mod=Y.oAB({type:G}),G.\u0275inj=Y.cJS({}),G})(),qs=(()=>{class G{constructor(){qi.Z.registerVersion("angularfire",Q.q4.full,"gcs-compat")}}return G.\u0275fac=function(ie){return new(ie||G)},G.\u0275mod=Y.oAB({type:G}),G.\u0275inj=Y.cJS({providers:[Ms],imports:[as]}),G})()},8939:(Dt,Ve,O)=>{"use strict";O.d(Ve,{hO:()=>qe,xv:()=>he,Dh:()=>Te,GT:()=>Ce,cc:()=>Ne,on:()=>Q,pX:()=>fe});var y=O(639),w=O(7841),K=O(9358);Dt=O.hmd(Dt);const we=["ngOnDestroy"],fe=(We,xe,Le,Ue={})=>new Proxy(We,{get:(st,ot)=>Le.runOutsideAngular(()=>{var $t;if(We[ot])return(null===($t=null==Ue?void 0:Ue.spy)||void 0===$t?void 0:$t.get)&&Ue.spy.get(ot,We[ot]),We[ot];if(we.indexOf(ot)>-1)return()=>{};const Mt=xe.toPromise().then(ne=>{const oe=ne&&ne[ot];return"function"==typeof oe?oe.bind(ne):oe&&oe.then?oe.then(ye=>Le.run(()=>ye)):Le.run(()=>oe)});return new Proxy(()=>{},{get:(ne,oe)=>Mt[oe],apply:(ne,oe,ye)=>Mt.then(me=>{var _e;const Je=me&&me(...ye);return(null===(_e=null==Ue?void 0:Ue.spy)||void 0===_e?void 0:_e.apply)&&Ue.spy.apply(ot,ye,Je),Je})})})}),Ce=(We,xe)=>{xe.forEach(Le=>{Object.getOwnPropertyNames(Le.prototype||Le).forEach(Ue=>{Object.defineProperty(We.prototype,Ue,Object.getOwnPropertyDescriptor(Le.prototype||Le,Ue))})})};class Me{constructor(xe){return xe}}const Te=new y.OlP("angularfire2.app.options"),he=new y.OlP("angularfire2.app.name");function Q(We,xe,Le){const st="object"==typeof Le&&Le||{};st.name=st.name||"string"==typeof Le&&Le||"[DEFAULT]";const $t=w.Z.apps.filter(Mt=>Mt&&Mt.name===st.name)[0]||xe.runOutsideAngular(()=>w.Z.initializeApp(We,st));try{JSON.stringify(We)!==JSON.stringify($t.options)&&Y("error",`${$t.name} Firebase App already initialized with different options${Dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Mt){}return new Me($t)}const Y=(We,...xe)=>{(0,y.X6Q)()&&"undefined"!=typeof console&&console[We](...xe)},pe={provide:Me,useFactory:Q,deps:[Te,y.R0b,[new y.FiY,he]]};let qe=(()=>{class We{constructor(Le){w.Z.registerVersion("angularfire",K.q4.full,"core"),w.Z.registerVersion("angularfire",K.q4.full,"app-compat"),w.Z.registerVersion("angular",y.q4F.full,Le.toString())}static initializeApp(Le,Ue){return{ngModule:We,providers:[{provide:Te,useValue:Le},{provide:he,useValue:Ue}]}}}return We.\u0275fac=function(Le){return new(Le||We)(y.LFG(y.Lbi))},We.\u0275mod=y.oAB({type:We}),We.\u0275inj=y.cJS({providers:[pe]}),We})();function Ne(We,xe,Le,Ue,st){const[,ot,$t]=globalThis.\u0275AngularfireInstanceCache.find(Mt=>Mt[0]===We)||[];if(ot)return function(We,xe){try{return We.toString()===xe.toString()}catch(Le){return We===xe}}(st,$t)||(Oe("error",`${xe} was already initialized on the ${Le} Firebase App with different settings.${Re?" You may need to reload as Firebase is not HMR aware.":""}`),Oe("warn",{is:st,was:$t})),ot;{const Mt=Ue();return globalThis.\u0275AngularfireInstanceCache.push([We,Mt,st]),Mt}}const Re=!!Dt.hot,Oe=(We,...xe)=>{(0,y.X6Q)()&&"undefined"!=typeof console&&console[We](...xe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},9358:(Dt,Ve,O)=>{"use strict";O.d(Ve,{q4:()=>vc,iC:()=>yr,fc:()=>An,HU:()=>Vt,vb:()=>ce,JM:()=>q});var y=O(639),w=O(2329),K=O(8239),we=O(8026),fe=O(3854),Ce=O(3910),Me=O(5422),Te=O(6676);const he="@firebase/installations",Q="0.5.4",pe=`w:${Q}`,qe="FIS_v2",xe=new fe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Le(P){return P instanceof fe.ZR&&P.code.includes("request-failed")}function Ue({projectId:P}){return`https://firebaseinstallations.googleapis.com/v1/projects/${P}/installations`}function st(P){return{token:P.token,requestStatus:2,expiresIn:me(P.expiresIn),creationTime:Date.now()}}function ot(P,j){return $t.apply(this,arguments)}function $t(){return($t=(0,K.Z)(function*(P,j){const ge=(yield j.json()).error;return xe.create("request-failed",{requestName:P,serverCode:ge.code,serverMessage:ge.message,serverStatus:ge.status})})).apply(this,arguments)}function Mt({apiKey:P}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P})}function ne(P,{refreshToken:j}){const ee=Mt(P);return ee.append("Authorization",function(P){return`${qe} ${P}`}(j)),ee}function oe(P){return ye.apply(this,arguments)}function ye(){return(ye=(0,K.Z)(function*(P){const j=yield P();return j.status>=500&&j.status<600?P():j})).apply(this,arguments)}function me(P){return Number(P.replace("s","000"))}function Je(P,j){return De.apply(this,arguments)}function De(){return(De=(0,K.Z)(function*(P,{fid:j}){const ee=Ue(P),gt={method:"POST",headers:Mt(P),body:JSON.stringify({fid:j,authVersion:qe,appId:P.appId,sdkVersion:pe})},At=yield oe(()=>fetch(ee,gt));if(At.ok){const Cn=yield At.json();return{fid:Cn.fid||j,registrationStatus:2,refreshToken:Cn.refreshToken,authToken:st(Cn.authToken)}}throw yield ot("Create Installation",At)})).apply(this,arguments)}function at(P){return new Promise(j=>{setTimeout(j,P)})}const Bt=/^[cdef][\w-]{21}$/;function yn(){try{const P=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(P),P[0]=112+P[0]%16;const ee=function(P){return function(P){return btoa(String.fromCharCode(...P)).replace(/\+/g,"-").replace(/\//g,"_")}(P).substr(0,22)}(P);return Bt.test(ee)?ee:""}catch(P){return""}}function rn(P){return`${P.appName}!${P.appId}`}const tr=new Map;function zt(P,j){const ee=rn(P);cn(ee,j),function(P,j){const ee=(!Jt&&"BroadcastChannel"in self&&(Jt=new BroadcastChannel("[Firebase] FID Change"),Jt.onmessage=P=>{cn(P.data.key,P.data.fid)}),Jt);ee&&ee.postMessage({key:P,fid:j}),0===tr.size&&Jt&&(Jt.close(),Jt=null)}(ee,j)}function cn(P,j){const ee=tr.get(P);if(ee)for(const ge of ee)ge(j)}let Jt=null;const oi="firebase-installations-store";let cr=null;function Rr(){return cr||(cr=(0,Te.openDb)("firebase-installations-database",1,P=>{switch(P.oldVersion){case 0:P.createObjectStore(oi)}})),cr}function or(P,j){return fr.apply(this,arguments)}function fr(){return(fr=(0,K.Z)(function*(P,j){const ee=rn(P),tt=(yield Rr()).transaction(oi,"readwrite"),gt=tt.objectStore(oi),At=yield gt.get(ee);return yield gt.put(j,ee),yield tt.complete,(!At||At.fid!==j.fid)&&zt(P,j.fid),j})).apply(this,arguments)}function jt(P){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,K.Z)(function*(P){const j=rn(P),ge=(yield Rr()).transaction(oi,"readwrite");yield ge.objectStore(oi).delete(j),yield ge.complete})).apply(this,arguments)}function ve(P,j){return te.apply(this,arguments)}function te(){return(te=(0,K.Z)(function*(P,j){const ee=rn(P),tt=(yield Rr()).transaction(oi,"readwrite"),gt=tt.objectStore(oi),At=yield gt.get(ee),Cn=j(At);return void 0===Cn?yield gt.delete(ee):yield gt.put(Cn,ee),yield tt.complete,Cn&&(!At||At.fid!==Cn.fid)&&zt(P,Cn.fid),Cn})).apply(this,arguments)}function be(P){return dt.apply(this,arguments)}function dt(){return(dt=(0,K.Z)(function*(P){let j;const ee=yield ve(P,ge=>{const tt=ze(ge),gt=Ft(P,tt);return j=gt.registrationPromise,gt.installationEntry});return""===ee.fid?{installationEntry:yield j}:{installationEntry:ee,registrationPromise:j}})).apply(this,arguments)}function ze(P){return Hn(P||{fid:yn(),registrationStatus:0})}function Ft(P,j){if(0===j.registrationStatus){if(!navigator.onLine)return{installationEntry:j,registrationPromise:Promise.reject(xe.create("app-offline"))};const ee={fid:j.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:ee,registrationPromise:function(P,j){return Pt.apply(this,arguments)}(P,ee)}}return 1===j.registrationStatus?{installationEntry:j,registrationPromise:_n(P)}:{installationEntry:j}}function Pt(){return(Pt=(0,K.Z)(function*(P,j){try{return or(P,yield Je(P,j))}catch(ee){throw Le(ee)&&409===ee.customData.serverCode?yield jt(P):yield or(P,{fid:j.fid,registrationStatus:0}),ee}})).apply(this,arguments)}function _n(P){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,K.Z)(function*(P){let j=yield Mn(P);for(;1===j.registrationStatus;)yield at(100),j=yield Mn(P);if(0===j.registrationStatus){const{installationEntry:ee,registrationPromise:ge}=yield be(P);return ge||ee}return j})).apply(this,arguments)}function Mn(P){return ve(P,j=>{if(!j)throw xe.create("installation-not-found");return Hn(j)})}function Hn(P){return function(P){return 1===P.registrationStatus&&P.registrationTime+1e4<Date.now()}(P)?{fid:P.fid,registrationStatus:0}:P}function vn(P,j){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,K.Z)(function*({appConfig:P,platformLoggerProvider:j},ee){const ge=Pe(P,ee),tt=ne(P,ee),gt=j.getImmediate({optional:!0});gt&&tt.append("x-firebase-client",gt.getPlatformInfoString());const Cn={method:"POST",headers:tt,body:JSON.stringify({installation:{sdkVersion:pe}})},qt=yield oe(()=>fetch(ge,Cn));if(qt.ok)return st(yield qt.json());throw yield ot("Generate Auth Token",qt)})).apply(this,arguments)}function Pe(P,{fid:j}){return`${Ue(P)}/${j}/authTokens:generate`}function Fe(P){return pt.apply(this,arguments)}function pt(){return(pt=(0,K.Z)(function*(P,j=!1){let ee;const ge=yield ve(P.appConfig,gt=>{if(!Tn(gt))throw xe.create("not-registered");const At=gt.authToken;if(!j&&bn(At))return gt;if(1===At.requestStatus)return ee=Qe(P,j),gt;{if(!navigator.onLine)throw xe.create("app-offline");const Cn=Gn(gt);return ee=pr(P,Cn),Cn}});return ee?yield ee:ge.authToken})).apply(this,arguments)}function Qe(P,j){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,K.Z)(function*(P,j){let ee=yield nn(P.appConfig);for(;1===ee.authToken.requestStatus;)yield at(100),ee=yield nn(P.appConfig);const ge=ee.authToken;return 0===ge.requestStatus?Fe(P,j):ge})).apply(this,arguments)}function nn(P){return ve(P,j=>{if(!Tn(j))throw xe.create("not-registered");return function(P){return 1===P.requestStatus&&P.requestTime+1e4<Date.now()}(j.authToken)?Object.assign(Object.assign({},j),{authToken:{requestStatus:0}}):j})}function pr(P,j){return dr.apply(this,arguments)}function dr(){return(dr=(0,K.Z)(function*(P,j){try{const ee=yield vn(P,j),ge=Object.assign(Object.assign({},j),{authToken:ee});return yield or(P.appConfig,ge),ee}catch(ee){if(!Le(ee)||401!==ee.customData.serverCode&&404!==ee.customData.serverCode){const ge=Object.assign(Object.assign({},j),{authToken:{requestStatus:0}});yield or(P.appConfig,ge)}else yield jt(P.appConfig);throw ee}})).apply(this,arguments)}function Tn(P){return void 0!==P&&2===P.registrationStatus}function bn(P){return 2===P.requestStatus&&!function(P){const j=Date.now();return j<P.creationTime||P.creationTime+P.expiresIn<j+36e5}(P)}function Gn(P){const j={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},P),{authToken:j})}function ai(){return(ai=(0,K.Z)(function*(P){const j=P,{installationEntry:ee,registrationPromise:ge}=yield be(j.appConfig);return ge?ge.catch(console.error):Fe(j).catch(console.error),ee.fid})).apply(this,arguments)}function ds(){return(ds=(0,K.Z)(function*(P,j=!1){const ee=P;return yield jr(ee.appConfig),(yield Fe(ee,j)).token})).apply(this,arguments)}function jr(P){return li.apply(this,arguments)}function li(){return(li=(0,K.Z)(function*(P){const{registrationPromise:j}=yield be(P);j&&(yield j)})).apply(this,arguments)}function br(P){return xe.create("missing-app-config-values",{valueName:P})}const Ji="installations";(0,we._registerComponent)(new Ce.wA(Ji,P=>{const j=P.getProvider("app").getImmediate();return{app:j,appConfig:function(P){if(!P||!P.options)throw br("App Configuration");if(!P.name)throw br("App Name");const j=["projectId","apiKey","appId"];for(const ee of j)if(!P.options[ee])throw br(ee);return{appName:P.name,projectId:P.options.projectId,apiKey:P.options.apiKey,appId:P.options.appId}}(j),platformLoggerProvider:(0,we._getProvider)(j,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,we._registerComponent)(new Ce.wA("installations-internal",P=>{const j=P.getProvider("app").getImmediate(),ee=(0,we._getProvider)(j,Ji).getImmediate();return{getId:()=>function(P){return ai.apply(this,arguments)}(ee),getToken:tt=>function(P){return ds.apply(this,arguments)}(ee,tt)}},"PRIVATE")),(0,we.registerVersion)(he,Q),(0,we.registerVersion)(he,Q,"esm2017");const Gt="@firebase/remote-config",ue=new fe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Xi{constructor(j,ee,ge,tt){this.client=j,this.storage=ee,this.storageCache=ge,this.logger=tt}isCachedDataFresh(j,ee){if(!ee)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ge=Date.now()-ee,tt=ge<=j;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ge}. Cache max age millis (minimumFetchIntervalMillis setting): ${j}. Is cache hit: ${tt}.`),tt}fetch(j){var ee=this;return(0,K.Z)(function*(){const[ge,tt]=yield Promise.all([ee.storage.getLastSuccessfulFetchTimestampMillis(),ee.storage.getLastSuccessfulFetchResponse()]);if(tt&&ee.isCachedDataFresh(j.cacheMaxAgeMillis,ge))return tt;j.eTag=tt&&tt.eTag;const gt=yield ee.client.fetch(j),At=[ee.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===gt.status&&At.push(ee.storage.setLastSuccessfulFetchResponse(gt)),yield Promise.all(At),gt})()}}function Vi(P=navigator){return P.languages&&P.languages[0]||P.language}class Kn{constructor(j,ee,ge,tt,gt,At){this.firebaseInstallations=j,this.sdkVersion=ee,this.namespace=ge,this.projectId=tt,this.apiKey=gt,this.appId=At}fetch(j){var ee=this;return(0,K.Z)(function*(){const[ge,tt]=yield Promise.all([ee.firebaseInstallations.getId(),ee.firebaseInstallations.getToken()]),At=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ee.projectId}/namespaces/${ee.namespace}:fetch?key=${ee.apiKey}`,Cn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":j.eTag||"*"},qt={sdk_version:ee.sdkVersion,app_instance_id:ge,app_instance_id_token:tt,app_id:ee.appId,language_code:Vi()},kn={method:"POST",headers:Cn,body:JSON.stringify(qt)},Nr=fetch(At,kn),is=new Promise((Ti,pi)=>{j.signal.addEventListener(()=>{const Ro=new Error("The operation was aborted.");Ro.name="AbortError",pi(Ro)})});let pn;try{yield Promise.race([Nr,is]),pn=yield Nr}catch(Ti){let pi="fetch-client-network";throw"AbortError"===Ti.name&&(pi="fetch-timeout"),ue.create(pi,{originalErrorMessage:Ti.message})}let En=pn.status;const zn=pn.headers.get("ETag")||void 0;let hr,xi;if(200===pn.status){let Ti;try{Ti=yield pn.json()}catch(pi){throw ue.create("fetch-client-parse",{originalErrorMessage:pi.message})}hr=Ti.entries,xi=Ti.state}if("INSTANCE_STATE_UNSPECIFIED"===xi?En=500:"NO_CHANGE"===xi?En=304:("NO_TEMPLATE"===xi||"EMPTY_CONFIG"===xi)&&(hr={}),304!==En&&200!==En)throw ue.create("fetch-status",{httpStatus:En});return{status:En,eTag:zn,config:hr}})()}}class Be{constructor(j,ee){this.client=j,this.storage=ee}fetch(j){var ee=this;return(0,K.Z)(function*(){const ge=(yield ee.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ee.attemptFetch(j,ge)})()}attemptFetch(j,{throttleEndTimeMillis:ee,backoffCount:ge}){var tt=this;return(0,K.Z)(function*(){yield function(P,j){return new Promise((ee,ge)=>{const tt=Math.max(j-Date.now(),0),gt=setTimeout(ee,tt);P.addEventListener(()=>{clearTimeout(gt),ge(ue.create("fetch-throttle",{throttleEndTimeMillis:j}))})})}(j.signal,ee);try{const gt=yield tt.client.fetch(j);return yield tt.storage.deleteThrottleMetadata(),gt}catch(gt){if(!function(P){if(!(P instanceof fe.ZR&&P.customData))return!1;const j=Number(P.customData.httpStatus);return 429===j||500===j||503===j||504===j}(gt))throw gt;const At={throttleEndTimeMillis:Date.now()+(0,fe.$s)(ge),backoffCount:ge+1};return yield tt.storage.setThrottleMetadata(At),tt.attemptFetch(j,At)}})()}}class Ct{constructor(j,ee,ge,tt,gt){this.app=j,this._client=ee,this._storageCache=ge,this._storage=tt,this._logger=gt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function St(P,j){const ee=P.target.error||void 0;return ue.create(j,{originalErrorMessage:ee&&ee.message})}const un="app_namespace_store";class Ui{constructor(j,ee,ge,tt=function(){return new Promise((P,j)=>{try{const ee=indexedDB.open("firebase_remote_config",1);ee.onerror=ge=>{j(St(ge,"storage-open"))},ee.onsuccess=ge=>{P(ge.target.result)},ee.onupgradeneeded=ge=>{const tt=ge.target.result;switch(ge.oldVersion){case 0:tt.createObjectStore(un,{keyPath:"compositeKey"})}}}catch(ee){j(ue.create("storage-open",{originalErrorMessage:ee}))}})}()){this.appId=j,this.appName=ee,this.namespace=ge,this.openDbPromise=tt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(j){return this.set("last_fetch_status",j)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(j){return this.set("last_successful_fetch_timestamp_millis",j)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(j){return this.set("last_successful_fetch_response",j)}getActiveConfig(){return this.get("active_config")}setActiveConfig(j){return this.set("active_config",j)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(j){return this.set("active_config_etag",j)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(j){return this.set("throttle_metadata",j)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(j){var ee=this;return(0,K.Z)(function*(){const ge=yield ee.openDbPromise;return new Promise((tt,gt)=>{const Cn=ge.transaction([un],"readonly").objectStore(un),qt=ee.createCompositeKey(j);try{const kn=Cn.get(qt);kn.onerror=Nr=>{gt(St(Nr,"storage-get"))},kn.onsuccess=Nr=>{const is=Nr.target.result;tt(is?is.value:void 0)}}catch(kn){gt(ue.create("storage-get",{originalErrorMessage:kn&&kn.message}))}})})()}set(j,ee){var ge=this;return(0,K.Z)(function*(){const tt=yield ge.openDbPromise;return new Promise((gt,At)=>{const qt=tt.transaction([un],"readwrite").objectStore(un),kn=ge.createCompositeKey(j);try{const Nr=qt.put({compositeKey:kn,value:ee});Nr.onerror=is=>{At(St(is,"storage-set"))},Nr.onsuccess=()=>{gt()}}catch(Nr){At(ue.create("storage-set",{originalErrorMessage:Nr&&Nr.message}))}})})()}delete(j){var ee=this;return(0,K.Z)(function*(){const ge=yield ee.openDbPromise;return new Promise((tt,gt)=>{const Cn=ge.transaction([un],"readwrite").objectStore(un),qt=ee.createCompositeKey(j);try{const kn=Cn.delete(qt);kn.onerror=Nr=>{gt(St(Nr,"storage-delete"))},kn.onsuccess=()=>{tt()}}catch(kn){gt(ue.create("storage-delete",{originalErrorMessage:kn&&kn.message}))}})})()}createCompositeKey(j){return[this.appId,this.appName,this.namespace,j].join()}}class zi{constructor(j){this.storage=j}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var j=this;return(0,K.Z)(function*(){const ee=j.storage.getLastFetchStatus(),ge=j.storage.getLastSuccessfulFetchTimestampMillis(),tt=j.storage.getActiveConfig(),gt=yield ee;gt&&(j.lastFetchStatus=gt);const At=yield ge;At&&(j.lastSuccessfulFetchTimestampMillis=At);const Cn=yield tt;Cn&&(j.activeConfig=Cn)})()}setLastFetchStatus(j){return this.lastFetchStatus=j,this.storage.setLastFetchStatus(j)}setLastSuccessfulFetchTimestampMillis(j){return this.lastSuccessfulFetchTimestampMillis=j,this.storage.setLastSuccessfulFetchTimestampMillis(j)}setActiveConfig(j){return this.activeConfig=j,this.storage.setActiveConfig(j)}}function zs(){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,K.Z)(function*(){if(!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch(P){return!1}})).apply(this,arguments)}(0,we._registerComponent)(new Ce.wA("remote-config",function(j,{instanceIdentifier:ee}){const ge=j.getProvider("app").getImmediate(),tt=j.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw ue.create("registration-window");if(!(0,fe.hl)())throw ue.create("indexed-db-unavailable");const{projectId:gt,apiKey:At,appId:Cn}=ge.options;if(!gt)throw ue.create("registration-project-id");if(!At)throw ue.create("registration-api-key");if(!Cn)throw ue.create("registration-app-id");const qt=new Ui(Cn,ge.name,ee=ee||"firebase"),kn=new zi(qt),Nr=new Me.Yd(Gt);Nr.logLevel=Me.in.ERROR;const is=new Kn(tt,we.SDK_VERSION,ee,gt,At,Cn),pn=new Be(is,qt),En=new Xi(pn,qt,kn,Nr),zn=new Ct(ge,En,kn,qt,Nr);return function(P){const j=(0,fe.m9)(P);j._initializePromise||(j._initializePromise=j._storageCache.loadFromStorage().then(()=>{j._isInitializationComplete=!0}))}(zn),zn},"PUBLIC").setMultipleInstances(!0)),(0,we.registerVersion)(Gt,"0.3.3"),(0,we.registerVersion)(Gt,"0.3.3","esm2017");const _i="/firebase-messaging-sw.js",bs="/firebase-cloud-messaging-push-scope",os="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",eo="google.c.a.c_id",Vs="google.c.a.c_l",Us="google.c.a.ts",ws="google.c.a.e";var Bi=(()=>{return(P=Bi||(Bi={})).PUSH_RECEIVED="push-received",P.NOTIFICATION_CLICKED="notification-clicked",Bi;var P})();function Wi(P){const j=new Uint8Array(P);return btoa(String.fromCharCode(...j)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function bo(P){const ee=(P+"=".repeat((4-P.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ge=atob(ee),tt=new Uint8Array(ge.length);for(let gt=0;gt<ge.length;++gt)tt[gt]=ge.charCodeAt(gt);return tt}const es="fcm_token_details_db",Po="fcm_token_object_Store";function Rs(P){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,K.Z)(function*(P){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(gt=>gt.name).includes(es))return null;let j=null;return(yield(0,Te.openDb)(es,5,function(){var ge=(0,K.Z)(function*(tt){var gt;if(tt.oldVersion<2||!tt.objectStoreNames.contains(Po))return;const At=tt.transaction.objectStore(Po),Cn=yield At.index("fcmSenderId").get(P);if(yield At.clear(),Cn)if(2===tt.oldVersion){const qt=Cn;if(!qt.auth||!qt.p256dh||!qt.endpoint)return;j={token:qt.fcmToken,createTime:null!==(gt=qt.createTime)&&void 0!==gt?gt:Date.now(),subscriptionOptions:{auth:qt.auth,p256dh:qt.p256dh,endpoint:qt.endpoint,swScope:qt.swScope,vapidKey:"string"==typeof qt.vapidKey?qt.vapidKey:Wi(qt.vapidKey)}}}else if(3===tt.oldVersion){const qt=Cn;j={token:qt.fcmToken,createTime:qt.createTime,subscriptionOptions:{auth:Wi(qt.auth),p256dh:Wi(qt.p256dh),endpoint:qt.endpoint,swScope:qt.swScope,vapidKey:Wi(qt.vapidKey)}}}else if(4===tt.oldVersion){const qt=Cn;j={token:qt.fcmToken,createTime:qt.createTime,subscriptionOptions:{auth:Wi(qt.auth),p256dh:Wi(qt.p256dh),endpoint:qt.endpoint,swScope:qt.swScope,vapidKey:Wi(qt.vapidKey)}}}});return function(tt){return ge.apply(this,arguments)}}())).close(),yield(0,Te.deleteDb)(es),yield(0,Te.deleteDb)("fcm_vapid_details_db"),yield(0,Te.deleteDb)("undefined"),to(j)?j:null})).apply(this,arguments)}function to(P){if(!P||!P.subscriptionOptions)return!1;const{subscriptionOptions:j}=P;return"number"==typeof P.createTime&&P.createTime>0&&"string"==typeof P.token&&P.token.length>0&&"string"==typeof j.auth&&j.auth.length>0&&"string"==typeof j.p256dh&&j.p256dh.length>0&&"string"==typeof j.endpoint&&j.endpoint.length>0&&"string"==typeof j.swScope&&j.swScope.length>0&&"string"==typeof j.vapidKey&&j.vapidKey.length>0}const js="firebase-messaging-store";let $s=null;function V(){return $s||($s=(0,Te.openDb)("firebase-messaging-database",1,P=>{switch(P.oldVersion){case 0:P.createObjectStore(js)}})),$s}function J(P){return U.apply(this,arguments)}function U(){return(U=(0,K.Z)(function*(P){const j=Ze(P),ge=yield(yield V()).transaction(js).objectStore(js).get(j);if(ge)return ge;{const tt=yield Rs(P.appConfig.senderId);if(tt)return yield I(P,tt),tt}})).apply(this,arguments)}function I(P,j){return A.apply(this,arguments)}function A(){return(A=(0,K.Z)(function*(P,j){const ee=Ze(P),tt=(yield V()).transaction(js,"readwrite");return yield tt.objectStore(js).put(j,ee),yield tt.complete,j})).apply(this,arguments)}function R(P){return W.apply(this,arguments)}function W(){return(W=(0,K.Z)(function*(P){const j=Ze(P),ge=(yield V()).transaction(js,"readwrite");yield ge.objectStore(js).delete(j),yield ge.complete})).apply(this,arguments)}function Ze({appConfig:P}){return P.appId}const In=new fe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function mr(P,j){return rr.apply(this,arguments)}function rr(){return(rr=(0,K.Z)(function*(P,j){const ee=yield Zi(P),ge=Ir(j),tt={method:"POST",headers:ee,body:JSON.stringify(ge)};let gt;try{gt=yield(yield fetch(Zr(P.appConfig),tt)).json()}catch(At){throw In.create("token-subscribe-failed",{errorInfo:At})}if(gt.error)throw In.create("token-subscribe-failed",{errorInfo:gt.error.message});if(!gt.token)throw In.create("token-subscribe-no-token");return gt.token})).apply(this,arguments)}function wn(P,j){return _r.apply(this,arguments)}function _r(){return(_r=(0,K.Z)(function*(P,j){const ee=yield Zi(P),ge=Ir(j.subscriptionOptions),tt={method:"PATCH",headers:ee,body:JSON.stringify(ge)};let gt;try{gt=yield(yield fetch(`${Zr(P.appConfig)}/${j.token}`,tt)).json()}catch(At){throw In.create("token-update-failed",{errorInfo:At})}if(gt.error)throw In.create("token-update-failed",{errorInfo:gt.error.message});if(!gt.token)throw In.create("token-update-no-token");return gt.token})).apply(this,arguments)}function qi(P,j){return hs.apply(this,arguments)}function hs(){return(hs=(0,K.Z)(function*(P,j){const ge={method:"DELETE",headers:yield Zi(P)};try{const gt=yield(yield fetch(`${Zr(P.appConfig)}/${j}`,ge)).json();if(gt.error)throw In.create("token-unsubscribe-failed",{errorInfo:gt.error.message})}catch(tt){throw In.create("token-unsubscribe-failed",{errorInfo:tt})}})).apply(this,arguments)}function Zr({projectId:P}){return`https://fcmregistrations.googleapis.com/v1/projects/${P}/registrations`}function Zi(P){return ts.apply(this,arguments)}function ts(){return(ts=(0,K.Z)(function*({appConfig:P,installations:j}){const ee=yield j.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P.apiKey,"x-goog-firebase-installations-auth":`FIS ${ee}`})})).apply(this,arguments)}function Ir({p256dh:P,auth:j,endpoint:ee,vapidKey:ge}){const tt={web:{endpoint:ee,auth:j,p256dh:P}};return ge!==os&&(tt.web.applicationPubKey=ge),tt}const vi=6048e5;function no(P){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,K.Z)(function*(P){const j=yield Ie(P.swRegistration,P.vapidKey),ee={vapidKey:P.vapidKey,swScope:P.swRegistration.scope,endpoint:j.endpoint,auth:Wi(j.getKey("auth")),p256dh:Wi(j.getKey("p256dh"))},ge=yield J(P.firebaseDependencies);if(ge){if(ht(ge.subscriptionOptions,ee))return Date.now()>=ge.createTime+vi?qs(P,{token:ge.token,createTime:Date.now(),subscriptionOptions:ee}):ge.token;try{yield qi(P.firebaseDependencies,ge.token)}catch(tt){console.warn(tt)}return L(P.firebaseDependencies,ee)}return L(P.firebaseDependencies,ee)})).apply(this,arguments)}function la(P){return as.apply(this,arguments)}function as(){return(as=(0,K.Z)(function*(P){const j=yield J(P.firebaseDependencies);j&&(yield qi(P.firebaseDependencies,j.token),yield R(P.firebaseDependencies));const ee=yield P.swRegistration.pushManager.getSubscription();return!ee||ee.unsubscribe()})).apply(this,arguments)}function qs(P,j){return G.apply(this,arguments)}function G(){return(G=(0,K.Z)(function*(P,j){try{const ee=yield wn(P.firebaseDependencies,j),ge=Object.assign(Object.assign({},j),{token:ee,createTime:Date.now()});return yield I(P.firebaseDependencies,ge),ee}catch(ee){throw yield la(P),ee}})).apply(this,arguments)}function L(P,j){return ie.apply(this,arguments)}function ie(){return(ie=(0,K.Z)(function*(P,j){const ge={token:yield mr(P,j),createTime:Date.now(),subscriptionOptions:j};return yield I(P,ge),ge.token})).apply(this,arguments)}function Ie(P,j){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,K.Z)(function*(P,j){return(yield P.pushManager.getSubscription())||P.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:bo(j)})})).apply(this,arguments)}function ht(P,j){return j.vapidKey===P.vapidKey&&j.endpoint===P.endpoint&&j.auth===P.auth&&j.p256dh===P.p256dh}function kt(P){const j={from:P.from,collapseKey:P.collapse_key,messageId:P.fcm_message_id};return function(P,j){if(!j.notification)return;P.notification={};const ee=j.notification.title;ee&&(P.notification.title=ee);const ge=j.notification.body;ge&&(P.notification.body=ge);const tt=j.notification.image;tt&&(P.notification.image=tt)}(j,P),function(P,j){!j.data||(P.data=j.data)}(j,P),function(P,j){if(!j.fcmOptions)return;P.fcmOptions={};const ee=j.fcmOptions.link;ee&&(P.fcmOptions.link=ee);const ge=j.fcmOptions.analytics_label;ge&&(P.fcmOptions.analyticsLabel=ge)}(j,P),j}function sn(P){return"object"==typeof P&&!!P&&eo in P}function ii(P,j){const ee=[];for(let ge=0;ge<P.length;ge++)ee.push(P.charAt(ge)),ge<j.length&&ee.push(j.charAt(ge));return ee.join("")}function di(P){return In.create("missing-app-config-values",{valueName:P})}ii("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ii("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Hr{constructor(j,ee,ge){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const tt=function(P){if(!P||!P.options)throw di("App Configuration Object");if(!P.name)throw di("App Name");const j=["projectId","apiKey","appId","messagingSenderId"],{options:ee}=P;for(const ge of j)if(!ee[ge])throw di(ge);return{appName:P.name,projectId:ee.projectId,apiKey:ee.apiKey,appId:ee.appId,senderId:ee.messagingSenderId}}(j);this.firebaseDependencies={app:j,appConfig:tt,installations:ee,analyticsProvider:ge}}_delete(){return Promise.resolve()}}function Ei(P){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,K.Z)(function*(P){try{P.swRegistration=yield navigator.serviceWorker.register(_i,{scope:bs}),P.swRegistration.update().catch(()=>{})}catch(j){throw In.create("failed-service-worker-registration",{browserErrorMessage:j.message})}})).apply(this,arguments)}function fs(P,j){return ps.apply(this,arguments)}function ps(){return(ps=(0,K.Z)(function*(P,j){if(!j&&!P.swRegistration&&(yield Ei(P)),j||!P.swRegistration){if(!(j instanceof ServiceWorkerRegistration))throw In.create("invalid-sw-registration");P.swRegistration=j}})).apply(this,arguments)}function wi(P,j){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,K.Z)(function*(P,j){j?P.vapidKey=j:P.vapidKey||(P.vapidKey=os)})).apply(this,arguments)}function Br(){return(Br=(0,K.Z)(function*(P,j){if(!navigator)throw In.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw In.create("permission-blocked");return yield wi(P,null==j?void 0:j.vapidKey),yield fs(P,null==j?void 0:j.serviceWorkerRegistration),no(P)})).apply(this,arguments)}function ns(P,j,ee){return Is.apply(this,arguments)}function Is(){return(Is=(0,K.Z)(function*(P,j,ee){const ge=Gs(j);(yield P.firebaseDependencies.analyticsProvider.get()).logEvent(ge,{message_id:ee[eo],message_name:ee[Vs],message_time:ee[Us],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Gs(P){switch(P){case Bi.NOTIFICATION_CLICKED:return"notification_open";case Bi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ma(){return(Ma=(0,K.Z)(function*(P,j){const ee=j.data;if(!ee.isFirebaseMessaging)return;P.onMessageHandler&&ee.messageType===Bi.PUSH_RECEIVED&&("function"==typeof P.onMessageHandler?P.onMessageHandler(kt(ee)):P.onMessageHandler.next(kt(ee)));const ge=ee.data;sn(ge)&&"1"===ge[ws]&&(yield ns(P,ee.messageType,ge))})).apply(this,arguments)}const xa="@firebase/messaging";function ca(){return da.apply(this,arguments)}function da(){return(da=(0,K.Z)(function*(){return"undefined"!=typeof window&&(0,fe.hl)()&&(yield(0,fe.eu)())&&(0,fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,we._registerComponent)(new Ce.wA("messaging",P=>{const j=new Hr(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),P.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ee=>function(P,j){return Ma.apply(this,arguments)}(j,ee)),j},"PUBLIC")),(0,we._registerComponent)(new Ce.wA("messaging-internal",P=>{const j=P.getProvider("messaging").getImmediate();return{getToken:ge=>function(P,j){return Br.apply(this,arguments)}(j,ge)}},"PRIVATE")),(0,we.registerVersion)(xa,"0.9.4"),(0,we.registerVersion)(xa,"0.9.4","esm2017");const pa="analytics",sa="firebase_id",hi="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",su="https://www.googletagmanager.com/gtag/js",us=new Me.Yd("@firebase/analytics");function Ho(P){return Promise.all(P.map(j=>j.catch(ee=>ee)))}function Ha(P,j){const ee=document.createElement("script");ee.src=`${su}?l=${P}&id=${j}`,ee.async=!0,document.head.appendChild(ee)}function ou(P,j,ee,ge,tt,gt){return so.apply(this,arguments)}function so(){return(so=(0,K.Z)(function*(P,j,ee,ge,tt,gt){const At=ge[tt];try{if(At)yield j[At];else{const qt=(yield Ho(ee)).find(kn=>kn.measurementId===tt);qt&&(yield j[qt.appId])}}catch(Cn){us.error(Cn)}P("config",tt,gt)})).apply(this,arguments)}function No(P,j,ee,ge,tt){return oo.apply(this,arguments)}function oo(){return(oo=(0,K.Z)(function*(P,j,ee,ge,tt){try{let gt=[];if(tt&&tt.send_to){let At=tt.send_to;Array.isArray(At)||(At=[At]);const Cn=yield Ho(ee);for(const qt of At){const kn=Cn.find(is=>is.measurementId===qt),Nr=kn&&j[kn.appId];if(!Nr){gt=[];break}gt.push(Nr)}}0===gt.length&&(gt=Object.values(j)),yield Promise.all(gt),P("event",ge,tt||{})}catch(gt){us.error(gt)}})).apply(this,arguments)}function wo(){const P=window.document.getElementsByTagName("script");for(const j of Object.values(P))if(j.src&&j.src.includes(su))return j;return null}const gs=new fe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Yi=new class{constructor(j={},ee=1e3){this.throttleMetadata=j,this.intervalMillis=ee}getThrottleMetadata(j){return this.throttleMetadata[j]}setThrottleMetadata(j,ee){this.throttleMetadata[j]=ee}deleteThrottleMetadata(j){delete this.throttleMetadata[j]}};function au(P){return new Headers({Accept:"application/json","x-goog-api-key":P})}function Mr(P){return Go.apply(this,arguments)}function Go(){return(Go=(0,K.Z)(function*(P){var j;const{appId:ee,apiKey:ge}=P,tt={method:"GET",headers:au(ge)},gt=hi.replace("{app-id}",ee),At=yield fetch(gt,tt);if(200!==At.status&&304!==At.status){let Cn="";try{const qt=yield At.json();(null===(j=qt.error)||void 0===j?void 0:j.message)&&(Cn=qt.error.message)}catch(qt){}throw gs.create("config-fetch-failed",{httpStatus:At.status,responseMessage:Cn})}return At.json()})).apply(this,arguments)}function ma(P){return zo.apply(this,arguments)}function zo(){return(zo=(0,K.Z)(function*(P,j=Yi,ee){const{appId:ge,apiKey:tt,measurementId:gt}=P.options;if(!ge)throw gs.create("no-app-id");if(!tt){if(gt)return{measurementId:gt,appId:ge};throw gs.create("no-api-key")}const At=j.getThrottleMetadata(ge)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Cn=new _a;return setTimeout((0,K.Z)(function*(){Cn.abort()}),void 0!==ee?ee:6e4),Lo({appId:ge,apiKey:tt,measurementId:gt},At,Cn,j)})).apply(this,arguments)}function Lo(P,j,ee){return To.apply(this,arguments)}function To(){return(To=(0,K.Z)(function*(P,{throttleEndTimeMillis:j,backoffCount:ee},ge,tt=Yi){const{appId:gt,measurementId:At}=P;try{yield ya(ge,j)}catch(Cn){if(At)return us.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${At} provided in the "measurementId" field in the local Firebase config. [${Cn.message}]`),{appId:gt,measurementId:At};throw Cn}try{const Cn=yield Mr(P);return tt.deleteThrottleMetadata(gt),Cn}catch(Cn){if(!uo(Cn)){if(tt.deleteThrottleMetadata(gt),At)return us.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${At} provided in the "measurementId" field in the local Firebase config. [${Cn.message}]`),{appId:gt,measurementId:At};throw Cn}const qt=503===Number(Cn.customData.httpStatus)?(0,fe.$s)(ee,tt.intervalMillis,30):(0,fe.$s)(ee,tt.intervalMillis),kn={throttleEndTimeMillis:Date.now()+qt,backoffCount:ee+1};return tt.setThrottleMetadata(gt,kn),us.debug(`Calling attemptFetch again in ${qt} millis`),Lo(P,kn,ge,tt)}})).apply(this,arguments)}function ya(P,j){return new Promise((ee,ge)=>{const tt=Math.max(j-Date.now(),0),gt=setTimeout(ee,tt);P.addEventListener(()=>{clearTimeout(gt),ge(gs.create("fetch-throttle",{throttleEndTimeMillis:j}))})})}function uo(P){if(!(P instanceof fe.ZR&&P.customData))return!1;const j=Number(P.customData.httpStatus);return 429===j||500===j||503===j||504===j}class _a{constructor(){this.listeners=[]}addEventListener(j){this.listeners.push(j)}abort(){this.listeners.forEach(j=>j())}}function ms(){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,K.Z)(function*(){if(!(0,fe.hl)())return us.warn(gs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,fe.eu)()}catch(P){return us.warn(gs.create("indexeddb-unavailable",{errorInfo:P}).message),!1}return!0})).apply(this,arguments)}function fi(){return(fi=(0,K.Z)(function*(P,j,ee,ge,tt,gt,At){var Cn;const qt=ma(P);qt.then(En=>{ee[En.measurementId]=En.appId,P.options.measurementId&&En.measurementId!==P.options.measurementId&&us.warn(`The measurement ID in the local Firebase config (${P.options.measurementId}) does not match the measurement ID fetched from the server (${En.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(En=>us.error(En)),j.push(qt);const kn=ms().then(En=>{if(En)return ge.getId()}),[Nr,is]=yield Promise.all([qt,kn]);wo()||Ha(gt,Nr.measurementId),tt("js",new Date);const pn=null!==(Cn=null==At?void 0:At.config)&&void 0!==Cn?Cn:{};return pn.origin="firebase",pn.update=!0,null!=is&&(pn[sa]=is),tt("config",Nr.measurementId,pn),Nr.measurementId})).apply(this,arguments)}class Zs{constructor(j){this.app=j}_delete(){return delete rs[this.app.options.appId],Promise.resolve()}}let rs={},va=[];const Co={};let co,Ts,Kt="dataLayer",Rn=!1;function on(P,j,ee){!function(){const P=[];if((0,fe.ru)()&&P.push("This is a browser extension environment."),(0,fe.zI)()||P.push("Cookies are not available."),P.length>0){const j=P.map((ge,tt)=>`(${tt+1}) ${ge}`).join(" "),ee=gs.create("invalid-analytics-context",{errorInfo:j});us.warn(ee.message)}}();const ge=P.options.appId;if(!ge)throw gs.create("no-app-id");if(!P.options.apiKey){if(!P.options.measurementId)throw gs.create("no-api-key");us.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${P.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=rs[ge])throw gs.create("already-exists",{id:ge});if(!Rn){!function(P){let j=[];Array.isArray(window[P])?j=window[P]:window[P]=j}(Kt);const{wrappedGtag:gt,gtagCore:At}=function(P,j,ee,ge,tt){let gt=function(...At){window[ge].push(arguments)};return window[tt]&&"function"==typeof window[tt]&&(gt=window[tt]),window[tt]=function(P,j,ee,ge){function gt(){return(gt=(0,K.Z)(function*(At,Cn,qt){try{"event"===At?yield No(P,j,ee,Cn,qt):"config"===At?yield ou(P,j,ee,ge,Cn,qt):P("set",Cn)}catch(kn){us.error(kn)}})).apply(this,arguments)}return function(At,Cn,qt){return gt.apply(this,arguments)}}(gt,P,j,ee),{gtagCore:gt,wrappedGtag:window[tt]}}(rs,va,Co,Kt,"gtag");Ts=gt,co=At,Rn=!0}return rs[ge]=function(P,j,ee,ge,tt,gt,At){return fi.apply(this,arguments)}(P,va,Co,j,co,Kt,ee),new Zs(P)}function Lt(){return(Lt=(0,K.Z)(function*(P,j,ee,ge,tt){if(tt&&tt.global)P("event",ee,ge);else{const gt=yield j;P("event",ee,Object.assign(Object.assign({},ge),{send_to:gt}))}})).apply(this,arguments)}function v(){return N.apply(this,arguments)}function N(){return(N=(0,K.Z)(function*(){if((0,fe.ru)()||!(0,fe.zI)()||!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch(P){return!1}})).apply(this,arguments)}const hn="@firebase/analytics";(0,we._registerComponent)(new Ce.wA(pa,(j,{options:ee})=>on(j.getProvider("app").getImmediate(),j.getProvider("installations-internal").getImmediate(),ee),"PUBLIC")),(0,we._registerComponent)(new Ce.wA("analytics-internal",function(j){try{const ee=j.getProvider(pa).getImmediate();return{logEvent:(ge,tt,gt)=>function(P,j,ee,ge){P=(0,fe.m9)(P),function(P,j,ee,ge,tt){return Lt.apply(this,arguments)}(Ts,rs[P.app.options.appId],j,ee,ge).catch(tt=>us.error(tt))}(ee,ge,tt,gt)}}catch(ee){throw gs.create("interop-component-reg-failed",{reason:ee})}},"PRIVATE")),(0,we.registerVersion)(hn,"0.7.4"),(0,we.registerVersion)(hn,"0.7.4","esm2017");var ni=O(504);class Nn extends ni.o{constructor(j,ee){super(j,ee),this.scheduler=j,this.work=ee}schedule(j,ee=0){return ee>0?super.schedule(j,ee):(this.delay=ee,this.state=j,this.scheduler.flush(this),this)}execute(j,ee){return ee>0||this.closed?super.execute(j,ee):this._execute(j,ee)}requestAsyncId(j,ee,ge=0){return null!=ge&&ge>0||null==ge&&this.delay>0?super.requestAsyncId(j,ee,ge):j.flush(this)}}var Ds=O(9713);class Do extends Ds.v{}const Vn=new Do(Nn);var $i=O(4346),Kr=O(6361),So=O(3201),ku=O(1894),lu=O(576),Ys=O(8341),qa=O(8127);const vc=new y.GfV("7.1.1"),ho="__angularfire_symbol__analyticsIsSupported",Ii="__angularfire_symbol__remoteConfigIsSupported",M="__angularfire_symbol__messagingIsSupported";function q(P,j,ee){if(j){if(1===j.length)return j[0];const gt=j.filter(At=>At.app===ee);if(1===gt.length)return gt[0]}return ee.container.getProvider(P).getImmediate({optional:!0})}globalThis[ho]||(globalThis[ho]=v().then(P=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=P)),globalThis[M]||(globalThis[M]=ca().then(P=>globalThis.__angularfire_symbol__messagingIsSupportedValue=P)),globalThis[Ii]||(globalThis[Ii]=zs().then(P=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=P));const ce=(P,j)=>{const ee=j?[j]:(0,w.C6)(),ge=[];return ee.forEach(tt=>{tt.container.getProvider(P).instances.forEach(At=>{ge.includes(At)||ge.push(At)})}),ge};function Se(){}class nt{constructor(j,ee=Vn){this.zone=j,this.delegate=ee}now(){return this.delegate.now()}schedule(j,ee,ge){const tt=this.zone;return this.delegate.schedule(function(At){tt.runGuarded(()=>{j.apply(this,[At])})},ee,ge)}}class Et{constructor(j){this.zone=j,this.task=null}call(j,ee){const ge=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Se,{},Se,Se)),ee.pipe(function(P,j,ee){const ge=(0,Kr.m)(P)?{next:P,error:j,complete:undefined}:P;return ge?(0,So.e)((tt,gt)=>{var At;null===(At=ge.subscribe)||void 0===At||At.call(ge);let Cn=!0;tt.subscribe(new ku.Q(gt,qt=>{var kn;null===(kn=ge.next)||void 0===kn||kn.call(ge,qt),gt.next(qt)},()=>{var qt;Cn=!1,null===(qt=ge.complete)||void 0===qt||qt.call(ge),gt.complete()},qt=>{var kn;Cn=!1,null===(kn=ge.error)||void 0===kn||kn.call(ge,qt),gt.error(qt)},()=>{var qt,kn;Cn&&(null===(qt=ge.unsubscribe)||void 0===qt||qt.call(ge)),null===(kn=ge.finalize)||void 0===kn||kn.call(ge)}))}):lu.y}({next:ge,complete:ge,error:ge})).subscribe(j).add(ge)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Vt=(()=>{class P{constructor(ee){this.ngZone=ee,this.outsideAngular=ee.runOutsideAngular(()=>new nt(Zone.current)),this.insideAngular=ee.run(()=>new nt(Zone.current,$i.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return P.\u0275fac=function(ee){return new(ee||P)(y.LFG(y.R0b))},P.\u0275prov=y.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();function ln(){const P=globalThis.\u0275AngularFireScheduler;if(!P)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return P}function An(P){return P.pipe((0,Ys.Q)(ln().outsideAngular))}function yr(P){return ln(),function(P){return function(ee){return(ee=ee.lift(new Et(P.ngZone))).pipe((0,qa.R)(P.outsideAngular),(0,Ys.Q)(P.insideAngular))}}(ln())(P)}},1827:(Dt,Ve,O)=>{"use strict";O.d(Ve,{y:()=>Q});var y=O(3704),w=O(2669),K=O(7328),we=O(576);var Me=O(5960),Te=O(6361),he=O(776);let Q=(()=>{class Ne{constructor(Re){Re&&(this._subscribe=Re)}lift(Re){const Oe=new Ne;return Oe.source=this,Oe.operator=Re,Oe}subscribe(Re,Oe,We){const xe=function(Ne){return Ne&&Ne instanceof y.Lv||function(Ne){return Ne&&(0,Te.m)(Ne.next)&&(0,Te.m)(Ne.error)&&(0,Te.m)(Ne.complete)}(Ne)&&(0,w.Nn)(Ne)}(Re)?Re:new y.Hp(Re,Oe,We);return(0,he.x)(()=>{const{operator:Le,source:Ue}=this;xe.add(Le?Le.call(xe,Ue):Ue?this._subscribe(xe):this._trySubscribe(xe))}),xe}_trySubscribe(Re){try{return this._subscribe(Re)}catch(Oe){Re.error(Oe)}}forEach(Re,Oe){return new(Oe=Y(Oe))((We,xe)=>{let Le;Le=this.subscribe(Ue=>{try{Re(Ue)}catch(st){xe(st),null==Le||Le.unsubscribe()}},xe,We)})}_subscribe(Re){var Oe;return null===(Oe=this.source)||void 0===Oe?void 0:Oe.subscribe(Re)}[K.L](){return this}pipe(...Re){return function(Ne){return 0===Ne.length?we.y:1===Ne.length?Ne[0]:function(Re){return Ne.reduce((Oe,We)=>We(Oe),Re)}}(Re)(this)}toPromise(Re){return new(Re=Y(Re))((Oe,We)=>{let xe;this.subscribe(Le=>xe=Le,Le=>We(Le),()=>Oe(xe))})}}return Ne.create=ct=>new Ne(ct),Ne})();function Y(Ne){var ct;return null!==(ct=null!=Ne?Ne:Me.v.Promise)&&void 0!==ct?ct:Promise}},3704:(Dt,Ve,O)=>{"use strict";O.d(Ve,{Hp:()=>qe,Lv:()=>pe});var y=O(6361),w=O(2669),K=O(5960),we=O(9249);function fe(){}const Ce=(()=>he("C",void 0,void 0))();function he(We,xe,Le){return{kind:We,value:xe,error:Le}}var Q=O(2487),Y=O(776);class pe extends w.w0{constructor(xe){super(),this.isStopped=!1,xe?(this.destination=xe,(0,w.Nn)(xe)&&xe.add(this)):this.destination=Oe}static create(xe,Le,Ue){return new qe(xe,Le,Ue)}next(xe){this.isStopped?Re(he("N",xe,void 0),this):this._next(xe)}error(xe){this.isStopped?Re(he("E",void 0,xe),this):(this.isStopped=!0,this._error(xe))}complete(){this.isStopped?Re(Ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(xe){this.destination.next(xe)}_error(xe){try{this.destination.error(xe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class qe extends pe{constructor(xe,Le,Ue){let st;if(super(),(0,y.m)(xe))st=xe;else if(xe){let ot;({next:st,error:Le,complete:Ue}=xe),this&&K.v.useDeprecatedNextContext?(ot=Object.create(xe),ot.unsubscribe=()=>this.unsubscribe()):ot=xe,st=null==st?void 0:st.bind(ot),Le=null==Le?void 0:Le.bind(ot),Ue=null==Ue?void 0:Ue.bind(ot)}this.destination={next:st?Ne(st):fe,error:Ne(null!=Le?Le:ct),complete:Ue?Ne(Ue):fe}}}function Ne(We,xe){return(...Le)=>{try{We(...Le)}catch(Ue){K.v.useDeprecatedSynchronousErrorHandling?(0,Y.O)(Ue):(0,we.h)(Ue)}}}function ct(We){throw We}function Re(We,xe){const{onStoppedNotification:Le}=K.v;Le&&Q.z.setTimeout(()=>Le(We,xe))}const Oe={closed:!0,next:fe,error:ct,complete:fe}},2669:(Dt,Ve,O)=>{"use strict";O.d(Ve,{Lc:()=>Ce,w0:()=>fe,Nn:()=>Me});var y=O(6361);const K=(0,O(9753).d)(he=>function(Y){he(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((pe,qe)=>`${qe+1}) ${pe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var we=O(8208);class fe{constructor(Q){this.initialTeardown=Q,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let Q;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const Ne of Y)Ne.remove(this);else Y.remove(this);const{initialTeardown:pe}=this;if((0,y.m)(pe))try{pe()}catch(Ne){Q=Ne instanceof K?Ne.errors:[Ne]}const{_teardowns:qe}=this;if(qe){this._teardowns=null;for(const Ne of qe)try{Te(Ne)}catch(ct){Q=null!=Q?Q:[],ct instanceof K?Q=[...Q,...ct.errors]:Q.push(ct)}}if(Q)throw new K(Q)}}add(Q){var Y;if(Q&&Q!==this)if(this.closed)Te(Q);else{if(Q instanceof fe){if(Q.closed||Q._hasParent(this))return;Q._addParent(this)}(this._teardowns=null!==(Y=this._teardowns)&&void 0!==Y?Y:[]).push(Q)}}_hasParent(Q){const{_parentage:Y}=this;return Y===Q||Array.isArray(Y)&&Y.includes(Q)}_addParent(Q){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(Q),Y):Y?[Y,Q]:Q}_removeParent(Q){const{_parentage:Y}=this;Y===Q?this._parentage=null:Array.isArray(Y)&&(0,we.P)(Y,Q)}remove(Q){const{_teardowns:Y}=this;Y&&(0,we.P)(Y,Q),Q instanceof fe&&Q._removeParent(this)}}fe.EMPTY=(()=>{const he=new fe;return he.closed=!0,he})();const Ce=fe.EMPTY;function Me(he){return he instanceof fe||he&&"closed"in he&&(0,y.m)(he.remove)&&(0,y.m)(he.add)&&(0,y.m)(he.unsubscribe)}function Te(he){(0,y.m)(he)?he():he.unsubscribe()}},5960:(Dt,Ve,O)=>{"use strict";O.d(Ve,{v:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1179:(Dt,Ve,O)=>{"use strict";O.d(Ve,{D:()=>st});var y=O(3413),w=O(8341),K=O(8127),Ce=O(1827),Te=O(6384),he=O(6361),Q=O(768);function pe(ot,$t){if(!ot)throw new Error("Iterable cannot be null");return new Ce.y(Mt=>{(0,Q.f)(Mt,$t,()=>{const ne=ot[Symbol.asyncIterator]();(0,Q.f)(Mt,$t,()=>{ne.next().then(oe=>{oe.done?Mt.complete():Mt.next(oe.value)})},0,!0)})})}var qe=O(8312),Ne=O(3707),ct=O(9049),Re=O(5729),Oe=O(7153),We=O(5611),xe=O(837);function st(ot,$t){return $t?function(ot,$t){if(null!=ot){if((0,qe.c)(ot))return function(ot,$t){return(0,y.Xf)(ot).pipe((0,K.R)($t),(0,w.Q)($t))}(ot,$t);if((0,ct.z)(ot))return function(ot,$t){return new Ce.y(Mt=>{let ne=0;return $t.schedule(function(){ne===ot.length?Mt.complete():(Mt.next(ot[ne++]),Mt.closed||this.schedule())})})}(ot,$t);if((0,Ne.t)(ot))return function(ot,$t){return(0,y.Xf)(ot).pipe((0,K.R)($t),(0,w.Q)($t))}(ot,$t);if((0,Oe.D)(ot))return pe(ot,$t);if((0,Re.T)(ot))return function(ot,$t){return new Ce.y(Mt=>{let ne;return(0,Q.f)(Mt,$t,()=>{ne=ot[Te.h](),(0,Q.f)(Mt,$t,()=>{let oe,ye;try{({value:oe,done:ye}=ne.next())}catch(me){return void Mt.error(me)}ye?Mt.complete():Mt.next(oe)},0,!0)}),()=>(0,he.m)(null==ne?void 0:ne.return)&&ne.return()})}(ot,$t);if((0,xe.L)(ot))return function(ot,$t){return pe((0,xe.Q)(ot),$t)}(ot,$t)}throw(0,We.z)(ot)}(ot,$t):(0,y.Xf)(ot)}},3413:(Dt,Ve,O)=>{"use strict";O.d(Ve,{Xf:()=>qe});var y=O(9517),w=O(9049),K=O(3707),we=O(1827),fe=O(8312),Ce=O(7153),Me=O(5611),Te=O(5729),he=O(837),Q=O(6361),Y=O(9249),pe=O(7328);function qe(Ue){if(Ue instanceof we.y)return Ue;if(null!=Ue){if((0,fe.c)(Ue))return function(Ue){return new we.y(st=>{const ot=Ue[pe.L]();if((0,Q.m)(ot.subscribe))return ot.subscribe(st);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ue);if((0,w.z)(Ue))return function(Ue){return new we.y(st=>{for(let ot=0;ot<Ue.length&&!st.closed;ot++)st.next(Ue[ot]);st.complete()})}(Ue);if((0,K.t)(Ue))return function(Ue){return new we.y(st=>{Ue.then(ot=>{st.closed||(st.next(ot),st.complete())},ot=>st.error(ot)).then(null,Y.h)})}(Ue);if((0,Ce.D)(Ue))return We(Ue);if((0,Te.T)(Ue))return function(Ue){return new we.y(st=>{for(const ot of Ue)if(st.next(ot),st.closed)return;st.complete()})}(Ue);if((0,he.L)(Ue))return function(Ue){return We((0,he.Q)(Ue))}(Ue)}throw(0,Me.z)(Ue)}function We(Ue){return new we.y(st=>{(function(Ue,st){var ot,$t,Mt,ne;return(0,y.mG)(this,void 0,void 0,function*(){try{for(ot=(0,y.KL)(Ue);!($t=yield ot.next()).done;)if(st.next($t.value),st.closed)return}catch(oe){Mt={error:oe}}finally{try{$t&&!$t.done&&(ne=ot.return)&&(yield ne.call(ot))}finally{if(Mt)throw Mt.error}}st.complete()})})(Ue,st).catch(ot=>st.error(ot))})}},4323:(Dt,Ve,O)=>{"use strict";O.d(Ve,{of:()=>K});var y=O(7375),w=O(1179);function K(...we){const fe=(0,y.yG)(we);return(0,w.D)(we,fe)}},1894:(Dt,Ve,O)=>{"use strict";O.d(Ve,{Q:()=>w});var y=O(3704);class w extends y.Lv{constructor(we,fe,Ce,Me,Te){super(we),this.onFinalize=Te,this._next=fe?function(he){try{fe(he)}catch(Q){we.error(Q)}}:super._next,this._error=Me?function(he){try{Me(he)}catch(Q){we.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=Ce?function(){try{Ce()}catch(he){we.error(he)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var we;const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(we=this.onFinalize)||void 0===we||we.call(this))}}},1971:(Dt,Ve,O)=>{"use strict";O.d(Ve,{h:()=>K});var y=O(3201),w=O(1894);function K(we,fe){return(0,y.e)((Ce,Me)=>{let Te=0;Ce.subscribe(new w.Q(Me,he=>we.call(fe,he,Te++)&&Me.next(he)))})}},6885:(Dt,Ve,O)=>{"use strict";O.d(Ve,{U:()=>K});var y=O(3201),w=O(1894);function K(we,fe){return(0,y.e)((Ce,Me)=>{let Te=0;Ce.subscribe(new w.Q(Me,he=>{Me.next(we.call(fe,he,Te++))}))})}},2253:(Dt,Ve,O)=>{"use strict";O.d(Ve,{J:()=>Q});var y=O(6885),w=O(3413),K=O(3201),fe=(O(768),O(1894)),Me=O(6361);function Te(Y,pe,qe=1/0){return(0,Me.m)(pe)?Te((Ne,ct)=>(0,y.U)((Re,Oe)=>pe(Ne,Re,ct,Oe))((0,w.Xf)(Y(Ne,ct))),qe):("number"==typeof pe&&(qe=pe),(0,K.e)((Ne,ct)=>function(Y,pe,qe,Ne,ct,Re,Oe,We){const xe=[];let Le=0,Ue=0,st=!1;const ot=()=>{st&&!xe.length&&!Le&&pe.complete()},$t=ne=>Le<Ne?Mt(ne):xe.push(ne),Mt=ne=>{Le++;let oe=!1;(0,w.Xf)(qe(ne,Ue++)).subscribe(new fe.Q(pe,ye=>{pe.next(ye)},()=>{oe=!0},void 0,()=>{if(oe)try{for(Le--;xe.length&&Le<Ne;){const ye=xe.shift();Mt(ye)}ot()}catch(ye){pe.error(ye)}}))};return Y.subscribe(new fe.Q(pe,$t,()=>{st=!0,ot()})),()=>{}}(Ne,ct,Y,qe)))}var he=O(576);function Q(Y=1/0){return Te(he.y,Y)}},8341:(Dt,Ve,O)=>{"use strict";O.d(Ve,{Q:()=>we});var y=O(768),w=O(3201),K=O(1894);function we(fe,Ce=0){return(0,w.e)((Me,Te)=>{Me.subscribe(new K.Q(Te,he=>(0,y.f)(Te,fe,()=>Te.next(he),Ce),()=>(0,y.f)(Te,fe,()=>Te.complete(),Ce),he=>(0,y.f)(Te,fe,()=>Te.error(he),Ce)))})}},8127:(Dt,Ve,O)=>{"use strict";O.d(Ve,{R:()=>w});var y=O(3201);function w(K,we=0){return(0,y.e)((fe,Ce)=>{Ce.add(K.schedule(()=>fe.subscribe(Ce),we))})}},1926:(Dt,Ve,O)=>{"use strict";O.d(Ve,{w:()=>we});var y=O(3413),w=O(3201),K=O(1894);function we(fe,Ce){return(0,w.e)((Me,Te)=>{let he=null,Q=0,Y=!1;const pe=()=>Y&&!he&&Te.complete();Me.subscribe(new K.Q(Te,qe=>{null==he||he.unsubscribe();let Ne=0;const ct=Q++;(0,y.Xf)(fe(qe,ct)).subscribe(he=new K.Q(Te,Re=>Te.next(Ce?Ce(qe,Re,ct,Ne++):Re),()=>{he=null,pe()}))},()=>{Y=!0,pe()}))})}},504:(Dt,Ve,O)=>{"use strict";O.d(Ve,{o:()=>fe});var y=O(2669);class w extends y.w0{constructor(Me,Te){super()}schedule(Me,Te=0){return this}}const K={setInterval(...Ce){const{delegate:Me}=K;return((null==Me?void 0:Me.setInterval)||setInterval)(...Ce)},clearInterval(Ce){const{delegate:Me}=K;return((null==Me?void 0:Me.clearInterval)||clearInterval)(Ce)},delegate:void 0};var we=O(8208);class fe extends w{constructor(Me,Te){super(Me,Te),this.scheduler=Me,this.work=Te,this.pending=!1}schedule(Me,Te=0){if(this.closed)return this;this.state=Me;const he=this.id,Q=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(Q,he,Te)),this.pending=!0,this.delay=Te,this.id=this.id||this.requestAsyncId(Q,this.id,Te),this}requestAsyncId(Me,Te,he=0){return K.setInterval(Me.flush.bind(Me,this),he)}recycleAsyncId(Me,Te,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return Te;K.clearInterval(Te)}execute(Me,Te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(Me,Te);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Me,Te){let Q,he=!1;try{this.work(Me)}catch(Y){he=!0,Q=Y||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),Q}unsubscribe(){if(!this.closed){const{id:Me,scheduler:Te}=this,{actions:he}=Te;this.work=this.state=this.scheduler=null,this.pending=!1,(0,we.P)(he,this),null!=Me&&(this.id=this.recycleAsyncId(Te,Me,null)),this.delay=null,super.unsubscribe()}}}},9713:(Dt,Ve,O)=>{"use strict";O.d(Ve,{v:()=>K});var y=O(1373);class w{constructor(fe,Ce=w.now){this.schedulerActionCtor=fe,this.now=Ce}schedule(fe,Ce=0,Me){return new this.schedulerActionCtor(this,fe).schedule(Me,Ce)}}w.now=y.l.now;class K extends w{constructor(fe,Ce=w.now){super(fe,Ce),this.actions=[],this._active=!1,this._scheduled=void 0}flush(fe){const{actions:Ce}=this;if(this._active)return void Ce.push(fe);let Me;this._active=!0;do{if(Me=fe.execute(fe.state,fe.delay))break}while(fe=Ce.shift());if(this._active=!1,Me){for(;fe=Ce.shift();)fe.unsubscribe();throw Me}}}},4346:(Dt,Ve,O)=>{"use strict";O.d(Ve,{z:()=>K});var y=O(504);const K=new(O(9713).v)(y.o)},1373:(Dt,Ve,O)=>{"use strict";O.d(Ve,{l:()=>y});const y={now:()=>(y.delegate||Date).now(),delegate:void 0}},2487:(Dt,Ve,O)=>{"use strict";O.d(Ve,{z:()=>y});const y={setTimeout(...w){const{delegate:K}=y;return((null==K?void 0:K.setTimeout)||setTimeout)(...w)},clearTimeout(w){const{delegate:K}=y;return((null==K?void 0:K.clearTimeout)||clearTimeout)(w)},delegate:void 0}},6384:(Dt,Ve,O)=>{"use strict";function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}O.d(Ve,{h:()=>w});const w=y()},7328:(Dt,Ve,O)=>{"use strict";O.d(Ve,{L:()=>y});const y=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},7375:(Dt,Ve,O)=>{"use strict";O.d(Ve,{_6:()=>Ce,yG:()=>fe});var y=O(6361);function K(Me){return Me[Me.length-1]}function fe(Me){return function(Me){return Me&&(0,y.m)(Me.schedule)}(K(Me))?Me.pop():void 0}function Ce(Me,Te){return"number"==typeof K(Me)?Me.pop():Te}},8208:(Dt,Ve,O)=>{"use strict";function y(w,K){if(w){const we=w.indexOf(K);0<=we&&w.splice(we,1)}}O.d(Ve,{P:()=>y})},9753:(Dt,Ve,O)=>{"use strict";function y(w){const we=w(fe=>{Error.call(fe),fe.stack=(new Error).stack});return we.prototype=Object.create(Error.prototype),we.prototype.constructor=we,we}O.d(Ve,{d:()=>y})},776:(Dt,Ve,O)=>{"use strict";O.d(Ve,{x:()=>K,O:()=>we});var y=O(5960);let w=null;function K(fe){if(y.v.useDeprecatedSynchronousErrorHandling){const Ce=!w;if(Ce&&(w={errorThrown:!1,error:null}),fe(),Ce){const{errorThrown:Me,error:Te}=w;if(w=null,Me)throw Te}}else fe()}function we(fe){y.v.useDeprecatedSynchronousErrorHandling&&w&&(w.errorThrown=!0,w.error=fe)}},768:(Dt,Ve,O)=>{"use strict";function y(w,K,we,fe=0,Ce=!1){const Me=K.schedule(function(){we(),Ce?w.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(w.add(Me),!Ce)return Me}O.d(Ve,{f:()=>y})},576:(Dt,Ve,O)=>{"use strict";function y(w){return w}O.d(Ve,{y:()=>y})},9049:(Dt,Ve,O)=>{"use strict";O.d(Ve,{z:()=>y});const y=w=>w&&"number"==typeof w.length&&"function"!=typeof w},7153:(Dt,Ve,O)=>{"use strict";O.d(Ve,{D:()=>w});var y=O(6361);function w(K){return Symbol.asyncIterator&&(0,y.m)(null==K?void 0:K[Symbol.asyncIterator])}},6361:(Dt,Ve,O)=>{"use strict";function y(w){return"function"==typeof w}O.d(Ve,{m:()=>y})},8312:(Dt,Ve,O)=>{"use strict";O.d(Ve,{c:()=>K});var y=O(7328),w=O(6361);function K(we){return(0,w.m)(we[y.L])}},5729:(Dt,Ve,O)=>{"use strict";O.d(Ve,{T:()=>K});var y=O(6384),w=O(6361);function K(we){return(0,w.m)(null==we?void 0:we[y.h])}},3707:(Dt,Ve,O)=>{"use strict";O.d(Ve,{t:()=>w});var y=O(6361);function w(K){return(0,y.m)(null==K?void 0:K.then)}},837:(Dt,Ve,O)=>{"use strict";O.d(Ve,{Q:()=>K,L:()=>we});var y=O(9517),w=O(6361);function K(fe){return(0,y.FC)(this,arguments,function*(){const Me=fe.getReader();try{for(;;){const{value:Te,done:he}=yield(0,y.qq)(Me.read());if(he)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(Te)}}finally{Me.releaseLock()}})}function we(fe){return(0,w.m)(null==fe?void 0:fe.getReader)}},3201:(Dt,Ve,O)=>{"use strict";O.d(Ve,{e:()=>K});var y=O(6361);function K(we){return fe=>{if(function(we){return(0,y.m)(null==we?void 0:we.lift)}(fe))return fe.lift(function(Ce){try{return we(Ce,this)}catch(Me){this.error(Me)}});throw new TypeError("Unable to lift unknown Observable type")}}},9249:(Dt,Ve,O)=>{"use strict";O.d(Ve,{h:()=>K});var y=O(5960),w=O(2487);function K(we){w.z.setTimeout(()=>{const{onUnhandledError:fe}=y.v;if(!fe)throw we;fe(we)})}},5611:(Dt,Ve,O)=>{"use strict";function y(w){return new TypeError(`You provided ${null!==w&&"object"==typeof w?"an invalid object":`'${w}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(Ve,{z:()=>y})},3679:(Dt,Ve,O)=>{"use strict";O.d(Ve,{Wl:()=>Q,Fj:()=>Ne,u5:()=>js,Fd:()=>bs,qQ:()=>Ls,JJ:()=>Rr,JL:()=>or,F:()=>Wr,On:()=>Xt,YN:()=>ti,wV:()=>Gi,_:()=>ci,eT:()=>vo,UX:()=>$s,EJ:()=>Jn,_Y:()=>sr,Kr:()=>Ai});var y=O(639),w=O(8583),K=O(4402),we=O(5758),fe=O(8002);let Ce=(()=>{class I{constructor(R,W){this._renderer=R,this._elementRef=W,this.onChange=Ze=>{},this.onTouched=()=>{}}setProperty(R,W){this._renderer.setProperty(this._elementRef.nativeElement,R,W)}registerOnTouched(R){this.onTouched=R}registerOnChange(R){this.onChange=R}setDisabledState(R){this.setProperty("disabled",R)}}return I.\u0275fac=function(R){return new(R||I)(y.Y36(y.Qsj),y.Y36(y.SBq))},I.\u0275dir=y.lG2({type:I}),I})(),Me=(()=>{class I extends Ce{}return I.\u0275fac=function(){let A;return function(W){return(A||(A=y.n5z(I)))(W||I)}}(),I.\u0275dir=y.lG2({type:I,features:[y.qOj]}),I})();const Te=new y.OlP("NgValueAccessor"),he={provide:Te,useExisting:(0,y.Gpc)(()=>Q),multi:!0};let Q=(()=>{class I extends Me{writeValue(R){this.setProperty("checked",R)}}return I.\u0275fac=function(){let A;return function(W){return(A||(A=y.n5z(I)))(W||I)}}(),I.\u0275dir=y.lG2({type:I,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(R,W){1&R&&y.NdJ("change",function(It){return W.onChange(It.target.checked)})("blur",function(){return W.onTouched()})},features:[y._Bn([he]),y.qOj]}),I})();const Y={provide:Te,useExisting:(0,y.Gpc)(()=>Ne),multi:!0},qe=new y.OlP("CompositionEventMode");let Ne=(()=>{class I extends Ce{constructor(R,W,Ze){super(R,W),this._compositionMode=Ze,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const I=(0,w.q)()?(0,w.q)().getUserAgent():"";return/android (\d+)/.test(I.toLowerCase())}())}writeValue(R){this.setProperty("value",null==R?"":R)}_handleInput(R){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(R)}_compositionStart(){this._composing=!0}_compositionEnd(R){this._composing=!1,this._compositionMode&&this.onChange(R)}}return I.\u0275fac=function(R){return new(R||I)(y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(qe,8))},I.\u0275dir=y.lG2({type:I,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(R,W){1&R&&y.NdJ("input",function(It){return W._handleInput(It.target.value)})("blur",function(){return W.onTouched()})("compositionstart",function(){return W._compositionStart()})("compositionend",function(It){return W._compositionEnd(It.target.value)})},features:[y._Bn([Y]),y.qOj]}),I})();function ct(I){return null==I||0===I.length}const Oe=new y.OlP("NgValidators"),We=new y.OlP("NgAsyncValidators");function me(I){return null}function _e(I){return null!=I}function Je(I){const A=(0,y.QGY)(I)?(0,K.D)(I):I;return(0,y.CqO)(A),A}function De(I){let A={};return I.forEach(R=>{A=null!=R?Object.assign(Object.assign({},A),R):A}),0===Object.keys(A).length?null:A}function at(I,A){return A.map(R=>R(I))}function Bt(I){return I.map(A=>function(I){return!I.validate}(A)?A:R=>A.validate(R))}function yn(I){return null!=I?function(I){if(!I)return null;const A=I.filter(_e);return 0==A.length?null:function(R){return De(at(R,A))}}(Bt(I)):null}function rn(I){return null!=I?function(I){if(!I)return null;const A=I.filter(_e);return 0==A.length?null:function(R){const W=at(R,A).map(Je);return(0,we.D)(W).pipe((0,fe.U)(De))}}(Bt(I)):null}function tr(I,A){return null===I?[A]:Array.isArray(I)?[...I,A]:[I,A]}function Qt(I){return I?Array.isArray(I)?I:[I]:[]}function cn(I,A){return Array.isArray(I)?I.includes(A):I===A}function an(I,A){const R=Qt(A);return Qt(I).forEach(Ze=>{cn(R,Ze)||R.push(Ze)}),R}function Jt(I,A){return Qt(A).filter(R=>!cn(I,R))}let Cr=(()=>{class I{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(R){this._rawValidators=R||[],this._composedValidatorFn=yn(this._rawValidators)}_setAsyncValidators(R){this._rawAsyncValidators=R||[],this._composedAsyncValidatorFn=rn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(R){this._onDestroyCallbacks.push(R)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(R=>R()),this._onDestroyCallbacks=[]}reset(R){this.control&&this.control.reset(R)}hasError(R,W){return!!this.control&&this.control.hasError(R,W)}getError(R,W){return this.control?this.control.getError(R,W):null}}return I.\u0275fac=function(R){return new(R||I)},I.\u0275dir=y.lG2({type:I}),I})(),Wn=(()=>{class I extends Cr{get formDirective(){return null}get path(){return null}}return I.\u0275fac=function(){let A;return function(W){return(A||(A=y.n5z(I)))(W||I)}}(),I.\u0275dir=y.lG2({type:I,features:[y.qOj]}),I})();class kr extends Cr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Un{constructor(A){this._cd=A}is(A){var R,W,Ze;return"submitted"===A?!!(null===(R=this._cd)||void 0===R?void 0:R.submitted):!!(null===(Ze=null===(W=this._cd)||void 0===W?void 0:W.control)||void 0===Ze?void 0:Ze[A])}}let Rr=(()=>{class I extends Un{constructor(R){super(R)}}return I.\u0275fac=function(R){return new(R||I)(y.Y36(kr,2))},I.\u0275dir=y.lG2({type:I,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(R,W){2&R&&y.ekj("ng-untouched",W.is("untouched"))("ng-touched",W.is("touched"))("ng-pristine",W.is("pristine"))("ng-dirty",W.is("dirty"))("ng-valid",W.is("valid"))("ng-invalid",W.is("invalid"))("ng-pending",W.is("pending"))},features:[y.qOj]}),I})(),or=(()=>{class I extends Un{constructor(R){super(R)}}return I.\u0275fac=function(R){return new(R||I)(y.Y36(Wn,10))},I.\u0275dir=y.lG2({type:I,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(R,W){2&R&&y.ekj("ng-untouched",W.is("untouched"))("ng-touched",W.is("touched"))("ng-pristine",W.is("pristine"))("ng-dirty",W.is("dirty"))("ng-valid",W.is("valid"))("ng-invalid",W.is("invalid"))("ng-pending",W.is("pending"))("ng-submitted",W.is("submitted"))},features:[y.qOj]}),I})();function Mn(I,A){Ee(I,A),A.valueAccessor.writeValue(I.value),function(I,A){A.valueAccessor.registerOnChange(R=>{I._pendingValue=R,I._pendingChange=!0,I._pendingDirty=!0,"change"===I.updateOn&&Qe(I,A)})}(I,A),function(I,A){const R=(W,Ze)=>{A.valueAccessor.writeValue(W),Ze&&A.viewToModelUpdate(W)};I.registerOnChange(R),A._registerOnDestroy(()=>{I._unregisterOnChange(R)})}(I,A),function(I,A){A.valueAccessor.registerOnTouched(()=>{I._pendingTouched=!0,"blur"===I.updateOn&&I._pendingChange&&Qe(I,A),"submit"!==I.updateOn&&I.markAsTouched()})}(I,A),function(I,A){if(A.valueAccessor.setDisabledState){const R=W=>{A.valueAccessor.setDisabledState(W)};I.registerOnDisabledChange(R),A._registerOnDestroy(()=>{I._unregisterOnDisabledChange(R)})}}(I,A)}function ir(I,A){I.forEach(R=>{R.registerOnValidatorChange&&R.registerOnValidatorChange(A)})}function Ee(I,A){const R=function(I){return I._rawValidators}(I);null!==A.validator?I.setValidators(tr(R,A.validator)):"function"==typeof R&&I.setValidators([R]);const W=function(I){return I._rawAsyncValidators}(I);null!==A.asyncValidator?I.setAsyncValidators(tr(W,A.asyncValidator)):"function"==typeof W&&I.setAsyncValidators([W]);const Ze=()=>I.updateValueAndValidity();ir(A._rawValidators,Ze),ir(A._rawAsyncValidators,Ze)}function Qe(I,A){I._pendingDirty&&I.markAsDirty(),I.setValue(I._pendingValue,{emitModelToViewChange:!1}),A.viewToModelUpdate(I._pendingValue),I._pendingChange=!1}function Fr(I,A){const R=I.indexOf(A);R>-1&&I.splice(R,1)}const ui="VALID",ds="INVALID",jr="PENDING",li="DISABLED";function Lr(I){return(Gr(I)?I.validators:I)||null}function gi(I){return Array.isArray(I)?yn(I):I||null}function Pr(I,A){return(Gr(A)?A.asyncValidators:I)||null}function Jr(I){return Array.isArray(I)?rn(I):I||null}function Gr(I){return null!=I&&!Array.isArray(I)&&"object"==typeof I}class mi{constructor(A,R){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=A,this._rawAsyncValidators=R,this._composedValidatorFn=gi(this._rawValidators),this._composedAsyncValidatorFn=Jr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(A){this._rawValidators=this._composedValidatorFn=A}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(A){this._rawAsyncValidators=this._composedAsyncValidatorFn=A}get parent(){return this._parent}get valid(){return this.status===ui}get invalid(){return this.status===ds}get pending(){return this.status==jr}get disabled(){return this.status===li}get enabled(){return this.status!==li}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(A){this._rawValidators=A,this._composedValidatorFn=gi(A)}setAsyncValidators(A){this._rawAsyncValidators=A,this._composedAsyncValidatorFn=Jr(A)}addValidators(A){this.setValidators(an(A,this._rawValidators))}addAsyncValidators(A){this.setAsyncValidators(an(A,this._rawAsyncValidators))}removeValidators(A){this.setValidators(Jt(A,this._rawValidators))}removeAsyncValidators(A){this.setAsyncValidators(Jt(A,this._rawAsyncValidators))}hasValidator(A){return cn(this._rawValidators,A)}hasAsyncValidator(A){return cn(this._rawAsyncValidators,A)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(A={}){this.touched=!0,this._parent&&!A.onlySelf&&this._parent.markAsTouched(A)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(A=>A.markAllAsTouched())}markAsUntouched(A={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(R=>{R.markAsUntouched({onlySelf:!0})}),this._parent&&!A.onlySelf&&this._parent._updateTouched(A)}markAsDirty(A={}){this.pristine=!1,this._parent&&!A.onlySelf&&this._parent.markAsDirty(A)}markAsPristine(A={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(R=>{R.markAsPristine({onlySelf:!0})}),this._parent&&!A.onlySelf&&this._parent._updatePristine(A)}markAsPending(A={}){this.status=jr,!1!==A.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!A.onlySelf&&this._parent.markAsPending(A)}disable(A={}){const R=this._parentMarkedDirty(A.onlySelf);this.status=li,this.errors=null,this._forEachChild(W=>{W.disable(Object.assign(Object.assign({},A),{onlySelf:!0}))}),this._updateValue(),!1!==A.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},A),{skipPristineCheck:R})),this._onDisabledChange.forEach(W=>W(!0))}enable(A={}){const R=this._parentMarkedDirty(A.onlySelf);this.status=ui,this._forEachChild(W=>{W.enable(Object.assign(Object.assign({},A),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:A.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},A),{skipPristineCheck:R})),this._onDisabledChange.forEach(W=>W(!1))}_updateAncestors(A){this._parent&&!A.onlySelf&&(this._parent.updateValueAndValidity(A),A.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(A){this._parent=A}updateValueAndValidity(A={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ui||this.status===jr)&&this._runAsyncValidator(A.emitEvent)),!1!==A.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!A.onlySelf&&this._parent.updateValueAndValidity(A)}_updateTreeValidity(A={emitEvent:!0}){this._forEachChild(R=>R._updateTreeValidity(A)),this.updateValueAndValidity({onlySelf:!0,emitEvent:A.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?li:ui}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(A){if(this.asyncValidator){this.status=jr,this._hasOwnPendingAsyncValidator=!0;const R=Je(this.asyncValidator(this));this._asyncValidationSubscription=R.subscribe(W=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(W,{emitEvent:A})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(A,R={}){this.errors=A,this._updateControlsErrors(!1!==R.emitEvent)}get(A){return function(I,A,R){if(null==A||(Array.isArray(A)||(A=A.split(".")),Array.isArray(A)&&0===A.length))return null;let W=I;return A.forEach(Ze=>{W=W instanceof br?W.controls.hasOwnProperty(Ze)?W.controls[Ze]:null:W instanceof Ji&&W.at(Ze)||null}),W}(this,A)}getError(A,R){const W=R?this.get(R):this;return W&&W.errors?W.errors[A]:null}hasError(A,R){return!!this.getError(A,R)}get root(){let A=this;for(;A._parent;)A=A._parent;return A}_updateControlsErrors(A){this.status=this._calculateStatus(),A&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(A)}_initObservables(){this.valueChanges=new y.vpe,this.statusChanges=new y.vpe}_calculateStatus(){return this._allControlsDisabled()?li:this.errors?ds:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(jr)?jr:this._anyControlsHaveStatus(ds)?ds:ui}_anyControlsHaveStatus(A){return this._anyControls(R=>R.status===A)}_anyControlsDirty(){return this._anyControls(A=>A.dirty)}_anyControlsTouched(){return this._anyControls(A=>A.touched)}_updatePristine(A={}){this.pristine=!this._anyControlsDirty(),this._parent&&!A.onlySelf&&this._parent._updatePristine(A)}_updateTouched(A={}){this.touched=this._anyControlsTouched(),this._parent&&!A.onlySelf&&this._parent._updateTouched(A)}_isBoxedValue(A){return"object"==typeof A&&null!==A&&2===Object.keys(A).length&&"value"in A&&"disabled"in A}_registerOnCollectionChange(A){this._onCollectionChange=A}_setUpdateStrategy(A){Gr(A)&&null!=A.updateOn&&(this._updateOn=A.updateOn)}_parentMarkedDirty(A){return!A&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Li extends mi{constructor(A=null,R,W){super(Lr(R),Pr(W,R)),this._onChange=[],this._applyFormState(A),this._setUpdateStrategy(R),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(A,R={}){this.value=this._pendingValue=A,this._onChange.length&&!1!==R.emitModelToViewChange&&this._onChange.forEach(W=>W(this.value,!1!==R.emitViewToModelChange)),this.updateValueAndValidity(R)}patchValue(A,R={}){this.setValue(A,R)}reset(A=null,R={}){this._applyFormState(A),this.markAsPristine(R),this.markAsUntouched(R),this.setValue(this.value,R),this._pendingChange=!1}_updateValue(){}_anyControls(A){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(A){this._onChange.push(A)}_unregisterOnChange(A){Fr(this._onChange,A)}registerOnDisabledChange(A){this._onDisabledChange.push(A)}_unregisterOnDisabledChange(A){Fr(this._onDisabledChange,A)}_forEachChild(A){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(A){this._isBoxedValue(A)?(this.value=this._pendingValue=A.value,A.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=A}}class br extends mi{constructor(A,R,W){super(Lr(R),Pr(W,R)),this.controls=A,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(A,R){return this.controls[A]?this.controls[A]:(this.controls[A]=R,R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange),R)}addControl(A,R,W={}){this.registerControl(A,R),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}removeControl(A,R={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),delete this.controls[A],this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}setControl(A,R,W={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),delete this.controls[A],R&&this.registerControl(A,R),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}contains(A){return this.controls.hasOwnProperty(A)&&this.controls[A].enabled}setValue(A,R={}){this._checkAllValuesPresent(A),Object.keys(A).forEach(W=>{this._throwIfControlMissing(W),this.controls[W].setValue(A[W],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(A,R={}){null!=A&&(Object.keys(A).forEach(W=>{this.controls[W]&&this.controls[W].patchValue(A[W],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(A={},R={}){this._forEachChild((W,Ze)=>{W.reset(A[Ze],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this._reduceChildren({},(A,R,W)=>(A[W]=R instanceof Li?R.value:R.getRawValue(),A))}_syncPendingControls(){let A=this._reduceChildren(!1,(R,W)=>!!W._syncPendingControls()||R);return A&&this.updateValueAndValidity({onlySelf:!0}),A}_throwIfControlMissing(A){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[A])throw new Error(`Cannot find form control with name: ${A}.`)}_forEachChild(A){Object.keys(this.controls).forEach(R=>{const W=this.controls[R];W&&A(W,R)})}_setUpControls(){this._forEachChild(A=>{A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(A){for(const R of Object.keys(this.controls)){const W=this.controls[R];if(this.contains(R)&&A(W))return!0}return!1}_reduceValue(){return this._reduceChildren({},(A,R,W)=>((R.enabled||this.disabled)&&(A[W]=R.value),A))}_reduceChildren(A,R){let W=A;return this._forEachChild((Ze,It)=>{W=R(W,Ze,It)}),W}_allControlsDisabled(){for(const A of Object.keys(this.controls))if(this.controls[A].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(A){this._forEachChild((R,W)=>{if(void 0===A[W])throw new Error(`Must supply a value for form control with name: '${W}'.`)})}}class Ji extends mi{constructor(A,R,W){super(Lr(R),Pr(W,R)),this.controls=A,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(A){return this.controls[A]}push(A,R={}){this.controls.push(A),this._registerControl(A),this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}insert(A,R,W={}){this.controls.splice(A,0,R),this._registerControl(R),this.updateValueAndValidity({emitEvent:W.emitEvent})}removeAt(A,R={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),this.controls.splice(A,1),this.updateValueAndValidity({emitEvent:R.emitEvent})}setControl(A,R,W={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),this.controls.splice(A,1),R&&(this.controls.splice(A,0,R),this._registerControl(R)),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(A,R={}){this._checkAllValuesPresent(A),A.forEach((W,Ze)=>{this._throwIfControlMissing(Ze),this.at(Ze).setValue(W,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(A,R={}){null!=A&&(A.forEach((W,Ze)=>{this.at(Ze)&&this.at(Ze).patchValue(W,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(A=[],R={}){this._forEachChild((W,Ze)=>{W.reset(A[Ze],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this.controls.map(A=>A instanceof Li?A.value:A.getRawValue())}clear(A={}){this.controls.length<1||(this._forEachChild(R=>R._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:A.emitEvent}))}_syncPendingControls(){let A=this.controls.reduce((R,W)=>!!W._syncPendingControls()||R,!1);return A&&this.updateValueAndValidity({onlySelf:!0}),A}_throwIfControlMissing(A){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(A))throw new Error(`Cannot find form control at index ${A}`)}_forEachChild(A){this.controls.forEach((R,W)=>{A(R,W)})}_updateValue(){this.value=this.controls.filter(A=>A.enabled||this.disabled).map(A=>A.value)}_anyControls(A){return this.controls.some(R=>R.enabled&&A(R))}_setUpControls(){this._forEachChild(A=>this._registerControl(A))}_checkAllValuesPresent(A){this._forEachChild((R,W)=>{if(void 0===A[W])throw new Error(`Must supply a value for form control at index: ${W}.`)})}_allControlsDisabled(){for(const A of this.controls)if(A.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(A){A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange)}}const gr={provide:Wn,useExisting:(0,y.Gpc)(()=>Wr)},Pi=(()=>Promise.resolve(null))();let Wr=(()=>{class I extends Wn{constructor(R,W){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new y.vpe,this.form=new br({},yn(R),rn(W))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(R){Pi.then(()=>{const W=this._findContainer(R.path);R.control=W.registerControl(R.name,R.control),Mn(R.control,R),R.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(R)})}getControl(R){return this.form.get(R.path)}removeControl(R){Pi.then(()=>{const W=this._findContainer(R.path);W&&W.removeControl(R.name),Fr(this._directives,R)})}addFormGroup(R){Pi.then(()=>{const W=this._findContainer(R.path),Ze=new br({});(function(I,A){Ee(I,A)})(Ze,R),W.registerControl(R.name,Ze),Ze.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(R){Pi.then(()=>{const W=this._findContainer(R.path);W&&W.removeControl(R.name)})}getFormGroup(R){return this.form.get(R.path)}updateModel(R,W){Pi.then(()=>{this.form.get(R.path).setValue(W)})}setValue(R){this.control.setValue(R)}onSubmit(R){return this.submitted=!0,function(I,A){I._syncPendingControls(),A.forEach(R=>{const W=R.control;"submit"===W.updateOn&&W._pendingChange&&(R.viewToModelUpdate(W._pendingValue),W._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(R),!1}onReset(){this.resetForm()}resetForm(R){this.form.reset(R),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(R){return R.pop(),R.length?this.form.get(R):this.form}}return I.\u0275fac=function(R){return new(R||I)(y.Y36(Oe,10),y.Y36(We,10))},I.\u0275dir=y.lG2({type:I,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(R,W){1&R&&y.NdJ("submit",function(It){return W.onSubmit(It)})("reset",function(){return W.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([gr]),y.qOj]}),I})();const ft={provide:kr,useExisting:(0,y.Gpc)(()=>Xt)},Pn=(()=>Promise.resolve(null))();let Xt=(()=>{class I extends kr{constructor(R,W,Ze,It){super(),this.control=new Li,this._registered=!1,this.update=new y.vpe,this._parent=R,this._setValidators(W),this._setAsyncValidators(Ze),this.valueAccessor=function(I,A){if(!A)return null;let R,W,Ze;return Array.isArray(A),A.forEach(It=>{It.constructor===Ne?R=It:function(I){return Object.getPrototypeOf(I.constructor)===Me}(It)?W=It:Ze=It}),Ze||W||R||null}(0,It)}ngOnChanges(R){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in R&&this._updateDisabled(R),function(I,A){if(!I.hasOwnProperty("model"))return!1;const R=I.model;return!!R.isFirstChange()||!Object.is(A,R.currentValue)}(R,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(I,A){return[...A.path,I]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Mn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(R){Pn.then(()=>{this.control.setValue(R,{emitViewToModelChange:!1})})}_updateDisabled(R){const W=R.isDisabled.currentValue,Ze=""===W||W&&"false"!==W;Pn.then(()=>{Ze&&!this.control.disabled?this.control.disable():!Ze&&this.control.disabled&&this.control.enable()})}}return I.\u0275fac=function(R){return new(R||I)(y.Y36(Wn,9),y.Y36(Oe,10),y.Y36(We,10),y.Y36(Te,10))},I.\u0275dir=y.lG2({type:I,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[y._Bn([ft]),y.qOj,y.TTD]}),I})(),sr=(()=>{class I{}return I.\u0275fac=function(R){return new(R||I)},I.\u0275dir=y.lG2({type:I,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),I})();const Xr={provide:Te,useExisting:(0,y.Gpc)(()=>Gi),multi:!0};let Gi=(()=>{class I extends Me{writeValue(R){this.setProperty("value",null==R?"":R)}registerOnChange(R){this.onChange=W=>{R(""==W?null:parseFloat(W))}}}return I.\u0275fac=function(){let A;return function(W){return(A||(A=y.n5z(I)))(W||I)}}(),I.\u0275dir=y.lG2({type:I,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(R,W){1&R&&y.NdJ("input",function(It){return W.onChange(It.target.value)})("blur",function(){return W.onTouched()})},features:[y._Bn([Xr]),y.qOj]}),I})();const Dr={provide:Te,useExisting:(0,y.Gpc)(()=>ci),multi:!0};let Di=(()=>{class I{}return I.\u0275fac=function(R){return new(R||I)},I.\u0275mod=y.oAB({type:I}),I.\u0275inj=y.cJS({}),I})(),$r=(()=>{class I{constructor(){this._accessors=[]}add(R,W){this._accessors.push([R,W])}remove(R){for(let W=this._accessors.length-1;W>=0;--W)if(this._accessors[W][1]===R)return void this._accessors.splice(W,1)}select(R){this._accessors.forEach(W=>{this._isSameGroup(W,R)&&W[1]!==R&&W[1].fireUncheck(R.value)})}_isSameGroup(R,W){return!!R[0].control&&R[0]._parent===W._control._parent&&R[1].name===W.name}}return I.\u0275fac=function(R){return new(R||I)},I.\u0275prov=(0,y.Yz7)({factory:function(){return new I},token:I,providedIn:Di}),I})(),ci=(()=>{class I extends Me{constructor(R,W,Ze,It){super(R,W),this._registry=Ze,this._injector=It,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(kr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(R){this._state=R===this.value,this.setProperty("checked",this._state)}registerOnChange(R){this._fn=R,this.onChange=()=>{R(this.value),this._registry.select(this)}}fireUncheck(R){this.writeValue(R)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return I.\u0275fac=function(R){return new(R||I)(y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36($r),y.Y36(y.zs3))},I.\u0275dir=y.lG2({type:I,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(R,W){1&R&&y.NdJ("change",function(){return W.onChange()})("blur",function(){return W.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[y._Bn([Dr]),y.qOj]}),I})();const wr={provide:Te,useExisting:(0,y.Gpc)(()=>vo),multi:!0};let vo=(()=>{class I extends Me{writeValue(R){this.setProperty("value",parseFloat(R))}registerOnChange(R){this.onChange=W=>{R(""==W?null:parseFloat(W))}}}return I.\u0275fac=function(){let A;return function(W){return(A||(A=y.n5z(I)))(W||I)}}(),I.\u0275dir=y.lG2({type:I,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(R,W){1&R&&y.NdJ("change",function(It){return W.onChange(It.target.value)})("input",function(It){return W.onChange(It.target.value)})("blur",function(){return W.onTouched()})},features:[y._Bn([wr]),y.qOj]}),I})();const Ni=new y.OlP("NgModelWithFormControlWarning"),Ct={provide:Te,useExisting:(0,y.Gpc)(()=>Jn),multi:!0};function St(I,A){return null==I?`${A}`:(A&&"object"==typeof A&&(A="Object"),`${I}: ${A}`.slice(0,50))}let Jn=(()=>{class I extends Me{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(R){this._compareWith=R}writeValue(R){this.value=R;const W=this._getOptionId(R);null==W&&this.setProperty("selectedIndex",-1);const Ze=St(W,R);this.setProperty("value",Ze)}registerOnChange(R){this.onChange=W=>{this.value=this._getOptionValue(W),R(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(R){for(const W of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(W),R))return W;return null}_getOptionValue(R){const W=function(I){return I.split(":")[0]}(R);return this._optionMap.has(W)?this._optionMap.get(W):R}}return I.\u0275fac=function(){let A;return function(W){return(A||(A=y.n5z(I)))(W||I)}}(),I.\u0275dir=y.lG2({type:I,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(R,W){1&R&&y.NdJ("change",function(It){return W.onChange(It.target.value)})("blur",function(){return W.onTouched()})},inputs:{compareWith:"compareWith"},features:[y._Bn([Ct]),y.qOj]}),I})(),ti=(()=>{class I{constructor(R,W,Ze){this._element=R,this._renderer=W,this._select=Ze,this._select&&(this.id=this._select._registerOption())}set ngValue(R){null!=this._select&&(this._select._optionMap.set(this.id,R),this._setElementValue(St(this.id,R)),this._select.writeValue(this._select.value))}set value(R){this._setElementValue(R),this._select&&this._select.writeValue(this._select.value)}_setElementValue(R){this._renderer.setProperty(this._element.nativeElement,"value",R)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return I.\u0275fac=function(R){return new(R||I)(y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(Jn,9))},I.\u0275dir=y.lG2({type:I,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),I})();const $n={provide:Te,useExisting:(0,y.Gpc)(()=>Oo),multi:!0};function Ui(I,A){return null==I?`${A}`:("string"==typeof A&&(A=`'${A}'`),A&&"object"==typeof A&&(A="Object"),`${I}: ${A}`.slice(0,50))}let Oo=(()=>{class I extends Me{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(R){this._compareWith=R}writeValue(R){let W;if(this.value=R,Array.isArray(R)){const Ze=R.map(It=>this._getOptionId(It));W=(It,In)=>{It._setSelected(Ze.indexOf(In.toString())>-1)}}else W=(Ze,It)=>{Ze._setSelected(!1)};this._optionMap.forEach(W)}registerOnChange(R){this.onChange=W=>{const Ze=[];if(void 0!==W.selectedOptions){const It=W.selectedOptions;for(let In=0;In<It.length;In++){const mr=It.item(In),rr=this._getOptionValue(mr.value);Ze.push(rr)}}else{const It=W.options;for(let In=0;In<It.length;In++){const mr=It.item(In);if(mr.selected){const rr=this._getOptionValue(mr.value);Ze.push(rr)}}}this.value=Ze,R(Ze)}}_registerOption(R){const W=(this._idCounter++).toString();return this._optionMap.set(W,R),W}_getOptionId(R){for(const W of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(W)._value,R))return W;return null}_getOptionValue(R){const W=function(I){return I.split(":")[0]}(R);return this._optionMap.has(W)?this._optionMap.get(W)._value:R}}return I.\u0275fac=function(){let A;return function(W){return(A||(A=y.n5z(I)))(W||I)}}(),I.\u0275dir=y.lG2({type:I,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(R,W){1&R&&y.NdJ("change",function(It){return W.onChange(It.target)})("blur",function(){return W.onTouched()})},inputs:{compareWith:"compareWith"},features:[y._Bn([$n]),y.qOj]}),I})(),Ai=(()=>{class I{constructor(R,W,Ze){this._element=R,this._renderer=W,this._select=Ze,this._select&&(this.id=this._select._registerOption(this))}set ngValue(R){null!=this._select&&(this._value=R,this._setElementValue(Ui(this.id,R)),this._select.writeValue(this._select.value))}set value(R){this._select?(this._value=R,this._setElementValue(Ui(this.id,R)),this._select.writeValue(this._select.value)):this._setElementValue(R)}_setElementValue(R){this._renderer.setProperty(this._element.nativeElement,"value",R)}_setSelected(R){this._renderer.setProperty(this._element.nativeElement,"selected",R)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return I.\u0275fac=function(R){return new(R||I)(y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(Oo,9))},I.\u0275dir=y.lG2({type:I,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),I})(),Fs=(()=>{class I{constructor(){this._validator=me}handleChanges(R){if(this.inputName in R){const W=this.normalizeInput(R[this.inputName].currentValue);this._validator=this.createValidator(W),this._onChange&&this._onChange()}}validate(R){return this._validator(R)}registerOnValidatorChange(R){this._onChange=R}}return I.\u0275fac=function(R){return new(R||I)},I.\u0275dir=y.lG2({type:I}),I})();const _i={provide:Oe,useExisting:(0,y.Gpc)(()=>bs),multi:!0};let bs=(()=>{class I extends Fs{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=R=>parseFloat(R),this.createValidator=R=>function(I){return A=>{if(ct(A.value)||ct(I))return null;const R=parseFloat(A.value);return!isNaN(R)&&R>I?{max:{max:I,actual:A.value}}:null}}(R)}ngOnChanges(R){this.handleChanges(R)}}return I.\u0275fac=function(){let A;return function(W){return(A||(A=y.n5z(I)))(W||I)}}(),I.\u0275dir=y.lG2({type:I,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(R,W){if(2&R){let Ze;y.uIk("max",null!==(Ze=W.max)&&void 0!==Ze?Ze:null)}},inputs:{max:"max"},features:[y._Bn([_i]),y.qOj,y.TTD]}),I})();const os={provide:Oe,useExisting:(0,y.Gpc)(()=>Ls),multi:!0};let Ls=(()=>{class I extends Fs{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=R=>parseFloat(R),this.createValidator=R=>function(I){return A=>{if(ct(A.value)||ct(I))return null;const R=parseFloat(A.value);return!isNaN(R)&&R<I?{min:{min:I,actual:A.value}}:null}}(R)}ngOnChanges(R){this.handleChanges(R)}}return I.\u0275fac=function(){let A;return function(W){return(A||(A=y.n5z(I)))(W||I)}}(),I.\u0275dir=y.lG2({type:I,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(R,W){if(2&R){let Ze;y.uIk("min",null!==(Ze=W.min)&&void 0!==Ze?Ze:null)}},inputs:{min:"min"},features:[y._Bn([os]),y.qOj,y.TTD]}),I})(),Cs=(()=>{class I{}return I.\u0275fac=function(R){return new(R||I)},I.\u0275mod=y.oAB({type:I}),I.\u0275inj=y.cJS({imports:[[Di]]}),I})(),js=(()=>{class I{}return I.\u0275fac=function(R){return new(R||I)},I.\u0275mod=y.oAB({type:I}),I.\u0275inj=y.cJS({imports:[Cs]}),I})(),$s=(()=>{class I{static withConfig(R){return{ngModule:I,providers:[{provide:Ni,useValue:R.warnOnNgModelWithFormControl}]}}}return I.\u0275fac=function(R){return new(R||I)},I.\u0275mod=y.oAB({type:I}),I.\u0275inj=y.cJS({imports:[Cs]}),I})()},9075:(Dt,Ve,O)=>{"use strict";O.d(Ve,{b2:()=>ai,H7:()=>Fe,q6:()=>nr,se:()=>Jt});var y=O(8583),w=O(639);class K extends y.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class we extends K{static makeCurrent(){(0,y.HT)(new we)}onAndCancel(He,ue,rt){return He.addEventListener(ue,rt,!1),()=>{He.removeEventListener(ue,rt,!1)}}dispatchEvent(He,ue){He.dispatchEvent(ue)}remove(He){He.parentNode&&He.parentNode.removeChild(He)}createElement(He,ue){return(ue=ue||this.getDefaultDocument()).createElement(He)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(He){return He.nodeType===Node.ELEMENT_NODE}isShadowRoot(He){return He instanceof DocumentFragment}getGlobalEventTarget(He,ue){return"window"===ue?window:"document"===ue?He:"body"===ue?He.body:null}getBaseHref(He){const ue=(fe=fe||document.querySelector("base"),fe?fe.getAttribute("href"):null);return null==ue?null:function(je){Me=Me||document.createElement("a"),Me.setAttribute("href",je);const He=Me.pathname;return"/"===He.charAt(0)?He:`/${He}`}(ue)}resetBaseElement(){fe=null}getUserAgent(){return window.navigator.userAgent}getCookie(He){return(0,y.Mx)(document.cookie,He)}}let Me,fe=null;const he=new w.OlP("TRANSITION_ID"),Y=[{provide:w.ip1,useFactory:function(je,He,ue){return()=>{ue.get(w.CZH).donePromise.then(()=>{const rt=(0,y.q)(),ft=He.querySelectorAll(`style[ng-transition="${je}"]`);for(let Dn=0;Dn<ft.length;Dn++)rt.remove(ft[Dn])})}},deps:[he,y.K0,w.zs3],multi:!0}];class pe{static init(){(0,w.VLi)(new pe)}addToWindow(He){w.dqk.getAngularTestability=(rt,ft=!0)=>{const Dn=He.findTestabilityInTree(rt,ft);if(null==Dn)throw new Error("Could not find testability for element.");return Dn},w.dqk.getAllAngularTestabilities=()=>He.getAllTestabilities(),w.dqk.getAllAngularRootElements=()=>He.getAllRootElements(),w.dqk.frameworkStabilizers||(w.dqk.frameworkStabilizers=[]),w.dqk.frameworkStabilizers.push(rt=>{const ft=w.dqk.getAllAngularTestabilities();let Dn=ft.length,Pn=!1;const Xt=function(sr){Pn=Pn||sr,Dn--,0==Dn&&rt(Pn)};ft.forEach(function(sr){sr.whenStable(Xt)})})}findTestabilityInTree(He,ue,rt){if(null==ue)return null;const ft=He.getTestability(ue);return null!=ft?ft:rt?(0,y.q)().isShadowRoot(ue)?this.findTestabilityInTree(He,ue.host,!0):this.findTestabilityInTree(He,ue.parentElement,!0):null}}let qe=(()=>{class je{build(){return new XMLHttpRequest}}return je.\u0275fac=function(ue){return new(ue||je)},je.\u0275prov=w.Yz7({token:je,factory:je.\u0275fac}),je})();const me=new w.OlP("EventManagerPlugins");let _e=(()=>{class je{constructor(ue,rt){this._zone=rt,this._eventNameToPlugin=new Map,ue.forEach(ft=>ft.manager=this),this._plugins=ue.slice().reverse()}addEventListener(ue,rt,ft){return this._findPluginFor(rt).addEventListener(ue,rt,ft)}addGlobalEventListener(ue,rt,ft){return this._findPluginFor(rt).addGlobalEventListener(ue,rt,ft)}getZone(){return this._zone}_findPluginFor(ue){const rt=this._eventNameToPlugin.get(ue);if(rt)return rt;const ft=this._plugins;for(let Dn=0;Dn<ft.length;Dn++){const Pn=ft[Dn];if(Pn.supports(ue))return this._eventNameToPlugin.set(ue,Pn),Pn}throw new Error(`No event manager plugin found for event ${ue}`)}}return je.\u0275fac=function(ue){return new(ue||je)(w.LFG(me),w.LFG(w.R0b))},je.\u0275prov=w.Yz7({token:je,factory:je.\u0275fac}),je})();class Je{constructor(He){this._doc=He}addGlobalEventListener(He,ue,rt){const ft=(0,y.q)().getGlobalEventTarget(this._doc,He);if(!ft)throw new Error(`Unsupported event target ${ft} for event ${ue}`);return this.addEventListener(ft,ue,rt)}}let De=(()=>{class je{constructor(){this._stylesSet=new Set}addStyles(ue){const rt=new Set;ue.forEach(ft=>{this._stylesSet.has(ft)||(this._stylesSet.add(ft),rt.add(ft))}),this.onStylesAdded(rt)}onStylesAdded(ue){}getAllStyles(){return Array.from(this._stylesSet)}}return je.\u0275fac=function(ue){return new(ue||je)},je.\u0275prov=w.Yz7({token:je,factory:je.\u0275fac}),je})(),at=(()=>{class je extends De{constructor(ue){super(),this._doc=ue,this._hostNodes=new Map,this._hostNodes.set(ue.head,[])}_addStylesToHost(ue,rt,ft){ue.forEach(Dn=>{const Pn=this._doc.createElement("style");Pn.textContent=Dn,ft.push(rt.appendChild(Pn))})}addHost(ue){const rt=[];this._addStylesToHost(this._stylesSet,ue,rt),this._hostNodes.set(ue,rt)}removeHost(ue){const rt=this._hostNodes.get(ue);rt&&rt.forEach(xt),this._hostNodes.delete(ue)}onStylesAdded(ue){this._hostNodes.forEach((rt,ft)=>{this._addStylesToHost(ue,ft,rt)})}ngOnDestroy(){this._hostNodes.forEach(ue=>ue.forEach(xt))}}return je.\u0275fac=function(ue){return new(ue||je)(w.LFG(y.K0))},je.\u0275prov=w.Yz7({token:je,factory:je.\u0275fac}),je})();function xt(je){(0,y.q)().remove(je)}const Bt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Tt=/%COMP%/g;function Qt(je,He,ue){for(let rt=0;rt<He.length;rt++){let ft=He[rt];Array.isArray(ft)?Qt(je,ft,ue):(ft=ft.replace(Tt,je),ue.push(ft))}return ue}function cn(je){return He=>{if("__ngUnwrap__"===He)return je;!1===je(He)&&(He.preventDefault(),He.returnValue=!1)}}let Jt=(()=>{class je{constructor(ue,rt,ft){this.eventManager=ue,this.sharedStylesHost=rt,this.appId=ft,this.rendererByCompId=new Map,this.defaultRenderer=new Cr(ue)}createRenderer(ue,rt){if(!ue||!rt)return this.defaultRenderer;switch(rt.encapsulation){case w.ifc.Emulated:{let ft=this.rendererByCompId.get(rt.id);return ft||(ft=new oi(this.eventManager,this.sharedStylesHost,rt,this.appId),this.rendererByCompId.set(rt.id,ft)),ft.applyToHost(ue),ft}case 1:case w.ifc.ShadowDom:return new cr(this.eventManager,this.sharedStylesHost,ue,rt);default:if(!this.rendererByCompId.has(rt.id)){const ft=Qt(rt.id,rt.styles,[]);this.sharedStylesHost.addStyles(ft),this.rendererByCompId.set(rt.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return je.\u0275fac=function(ue){return new(ue||je)(w.LFG(_e),w.LFG(at),w.LFG(w.AFp))},je.\u0275prov=w.Yz7({token:je,factory:je.\u0275fac}),je})();class Cr{constructor(He){this.eventManager=He,this.data=Object.create(null)}destroy(){}createElement(He,ue){return ue?document.createElementNS(Bt[ue]||ue,He):document.createElement(He)}createComment(He){return document.createComment(He)}createText(He){return document.createTextNode(He)}appendChild(He,ue){He.appendChild(ue)}insertBefore(He,ue,rt){He&&He.insertBefore(ue,rt)}removeChild(He,ue){He&&He.removeChild(ue)}selectRootElement(He,ue){let rt="string"==typeof He?document.querySelector(He):He;if(!rt)throw new Error(`The selector "${He}" did not match any elements`);return ue||(rt.textContent=""),rt}parentNode(He){return He.parentNode}nextSibling(He){return He.nextSibling}setAttribute(He,ue,rt,ft){if(ft){ue=ft+":"+ue;const Dn=Bt[ft];Dn?He.setAttributeNS(Dn,ue,rt):He.setAttribute(ue,rt)}else He.setAttribute(ue,rt)}removeAttribute(He,ue,rt){if(rt){const ft=Bt[rt];ft?He.removeAttributeNS(ft,ue):He.removeAttribute(`${rt}:${ue}`)}else He.removeAttribute(ue)}addClass(He,ue){He.classList.add(ue)}removeClass(He,ue){He.classList.remove(ue)}setStyle(He,ue,rt,ft){ft&(w.JOm.DashCase|w.JOm.Important)?He.style.setProperty(ue,rt,ft&w.JOm.Important?"important":""):He.style[ue]=rt}removeStyle(He,ue,rt){rt&w.JOm.DashCase?He.style.removeProperty(ue):He.style[ue]=""}setProperty(He,ue,rt){He[ue]=rt}setValue(He,ue){He.nodeValue=ue}listen(He,ue,rt){return"string"==typeof He?this.eventManager.addGlobalEventListener(He,ue,cn(rt)):this.eventManager.addEventListener(He,ue,cn(rt))}}class oi extends Cr{constructor(He,ue,rt,ft){super(He),this.component=rt;const Dn=Qt(ft+"-"+rt.id,rt.styles,[]);ue.addStyles(Dn),this.contentAttr="_ngcontent-%COMP%".replace(Tt,ft+"-"+rt.id),this.hostAttr="_nghost-%COMP%".replace(Tt,ft+"-"+rt.id)}applyToHost(He){super.setAttribute(He,this.hostAttr,"")}createElement(He,ue){const rt=super.createElement(He,ue);return super.setAttribute(rt,this.contentAttr,""),rt}}class cr extends Cr{constructor(He,ue,rt,ft){super(He),this.sharedStylesHost=ue,this.hostEl=rt,this.shadowRoot=rt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Dn=Qt(ft.id,ft.styles,[]);for(let Pn=0;Pn<Dn.length;Pn++){const Xt=document.createElement("style");Xt.textContent=Dn[Pn],this.shadowRoot.appendChild(Xt)}}nodeOrShadowRoot(He){return He===this.hostEl?this.shadowRoot:He}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(He,ue){return super.appendChild(this.nodeOrShadowRoot(He),ue)}insertBefore(He,ue,rt){return super.insertBefore(this.nodeOrShadowRoot(He),ue,rt)}removeChild(He,ue){return super.removeChild(this.nodeOrShadowRoot(He),ue)}parentNode(He){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(He)))}}let Rr=(()=>{class je extends Je{constructor(ue){super(ue)}supports(ue){return!0}addEventListener(ue,rt,ft){return ue.addEventListener(rt,ft,!1),()=>this.removeEventListener(ue,rt,ft)}removeEventListener(ue,rt,ft){return ue.removeEventListener(rt,ft)}}return je.\u0275fac=function(ue){return new(ue||je)(w.LFG(y.K0))},je.\u0275prov=w.Yz7({token:je,factory:je.\u0275fac}),je})();const Ft=["alt","control","meta","shift"],Pt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_n={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},vn={alt:je=>je.altKey,control:je=>je.ctrlKey,meta:je=>je.metaKey,shift:je=>je.shiftKey};let Ee=(()=>{class je extends Je{constructor(ue){super(ue)}supports(ue){return null!=je.parseEventName(ue)}addEventListener(ue,rt,ft){const Dn=je.parseEventName(rt),Pn=je.eventCallback(Dn.fullKey,ft,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,y.q)().onAndCancel(ue,Dn.domEventName,Pn))}static parseEventName(ue){const rt=ue.toLowerCase().split("."),ft=rt.shift();if(0===rt.length||"keydown"!==ft&&"keyup"!==ft)return null;const Dn=je._normalizeKey(rt.pop());let Pn="";if(Ft.forEach(sr=>{const Xr=rt.indexOf(sr);Xr>-1&&(rt.splice(Xr,1),Pn+=sr+".")}),Pn+=Dn,0!=rt.length||0===Dn.length)return null;const Xt={};return Xt.domEventName=ft,Xt.fullKey=Pn,Xt}static getEventFullKey(ue){let rt="",ft=function(je){let He=je.key;if(null==He){if(He=je.keyIdentifier,null==He)return"Unidentified";He.startsWith("U+")&&(He=String.fromCharCode(parseInt(He.substring(2),16)),3===je.location&&_n.hasOwnProperty(He)&&(He=_n[He]))}return Pt[He]||He}(ue);return ft=ft.toLowerCase()," "===ft?ft="space":"."===ft&&(ft="dot"),Ft.forEach(Dn=>{Dn!=ft&&vn[Dn](ue)&&(rt+=Dn+".")}),rt+=ft,rt}static eventCallback(ue,rt,ft){return Dn=>{je.getEventFullKey(Dn)===ue&&ft.runGuarded(()=>rt(Dn))}}static _normalizeKey(ue){switch(ue){case"esc":return"escape";default:return ue}}}return je.\u0275fac=function(ue){return new(ue||je)(w.LFG(y.K0))},je.\u0275prov=w.Yz7({token:je,factory:je.\u0275fac}),je})(),Fe=(()=>{class je{}return je.\u0275fac=function(ue){return new(ue||je)},je.\u0275prov=(0,w.Yz7)({factory:function(){return(0,w.LFG)(Qe)},token:je,providedIn:"root"}),je})(),Qe=(()=>{class je extends Fe{constructor(ue){super(),this._doc=ue}sanitize(ue,rt){if(null==rt)return null;switch(ue){case w.q3G.NONE:return rt;case w.q3G.HTML:return(0,w.qzn)(rt,"HTML")?(0,w.z3N)(rt):(0,w.EiD)(this._doc,String(rt)).toString();case w.q3G.STYLE:return(0,w.qzn)(rt,"Style")?(0,w.z3N)(rt):rt;case w.q3G.SCRIPT:if((0,w.qzn)(rt,"Script"))return(0,w.z3N)(rt);throw new Error("unsafe value used in a script context");case w.q3G.URL:return(0,w.yhl)(rt),(0,w.qzn)(rt,"URL")?(0,w.z3N)(rt):(0,w.mCW)(String(rt));case w.q3G.RESOURCE_URL:if((0,w.qzn)(rt,"ResourceURL"))return(0,w.z3N)(rt);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ue} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ue){return(0,w.JVY)(ue)}bypassSecurityTrustStyle(ue){return(0,w.L6k)(ue)}bypassSecurityTrustScript(ue){return(0,w.eBb)(ue)}bypassSecurityTrustUrl(ue){return(0,w.LAX)(ue)}bypassSecurityTrustResourceUrl(ue){return(0,w.pB0)(ue)}}return je.\u0275fac=function(ue){return new(ue||je)(w.LFG(y.K0))},je.\u0275prov=(0,w.Yz7)({factory:function(){return function(je){return new Qe(je.get(y.K0))}((0,w.LFG)(w.gxx))},token:je,providedIn:"root"}),je})();const nr=(0,w.eFA)(w._c5,"browser",[{provide:w.Lbi,useValue:y.bD},{provide:w.g9A,useValue:function(){we.makeCurrent(),pe.init()},multi:!0},{provide:y.K0,useFactory:function(){return(0,w.RDi)(document),document},deps:[]}]),Fr=[[],{provide:w.zSh,useValue:"root"},{provide:w.qLn,useFactory:function(){return new w.qLn},deps:[]},{provide:me,useClass:Rr,multi:!0,deps:[y.K0,w.R0b,w.Lbi]},{provide:me,useClass:Ee,multi:!0,deps:[y.K0]},[],{provide:Jt,useClass:Jt,deps:[_e,at,w.AFp]},{provide:w.FYo,useExisting:Jt},{provide:De,useExisting:at},{provide:at,useClass:at,deps:[y.K0]},{provide:w.dDg,useClass:w.dDg,deps:[w.R0b]},{provide:_e,useClass:_e,deps:[me,w.R0b]},{provide:y.JF,useClass:qe,deps:[]},[]];let ai=(()=>{class je{constructor(ue){if(ue)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(ue){return{ngModule:je,providers:[{provide:w.AFp,useValue:ue.appId},{provide:he,useExisting:w.AFp},Y]}}}return je.\u0275fac=function(ue){return new(ue||je)(w.LFG(je,12))},je.\u0275mod=w.oAB({type:je}),je.\u0275inj=w.cJS({providers:Fr,imports:[y.ez,w.hGG]}),je})();"undefined"!=typeof window&&window},8093:(Dt,Ve,O)=>{"use strict";O.d(Ve,{F0:()=>Mr,yS:()=>Lo,Bz:()=>Rn,lC:()=>_a});var y=O(8583),w=O(639),K=O(4869),we=O(9796),fe=O(7393);class Ce extends fe.L{notifyNext(C,v,N,$,X){this.destination.next(v)}notifyError(C,v){this.destination.error(C)}notifyComplete(C){this.destination.complete()}}class Me extends fe.L{constructor(C,v,N){super(),this.parent=C,this.outerValue=v,this.outerIndex=N,this.index=0}_next(C){this.parent.notifyNext(this.outerValue,C,this.outerIndex,this.index++,this)}_error(C){this.parent.notifyError(C,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Te=O(7444),he=O(7574);function Q(x,C,v,N,$=new Me(x,v,N)){if(!$.closed)return C instanceof he.y?C.subscribe($):(0,Te.s)(C)($)}var Y=O(6693);const pe={};class Ne{constructor(C){this.resultSelector=C}call(C,v){return v.subscribe(new ct(C,this.resultSelector))}}class ct extends Ce{constructor(C,v){super(C),this.resultSelector=v,this.active=0,this.values=[],this.observables=[]}_next(C){this.values.push(pe),this.observables.push(C)}_complete(){const C=this.observables,v=C.length;if(0===v)this.destination.complete();else{this.active=v,this.toRespond=v;for(let N=0;N<v;N++)this.add(Q(this,C[N],void 0,N))}}notifyComplete(C){0==(this.active-=1)&&this.destination.complete()}notifyNext(C,v,N){const $=this.values,de=this.toRespond?$[N]===pe?--this.toRespond:this.toRespond:0;$[N]=v,0===de&&(this.resultSelector?this._tryResultSelector($):this.destination.next($.slice()))}_tryResultSelector(C){let v;try{v=this.resultSelector.apply(this,C)}catch(N){return void this.destination.error(N)}this.destination.next(v)}}const Oe=(()=>{function x(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return x.prototype=Object.create(Error.prototype),x})();var We=O(4402),xe=O(5917),Le=O(6215),Ue=O(8071),st=O(1439),ot=O(9193),$t=O(2441),Mt=O(9765);function oe(x,C){let v=!1;return arguments.length>=2&&(v=!0),function($){return $.lift(new ye(x,C,v))}}class ye{constructor(C,v,N=!1){this.accumulator=C,this.seed=v,this.hasSeed=N}call(C,v){return v.subscribe(new me(C,this.accumulator,this.seed,this.hasSeed))}}class me extends fe.L{constructor(C,v,N,$){super(C),this.accumulator=v,this._seed=N,this.hasSeed=$,this.index=0}get seed(){return this._seed}set seed(C){this.hasSeed=!0,this._seed=C}_next(C){if(this.hasSeed)return this._tryNext(C);this.seed=C,this.destination.next(C)}_tryNext(C){const v=this.index++;let N;try{N=this.accumulator(this.seed,C,v)}catch($){this.destination.error($)}this.seed=N,this.destination.next(N)}}var _e=O(5345);function Je(x){return function(v){const N=new De(x),$=v.lift(N);return N.caught=$}}class De{constructor(C){this.selector=C}call(C,v){return v.subscribe(new at(C,this.selector,this.caught))}}class at extends _e.Ds{constructor(C,v,N){super(C),this.selector=v,this.caught=N}error(C){if(!this.isStopped){let v;try{v=this.selector(C,this.caught)}catch(X){return void super.error(X)}this._unsubscribeAndRecycle();const N=new _e.IY(this);this.add(N);const $=(0,_e.ft)(v,N);$!==N&&this.add($)}}}var xt=O(5435),Bt=O(7108);function Tt(x){return function(v){return 0===x?(0,ot.c)():v.lift(new yn(x))}}class yn{constructor(C){if(this.total=C,this.total<0)throw new Bt.W}call(C,v){return v.subscribe(new Fn(C,this.total))}}class Fn extends fe.L{constructor(C,v){super(C),this.total=v,this.ring=new Array,this.count=0}_next(C){const v=this.ring,N=this.total,$=this.count++;v.length<N?v.push(C):v[$%N]=C}_complete(){const C=this.destination;let v=this.count;if(v>0){const N=this.count>=this.total?this.total:this.count,$=this.ring;for(let X=0;X<N;X++){const de=v++%N;C.next($[de])}}C.complete()}}function rn(x=lr){return C=>C.lift(new tr(x))}class tr{constructor(C){this.errorFactory=C}call(C,v){return v.subscribe(new zt(C,this.errorFactory))}}class zt extends fe.L{constructor(C,v){super(C),this.errorFactory=v,this.hasValue=!1}_next(C){this.hasValue=!0,this.destination.next(C)}_complete(){if(this.hasValue)return this.destination.complete();{let C;try{C=this.errorFactory()}catch(v){C=v}this.destination.error(C)}}}function lr(){return new Oe}function Qt(x=null){return C=>C.lift(new cn(x))}class cn{constructor(C){this.defaultValue=C}call(C,v){return v.subscribe(new an(C,this.defaultValue))}}class an extends fe.L{constructor(C,v){super(C),this.defaultValue=v,this.isEmpty=!0}_next(C){this.isEmpty=!1,this.destination.next(C)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Jt=O(4487),Wn=O(5257);function kr(x,C){const v=arguments.length>=2;return N=>N.pipe(x?(0,xt.h)(($,X)=>x($,X,N)):Jt.y,(0,Wn.q)(1),v?Qt(C):rn(()=>new Oe))}function Un(){}var oi=O(9105);function cr(x,C,v){return function($){return $.lift(new Rr(x,C,v))}}class Rr{constructor(C,v,N){this.nextOrObserver=C,this.error=v,this.complete=N}call(C,v){return v.subscribe(new or(C,this.nextOrObserver,this.error,this.complete))}}class or extends fe.L{constructor(C,v,N,$){super(C),this._tapNext=Un,this._tapError=Un,this._tapComplete=Un,this._tapError=N||Un,this._tapComplete=$||Un,(0,oi.m)(v)?(this._context=this,this._tapNext=v):v&&(this._context=v,this._tapNext=v.next||Un,this._tapError=v.error||Un,this._tapComplete=v.complete||Un)}_next(C){try{this._tapNext.call(this._context,C)}catch(v){return void this.destination.error(v)}this.destination.next(C)}_error(C){try{this._tapError.call(this._context,C)}catch(v){return void this.destination.error(v)}this.destination.error(C)}_complete(){try{this._tapComplete.call(this._context)}catch(C){return void this.destination.error(C)}return this.destination.complete()}}var fr=O(5319);class Ht{constructor(C){this.callback=C}call(C,v){return v.subscribe(new ve(C,this.callback))}}class ve extends fe.L{constructor(C,v){super(C),this.add(new fr.w(v))}}var te=O(8002),be=O(3190),dt=O(4612),ze=O(9773),Ft=O(1307),wt=O(3282);class Pt{constructor(C,v){this.id=C,this.url=v}}class _n extends Pt{constructor(C,v,N="imperative",$=null){super(C,v),this.navigationTrigger=N,this.restoredState=$}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bn extends Pt{constructor(C,v,N){super(C,v),this.urlAfterRedirects=N}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mn extends Pt{constructor(C,v,N){super(C,v),this.reason=N}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hn extends Pt{constructor(C,v,N){super(C,v),this.error=N}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ir extends Pt{constructor(C,v,N,$){super(C,v),this.urlAfterRedirects=N,this.state=$}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vn extends Pt{constructor(C,v,N,$){super(C,v),this.urlAfterRedirects=N,this.state=$}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ee extends Pt{constructor(C,v,N,$,X){super(C,v),this.urlAfterRedirects=N,this.state=$,this.shouldActivate=X}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Pe extends Pt{constructor(C,v,N,$){super(C,v),this.urlAfterRedirects=N,this.state=$}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fe extends Pt{constructor(C,v,N,$){super(C,v),this.urlAfterRedirects=N,this.state=$}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pt{constructor(C){this.route=C}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Qe{constructor(C){this.route=C}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Nt{constructor(C){this.snapshot=C}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nn{constructor(C){this.snapshot=C}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pr{constructor(C){this.snapshot=C}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dr{constructor(C){this.snapshot=C}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tn{constructor(C,v,N){this.routerEvent=C,this.position=v,this.anchor=N}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const bn="primary";class Qn{constructor(C){this.params=C||{}}has(C){return Object.prototype.hasOwnProperty.call(this.params,C)}get(C){if(this.has(C)){const v=this.params[C];return Array.isArray(v)?v[0]:v}return null}getAll(C){if(this.has(C)){const v=this.params[C];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function Gn(x){return new Qn(x)}const nr="ngNavigationCancelingError";function Fr(x){const C=Error("NavigationCancelingError: "+x);return C[nr]=!0,C}function ui(x,C,v){const N=v.path.split("/");if(N.length>x.length||"full"===v.pathMatch&&(C.hasChildren()||N.length<x.length))return null;const $={};for(let X=0;X<N.length;X++){const de=N[X],$e=x[X];if(de.startsWith(":"))$[de.substring(1)]=$e;else if(de!==$e.path)return null}return{consumed:x.slice(0,N.length),posParams:$}}function jr(x,C){const v=x?Object.keys(x):void 0,N=C?Object.keys(C):void 0;if(!v||!N||v.length!=N.length)return!1;let $;for(let X=0;X<v.length;X++)if($=v[X],!li(x[$],C[$]))return!1;return!0}function li(x,C){if(Array.isArray(x)&&Array.isArray(C)){if(x.length!==C.length)return!1;const v=[...x].sort(),N=[...C].sort();return v.every(($,X)=>N[X]===$)}return x===C}function Oi(x){return Array.prototype.concat.apply([],x)}function Lr(x){return x.length>0?x[x.length-1]:null}function Pr(x,C){for(const v in x)x.hasOwnProperty(v)&&C(x[v],v)}function Jr(x){return(0,w.CqO)(x)?x:(0,w.QGY)(x)?(0,We.D)(Promise.resolve(x)):(0,xe.of)(x)}const mi={exact:function gr(x,C,v){if(!ue(x.segments,C.segments)||!Gt(x.segments,C.segments,v)||x.numberOfChildren!==C.numberOfChildren)return!1;for(const N in C.children)if(!x.children[N]||!gr(x.children[N],C.children[N],v))return!1;return!0},subset:Pi},Li={exact:function(x,C){return jr(x,C)},subset:function(x,C){return Object.keys(C).length<=Object.keys(x).length&&Object.keys(C).every(v=>li(x[v],C[v]))},ignored:()=>!0};function br(x,C,v){return mi[v.paths](x.root,C.root,v.matrixParams)&&Li[v.queryParams](x.queryParams,C.queryParams)&&!("exact"===v.fragment&&x.fragment!==C.fragment)}function Pi(x,C,v){return Wr(x,C,C.segments,v)}function Wr(x,C,v,N){if(x.segments.length>v.length){const $=x.segments.slice(0,v.length);return!(!ue($,v)||C.hasChildren()||!Gt($,v,N))}if(x.segments.length===v.length){if(!ue(x.segments,v)||!Gt(x.segments,v,N))return!1;for(const $ in C.children)if(!x.children[$]||!Pi(x.children[$],C.children[$],N))return!1;return!0}{const $=v.slice(0,x.segments.length),X=v.slice(x.segments.length);return!!(ue(x.segments,$)&&Gt(x.segments,$,N)&&x.children[bn])&&Wr(x.children[bn],C,X,N)}}function Gt(x,C,v){return C.every((N,$)=>Li[v](x[$].parameters,N.parameters))}class Sn{constructor(C,v,N){this.root=C,this.queryParams=v,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gn(this.queryParams)),this._queryParamMap}toString(){return Pn.serialize(this)}}class Wt{constructor(C,v){this.segments=C,this.children=v,this.parent=null,Pr(v,(N,$)=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xt(this)}}class je{constructor(C,v){this.path=C,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=Gn(this.parameters)),this._parameterMap}toString(){return ci(this)}}function ue(x,C){return x.length===C.length&&x.every((v,N)=>v.path===C[N].path)}class ft{}class Dn{parse(C){const v=new Kn(C);return new Sn(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(C){var x;return`${`/${sr(C.root,!0)}`}${function(x){const C=Object.keys(x).map(v=>{const N=x[v];return Array.isArray(N)?N.map($=>`${Gi(v)}=${Gi($)}`).join("&"):`${Gi(v)}=${Gi(N)}`}).filter(v=>!!v);return C.length?`?${C.join("&")}`:""}(C.queryParams)}${"string"==typeof C.fragment?`#${x=C.fragment,encodeURI(x)}`:""}`}}const Pn=new Dn;function Xt(x){return x.segments.map(C=>ci(C)).join("/")}function sr(x,C){if(!x.hasChildren())return Xt(x);if(C){const v=x.children[bn]?sr(x.children[bn],!1):"",N=[];return Pr(x.children,($,X)=>{X!==bn&&N.push(`${X}:${sr($,!1)}`)}),N.length>0?`${v}(${N.join("//")})`:v}{const v=function(x,C){let v=[];return Pr(x.children,(N,$)=>{$===bn&&(v=v.concat(C(N,$)))}),Pr(x.children,(N,$)=>{$!==bn&&(v=v.concat(C(N,$)))}),v}(x,(N,$)=>$===bn?[sr(x.children[bn],!1)]:[`${$}:${sr(N,!1)}`]);return 1===Object.keys(x.children).length&&null!=x.children[bn]?`${Xt(x)}/${v[0]}`:`${Xt(x)}/(${v.join("//")})`}}function Xr(x){return encodeURIComponent(x).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gi(x){return Xr(x).replace(/%3B/gi,";")}function ei(x){return Xr(x).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Di(x){return decodeURIComponent(x)}function $r(x){return Di(x.replace(/\+/g,"%20"))}function ci(x){return`${ei(x.path)}${function(x){return Object.keys(x).map(C=>`;${ei(C)}=${ei(x[C])}`).join("")}(x.parameters)}`}const Ni=/^[^\/()?;=#]+/;function Si(x){const C=x.match(Ni);return C?C[0]:""}const yi=/^[^=?&#]+/,Xi=/^[^?&#]+/;class Kn{constructor(C){this.url=C,this.remaining=C}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wt([],{}):new Wt([],this.parseChildren())}parseQueryParams(){const C={};if(this.consumeOptional("?"))do{this.parseQueryParam(C)}while(this.consumeOptional("&"));return C}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const C=[];for(this.peekStartsWith("(")||C.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),C.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(C.length>0||Object.keys(v).length>0)&&(N[bn]=new Wt(C,v)),N}parseSegment(){const C=Si(this.remaining);if(""===C&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(C),new je(Di(C),this.parseMatrixParams())}parseMatrixParams(){const C={};for(;this.consumeOptional(";");)this.parseParam(C);return C}parseParam(C){const v=Si(this.remaining);if(!v)return;this.capture(v);let N="";if(this.consumeOptional("=")){const $=Si(this.remaining);$&&(N=$,this.capture(N))}C[Di(v)]=Di(N)}parseQueryParam(C){const v=function(x){const C=x.match(yi);return C?C[0]:""}(this.remaining);if(!v)return;this.capture(v);let N="";if(this.consumeOptional("=")){const de=function(x){const C=x.match(Xi);return C?C[0]:""}(this.remaining);de&&(N=de,this.capture(N))}const $=$r(v),X=$r(N);if(C.hasOwnProperty($)){let de=C[$];Array.isArray(de)||(de=[de],C[$]=de),de.push(X)}else C[$]=X}parseParens(C){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=Si(this.remaining),$=this.remaining[N.length];if("/"!==$&&")"!==$&&";"!==$)throw new Error(`Cannot parse url '${this.url}'`);let X;N.indexOf(":")>-1?(X=N.substr(0,N.indexOf(":")),this.capture(X),this.capture(":")):C&&(X=bn);const de=this.parseChildren();v[X]=1===Object.keys(de).length?de[bn]:new Wt([],de),this.consumeOptional("//")}return v}peekStartsWith(C){return this.remaining.startsWith(C)}consumeOptional(C){return!!this.peekStartsWith(C)&&(this.remaining=this.remaining.substring(C.length),!0)}capture(C){if(!this.consumeOptional(C))throw new Error(`Expected "${C}".`)}}class Eo{constructor(C){this._root=C}get root(){return this._root.value}parent(C){const v=this.pathFromRoot(C);return v.length>1?v[v.length-2]:null}children(C){const v=qr(C,this._root);return v?v.children.map(N=>N.value):[]}firstChild(C){const v=qr(C,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(C){const v=Be(C,this._root);return v.length<2?[]:v[v.length-2].children.map($=>$.value).filter($=>$!==C)}pathFromRoot(C){return Be(C,this._root).map(v=>v.value)}}function qr(x,C){if(x===C.value)return C;for(const v of C.children){const N=qr(x,v);if(N)return N}return null}function Be(x,C){if(x===C.value)return[C];for(const v of C.children){const N=Be(x,v);if(N.length)return N.unshift(C),N}return[]}class Ge{constructor(C,v){this.value=C,this.children=v}toString(){return`TreeNode(${this.value})`}}function it(x){const C={};return x&&x.children.forEach(v=>C[v.value.outlet]=v),C}class Ct extends Eo{constructor(C,v){super(C),this.snapshot=v,ss(this,C)}toString(){return this.snapshot.toString()}}function St(x,C){const v=function(x,C){const de=new Ui([],{},{},"",{},bn,C,null,x.root,-1,{});return new zi("",new Ge(de,[]))}(x,C),N=new Le.X([new je("",{})]),$=new Le.X({}),X=new Le.X({}),de=new Le.X({}),$e=new Le.X(""),yt=new Jn(N,$,de,$e,X,bn,C,v.root);return yt.snapshot=v.root,new Ct(new Ge(yt,[]),v)}class Jn{constructor(C,v,N,$,X,de,$e,yt){this.url=C,this.params=v,this.queryParams=N,this.fragment=$,this.data=X,this.outlet=de,this.component=$e,this._futureSnapshot=yt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,te.U)(C=>Gn(C)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,te.U)(C=>Gn(C)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ti(x,C="emptyOnly"){const v=x.pathFromRoot;let N=0;if("always"!==C)for(N=v.length-1;N>=1;){const $=v[N],X=v[N-1];if($.routeConfig&&""===$.routeConfig.path)N--;else{if(X.component)break;N--}}return function(x){return x.reduce((C,v)=>({params:Object.assign(Object.assign({},C.params),v.params),data:Object.assign(Object.assign({},C.data),v.data),resolve:Object.assign(Object.assign({},C.resolve),v._resolvedData)}),{params:{},data:{},resolve:{}})}(v.slice(N))}class Ui{constructor(C,v,N,$,X,de,$e,yt,hn,er,en){this.url=C,this.params=v,this.queryParams=N,this.fragment=$,this.data=X,this.outlet=de,this.component=$e,this.routeConfig=yt,this._urlSegment=hn,this._lastPathIndex=er,this._resolve=en}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zi extends Eo{constructor(C,v){super(v),this.url=C,ss(this,v)}toString(){return Oo(this._root)}}function ss(x,C){C.value._routerState=x,C.children.forEach(v=>ss(x,v))}function Oo(x){const C=x.children.length>0?` { ${x.children.map(Oo).join(", ")} } `:"";return`${x.value}${C}`}function Ai(x){if(x.snapshot){const C=x.snapshot,v=x._futureSnapshot;x.snapshot=v,jr(C.queryParams,v.queryParams)||x.queryParams.next(v.queryParams),C.fragment!==v.fragment&&x.fragment.next(v.fragment),jr(C.params,v.params)||x.params.next(v.params),function(x,C){if(x.length!==C.length)return!1;for(let v=0;v<x.length;++v)if(!jr(x[v],C[v]))return!1;return!0}(C.url,v.url)||x.url.next(v.url),jr(C.data,v.data)||x.data.next(v.data)}else x.snapshot=x._futureSnapshot,x.data.next(x._futureSnapshot.data)}function zs(x,C){return jr(x.params,C.params)&&function(x,C){return ue(x,C)&&x.every((v,N)=>jr(v.parameters,C[N].parameters))}(x.url,C.url)&&!(!x.parent!=!C.parent)&&(!x.parent||zs(x.parent,C.parent))}function _i(x,C,v){if(v&&x.shouldReuseRoute(C.value,v.value.snapshot)){const N=v.value;N._futureSnapshot=C.value;const $=function(x,C,v){return C.children.map(N=>{for(const $ of v.children)if(x.shouldReuseRoute(N.value,$.value.snapshot))return _i(x,N,$);return _i(x,N)})}(x,C,v);return new Ge(N,$)}{if(x.shouldAttach(C.value)){const X=x.retrieve(C.value);if(null!==X){const de=X.route;return bs(C,de),de}}const N=function(x){return new Jn(new Le.X(x.url),new Le.X(x.params),new Le.X(x.queryParams),new Le.X(x.fragment),new Le.X(x.data),x.outlet,x.component,x)}(C.value),$=C.children.map(X=>_i(x,X));return new Ge(N,$)}}function bs(x,C){if(x.value.routeConfig!==C.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(x.children.length!==C.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");C.value._futureSnapshot=x.value;for(let v=0;v<x.children.length;++v)bs(x.children[v],C.children[v])}function Vs(x){return"object"==typeof x&&null!=x&&!x.outlets&&!x.segmentPath}function Us(x){return"object"==typeof x&&null!=x&&x.outlets}function ws(x,C,v,N,$){let X={};return N&&Pr(N,(de,$e)=>{X[$e]=Array.isArray(de)?de.map(yt=>`${yt}`):`${de}`}),new Sn(v.root===x?C:Ws(v.root,x,C),X,$)}function Ws(x,C,v){const N={};return Pr(x.children,($,X)=>{N[X]=$===C?v:Ws($,C,v)}),new Wt(x.segments,N)}class Bi{constructor(C,v,N){if(this.isAbsolute=C,this.numberOfDoubleDots=v,this.commands=N,C&&N.length>0&&Vs(N[0]))throw new Error("Root segment cannot have matrix parameters");const $=N.find(Us);if($&&$!==Lr(N))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bo{constructor(C,v,N){this.segmentGroup=C,this.processChildren=v,this.index=N}}function Rs(x,C,v){if(x||(x=new Wt([],{})),0===x.segments.length&&x.hasChildren())return Bs(x,C,v);const N=function(x,C,v){let N=0,$=C;const X={match:!1,pathIndex:0,commandIndex:0};for(;$<x.segments.length;){if(N>=v.length)return X;const de=x.segments[$],$e=v[N];if(Us($e))break;const yt=`${$e}`,hn=N<v.length-1?v[N+1]:null;if($>0&&void 0===yt)break;if(yt&&hn&&"object"==typeof hn&&void 0===hn.outlets){if(!$s(yt,hn,de))return X;N+=2}else{if(!$s(yt,{},de))return X;N++}$++}return{match:!0,pathIndex:$,commandIndex:N}}(x,C,v),$=v.slice(N.commandIndex);if(N.match&&N.pathIndex<x.segments.length){const X=new Wt(x.segments.slice(0,N.pathIndex),{});return X.children[bn]=new Wt(x.segments.slice(N.pathIndex),x.children),Bs(X,0,$)}return N.match&&0===$.length?new Wt(x.segments,{}):N.match&&!x.hasChildren()?Ks(x,C,v):N.match?Bs(x,0,$):Ks(x,C,v)}function Bs(x,C,v){if(0===v.length)return new Wt(x.segments,{});{const N=function(x){return Us(x[0])?x[0].outlets:{[bn]:x}}(v),$={};return Pr(N,(X,de)=>{"string"==typeof X&&(X=[X]),null!==X&&($[de]=Rs(x.children[de],C,X))}),Pr(x.children,(X,de)=>{void 0===N[de]&&($[de]=X)}),new Wt(x.segments,$)}}function Ks(x,C,v){const N=x.segments.slice(0,C);let $=0;for(;$<v.length;){const X=v[$];if(Us(X)){const yt=Cs(X.outlets);return new Wt(N,yt)}if(0===$&&Vs(v[0])){N.push(new je(x.segments[C].path,js(v[0]))),$++;continue}const de=Us(X)?X.outlets[bn]:`${X}`,$e=$<v.length-1?v[$+1]:null;de&&$e&&Vs($e)?(N.push(new je(de,js($e))),$+=2):(N.push(new je(de,{})),$++)}return new Wt(N,{})}function Cs(x){const C={};return Pr(x,(v,N)=>{"string"==typeof v&&(v=[v]),null!==v&&(C[N]=Ks(new Wt([],{}),0,v))}),C}function js(x){const C={};return Pr(x,(v,N)=>C[N]=`${v}`),C}function $s(x,C,v){return x==v.path&&jr(C,v.parameters)}class J{constructor(C,v,N,$){this.routeReuseStrategy=C,this.futureState=v,this.currState=N,this.forwardEvent=$}activate(C){const v=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,N,C),Ai(this.futureState.root),this.activateChildRoutes(v,N,C)}deactivateChildRoutes(C,v,N){const $=it(v);C.children.forEach(X=>{const de=X.value.outlet;this.deactivateRoutes(X,$[de],N),delete $[de]}),Pr($,(X,de)=>{this.deactivateRouteAndItsChildren(X,N)})}deactivateRoutes(C,v,N){const $=C.value,X=v?v.value:null;if($===X)if($.component){const de=N.getContext($.outlet);de&&this.deactivateChildRoutes(C,v,de.children)}else this.deactivateChildRoutes(C,v,N);else X&&this.deactivateRouteAndItsChildren(v,N)}deactivateRouteAndItsChildren(C,v){this.routeReuseStrategy.shouldDetach(C.value.snapshot)?this.detachAndStoreRouteSubtree(C,v):this.deactivateRouteAndOutlet(C,v)}detachAndStoreRouteSubtree(C,v){const N=v.getContext(C.value.outlet);if(N&&N.outlet){const $=N.outlet.detach(),X=N.children.onOutletDeactivated();this.routeReuseStrategy.store(C.value.snapshot,{componentRef:$,route:C,contexts:X})}}deactivateRouteAndOutlet(C,v){const N=v.getContext(C.value.outlet),$=N&&C.value.component?N.children:v,X=it(C);for(const de of Object.keys(X))this.deactivateRouteAndItsChildren(X[de],$);N&&N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated(),N.attachRef=null,N.resolver=null,N.route=null)}activateChildRoutes(C,v,N){const $=it(v);C.children.forEach(X=>{this.activateRoutes(X,$[X.value.outlet],N),this.forwardEvent(new dr(X.value.snapshot))}),C.children.length&&this.forwardEvent(new nn(C.value.snapshot))}activateRoutes(C,v,N){const $=C.value,X=v?v.value:null;if(Ai($),$===X)if($.component){const de=N.getOrCreateContext($.outlet);this.activateChildRoutes(C,v,de.children)}else this.activateChildRoutes(C,v,N);else if($.component){const de=N.getOrCreateContext($.outlet);if(this.routeReuseStrategy.shouldAttach($.snapshot)){const $e=this.routeReuseStrategy.retrieve($.snapshot);this.routeReuseStrategy.store($.snapshot,null),de.children.onOutletReAttached($e.contexts),de.attachRef=$e.componentRef,de.route=$e.route.value,de.outlet&&de.outlet.attach($e.componentRef,$e.route.value),U($e.route)}else{const $e=function(x){for(let C=x.parent;C;C=C.parent){const v=C.routeConfig;if(v&&v._loadedConfig)return v._loadedConfig;if(v&&v.component)return null}return null}($.snapshot),yt=$e?$e.module.componentFactoryResolver:null;de.attachRef=null,de.route=$,de.resolver=yt,de.outlet&&de.outlet.activateWith($,yt),this.activateChildRoutes(C,null,de.children)}}else this.activateChildRoutes(C,null,N)}}function U(x){Ai(x.value),x.children.forEach(U)}class A{constructor(C,v){this.routes=C,this.module=v}}function R(x){return"function"==typeof x}function Ze(x){return x instanceof Sn}const wn=Symbol("INITIAL_VALUE");function _r(){return(0,be.w)(x=>function(...x){let C,v;return(0,K.K)(x[x.length-1])&&(v=x.pop()),"function"==typeof x[x.length-1]&&(C=x.pop()),1===x.length&&(0,we.k)(x[0])&&(x=x[0]),(0,Y.n)(x,v).lift(new Ne(C))}(x.map(C=>C.pipe((0,Wn.q)(1),function(...x){const C=x[x.length-1];return(0,K.K)(C)?(x.pop(),v=>(0,Ue.z)(x,v,C)):v=>(0,Ue.z)(x,v)}(wn)))).pipe(oe((C,v)=>{let N=!1;return v.reduce(($,X,de)=>$!==wn?$:(X===wn&&(N=!0),N||!1!==X&&de!==v.length-1&&!Ze(X)?$:X),C)},wn),(0,xt.h)(C=>C!==wn),(0,te.U)(C=>Ze(C)?C:!0===C),(0,Wn.q)(1)))}let qi=(()=>{class x{}return x.\u0275fac=function(v){return new(v||x)},x.\u0275cmp=w.Xpm({type:x,selectors:[["ng-component"]],decls:1,vars:0,template:function(v,N){1&v&&w._UZ(0,"router-outlet")},directives:function(){return[_a]},encapsulation:2}),x})();function hs(x,C=""){for(let v=0;v<x.length;v++){const N=x[v];Zr(N,Zi(C,N))}}function Zr(x,C){x.children&&hs(x.children,C)}function Zi(x,C){return C?x||C.path?x&&!C.path?`${x}/`:!x&&C.path?C.path:`${x}/${C.path}`:"":x}function ts(x){const C=x.children&&x.children.map(ts),v=C?Object.assign(Object.assign({},x),{children:C}):Object.assign({},x);return!v.component&&(C||v.loadChildren)&&v.outlet&&v.outlet!==bn&&(v.component=qi),v}function Ir(x){return x.outlet||bn}function vi(x,C){const v=x.filter(N=>Ir(N)===C);return v.push(...x.filter(N=>Ir(N)!==C)),v}const no={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ms(x,C,v){var N;if(""===C.path)return"full"===C.pathMatch&&(x.hasChildren()||v.length>0)?Object.assign({},no):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const X=(C.matcher||ui)(v,x,C);if(!X)return Object.assign({},no);const de={};Pr(X.posParams,(yt,hn)=>{de[hn]=yt.path});const $e=X.consumed.length>0?Object.assign(Object.assign({},de),X.consumed[X.consumed.length-1].parameters):de;return{matched:!0,consumedSegments:X.consumed,lastChild:X.consumed.length,parameters:$e,positionalParamSegments:null!==(N=X.posParams)&&void 0!==N?N:{}}}function la(x,C,v,N,$="corrected"){if(v.length>0&&function(x,C,v){return v.some(N=>ie(x,C,N)&&Ir(N)!==bn)}(x,v,N)){const de=new Wt(C,function(x,C,v,N){const $={};$[bn]=N,N._sourceSegment=x,N._segmentIndexShift=C.length;for(const X of v)if(""===X.path&&Ir(X)!==bn){const de=new Wt([],{});de._sourceSegment=x,de._segmentIndexShift=C.length,$[Ir(X)]=de}return $}(x,C,N,new Wt(v,x.children)));return de._sourceSegment=x,de._segmentIndexShift=C.length,{segmentGroup:de,slicedSegments:[]}}if(0===v.length&&function(x,C,v){return v.some(N=>ie(x,C,N))}(x,v,N)){const de=new Wt(x.segments,function(x,C,v,N,$,X){const de={};for(const $e of N)if(ie(x,v,$e)&&!$[Ir($e)]){const yt=new Wt([],{});yt._sourceSegment=x,yt._segmentIndexShift="legacy"===X?x.segments.length:C.length,de[Ir($e)]=yt}return Object.assign(Object.assign({},$),de)}(x,C,v,N,x.children,$));return de._sourceSegment=x,de._segmentIndexShift=C.length,{segmentGroup:de,slicedSegments:v}}const X=new Wt(x.segments,x.children);return X._sourceSegment=x,X._segmentIndexShift=C.length,{segmentGroup:X,slicedSegments:v}}function ie(x,C,v){return(!(x.hasChildren()||C.length>0)||"full"!==v.pathMatch)&&""===v.path}function Ie(x,C,v,N){return!!(Ir(x)===N||N!==bn&&ie(C,v,x))&&("**"===x.path||Ms(C,x,v).matched)}function Ye(x,C,v){return 0===C.length&&!x.children[v]}class ht{constructor(C){this.segmentGroup=C||null}}class kt{constructor(C){this.urlTree=C}}function gn(x){return new he.y(C=>C.error(new ht(x)))}function dn(x){return new he.y(C=>C.error(new kt(x)))}function ut(x){return new he.y(C=>C.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${x}'`)))}class Xn{constructor(C,v,N,$,X){this.configLoader=v,this.urlSerializer=N,this.urlTree=$,this.config=X,this.allowRedirects=!0,this.ngModule=C.get(w.h0i)}apply(){const C=la(this.urlTree.root,[],[],this.config).segmentGroup,v=new Wt(C.segments,C.children);return this.expandSegmentGroup(this.ngModule,this.config,v,bn).pipe((0,te.U)(X=>this.createUrlTree(Hr(X),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Je(X=>{if(X instanceof kt)return this.allowRedirects=!1,this.match(X.urlTree);throw X instanceof ht?this.noMatchError(X):X}))}match(C){return this.expandSegmentGroup(this.ngModule,this.config,C.root,bn).pipe((0,te.U)($=>this.createUrlTree(Hr($),C.queryParams,C.fragment))).pipe(Je($=>{throw $ instanceof ht?this.noMatchError($):$}))}noMatchError(C){return new Error(`Cannot match any routes. URL Segment: '${C.segmentGroup}'`)}createUrlTree(C,v,N){const $=C.segments.length>0?new Wt([],{[bn]:C}):C;return new Sn($,v,N)}expandSegmentGroup(C,v,N,$){return 0===N.segments.length&&N.hasChildren()?this.expandChildren(C,v,N).pipe((0,te.U)(X=>new Wt([],X))):this.expandSegment(C,N,v,N.segments,$,!0)}expandChildren(C,v,N){const $=[];for(const X of Object.keys(N.children))"primary"===X?$.unshift(X):$.push(X);return(0,We.D)($).pipe((0,dt.b)(X=>{const de=N.children[X],$e=vi(v,X);return this.expandSegmentGroup(C,$e,de,X).pipe((0,te.U)(yt=>({segment:yt,outlet:X})))}),oe((X,de)=>(X[de.outlet]=de.segment,X),{}),function(x,C){const v=arguments.length>=2;return N=>N.pipe(x?(0,xt.h)(($,X)=>x($,X,N)):Jt.y,Tt(1),v?Qt(C):rn(()=>new Oe))}())}expandSegment(C,v,N,$,X,de){return(0,We.D)(N).pipe((0,dt.b)($e=>this.expandSegmentAgainstRoute(C,v,N,$e,$,X,de).pipe(Je(hn=>{if(hn instanceof ht)return(0,xe.of)(null);throw hn}))),kr($e=>!!$e),Je(($e,yt)=>{if($e instanceof Oe||"EmptyError"===$e.name){if(Ye(v,$,X))return(0,xe.of)(new Wt([],{}));throw new ht(v)}throw $e}))}expandSegmentAgainstRoute(C,v,N,$,X,de,$e){return Ie($,v,X,de)?void 0===$.redirectTo?this.matchSegmentAgainstRoute(C,v,$,X,de):$e&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(C,v,N,$,X,de):gn(v):gn(v)}expandSegmentAgainstRouteUsingRedirect(C,v,N,$,X,de){return"**"===$.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(C,N,$,de):this.expandRegularSegmentAgainstRouteUsingRedirect(C,v,N,$,X,de)}expandWildCardWithParamsAgainstRouteUsingRedirect(C,v,N,$){const X=this.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?dn(X):this.lineralizeSegments(N,X).pipe((0,ze.zg)(de=>{const $e=new Wt(de,{});return this.expandSegment(C,$e,v,de,$,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(C,v,N,$,X,de){const{matched:$e,consumedSegments:yt,lastChild:hn,positionalParamSegments:er}=Ms(v,$,X);if(!$e)return gn(v);const en=this.applyRedirectCommands(yt,$.redirectTo,er);return $.redirectTo.startsWith("/")?dn(en):this.lineralizeSegments($,en).pipe((0,ze.zg)(ni=>this.expandSegment(C,v,N,ni.concat(X.slice(hn)),de,!1)))}matchSegmentAgainstRoute(C,v,N,$,X){if("**"===N.path)return N.loadChildren?(N._loadedConfig?(0,xe.of)(N._loadedConfig):this.configLoader.load(C.injector,N)).pipe((0,te.U)(ni=>(N._loadedConfig=ni,new Wt($,{})))):(0,xe.of)(new Wt($,{}));const{matched:de,consumedSegments:$e,lastChild:yt}=Ms(v,N,$);if(!de)return gn(v);const hn=$.slice(yt);return this.getChildConfig(C,N,$).pipe((0,ze.zg)(en=>{const ni=en.module,Nn=en.routes,{segmentGroup:Ds,slicedSegments:Do}=la(v,$e,hn,Nn),Vn=new Wt(Ds.segments,Ds.children);if(0===Do.length&&Vn.hasChildren())return this.expandChildren(ni,Nn,Vn).pipe((0,te.U)(So=>new Wt($e,So)));if(0===Nn.length&&0===Do.length)return(0,xe.of)(new Wt($e,{}));const La=Ir(N)===X;return this.expandSegment(ni,Vn,Nn,Do,La?bn:X,!0).pipe((0,te.U)(Kr=>new Wt($e.concat(Kr.segments),Kr.children)))}))}getChildConfig(C,v,N){return v.children?(0,xe.of)(new A(v.children,C)):v.loadChildren?void 0!==v._loadedConfig?(0,xe.of)(v._loadedConfig):this.runCanLoadGuards(C.injector,v,N).pipe((0,ze.zg)($=>{return $?this.configLoader.load(C.injector,v).pipe((0,te.U)(X=>(v._loadedConfig=X,X))):(x=v,new he.y(C=>C.error(Fr(`Cannot load children because the guard of the route "path: '${x.path}'" returned false`))));var x})):(0,xe.of)(new A([],C))}runCanLoadGuards(C,v,N){const $=v.canLoad;if(!$||0===$.length)return(0,xe.of)(!0);const X=$.map(de=>{const $e=C.get(de);let yt;if((x=$e)&&R(x.canLoad))yt=$e.canLoad(v,N);else{if(!R($e))throw new Error("Invalid CanLoad guard");yt=$e(v,N)}var x;return Jr(yt)});return(0,xe.of)(X).pipe(_r(),cr(de=>{if(!Ze(de))return;const $e=Fr(`Redirecting to "${this.urlSerializer.serialize(de)}"`);throw $e.url=de,$e}),(0,te.U)(de=>!0===de))}lineralizeSegments(C,v){let N=[],$=v.root;for(;;){if(N=N.concat($.segments),0===$.numberOfChildren)return(0,xe.of)(N);if($.numberOfChildren>1||!$.children[bn])return ut(C.redirectTo);$=$.children[bn]}}applyRedirectCommands(C,v,N){return this.applyRedirectCreatreUrlTree(v,this.urlSerializer.parse(v),C,N)}applyRedirectCreatreUrlTree(C,v,N,$){const X=this.createSegmentGroup(C,v.root,N,$);return new Sn(X,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(C,v){const N={};return Pr(C,($,X)=>{if("string"==typeof $&&$.startsWith(":")){const $e=$.substring(1);N[X]=v[$e]}else N[X]=$}),N}createSegmentGroup(C,v,N,$){const X=this.createSegments(C,v.segments,N,$);let de={};return Pr(v.children,($e,yt)=>{de[yt]=this.createSegmentGroup(C,$e,N,$)}),new Wt(X,de)}createSegments(C,v,N,$){return v.map(X=>X.path.startsWith(":")?this.findPosParam(C,X,$):this.findOrReturn(X,N))}findPosParam(C,v,N){const $=N[v.path.substring(1)];if(!$)throw new Error(`Cannot redirect to '${C}'. Cannot find '${v.path}'.`);return $}findOrReturn(C,v){let N=0;for(const $ of v){if($.path===C.path)return v.splice(N),$;N++}return C}}function Hr(x){const C={};for(const N of Object.keys(x.children)){const X=Hr(x.children[N]);(X.segments.length>0||X.hasChildren())&&(C[N]=X)}return function(x){if(1===x.numberOfChildren&&x.children[bn]){const C=x.children[bn];return new Wt(x.segments.concat(C.segments),C.children)}return x}(new Wt(x.segments,C))}class Vr{constructor(C){this.path=C,this.route=this.path[this.path.length-1]}}class fs{constructor(C,v){this.component=C,this.route=v}}function ps(x,C,v){const N=x._root;return Br(N,C?C._root:null,v,[N.value])}function Ur(x,C,v){const N=function(x){if(!x)return null;for(let C=x.parent;C;C=C.parent){const v=C.routeConfig;if(v&&v._loadedConfig)return v._loadedConfig}return null}(C);return(N?N.module.injector:v).get(x)}function Br(x,C,v,N,$={canDeactivateChecks:[],canActivateChecks:[]}){const X=it(C);return x.children.forEach(de=>{(function(x,C,v,N,$={canDeactivateChecks:[],canActivateChecks:[]}){const X=x.value,de=C?C.value:null,$e=v?v.getContext(x.value.outlet):null;if(de&&X.routeConfig===de.routeConfig){const yt=function(x,C,v){if("function"==typeof v)return v(x,C);switch(v){case"pathParamsChange":return!ue(x.url,C.url);case"pathParamsOrQueryParamsChange":return!ue(x.url,C.url)||!jr(x.queryParams,C.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zs(x,C)||!jr(x.queryParams,C.queryParams);case"paramsChange":default:return!zs(x,C)}}(de,X,X.routeConfig.runGuardsAndResolvers);yt?$.canActivateChecks.push(new Vr(N)):(X.data=de.data,X._resolvedData=de._resolvedData),Br(x,C,X.component?$e?$e.children:null:v,N,$),yt&&$e&&$e.outlet&&$e.outlet.isActivated&&$.canDeactivateChecks.push(new fs($e.outlet.component,de))}else de&&Gs(C,$e,$),$.canActivateChecks.push(new Vr(N)),Br(x,null,X.component?$e?$e.children:null:v,N,$)})(de,X[de.value.outlet],v,N.concat([de.value]),$),delete X[de.value.outlet]}),Pr(X,(de,$e)=>Gs(de,v.getContext($e),$)),$}function Gs(x,C,v){const N=it(x),$=x.value;Pr(N,(X,de)=>{Gs(X,$.component?C?C.children.getContext(de):null:C,v)}),v.canDeactivateChecks.push(new fs($.component&&C&&C.outlet&&C.outlet.isActivated?C.outlet.component:null,$))}class da{}function Pa(x){return new he.y(C=>C.error(x))}class ro{constructor(C,v,N,$,X,de){this.rootComponentType=C,this.config=v,this.urlTree=N,this.url=$,this.paramsInheritanceStrategy=X,this.relativeLinkResolution=de}recognize(){const C=la(this.urlTree.root,[],[],this.config.filter(de=>void 0===de.redirectTo),this.relativeLinkResolution).segmentGroup,v=this.processSegmentGroup(this.config,C,bn);if(null===v)return null;const N=new Ui([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},bn,this.rootComponentType,null,this.urlTree.root,-1,{}),$=new Ge(N,v),X=new zi(this.url,$);return this.inheritParamsAndData(X._root),X}inheritParamsAndData(C){const v=C.value,N=ti(v,this.paramsInheritanceStrategy);v.params=Object.freeze(N.params),v.data=Object.freeze(N.data),C.children.forEach($=>this.inheritParamsAndData($))}processSegmentGroup(C,v,N){return 0===v.segments.length&&v.hasChildren()?this.processChildren(C,v):this.processSegment(C,v,v.segments,N)}processChildren(C,v){const N=[];for(const X of Object.keys(v.children)){const de=v.children[X],$e=vi(C,X),yt=this.processSegmentGroup($e,de,X);if(null===yt)return null;N.push(...yt)}const $=fa(N);return $.sort((C,v)=>C.value.outlet===bn?-1:v.value.outlet===bn?1:C.value.outlet.localeCompare(v.value.outlet)),$}processSegment(C,v,N,$){for(const X of C){const de=this.processSegmentAgainstRoute(X,v,N,$);if(null!==de)return de}return Ye(v,N,$)?[]:null}processSegmentAgainstRoute(C,v,N,$){if(C.redirectTo||!Ie(C,v,N,$))return null;let X,de=[],$e=[];if("**"===C.path){const Nn=N.length>0?Lr(N).parameters:{};X=new Ui(N,Nn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ci(C),Ir(C),C.component,C,pa(v),sa(v)+N.length,io(C))}else{const Nn=Ms(v,C,N);if(!Nn.matched)return null;de=Nn.consumedSegments,$e=N.slice(Nn.lastChild),X=new Ui(de,Nn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ci(C),Ir(C),C.component,C,pa(v),sa(v)+de.length,io(C))}const yt=(x=C).children?x.children:x.loadChildren?x._loadedConfig.routes:[],{segmentGroup:hn,slicedSegments:er}=la(v,de,$e,yt.filter(Nn=>void 0===Nn.redirectTo),this.relativeLinkResolution);var x;if(0===er.length&&hn.hasChildren()){const Nn=this.processChildren(yt,hn);return null===Nn?null:[new Ge(X,Nn)]}if(0===yt.length&&0===er.length)return[new Ge(X,[])];const en=Ir(C)===$,ni=this.processSegment(yt,hn,er,en?bn:$);return null===ni?null:[new Ge(X,ni)]}}function ha(x){const C=x.value.routeConfig;return C&&""===C.path&&void 0===C.redirectTo}function fa(x){const C=[],v=new Set;for(const N of x){if(!ha(N)){C.push(N);continue}const $=C.find(X=>N.value.routeConfig===X.value.routeConfig);void 0!==$?($.children.push(...N.children),v.add($)):C.push(N)}for(const N of v){const $=fa(N.children);C.push(new Ge(N.value,$))}return C.filter(N=>!v.has(N))}function pa(x){let C=x;for(;C._sourceSegment;)C=C._sourceSegment;return C}function sa(x){let C=x,v=C._segmentIndexShift?C._segmentIndexShift:0;for(;C._sourceSegment;)C=C._sourceSegment,v+=C._segmentIndexShift?C._segmentIndexShift:0;return v-1}function Ci(x){return x.data||{}}function io(x){return x.resolve||{}}function ga(x){return(0,be.w)(C=>{const v=x(C);return v?(0,We.D)(v).pipe((0,te.U)(()=>C)):(0,xe.of)(C)})}class No extends class{shouldDetach(C){return!1}store(C,v){}shouldAttach(C){return!1}retrieve(C){return null}shouldReuseRoute(C,v){return C.routeConfig===v.routeConfig}}{}const oo=new w.OlP("ROUTES");class ka{constructor(C,v,N,$){this.loader=C,this.compiler=v,this.onLoadStartListener=N,this.onLoadEndListener=$}load(C,v){if(v._loader$)return v._loader$;this.onLoadStartListener&&this.onLoadStartListener(v);const $=this.loadModuleFactory(v.loadChildren).pipe((0,te.U)(X=>{this.onLoadEndListener&&this.onLoadEndListener(v);const de=X.create(C);return new A(Oi(de.injector.get(oo,void 0,w.XFs.Self|w.XFs.Optional)).map(ts),de)}),Je(X=>{throw v._loader$=void 0,X}));return v._loader$=new $t.c($,()=>new Mt.xQ).pipe((0,Ft.x)()),v._loader$}loadModuleFactory(C){return"string"==typeof C?(0,We.D)(this.loader.load(C)):Jr(C()).pipe((0,ze.zg)(v=>v instanceof w.YKP?(0,xe.of)(v):(0,We.D)(this.compiler.compileModuleAsync(v))))}}class Ga{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new wo,this.attachRef=null}}class wo{constructor(){this.contexts=new Map}onChildOutletCreated(C,v){const N=this.getOrCreateContext(C);N.outlet=v,this.contexts.set(C,N)}onChildOutletDestroyed(C){const v=this.getContext(C);v&&(v.outlet=null,v.attachRef=null)}onOutletDeactivated(){const C=this.contexts;return this.contexts=new Map,C}onOutletReAttached(C){this.contexts=C}getOrCreateContext(C){let v=this.getContext(C);return v||(v=new Ga,this.contexts.set(C,v)),v}getContext(C){return this.contexts.get(C)||null}}class gs{shouldProcessUrl(C){return!0}extract(C){return C}merge(C,v){return C}}function ko(x){throw x}function Nu(x,C,v){return C.parse("/")}function Fo(x,C){return(0,xe.of)(null)}const Yi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},au={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Mr=(()=>{class x{constructor(v,N,$,X,de,$e,yt,hn){this.rootComponentType=v,this.urlSerializer=N,this.rootContexts=$,this.location=X,this.config=hn,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Mt.xQ,this.errorHandler=ko,this.malformedUriErrorHandler=Nu,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Fo,afterPreactivation:Fo},this.urlHandlingStrategy=new gs,this.routeReuseStrategy=new No,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=de.get(w.h0i),this.console=de.get(w.c2e);const ni=de.get(w.R0b);this.isNgZoneEnabled=ni instanceof w.R0b&&w.R0b.isInAngularZone(),this.resetConfig(hn),this.currentUrlTree=new Sn(new Wt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ka($e,yt,Nn=>this.triggerEvent(new pt(Nn)),Nn=>this.triggerEvent(new Qe(Nn))),this.routerState=St(this.currentUrlTree,this.rootComponentType),this.transitions=new Le.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var v;return null===(v=this.location.getState())||void 0===v?void 0:v.\u0275routerPageId}setupNavigations(v){const N=this.events;return v.pipe((0,xt.h)($=>0!==$.id),(0,te.U)($=>Object.assign(Object.assign({},$),{extractedUrl:this.urlHandlingStrategy.extract($.rawUrl)})),(0,be.w)($=>{let X=!1,de=!1;return(0,xe.of)($).pipe(cr($e=>{this.currentNavigation={id:$e.id,initialUrl:$e.currentRawUrl,extractedUrl:$e.extractedUrl,trigger:$e.source,extras:$e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,be.w)($e=>{const yt=this.browserUrlTree.toString(),hn=!this.navigated||$e.extractedUrl.toString()!==yt||yt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||hn)&&this.urlHandlingStrategy.shouldProcessUrl($e.rawUrl))return ma($e.source)&&(this.browserUrlTree=$e.extractedUrl),(0,xe.of)($e).pipe((0,be.w)(en=>{const ni=this.transitions.getValue();return N.next(new _n(en.id,this.serializeUrl(en.extractedUrl),en.source,en.restoredState)),ni!==this.transitions.getValue()?ot.E:Promise.resolve(en)}),function(x,C,v,N){return(0,be.w)($=>function(x,C,v,N,$){return new Xn(x,C,v,N,$).apply()}(x,C,v,$.extractedUrl,N).pipe((0,te.U)(X=>Object.assign(Object.assign({},$),{urlAfterRedirects:X}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),cr(en=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:en.urlAfterRedirects})}),function(x,C,v,N,$){return(0,ze.zg)(X=>function(x,C,v,N,$="emptyOnly",X="legacy"){try{const de=new ro(x,C,v,N,$,X).recognize();return null===de?Pa(new da):(0,xe.of)(de)}catch(de){return Pa(de)}}(x,C,X.urlAfterRedirects,v(X.urlAfterRedirects),N,$).pipe((0,te.U)(de=>Object.assign(Object.assign({},X),{targetSnapshot:de}))))}(this.rootComponentType,this.config,en=>this.serializeUrl(en),this.paramsInheritanceStrategy,this.relativeLinkResolution),cr(en=>{"eager"===this.urlUpdateStrategy&&(en.extras.skipLocationChange||this.setBrowserUrl(en.urlAfterRedirects,en),this.browserUrlTree=en.urlAfterRedirects);const ni=new ir(en.id,this.serializeUrl(en.extractedUrl),this.serializeUrl(en.urlAfterRedirects),en.targetSnapshot);N.next(ni)}));if(hn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ni,extractedUrl:Nn,source:Ds,restoredState:Do,extras:Vn}=$e,La=new _n(ni,this.serializeUrl(Nn),Ds,Do);N.next(La);const $i=St(Nn,this.rootComponentType).snapshot;return(0,xe.of)(Object.assign(Object.assign({},$e),{targetSnapshot:$i,urlAfterRedirects:Nn,extras:Object.assign(Object.assign({},Vn),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=$e.rawUrl,this.browserUrlTree=$e.urlAfterRedirects,$e.resolve(null),ot.E}),ga($e=>{const{targetSnapshot:yt,id:hn,extractedUrl:er,rawUrl:en,extras:{skipLocationChange:ni,replaceUrl:Nn}}=$e;return this.hooks.beforePreactivation(yt,{navigationId:hn,appliedUrlTree:er,rawUrlTree:en,skipLocationChange:!!ni,replaceUrl:!!Nn})}),cr($e=>{const yt=new vn($e.id,this.serializeUrl($e.extractedUrl),this.serializeUrl($e.urlAfterRedirects),$e.targetSnapshot);this.triggerEvent(yt)}),(0,te.U)($e=>Object.assign(Object.assign({},$e),{guards:ps($e.targetSnapshot,$e.currentSnapshot,this.rootContexts)})),function(x,C){return(0,ze.zg)(v=>{const{targetSnapshot:N,currentSnapshot:$,guards:{canActivateChecks:X,canDeactivateChecks:de}}=v;return 0===de.length&&0===X.length?(0,xe.of)(Object.assign(Object.assign({},v),{guardsResult:!0})):function(x,C,v,N){return(0,We.D)(x).pipe((0,ze.zg)($=>function(x,C,v,N,$){const X=C&&C.routeConfig?C.routeConfig.canDeactivate:null;if(!X||0===X.length)return(0,xe.of)(!0);const de=X.map($e=>{const yt=Ur($e,C,$);let hn;if(function(x){return x&&R(x.canDeactivate)}(yt))hn=Jr(yt.canDeactivate(x,C,v,N));else{if(!R(yt))throw new Error("Invalid CanDeactivate guard");hn=Jr(yt(x,C,v,N))}return hn.pipe(kr())});return(0,xe.of)(de).pipe(_r())}($.component,$.route,v,C,N)),kr($=>!0!==$,!0))}(de,N,$,x).pipe((0,ze.zg)($e=>$e&&function(x){return"boolean"==typeof x}($e)?function(x,C,v,N){return(0,We.D)(C).pipe((0,dt.b)($=>(0,Ue.z)(function(x,C){return null!==x&&C&&C(new Nt(x)),(0,xe.of)(!0)}($.route.parent,N),function(x,C){return null!==x&&C&&C(new pr(x)),(0,xe.of)(!0)}($.route,N),function(x,C,v){const N=C[C.length-1],X=C.slice(0,C.length-1).reverse().map(de=>function(x){const C=x.routeConfig?x.routeConfig.canActivateChild:null;return C&&0!==C.length?{node:x,guards:C}:null}(de)).filter(de=>null!==de).map(de=>(0,st.P)(()=>{const $e=de.guards.map(yt=>{const hn=Ur(yt,de.node,v);let er;if(function(x){return x&&R(x.canActivateChild)}(hn))er=Jr(hn.canActivateChild(N,x));else{if(!R(hn))throw new Error("Invalid CanActivateChild guard");er=Jr(hn(N,x))}return er.pipe(kr())});return(0,xe.of)($e).pipe(_r())}));return(0,xe.of)(X).pipe(_r())}(x,$.path,v),function(x,C,v){const N=C.routeConfig?C.routeConfig.canActivate:null;if(!N||0===N.length)return(0,xe.of)(!0);const $=N.map(X=>(0,st.P)(()=>{const de=Ur(X,C,v);let $e;if(function(x){return x&&R(x.canActivate)}(de))$e=Jr(de.canActivate(C,x));else{if(!R(de))throw new Error("Invalid CanActivate guard");$e=Jr(de(C,x))}return $e.pipe(kr())}));return(0,xe.of)($).pipe(_r())}(x,$.route,v))),kr($=>!0!==$,!0))}(N,X,x,C):(0,xe.of)($e)),(0,te.U)($e=>Object.assign(Object.assign({},v),{guardsResult:$e})))})}(this.ngModule.injector,$e=>this.triggerEvent($e)),cr($e=>{if(Ze($e.guardsResult)){const hn=Fr(`Redirecting to "${this.serializeUrl($e.guardsResult)}"`);throw hn.url=$e.guardsResult,hn}const yt=new Ee($e.id,this.serializeUrl($e.extractedUrl),this.serializeUrl($e.urlAfterRedirects),$e.targetSnapshot,!!$e.guardsResult);this.triggerEvent(yt)}),(0,xt.h)($e=>!!$e.guardsResult||(this.restoreHistory($e),this.cancelNavigationTransition($e,""),!1)),ga($e=>{if($e.guards.canActivateChecks.length)return(0,xe.of)($e).pipe(cr(yt=>{const hn=new Pe(yt.id,this.serializeUrl(yt.extractedUrl),this.serializeUrl(yt.urlAfterRedirects),yt.targetSnapshot);this.triggerEvent(hn)}),(0,be.w)(yt=>{let hn=!1;return(0,xe.of)(yt).pipe(function(x,C){return(0,ze.zg)(v=>{const{targetSnapshot:N,guards:{canActivateChecks:$}}=v;if(!$.length)return(0,xe.of)(v);let X=0;return(0,We.D)($).pipe((0,dt.b)(de=>function(x,C,v,N){return function(x,C,v,N){const $=Object.keys(x);if(0===$.length)return(0,xe.of)({});const X={};return(0,We.D)($).pipe((0,ze.zg)(de=>function(x,C,v,N){const $=Ur(x,C,N);return Jr($.resolve?$.resolve(C,v):$(C,v))}(x[de],C,v,N).pipe(cr($e=>{X[de]=$e}))),Tt(1),(0,ze.zg)(()=>Object.keys(X).length===$.length?(0,xe.of)(X):ot.E))}(x._resolve,x,C,N).pipe((0,te.U)(X=>(x._resolvedData=X,x.data=Object.assign(Object.assign({},x.data),ti(x,v).resolve),null)))}(de.route,N,x,C)),cr(()=>X++),Tt(1),(0,ze.zg)(de=>X===$.length?(0,xe.of)(v):ot.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),cr({next:()=>hn=!0,complete:()=>{hn||(this.restoreHistory(yt),this.cancelNavigationTransition(yt,"At least one route resolver didn't emit any value."))}}))}),cr(yt=>{const hn=new Fe(yt.id,this.serializeUrl(yt.extractedUrl),this.serializeUrl(yt.urlAfterRedirects),yt.targetSnapshot);this.triggerEvent(hn)}))}),ga($e=>{const{targetSnapshot:yt,id:hn,extractedUrl:er,rawUrl:en,extras:{skipLocationChange:ni,replaceUrl:Nn}}=$e;return this.hooks.afterPreactivation(yt,{navigationId:hn,appliedUrlTree:er,rawUrlTree:en,skipLocationChange:!!ni,replaceUrl:!!Nn})}),(0,te.U)($e=>{const yt=function(x,C,v){const N=_i(x,C._root,v?v._root:void 0);return new Ct(N,C)}(this.routeReuseStrategy,$e.targetSnapshot,$e.currentRouterState);return Object.assign(Object.assign({},$e),{targetRouterState:yt})}),cr($e=>{this.currentUrlTree=$e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge($e.urlAfterRedirects,$e.rawUrl),this.routerState=$e.targetRouterState,"deferred"===this.urlUpdateStrategy&&($e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,$e),this.browserUrlTree=$e.urlAfterRedirects)}),((x,C,v)=>(0,te.U)(N=>(new J(C,N.targetRouterState,N.currentRouterState,v).activate(x),N)))(this.rootContexts,this.routeReuseStrategy,$e=>this.triggerEvent($e)),cr({next(){X=!0},complete(){X=!0}}),function(x){return C=>C.lift(new Ht(x))}(()=>{var $e;if(!X&&!de){const yt=`Navigation ID ${$.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory($),this.cancelNavigationTransition($,yt)):this.cancelNavigationTransition($,yt)}(null===($e=this.currentNavigation)||void 0===$e?void 0:$e.id)===$.id&&(this.currentNavigation=null)}),Je($e=>{if(de=!0,function(x){return x&&x[nr]}($e)){const yt=Ze($e.url);yt||(this.navigated=!0,this.restoreHistory($,!0));const hn=new Mn($.id,this.serializeUrl($.extractedUrl),$e.message);N.next(hn),yt?setTimeout(()=>{const er=this.urlHandlingStrategy.merge($e.url,this.rawUrlTree),en={skipLocationChange:$.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ma($.source)};this.scheduleNavigation(er,"imperative",null,en,{resolve:$.resolve,reject:$.reject,promise:$.promise})},0):$.resolve(!1)}else{this.restoreHistory($,!0);const yt=new Hn($.id,this.serializeUrl($.extractedUrl),$e);N.next(yt);try{$.resolve(this.errorHandler($e))}catch(hn){$.reject(hn)}}return ot.E}))}))}resetRootComponentType(v){this.rootComponentType=v,this.routerState.root.component=this.rootComponentType}getTransition(){const v=this.transitions.value;return v.urlAfterRedirects=this.browserUrlTree,v}setTransition(v){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),v))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const N=this.extractLocationChangeInfoFromEvent(v);this.shouldScheduleNavigation(this.lastLocationChangeInfo,N)&&setTimeout(()=>{const{source:$,state:X,urlTree:de}=N,$e={replaceUrl:!0};if(X){const yt=Object.assign({},X);delete yt.navigationId,delete yt.\u0275routerPageId,0!==Object.keys(yt).length&&($e.state=yt)}this.scheduleNavigation(de,$,X,$e)},0),this.lastLocationChangeInfo=N}))}extractLocationChangeInfoFromEvent(v){var N;return{source:"popstate"===v.type?"popstate":"hashchange",urlTree:this.parseUrl(v.url),state:(null===(N=v.state)||void 0===N?void 0:N.navigationId)?v.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(v,N){if(!v)return!0;const $=N.urlTree.toString()===v.urlTree.toString();return N.transitionId!==v.transitionId||!$||!("hashchange"===N.source&&"popstate"===v.source||"popstate"===N.source&&"hashchange"===v.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(v){this.events.next(v)}resetConfig(v){hs(v),this.config=v.map(ts),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(v,N={}){const{relativeTo:$,queryParams:X,fragment:de,queryParamsHandling:$e,preserveFragment:yt}=N,hn=$||this.routerState.root,er=yt?this.currentUrlTree.fragment:de;let en=null;switch($e){case"merge":en=Object.assign(Object.assign({},this.currentUrlTree.queryParams),X);break;case"preserve":en=this.currentUrlTree.queryParams;break;default:en=X||null}return null!==en&&(en=this.removeEmptyProps(en)),function(x,C,v,N,$){if(0===v.length)return ws(C.root,C.root,C,N,$);const X=function(x){if("string"==typeof x[0]&&1===x.length&&"/"===x[0])return new Bi(!0,0,x);let C=0,v=!1;const N=x.reduce(($,X,de)=>{if("object"==typeof X&&null!=X){if(X.outlets){const $e={};return Pr(X.outlets,(yt,hn)=>{$e[hn]="string"==typeof yt?yt.split("/"):yt}),[...$,{outlets:$e}]}if(X.segmentPath)return[...$,X.segmentPath]}return"string"!=typeof X?[...$,X]:0===de?(X.split("/").forEach(($e,yt)=>{0==yt&&"."===$e||(0==yt&&""===$e?v=!0:".."===$e?C++:""!=$e&&$.push($e))}),$):[...$,X]},[]);return new Bi(v,C,N)}(v);if(X.toRoot())return ws(C.root,new Wt([],{}),C,N,$);const de=function(x,C,v){if(x.isAbsolute)return new bo(C.root,!0,0);if(-1===v.snapshot._lastPathIndex){const X=v.snapshot._urlSegment;return new bo(X,X===C.root,0)}const N=Vs(x.commands[0])?0:1;return function(x,C,v){let N=x,$=C,X=v;for(;X>$;){if(X-=$,N=N.parent,!N)throw new Error("Invalid number of '../'");$=N.segments.length}return new bo(N,!1,$-X)}(v.snapshot._urlSegment,v.snapshot._lastPathIndex+N,x.numberOfDoubleDots)}(X,C,x),$e=de.processChildren?Bs(de.segmentGroup,de.index,X.commands):Rs(de.segmentGroup,de.index,X.commands);return ws(de.segmentGroup,$e,C,N,$)}(hn,this.currentUrlTree,v,en,null!=er?er:null)}navigateByUrl(v,N={skipLocationChange:!1}){const $=Ze(v)?v:this.parseUrl(v),X=this.urlHandlingStrategy.merge($,this.rawUrlTree);return this.scheduleNavigation(X,"imperative",null,N)}navigate(v,N={skipLocationChange:!1}){return function(x){for(let C=0;C<x.length;C++){const v=x[C];if(null==v)throw new Error(`The requested path contains ${v} segment at index ${C}`)}}(v),this.navigateByUrl(this.createUrlTree(v,N),N)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let N;try{N=this.urlSerializer.parse(v)}catch($){N=this.malformedUriErrorHandler($,this.urlSerializer,v)}return N}isActive(v,N){let $;if($=!0===N?Object.assign({},Yi):!1===N?Object.assign({},au):N,Ze(v))return br(this.currentUrlTree,v,$);const X=this.parseUrl(v);return br(this.currentUrlTree,X,$)}removeEmptyProps(v){return Object.keys(v).reduce((N,$)=>{const X=v[$];return null!=X&&(N[$]=X),N},{})}processNavigations(){this.navigations.subscribe(v=>{this.navigated=!0,this.lastSuccessfulId=v.id,this.currentPageId=v.targetPageId,this.events.next(new Bn(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,v.resolve(!0)},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)})}scheduleNavigation(v,N,$,X,de){var $e,yt;if(this.disposed)return Promise.resolve(!1);const hn=this.getTransition(),er=ma(N)&&hn&&!ma(hn.source),Nn=(this.lastSuccessfulId===hn.id||this.currentNavigation?hn.rawUrl:hn.urlAfterRedirects).toString()===v.toString();if(er&&Nn)return Promise.resolve(!0);let Ds,Do,Vn;de?(Ds=de.resolve,Do=de.reject,Vn=de.promise):Vn=new Promise((Kr,So)=>{Ds=Kr,Do=So});const La=++this.navigationId;let $i;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&($=this.location.getState()),$i=$&&$.\u0275routerPageId?$.\u0275routerPageId:X.replaceUrl||X.skipLocationChange?null!==($e=this.browserPageId)&&void 0!==$e?$e:0:(null!==(yt=this.browserPageId)&&void 0!==yt?yt:0)+1):$i=0,this.setTransition({id:La,targetPageId:$i,source:N,restoredState:$,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:v,extras:X,resolve:Ds,reject:Do,promise:Vn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Vn.catch(Kr=>Promise.reject(Kr))}setBrowserUrl(v,N){const $=this.urlSerializer.serialize(v),X=Object.assign(Object.assign({},N.extras.state),this.generateNgRouterState(N.id,N.targetPageId));this.location.isCurrentPathEqualTo($)||N.extras.replaceUrl?this.location.replaceState($,"",X):this.location.go($,"",X)}restoreHistory(v,N=!1){var $,X;if("computed"===this.canceledNavigationResolution){const de=this.currentPageId-v.targetPageId;"popstate"!==v.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===($=this.currentNavigation)||void 0===$?void 0:$.finalUrl)||0===de?this.currentUrlTree===(null===(X=this.currentNavigation)||void 0===X?void 0:X.finalUrl)&&0===de&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(de)}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(v,N){const $=new Mn(v.id,this.serializeUrl(v.extractedUrl),N);this.triggerEvent($),v.resolve(!1)}generateNgRouterState(v,N){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:N}:{navigationId:v}}}return x.\u0275fac=function(v){return new(v||x)(w.LFG(w.DyG),w.LFG(ft),w.LFG(wo),w.LFG(y.Ye),w.LFG(w.zs3),w.LFG(w.v3s),w.LFG(w.Sil),w.LFG(void 0))},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac}),x})();function ma(x){return"imperative"!==x}let Lo=(()=>{class x{constructor(v,N,$){this.router=v,this.route=N,this.locationStrategy=$,this.commands=[],this.onChanges=new Mt.xQ,this.subscription=v.events.subscribe(X=>{X instanceof Bn&&this.updateTargetUrlAndHref()})}set routerLink(v){this.commands=null!=v?Array.isArray(v)?v:[v]:[]}ngOnChanges(v){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(v,N,$,X,de){if(0!==v||N||$||X||de||"string"==typeof this.target&&"_self"!=this.target)return!0;const $e={skipLocationChange:To(this.skipLocationChange),replaceUrl:To(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,$e),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:To(this.preserveFragment)})}}return x.\u0275fac=function(v){return new(v||x)(w.Y36(Mr),w.Y36(Jn),w.Y36(y.S$))},x.\u0275dir=w.lG2({type:x,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(v,N){1&v&&w.NdJ("click",function(X){return N.onClick(X.button,X.ctrlKey,X.shiftKey,X.altKey,X.metaKey)}),2&v&&(w.Ikx("href",N.href,w.LSH),w.uIk("target",N.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[w.TTD]}),x})();function To(x){return""===x||!!x}let _a=(()=>{class x{constructor(v,N,$,X,de){this.parentContexts=v,this.location=N,this.resolver=$,this.changeDetector=de,this.activated=null,this._activatedRoute=null,this.activateEvents=new w.vpe,this.deactivateEvents=new w.vpe,this.name=X||bn,v.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const v=this.parentContexts.getContext(this.name);v&&v.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,v}attach(v,N){this.activated=v,this._activatedRoute=N,this.location.insert(v.hostView)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,N){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=v;const de=(N=N||this.resolver).resolveComponentFactory(v._futureSnapshot.routeConfig.component),$e=this.parentContexts.getOrCreateContext(this.name).children,yt=new ms(v,$e,this.location.injector);this.activated=this.location.createComponent(de,this.location.length,yt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return x.\u0275fac=function(v){return new(v||x)(w.Y36(wo),w.Y36(w.s_b),w.Y36(w._Vd),w.$8M("name"),w.Y36(w.sBO))},x.\u0275dir=w.lG2({type:x,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),x})();class ms{constructor(C,v,N){this.route=C,this.childContexts=v,this.parent=N}get(C,v){return C===Jn?this.route:C===wo?this.childContexts:this.parent.get(C,v)}}class Fa{}class fi{preload(C,v){return(0,xe.of)(null)}}let Zs=(()=>{class x{constructor(v,N,$,X,de){this.router=v,this.injector=X,this.preloadingStrategy=de,this.loader=new ka(N,$,hn=>v.triggerEvent(new pt(hn)),hn=>v.triggerEvent(new Qe(hn)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,xt.h)(v=>v instanceof Bn),(0,dt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const v=this.injector.get(w.h0i);return this.processRoutes(v,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,N){const $=[];for(const X of N)if(X.loadChildren&&!X.canLoad&&X._loadedConfig){const de=X._loadedConfig;$.push(this.processRoutes(de.module,de.routes))}else X.loadChildren&&!X.canLoad?$.push(this.preloadConfig(v,X)):X.children&&$.push(this.processRoutes(v,X.children));return(0,We.D)($).pipe((0,wt.J)(),(0,te.U)(X=>{}))}preloadConfig(v,N){return this.preloadingStrategy.preload(N,()=>(N._loadedConfig?(0,xe.of)(N._loadedConfig):this.loader.load(v.injector,N)).pipe((0,ze.zg)(X=>(N._loadedConfig=X,this.processRoutes(X.module,X.routes)))))}}return x.\u0275fac=function(v){return new(v||x)(w.LFG(Mr),w.LFG(w.v3s),w.LFG(w.Sil),w.LFG(w.zs3),w.LFG(Fa))},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac}),x})(),rs=(()=>{class x{constructor(v,N,$={}){this.router=v,this.viewportScroller=N,this.options=$,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},$.scrollPositionRestoration=$.scrollPositionRestoration||"disabled",$.anchorScrolling=$.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(v=>{v instanceof _n?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof Bn&&(this.lastId=v.id,this.scheduleScrollEvent(v,this.router.parseUrl(v.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(v=>{v instanceof Tn&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,N){this.router.triggerEvent(new Tn(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return x.\u0275fac=function(v){return new(v||x)(w.LFG(Mr),w.LFG(y.EM),w.LFG(void 0))},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac}),x})();const Co=new w.OlP("ROUTER_CONFIGURATION"),Kt=new w.OlP("ROUTER_FORROOT_GUARD"),co=[y.Ye,{provide:ft,useClass:Dn},{provide:Mr,useFactory:function(x,C,v,N,$,X,de,$e={},yt,hn){const er=new Mr(null,x,C,v,N,$,X,Oi(de));return yt&&(er.urlHandlingStrategy=yt),hn&&(er.routeReuseStrategy=hn),function(x,C){x.errorHandler&&(C.errorHandler=x.errorHandler),x.malformedUriErrorHandler&&(C.malformedUriErrorHandler=x.malformedUriErrorHandler),x.onSameUrlNavigation&&(C.onSameUrlNavigation=x.onSameUrlNavigation),x.paramsInheritanceStrategy&&(C.paramsInheritanceStrategy=x.paramsInheritanceStrategy),x.relativeLinkResolution&&(C.relativeLinkResolution=x.relativeLinkResolution),x.urlUpdateStrategy&&(C.urlUpdateStrategy=x.urlUpdateStrategy)}($e,er),$e.enableTracing&&er.events.subscribe(en=>{var ni,Nn;null===(ni=console.group)||void 0===ni||ni.call(console,`Router Event: ${en.constructor.name}`),console.log(en.toString()),console.log(en),null===(Nn=console.groupEnd)||void 0===Nn||Nn.call(console)}),er},deps:[ft,wo,y.Ye,w.zs3,w.v3s,w.Sil,oo,Co,[class{},new w.FiY],[class{},new w.FiY]]},wo,{provide:Jn,useFactory:function(x){return x.routerState.root},deps:[Mr]},{provide:w.v3s,useClass:w.EAV},Zs,fi,class{preload(C,v){return v().pipe(Je(()=>(0,xe.of)(null)))}},{provide:Co,useValue:{enableTracing:!1}}];function Ts(){return new w.PXZ("Router",Mr)}let Rn=(()=>{class x{constructor(v,N){}static forRoot(v,N){return{ngModule:x,providers:[co,mt(v),{provide:Kt,useFactory:on,deps:[[Mr,new w.FiY,new w.tp0]]},{provide:Co,useValue:N||{}},{provide:y.S$,useFactory:Wo,deps:[y.lw,[new w.tBr(y.mr),new w.FiY],Co]},{provide:rs,useFactory:Zn,deps:[Mr,y.EM,Co]},{provide:Fa,useExisting:N&&N.preloadingStrategy?N.preloadingStrategy:fi},{provide:w.PXZ,multi:!0,useFactory:Ts},[xs,{provide:w.ip1,multi:!0,useFactory:uu,deps:[xs]},{provide:Io,useFactory:Wa,deps:[xs]},{provide:w.tb,multi:!0,useExisting:Io}]]}}static forChild(v){return{ngModule:x,providers:[mt(v)]}}}return x.\u0275fac=function(v){return new(v||x)(w.LFG(Kt,8),w.LFG(Mr,8))},x.\u0275mod=w.oAB({type:x}),x.\u0275inj=w.cJS({}),x})();function Zn(x,C,v){return v.scrollOffset&&C.setOffset(v.scrollOffset),new rs(x,C,v)}function Wo(x,C,v={}){return v.useHash?new y.Do(x,C):new y.b0(x,C)}function on(x){return"guarded"}function mt(x){return[{provide:w.deG,multi:!0,useValue:x},{provide:oo,multi:!0,useValue:x}]}let xs=(()=>{class x{constructor(v){this.injector=v,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Mt.xQ}appInitializer(){return this.injector.get(y.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let N=null;const $=new Promise($e=>N=$e),X=this.injector.get(Mr),de=this.injector.get(Co);return"disabled"===de.initialNavigation?(X.setUpLocationChangeListener(),N(!0)):"enabled"===de.initialNavigation||"enabledBlocking"===de.initialNavigation?(X.hooks.afterPreactivation=()=>this.initNavigation?(0,xe.of)(null):(this.initNavigation=!0,N(!0),this.resultOfPreactivationDone),X.initialNavigation()):N(!0),$})}bootstrapListener(v){const N=this.injector.get(Co),$=this.injector.get(Zs),X=this.injector.get(rs),de=this.injector.get(Mr),$e=this.injector.get(w.z2F);v===$e.components[0]&&(("enabledNonBlocking"===N.initialNavigation||void 0===N.initialNavigation)&&de.initialNavigation(),$.setUpPreloading(),X.init(),de.resetRootComponentType($e.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return x.\u0275fac=function(v){return new(v||x)(w.LFG(w.zs3))},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac}),x})();function uu(x){return x.appInitializer.bind(x)}function Wa(x){return x.bootstrapListener.bind(x)}const Io=new w.OlP("Router Initializer")},3854:(Dt,Ve,O)=>{"use strict";O.d(Ve,{BH:()=>qe,LL:()=>De,ZR:()=>Je,zI:()=>ye,US:()=>Ce,tV:()=>he,$s:()=>Mn,r3:()=>lr,Sg:()=>Ne,ne:()=>cr,vZ:()=>Jt,ZB:()=>Y,pd:()=>Un,m9:()=>vn,z$:()=>ct,jU:()=>We,ru:()=>xe,d:()=>Ue,xb:()=>cn,w1:()=>st,hl:()=>ne,uI:()=>Re,UG:()=>Oe,b$:()=>Le,G6:()=>Mt,Mn:()=>ot,xO:()=>Wn,zd:()=>kr,eu:()=>oe});const we=function(Ee){const Pe=[];let Fe=0;for(let pt=0;pt<Ee.length;pt++){let Qe=Ee.charCodeAt(pt);Qe<128?Pe[Fe++]=Qe:Qe<2048?(Pe[Fe++]=Qe>>6|192,Pe[Fe++]=63&Qe|128):55296==(64512&Qe)&&pt+1<Ee.length&&56320==(64512&Ee.charCodeAt(pt+1))?(Qe=65536+((1023&Qe)<<10)+(1023&Ee.charCodeAt(++pt)),Pe[Fe++]=Qe>>18|240,Pe[Fe++]=Qe>>12&63|128,Pe[Fe++]=Qe>>6&63|128,Pe[Fe++]=63&Qe|128):(Pe[Fe++]=Qe>>12|224,Pe[Fe++]=Qe>>6&63|128,Pe[Fe++]=63&Qe|128)}return Pe},Ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ee,Pe){if(!Array.isArray(Ee))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Fe=Pe?this.byteToCharMapWebSafe_:this.byteToCharMap_,pt=[];for(let Qe=0;Qe<Ee.length;Qe+=3){const Nt=Ee[Qe],nn=Qe+1<Ee.length,pr=nn?Ee[Qe+1]:0,dr=Qe+2<Ee.length,Tn=dr?Ee[Qe+2]:0;let Gn=(15&pr)<<2|Tn>>6,nr=63&Tn;dr||(nr=64,nn||(Gn=64)),pt.push(Fe[Nt>>2],Fe[(3&Nt)<<4|pr>>4],Fe[Gn],Fe[nr])}return pt.join("")},encodeString(Ee,Pe){return this.HAS_NATIVE_SUPPORT&&!Pe?btoa(Ee):this.encodeByteArray(we(Ee),Pe)},decodeString(Ee,Pe){return this.HAS_NATIVE_SUPPORT&&!Pe?atob(Ee):function(Ee){const Pe=[];let Fe=0,pt=0;for(;Fe<Ee.length;){const Qe=Ee[Fe++];if(Qe<128)Pe[pt++]=String.fromCharCode(Qe);else if(Qe>191&&Qe<224){const Nt=Ee[Fe++];Pe[pt++]=String.fromCharCode((31&Qe)<<6|63&Nt)}else if(Qe>239&&Qe<365){const dr=((7&Qe)<<18|(63&Ee[Fe++])<<12|(63&Ee[Fe++])<<6|63&Ee[Fe++])-65536;Pe[pt++]=String.fromCharCode(55296+(dr>>10)),Pe[pt++]=String.fromCharCode(56320+(1023&dr))}else{const Nt=Ee[Fe++],nn=Ee[Fe++];Pe[pt++]=String.fromCharCode((15&Qe)<<12|(63&Nt)<<6|63&nn)}}return Pe.join("")}(this.decodeStringToByteArray(Ee,Pe))},decodeStringToByteArray(Ee,Pe){this.init_();const Fe=Pe?this.charToByteMapWebSafe_:this.charToByteMap_,pt=[];for(let Qe=0;Qe<Ee.length;){const Nt=Fe[Ee.charAt(Qe++)],pr=Qe<Ee.length?Fe[Ee.charAt(Qe)]:0;++Qe;const Tn=Qe<Ee.length?Fe[Ee.charAt(Qe)]:64;++Qe;const Qn=Qe<Ee.length?Fe[Ee.charAt(Qe)]:64;if(++Qe,null==Nt||null==pr||null==Tn||null==Qn)throw Error();pt.push(Nt<<2|pr>>4),64!==Tn&&(pt.push(pr<<4&240|Tn>>2),64!==Qn&&pt.push(Tn<<6&192|Qn))}return pt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ee=0;Ee<this.ENCODED_VALS.length;Ee++)this.byteToCharMap_[Ee]=this.ENCODED_VALS.charAt(Ee),this.charToByteMap_[this.byteToCharMap_[Ee]]=Ee,this.byteToCharMapWebSafe_[Ee]=this.ENCODED_VALS_WEBSAFE.charAt(Ee),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ee]]=Ee,Ee>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ee)]=Ee,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ee)]=Ee)}}},Te=function(Ee){return function(Ee){const Pe=we(Ee);return Ce.encodeByteArray(Pe,!0)}(Ee).replace(/\./g,"")},he=function(Ee){try{return Ce.decodeString(Ee,!0)}catch(Pe){console.error("base64Decode failed: ",Pe)}return null};function Y(Ee,Pe){if(!(Pe instanceof Object))return Pe;switch(Pe.constructor){case Date:return new Date(Pe.getTime());case Object:void 0===Ee&&(Ee={});break;case Array:Ee=[];break;default:return Pe}for(const Fe in Pe)!Pe.hasOwnProperty(Fe)||!pe(Fe)||(Ee[Fe]=Y(Ee[Fe],Pe[Fe]));return Ee}function pe(Ee){return"__proto__"!==Ee}class qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Pe,Fe)=>{this.resolve=Pe,this.reject=Fe})}wrapCallback(Pe){return(Fe,pt)=>{Fe?this.reject(Fe):this.resolve(pt),"function"==typeof Pe&&(this.promise.catch(()=>{}),1===Pe.length?Pe(Fe):Pe(Fe,pt))}}}function Ne(Ee,Pe){if(Ee.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const pt=Pe||"demo-project",Qe=Ee.iat||0,Nt=Ee.sub||Ee.user_id;if(!Nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const nn=Object.assign({iss:`https://securetoken.google.com/${pt}`,aud:pt,iat:Qe,exp:Qe+3600,auth_time:Qe,sub:Nt,user_id:Nt,firebase:{sign_in_provider:"custom",identities:{}}},Ee);return[Te(JSON.stringify({alg:"none",type:"JWT"})),Te(JSON.stringify(nn)),""].join(".")}function ct(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Re(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function Oe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Ee){return!1}}function We(){return"object"==typeof self&&self.self===self}function xe(){const Ee="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ee&&void 0!==Ee.id}function Le(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ue(){return ct().indexOf("Electron/")>=0}function st(){const Ee=ct();return Ee.indexOf("MSIE ")>=0||Ee.indexOf("Trident/")>=0}function ot(){return ct().indexOf("MSAppHost/")>=0}function Mt(){return!Oe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ne(){return"object"==typeof indexedDB}function oe(){return new Promise((Ee,Pe)=>{try{let Fe=!0;const pt="validate-browser-context-for-indexeddb-analytics-module",Qe=self.indexedDB.open(pt);Qe.onsuccess=()=>{Qe.result.close(),Fe||self.indexedDB.deleteDatabase(pt),Ee(!0)},Qe.onupgradeneeded=()=>{Fe=!1},Qe.onerror=()=>{var Nt;Pe((null===(Nt=Qe.error)||void 0===Nt?void 0:Nt.message)||"")}}catch(Fe){Pe(Fe)}})}function ye(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Je extends Error{constructor(Pe,Fe,pt){super(Fe),this.code=Pe,this.customData=pt,this.name="FirebaseError",Object.setPrototypeOf(this,Je.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,De.prototype.create)}}class De{constructor(Pe,Fe,pt){this.service=Pe,this.serviceName=Fe,this.errors=pt}create(Pe,...Fe){const pt=Fe[0]||{},Qe=`${this.service}/${Pe}`,Nt=this.errors[Pe],nn=Nt?function(Ee,Pe){return Ee.replace(xt,(Fe,pt)=>{const Qe=Pe[pt];return null!=Qe?String(Qe):`<${pt}?>`})}(Nt,pt):"Error";return new Je(Qe,`${this.serviceName}: ${nn} (${Qe}).`,pt)}}const xt=/\{\$([^}]+)}/g;function lr(Ee,Pe){return Object.prototype.hasOwnProperty.call(Ee,Pe)}function cn(Ee){for(const Pe in Ee)if(Object.prototype.hasOwnProperty.call(Ee,Pe))return!1;return!0}function Jt(Ee,Pe){if(Ee===Pe)return!0;const Fe=Object.keys(Ee),pt=Object.keys(Pe);for(const Qe of Fe){if(!pt.includes(Qe))return!1;const Nt=Ee[Qe],nn=Pe[Qe];if(Cr(Nt)&&Cr(nn)){if(!Jt(Nt,nn))return!1}else if(Nt!==nn)return!1}for(const Qe of pt)if(!Fe.includes(Qe))return!1;return!0}function Cr(Ee){return null!==Ee&&"object"==typeof Ee}function Wn(Ee){const Pe=[];for(const[Fe,pt]of Object.entries(Ee))Array.isArray(pt)?pt.forEach(Qe=>{Pe.push(encodeURIComponent(Fe)+"="+encodeURIComponent(Qe))}):Pe.push(encodeURIComponent(Fe)+"="+encodeURIComponent(pt));return Pe.length?"&"+Pe.join("&"):""}function kr(Ee){const Pe={};return Ee.replace(/^\?/,"").split("&").forEach(pt=>{if(pt){const[Qe,Nt]=pt.split("=");Pe[decodeURIComponent(Qe)]=decodeURIComponent(Nt)}}),Pe}function Un(Ee){const Pe=Ee.indexOf("?");if(!Pe)return"";const Fe=Ee.indexOf("#",Pe);return Ee.substring(Pe,Fe>0?Fe:void 0)}function cr(Ee,Pe){const Fe=new Rr(Ee,Pe);return Fe.subscribe.bind(Fe)}class Rr{constructor(Pe,Fe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Fe,this.task.then(()=>{Pe(this)}).catch(pt=>{this.error(pt)})}next(Pe){this.forEachObserver(Fe=>{Fe.next(Pe)})}error(Pe){this.forEachObserver(Fe=>{Fe.error(Pe)}),this.close(Pe)}complete(){this.forEachObserver(Pe=>{Pe.complete()}),this.close()}subscribe(Pe,Fe,pt){let Qe;if(void 0===Pe&&void 0===Fe&&void 0===pt)throw new Error("Missing Observer.");Qe=function(Ee,Pe){if("object"!=typeof Ee||null===Ee)return!1;for(const Fe of["next","error","complete"])if(Fe in Ee&&"function"==typeof Ee[Fe])return!0;return!1}(Pe)?Pe:{next:Pe,error:Fe,complete:pt},void 0===Qe.next&&(Qe.next=jt),void 0===Qe.error&&(Qe.error=jt),void 0===Qe.complete&&(Qe.complete=jt);const Nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Qe.error(this.finalError):Qe.complete()}catch(nn){}}),this.observers.push(Qe),Nt}unsubscribeOne(Pe){void 0===this.observers||void 0===this.observers[Pe]||(delete this.observers[Pe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Pe){if(!this.finalized)for(let Fe=0;Fe<this.observers.length;Fe++)this.sendOne(Fe,Pe)}sendOne(Pe,Fe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Pe])try{Fe(this.observers[Pe])}catch(pt){"undefined"!=typeof console&&console.error&&console.error(pt)}})}close(Pe){this.finalized||(this.finalized=!0,void 0!==Pe&&(this.finalError=Pe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jt(){}function Mn(Ee,Pe=1e3,Fe=2){const pt=Pe*Math.pow(Fe,Ee),Qe=Math.round(.5*pt*(Math.random()-.5)*2);return Math.min(144e5,pt+Qe)}function vn(Ee){return Ee&&Ee._delegate?Ee._delegate:Ee}},2329:(Dt,Ve,O)=>{"use strict";O.d(Ve,{Mq:()=>y.getApp,C6:()=>y.getApps});var y=O(8026);(0,y.registerVersion)("firebase","9.5.0","app")},7841:(Dt,Ve,O)=>{"use strict";O.d(Ve,{Z:()=>y.Z});var y=O(3394);y.Z.registerVersion("firebase","9.5.0","app-compat")},4691:(Dt,Ve,O)=>{"use strict";O.r(Ve);var y=O(8239),w=O(3394),K=O(3854),we=O(8026),fe=O(4762),Ce=O(5422),Me=O(3910);const ct=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Re=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Oe=new K.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xe=new Ce.Yd("@firebase/auth");function Le(E,...d){xe.logLevel<=Ce.in.ERROR&&xe.error(`Auth (${we.SDK_VERSION}): ${E}`,...d)}function Ue(E,...d){throw Mt(E,...d)}function st(E,...d){return Mt(E,...d)}function ot(E,d,p){const T=Object.assign(Object.assign({},Re()),{[d]:p});return new K.LL("auth","Firebase",T).create(d,{appName:E.name})}function $t(E,d,p){if(!(d instanceof p))throw p.name!==d.constructor.name&&Ue(E,"argument-error"),ot(E,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mt(E,...d){if("string"!=typeof E){const p=d[0],T=[...d.slice(1)];return T[0]&&(T[0].appName=E.name),E._errorFactory.create(p,...T)}return Oe.create(E,...d)}function ne(E,d,...p){if(!E)throw Mt(d,...p)}function oe(E){const d="INTERNAL ASSERTION FAILED: "+E;throw Le(d),new Error(d)}function ye(E,d){E||oe(d)}const me=new Map;function _e(E){ye(E instanceof Function,"Expected a class definition");let d=me.get(E);return d?(ye(d instanceof E,"Instance stored in cache mismatched with class"),d):(d=new E,me.set(E,d),d)}function at(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function xt(){return"http:"===Bt()||"https:"===Bt()}function Bt(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class Fn{constructor(d,p){this.shortDelay=d,this.longDelay=p,ye(p>d,"Short delay should be less than long delay!"),this.isMobile=(0,K.uI)()||(0,K.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(xt()||(0,K.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function rn(E,d){ye(E.emulator,"Emulator should always be set here");const{url:p}=E.emulator;return d?`${p}${d.startsWith("/")?d.slice(1):d}`:p}class tr{static initialize(d,p,T){this.fetchImpl=d,p&&(this.headersImpl=p),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void oe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void oe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void oe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},lr=new Fn(3e4,6e4);function Qt(E,d){return E.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:E.tenantId}):d}function cn(E,d,p,T){return an.apply(this,arguments)}function an(){return(an=(0,y.Z)(function*(E,d,p,T,z={}){return Jt(E,z,()=>{let se={},Ke={};T&&("GET"===d?Ke=T:se={body:JSON.stringify(T)});const _t=(0,K.xO)(Object.assign({key:E.config.apiKey},Ke)).slice(1),Yt=new(tr.headers());return Yt.set("Content-Type","application/json"),Yt.set("X-Client-Version",E._getSdkClientVersion()),E.languageCode&&Yt.set("X-Firebase-Locale",E.languageCode),tr.fetch()(Un(E,E.config.apiHost,p,_t),Object.assign({method:d,headers:Yt,referrerPolicy:"no-referrer"},se))})})).apply(this,arguments)}function Jt(E,d,p){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,y.Z)(function*(E,d,p){E._canInitEmulator=!1;const T=Object.assign(Object.assign({},zt),d);try{const z=new oi(E),se=yield Promise.race([p(),z.promise]);z.clearNetworkTimeout();const Ke=yield se.json();if("needConfirmation"in Ke)throw cr(E,"account-exists-with-different-credential",Ke);if(se.ok&&!("errorMessage"in Ke))return Ke;{const _t=se.ok?Ke.errorMessage:Ke.error.message,[Yt,mn]=_t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Yt)throw cr(E,"credential-already-in-use",Ke);if("EMAIL_EXISTS"===Yt)throw cr(E,"email-already-in-use",Ke);const xn=T[Yt]||Yt.toLowerCase().replace(/[_\s]+/g,"-");if(mn)throw ot(E,xn,mn);Ue(E,xn)}}catch(z){if(z instanceof K.ZR)throw z;Ue(E,"network-request-failed")}})).apply(this,arguments)}function Wn(E,d,p,T){return kr.apply(this,arguments)}function kr(){return(kr=(0,y.Z)(function*(E,d,p,T,z={}){const se=yield cn(E,d,p,T,z);return"mfaPendingCredential"in se&&Ue(E,"multi-factor-auth-required",{_serverResponse:se}),se})).apply(this,arguments)}function Un(E,d,p,T){const z=`${d}${p}?${T}`;return E.config.emulator?rn(E.config,z):`${E.config.apiScheme}://${z}`}class oi{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((p,T)=>{this.timer=setTimeout(()=>T(st(this.auth,"timeout")),lr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cr(E,d,p){const T={appName:E.name};p.email&&(T.email=p.email),p.phoneNumber&&(T.phoneNumber=p.phoneNumber);const z=st(E,d,T);return z.customData._tokenResponse=p,z}function or(){return(or=(0,y.Z)(function*(E,d){return cn(E,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function fr(E,d){return jt.apply(this,arguments)}function jt(){return(jt=(0,y.Z)(function*(E,d){return cn(E,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Ht(E,d){return ve.apply(this,arguments)}function ve(){return(ve=(0,y.Z)(function*(E,d){return cn(E,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function te(E){if(E)try{const d=new Date(Number(E));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function ze(){return(ze=(0,y.Z)(function*(E,d=!1){const p=(0,K.m9)(E),T=yield p.getIdToken(d),z=wt(T);ne(z&&z.exp&&z.auth_time&&z.iat,p.auth,"internal-error");const se="object"==typeof z.firebase?z.firebase:void 0,Ke=null==se?void 0:se.sign_in_provider;return{claims:z,token:T,authTime:te(Ft(z.auth_time)),issuedAtTime:te(Ft(z.iat)),expirationTime:te(Ft(z.exp)),signInProvider:Ke||null,signInSecondFactor:(null==se?void 0:se.sign_in_second_factor)||null}})).apply(this,arguments)}function Ft(E){return 1e3*Number(E)}function wt(E){const[d,p,T]=E.split(".");if(void 0===d||void 0===p||void 0===T)return Le("JWT malformed, contained fewer than 3 sections"),null;try{const z=(0,K.tV)(p);return z?JSON.parse(z):(Le("Failed to decode base64 JWT payload"),null)}catch(z){return Le("Caught error parsing JWT payload as JSON",z),null}}function _n(E,d){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,y.Z)(function*(E,d,p=!1){if(p)return d;try{return yield d}catch(T){throw T instanceof K.ZR&&Mn(T)&&E.auth.currentUser===E&&(yield E.auth.signOut()),T}})).apply(this,arguments)}function Mn({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}class Hn{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var p;if(d){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const z=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,z)}}schedule(d=!1){var p=this;if(!this.isRunning)return;const T=this.getInterval(d);this.timerId=setTimeout((0,y.Z)(function*(){yield p.iteration()}),T)}iteration(){var d=this;return(0,y.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p.code&&d.schedule(!0))}d.schedule()})()}}class ir{constructor(d,p){this.createdAt=d,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=te(this.lastLoginAt),this.creationTime=te(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function vn(E){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,y.Z)(function*(E){var d;const p=E.auth,T=yield E.getIdToken(),z=yield _n(E,Ht(p,{idToken:T}));ne(null==z?void 0:z.users.length,p,"internal-error");const se=z.users[0];E._notifyReloadListener(se);const Ke=(null===(d=se.providerUserInfo)||void 0===d?void 0:d.length)?Qe(se.providerUserInfo):[],_t=pt(E.providerData,Ke),xn=!!E.isAnonymous&&!(E.email&&se.passwordHash||(null==_t?void 0:_t.length)),Ln={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:_t,metadata:new ir(se.createdAt,se.lastLoginAt),isAnonymous:xn};Object.assign(E,Ln)})).apply(this,arguments)}function Fe(){return(Fe=(0,y.Z)(function*(E){const d=(0,K.m9)(E);yield vn(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function pt(E,d){return[...E.filter(T=>!d.some(z=>z.providerId===T.providerId)),...d]}function Qe(E){return E.map(d=>{var{providerId:p}=d,T=(0,fe._T)(d,["providerId"]);return{providerId:p,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function nn(){return(nn=(0,y.Z)(function*(E,d){const p=yield Jt(E,{},()=>{const T=(0,K.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:z,apiKey:se}=E.config,Ke=Un(E,z,"/v1/token",`key=${se}`);return tr.fetch()(Ke,{method:"POST",headers:{"X-Client-Version":E._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:T})});return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class pr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){ne(d.idToken,"internal-error"),ne(void 0!==d.idToken,"internal-error"),ne(void 0!==d.refreshToken,"internal-error");const p="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function(E){const d=wt(E);return ne(d,"internal-error"),ne(void 0!==d.exp,"internal-error"),ne(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,p)}getToken(d,p=!1){var T=this;return(0,y.Z)(function*(){return ne(!T.accessToken||T.refreshToken,d,"user-token-expired"),p||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(d,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,p){var T=this;return(0,y.Z)(function*(){const{accessToken:z,refreshToken:se,expiresIn:Ke}=yield function(E,d){return nn.apply(this,arguments)}(d,p);T.updateTokensAndExpiration(z,se,Number(Ke))})()}updateTokensAndExpiration(d,p,T){this.refreshToken=p||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(d,p){const{refreshToken:T,accessToken:z,expirationTime:se}=p,Ke=new pr;return T&&(ne("string"==typeof T,"internal-error",{appName:d}),Ke.refreshToken=T),z&&(ne("string"==typeof z,"internal-error",{appName:d}),Ke.accessToken=z),se&&(ne("number"==typeof se,"internal-error",{appName:d}),Ke.expirationTime=se),Ke}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new pr,this.toJSON())}_performRefresh(){return oe("not implemented")}}function dr(E,d){ne("string"==typeof E||void 0===E,"internal-error",{appName:d})}class Tn{constructor(d){var{uid:p,auth:T,stsTokenManager:z}=d,se=(0,fe._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Hn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=T,this.stsTokenManager=z,this.accessToken=z.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.metadata=new ir(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(d){var p=this;return(0,y.Z)(function*(){const T=yield _n(p,p.stsTokenManager.getToken(p.auth,d));return ne(T,p.auth,"internal-error"),p.accessToken!==T&&(p.accessToken=T,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),T})()}getIdTokenResult(d){return function(E){return ze.apply(this,arguments)}(this,d)}reload(){return function(E){return Fe.apply(this,arguments)}(this)}_assign(d){this!==d&&(ne(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(p=>Object.assign({},p)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new Tn(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,p=!1){var T=this;return(0,y.Z)(function*(){let z=!1;d.idToken&&d.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(d),z=!0),p&&(yield vn(T)),yield T.auth._persistUserIfCurrent(T),z&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var d=this;return(0,y.Z)(function*(){const p=yield d.getIdToken();return yield _n(d,function(E,d){return or.apply(this,arguments)}(d.auth,{idToken:p})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,p){var T,z,se,Ke,_t,Yt,mn,xn;const Ln=null!==(T=p.displayName)&&void 0!==T?T:void 0,Hi=null!==(z=p.email)&&void 0!==z?z:void 0,xo=null!==(se=p.phoneNumber)&&void 0!==se?se:void 0,yu=null!==(Ke=p.photoURL)&&void 0!==Ke?Ke:void 0,vh=null!==(_t=p.tenantId)&&void 0!==_t?_t:void 0,tl=null!==(Yt=p._redirectEventId)&&void 0!==Yt?Yt:void 0,Qo=null!==(mn=p.createdAt)&&void 0!==mn?mn:void 0,Ut=null!==(xn=p.lastLoginAt)&&void 0!==xn?xn:void 0,{uid:Dl,emailVerified:Ca,isAnonymous:md,providerData:Sl,stsTokenManager:_u}=p;ne(Dl&&_u,d,"internal-error");const up=pr.fromJSON(this.name,_u);ne("string"==typeof Dl,d,"internal-error"),dr(Ln,d.name),dr(Hi,d.name),ne("boolean"==typeof Ca,d,"internal-error"),ne("boolean"==typeof md,d,"internal-error"),dr(xo,d.name),dr(yu,d.name),dr(vh,d.name),dr(tl,d.name),dr(Qo,d.name),dr(Ut,d.name);const vu=new Tn({uid:Dl,auth:d,email:Hi,emailVerified:Ca,displayName:Ln,isAnonymous:md,photoURL:yu,phoneNumber:xo,tenantId:vh,stsTokenManager:up,createdAt:Qo,lastLoginAt:Ut});return Sl&&Array.isArray(Sl)&&(vu.providerData=Sl.map(Eh=>Object.assign({},Eh))),tl&&(vu._redirectEventId=tl),vu}static _fromIdTokenResponse(d,p,T=!1){return(0,y.Z)(function*(){const z=new pr;z.updateFromServerResponse(p);const se=new Tn({uid:p.localId,auth:d,stsTokenManager:z,isAnonymous:T});return yield vn(se),se})()}}const Qn=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.Z)(function*(){return!0})()}_set(p,T){var z=this;return(0,y.Z)(function*(){z.storage[p]=T})()}_get(p){var T=this;return(0,y.Z)(function*(){const z=T.storage[p];return void 0===z?null:z})()}_remove(p){var T=this;return(0,y.Z)(function*(){delete T.storage[p]})()}_addListener(p,T){}_removeListener(p,T){}}return E.type="NONE",E})();function Gn(E,d,p){return`firebase:${E}:${d}:${p}`}class nr{constructor(d,p,T){this.persistence=d,this.auth=p,this.userKey=T;const{config:z,name:se}=this.auth;this.fullUserKey=Gn(this.userKey,z.apiKey,se),this.fullPersistenceKey=Gn("persistence",z.apiKey,se),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,y.Z)(function*(){const p=yield d.persistence._get(d.fullUserKey);return p?Tn._fromJSON(d.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var p=this;return(0,y.Z)(function*(){if(p.persistence===d)return;const T=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=d,T?p.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,p,T="authUser"){return(0,y.Z)(function*(){if(!p.length)return new nr(_e(Qn),d,T);const z=(yield Promise.all(p.map(function(){var mn=(0,y.Z)(function*(xn){if(yield xn._isAvailable())return xn});return function(xn){return mn.apply(this,arguments)}}()))).filter(mn=>mn);let se=z[0]||_e(Qn);const Ke=Gn(T,d.config.apiKey,d.name);let _t=null;for(const mn of p)try{const xn=yield mn._get(Ke);if(xn){const Ln=Tn._fromJSON(d,xn);mn!==se&&(_t=Ln),se=mn;break}}catch(xn){}const Yt=z.filter(mn=>mn._shouldAllowMigration);return se._shouldAllowMigration&&Yt.length?(se=Yt[0],_t&&(yield se._set(Ke,_t.toJSON())),yield Promise.all(p.map(function(){var mn=(0,y.Z)(function*(xn){if(xn!==se)try{yield xn._remove(Ke)}catch(Ln){}});return function(xn){return mn.apply(this,arguments)}}())),new nr(se,d,T)):new nr(se,d,T)})()}}function Fr(E){const d=E.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(jr(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(ai(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(Oi(d))return"Blackberry";if(Lr(d))return"Webos";if(ui(d))return"Safari";if((d.includes("chrome/")||ds(d))&&!d.includes("edge/"))return"Chrome";if(li(d))return"Android";{const T=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==T?void 0:T.length))return T[1]}return"Other"}function ai(E=(0,K.z$)()){return/firefox\//i.test(E)}function ui(E=(0,K.z$)()){const d=E.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function ds(E=(0,K.z$)()){return/crios\//i.test(E)}function jr(E=(0,K.z$)()){return/iemobile/i.test(E)}function li(E=(0,K.z$)()){return/android/i.test(E)}function Oi(E=(0,K.z$)()){return/blackberry/i.test(E)}function Lr(E=(0,K.z$)()){return/webos/i.test(E)}function gi(E=(0,K.z$)()){return/iphone|ipad|ipod/i.test(E)}function mi(E=(0,K.z$)()){return gi(E)||li(E)||Lr(E)||Oi(E)||/windows phone/i.test(E)||jr(E)}function br(E,d=[]){let p;switch(E){case"Browser":p=Fr((0,K.z$)());break;case"Worker":p=`${Fr((0,K.z$)())}-${E}`;break;default:p=E}const T=d.length?d.join(","):"FirebaseCore-web";return`${p}/JsCore/${we.SDK_VERSION}/${T}`}class Ji{constructor(d,p){this.app=d,this.config=p,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zr(this),this.idTokenSubscription=new zr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Oe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=p.sdkClientVersion}_initializeWithPersistence(d,p){var T=this;return p&&(this._popupRedirectResolver=_e(p)),this._initializationPromise=this.queue((0,y.Z)(function*(){var z,se;T._deleted||(T.persistenceManager=yield nr.create(T,d),!T._deleted&&((null===(z=T._popupRedirectResolver)||void 0===z?void 0:z._shouldInitProactively)&&(yield T._popupRedirectResolver._initialize(T)),yield T.initializeCurrentUser(p),T.lastNotifiedUid=(null===(se=T.currentUser)||void 0===se?void 0:se.uid)||null,!T._deleted&&(T._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,y.Z)(function*(){if(d._deleted)return;const p=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||p){if(d.currentUser&&p&&d.currentUser.uid===p.uid)return d._currentUser._assign(p),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(p)}})()}initializeCurrentUser(d){var p=this;return(0,y.Z)(function*(){var T;let z=yield p.assertedPersistence.getCurrentUser();if(d&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const se=null===(T=p.redirectUser)||void 0===T?void 0:T._redirectEventId,Ke=null==z?void 0:z._redirectEventId,_t=yield p.tryRedirectSignIn(d);(!se||se===Ke)&&(null==_t?void 0:_t.user)&&(z=_t.user)}return z?z._redirectEventId?(ne(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===z._redirectEventId?p.directlySetCurrentUser(z):p.reloadAndSetCurrentUserOrClear(z)):p.reloadAndSetCurrentUserOrClear(z):p.directlySetCurrentUser(null)})()}tryRedirectSignIn(d){var p=this;return(0,y.Z)(function*(){let T=null;try{T=yield p._popupRedirectResolver._completeRedirectFn(p,d,!0)}catch(z){yield p._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(d){var p=this;return(0,y.Z)(function*(){try{yield vn(d)}catch(T){if("auth/network-request-failed"!==T.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var d=this;return(0,y.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var p=this;return(0,y.Z)(function*(){const T=d?(0,K.m9)(d):null;return T&&ne(T.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(T&&T._clone(p))})()}_updateCurrentUser(d){var p=this;return(0,y.Z)(function*(){if(!p._deleted)return d&&ne(p.tenantId===d.tenantId,p,"tenant-id-mismatch"),p.queue((0,y.Z)(function*(){yield p.directlySetCurrentUser(d),p.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,y.Z)(function*(){return(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null)})()}setPersistence(d){var p=this;return this.queue((0,y.Z)(function*(){yield p.assertedPersistence.setPersistence(_e(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new K.LL("auth","Firebase",d())}onAuthStateChanged(d,p,T){return this.registerStateListener(this.authStateSubscription,d,p,T)}onIdTokenChanged(d,p,T){return this.registerStateListener(this.idTokenSubscription,d,p,T)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,p){var T=this;return(0,y.Z)(function*(){const z=yield T.getOrInitRedirectPersistenceManager(p);return null===d?z.removeCurrentUser():z.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var p=this;return(0,y.Z)(function*(){if(!p.redirectPersistenceManager){const T=d&&_e(d)||p._popupRedirectResolver;ne(T,p,"argument-error"),p.redirectPersistenceManager=yield nr.create(p,[_e(T._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(d){var p=this;return(0,y.Z)(function*(){var T,z;return p._isInitialized&&(yield p.queue((0,y.Z)(function*(){}))),(null===(T=p._currentUser)||void 0===T?void 0:T._redirectEventId)===d?p._currentUser:(null===(z=p.redirectUser)||void 0===z?void 0:z._redirectEventId)===d?p.redirectUser:null})()}_persistUserIfCurrent(d){var p=this;return(0,y.Z)(function*(){if(d===p.currentUser)return p.queue((0,y.Z)(function*(){return p.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(p=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,p,T,z){if(this._deleted)return()=>{};const se="function"==typeof p?p:p.next.bind(p),Ke=this._isInitialized?Promise.resolve():this._initializationPromise;return ne(Ke,this,"internal-error"),Ke.then(()=>se(this.currentUser)),"function"==typeof p?d.addObserver(p,T,z):d.addObserver(p)}directlySetCurrentUser(d){var p=this;return(0,y.Z)(function*(){p.currentUser&&p.currentUser!==d&&(p._currentUser._stopProactiveRefresh(),d&&p.isProactiveRefreshEnabled&&d._startProactiveRefresh()),p.currentUser=d,d?yield p.assertedPersistence.setCurrentUser(d):yield p.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=br(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function gr(E){return(0,K.m9)(E)}class zr{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,K.ne)(p=>this.observer=p)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Wr(E){const d=E.indexOf(":");return d<0?"":E.substr(0,d+1)}function Sn(E){if(!E)return null;const d=Number(E);return isNaN(d)?null:d}class je{constructor(d,p){this.providerId=d,this.signInMethod=p}toJSON(){return oe("not implemented")}_getIdTokenResponse(d){return oe("not implemented")}_linkToIdToken(d,p){return oe("not implemented")}_getReauthenticationResolver(d){return oe("not implemented")}}function He(E,d){return ue.apply(this,arguments)}function ue(){return(ue=(0,y.Z)(function*(E,d){return cn(E,"POST","/v1/accounts:resetPassword",Qt(E,d))})).apply(this,arguments)}function rt(E,d){return ft.apply(this,arguments)}function ft(){return(ft=(0,y.Z)(function*(E,d){return cn(E,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Dn(E,d){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,y.Z)(function*(E,d){return cn(E,"POST","/v1/accounts:update",Qt(E,d))})).apply(this,arguments)}function sr(){return(sr=(0,y.Z)(function*(E,d){return Wn(E,"POST","/v1/accounts:signInWithPassword",Qt(E,d))})).apply(this,arguments)}function Xr(E,d){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,y.Z)(function*(E,d){return cn(E,"POST","/v1/accounts:sendOobCode",Qt(E,d))})).apply(this,arguments)}function Dr(E,d){return ei.apply(this,arguments)}function ei(){return(ei=(0,y.Z)(function*(E,d){return Xr(E,d)})).apply(this,arguments)}function Di(E,d){return $r.apply(this,arguments)}function $r(){return($r=(0,y.Z)(function*(E,d){return Xr(E,d)})).apply(this,arguments)}function ci(E,d){return wr.apply(this,arguments)}function wr(){return(wr=(0,y.Z)(function*(E,d){return Xr(E,d)})).apply(this,arguments)}function vo(E,d){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,y.Z)(function*(E,d){return Xr(E,d)})).apply(this,arguments)}function yi(){return(yi=(0,y.Z)(function*(E,d){return Wn(E,"POST","/v1/accounts:signInWithEmailLink",Qt(E,d))})).apply(this,arguments)}function Xi(){return(Xi=(0,y.Z)(function*(E,d){return Wn(E,"POST","/v1/accounts:signInWithEmailLink",Qt(E,d))})).apply(this,arguments)}class Vi extends je{constructor(d,p,T,z=null){super("password",T),this._email=d,this._password=p,this._tenantId=z}static _fromEmailAndPassword(d,p){return new Vi(d,p,"password")}static _fromEmailAndCode(d,p,T=null){return new Vi(d,p,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(d){var p=this;return(0,y.Z)(function*(){switch(p.signInMethod){case"password":return function(E,d){return sr.apply(this,arguments)}(d,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function(E,d){return yi.apply(this,arguments)}(d,{email:p._email,oobCode:p._password});default:Ue(d,"internal-error")}})()}_linkToIdToken(d,p){var T=this;return(0,y.Z)(function*(){switch(T.signInMethod){case"password":return rt(d,{idToken:p,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function(E,d){return Xi.apply(this,arguments)}(d,{idToken:p,email:T._email,oobCode:T._password});default:Ue(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Kn(E,d){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,y.Z)(function*(E,d){return Wn(E,"POST","/v1/accounts:signInWithIdp",Qt(E,d))})).apply(this,arguments)}class Be extends je{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const p=new Be(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(p.idToken=d.idToken),d.accessToken&&(p.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(p.nonce=d.nonce),d.pendingToken&&(p.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(p.accessToken=d.oauthToken,p.secret=d.oauthTokenSecret):Ue("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:T,signInMethod:z}=p,se=(0,fe._T)(p,["providerId","signInMethod"]);if(!T||!z)return null;const Ke=new Be(T,z);return Ke.idToken=se.idToken||void 0,Ke.accessToken=se.accessToken||void 0,Ke.secret=se.secret,Ke.nonce=se.nonce,Ke.pendingToken=se.pendingToken||null,Ke}_getIdTokenResponse(d){return Kn(d,this.buildRequest())}_linkToIdToken(d,p){const T=this.buildRequest();return T.idToken=p,Kn(d,T)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,Kn(d,p)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),d.postBody=(0,K.xO)(p)}return d}}function Ge(E,d){return it.apply(this,arguments)}function it(){return(it=(0,y.Z)(function*(E,d){return cn(E,"POST","/v1/accounts:sendVerificationCode",Qt(E,d))})).apply(this,arguments)}function St(){return(St=(0,y.Z)(function*(E,d){return Wn(E,"POST","/v1/accounts:signInWithPhoneNumber",Qt(E,d))})).apply(this,arguments)}function Jn(){return(Jn=(0,y.Z)(function*(E,d){const p=yield Wn(E,"POST","/v1/accounts:signInWithPhoneNumber",Qt(E,d));if(p.temporaryProof)throw cr(E,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const ti={USER_NOT_FOUND:"user-not-found"};function Ui(){return(Ui=(0,y.Z)(function*(E,d){return Wn(E,"POST","/v1/accounts:signInWithPhoneNumber",Qt(E,Object.assign(Object.assign({},d),{operation:"REAUTH"})),ti)})).apply(this,arguments)}class zi extends je{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,p){return new zi({verificationId:d,verificationCode:p})}static _fromTokenResponse(d,p){return new zi({phoneNumber:d,temporaryProof:p})}_getIdTokenResponse(d){return function(E,d){return St.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,p){return function(E,d){return Jn.apply(this,arguments)}(d,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function(E,d){return Ui.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:p,verificationId:T,verificationCode:z}=this.params;return d&&p?{temporaryProof:d,phoneNumber:p}:{sessionInfo:T,code:z}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:p,verificationCode:T,phoneNumber:z,temporaryProof:se}=d;return T||p||z||se?new zi({verificationId:p,verificationCode:T,phoneNumber:z,temporaryProof:se}):null}}class Ai{constructor(d){var p,T,z,se,Ke,_t;const Yt=(0,K.zd)((0,K.pd)(d)),mn=null!==(p=Yt.apiKey)&&void 0!==p?p:null,xn=null!==(T=Yt.oobCode)&&void 0!==T?T:null,Ln=function(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(z=Yt.mode)&&void 0!==z?z:null);ne(mn&&xn&&Ln,"argument-error"),this.apiKey=mn,this.operation=Ln,this.code=xn,this.continueUrl=null!==(se=Yt.continueUrl)&&void 0!==se?se:null,this.languageCode=null!==(Ke=Yt.languageCode)&&void 0!==Ke?Ke:null,this.tenantId=null!==(_t=Yt.tenantId)&&void 0!==_t?_t:null}static parseLink(d){const p=function(E){const d=(0,K.zd)((0,K.pd)(E)).link,p=d?(0,K.zd)((0,K.pd)(d)).deep_link_id:null,T=(0,K.zd)((0,K.pd)(E)).deep_link_id;return(T?(0,K.zd)((0,K.pd)(T)).link:null)||T||p||d||E}(d);try{return new Ai(p)}catch(T){return null}}}let Fs=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(p,T){return Vi._fromEmailAndPassword(p,T)}static credentialWithLink(p,T){const z=Ai.parseLink(T);return ne(z,"argument-error"),Vi._fromEmailAndCode(p,z.code,z.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class _i{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class bs extends _i{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class os extends bs{static credentialFromJSON(d){const p="string"==typeof d?JSON.parse(d):d;return ne("providerId"in p&&"signInMethod"in p,"argument-error"),Be._fromParams(p)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return ne(d.idToken||d.accessToken,"argument-error"),Be._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return os.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return os.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:T,oauthTokenSecret:z,pendingToken:se,nonce:Ke,providerId:_t}=d;if(!T&&!z&&!p&&!se||!_t)return null;try{return new os(_t)._credential({idToken:p,accessToken:T,nonce:Ke,pendingToken:se})}catch(Yt){return null}}}let Ls=(()=>{class E extends bs{constructor(){super("facebook.com")}static credential(p){return Be._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return E.credentialFromTaggedObject(p)}static credentialFromError(p){return E.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return E.credential(p.oauthAccessToken)}catch(T){return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),eo=(()=>{class E extends bs{constructor(){super("google.com"),this.addScope("profile")}static credential(p,T){return Be._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:T})}static credentialFromResult(p){return E.credentialFromTaggedObject(p)}static credentialFromError(p){return E.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:T,oauthAccessToken:z}=p;if(!T&&!z)return null;try{return E.credential(T,z)}catch(se){return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),Vs=(()=>{class E extends bs{constructor(){super("github.com")}static credential(p){return Be._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return E.credentialFromTaggedObject(p)}static credentialFromError(p){return E.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return E.credential(p.oauthAccessToken)}catch(T){return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class ws extends je{constructor(d,p){super(d,d),this.pendingToken=p}_getIdTokenResponse(d){return Kn(d,this.buildRequest())}_linkToIdToken(d,p){const T=this.buildRequest();return T.idToken=p,Kn(d,T)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,Kn(d,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:T,signInMethod:z,pendingToken:se}=p;return T&&z&&se&&T===z?new ws(T,se):null}static _create(d,p){return new ws(d,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Bi extends _i{constructor(d){ne(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return Bi.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return Bi.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const p=ws.fromJSON(d);return ne(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:p,providerId:T}=d;if(!p||!T)return null;try{return ws._create(T,p)}catch(z){return null}}}let Wi=(()=>{class E extends bs{constructor(){super("twitter.com")}static credential(p,T){return Be._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:T})}static credentialFromResult(p){return E.credentialFromTaggedObject(p)}static credentialFromError(p){return E.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:T,oauthTokenSecret:z}=p;if(!T||!z)return null;try{return E.credential(T,z)}catch(se){return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function bo(E,d){return es.apply(this,arguments)}function es(){return(es=(0,y.Z)(function*(E,d){return Wn(E,"POST","/v1/accounts:signUp",Qt(E,d))})).apply(this,arguments)}class Ki{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,p,T,z=!1){return(0,y.Z)(function*(){const se=yield Tn._fromIdTokenResponse(d,T,z),Ke=Po(T);return new Ki({user:se,providerId:Ke,_tokenResponse:T,operationType:p})})()}static _forOperation(d,p,T){return(0,y.Z)(function*(){yield d._updateTokensIfNecessary(T,!0);const z=Po(T);return new Ki({user:d,providerId:z,_tokenResponse:T,operationType:p})})()}}function Po(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function Bs(){return(Bs=(0,y.Z)(function*(E){var d;const p=gr(E);if(yield p._initializationPromise,null===(d=p.currentUser)||void 0===d?void 0:d.isAnonymous)return new Ki({user:p.currentUser,providerId:null,operationType:"signIn"});const T=yield bo(p,{returnSecureToken:!0}),z=yield Ki._fromIdTokenResponse(p,"signIn",T,!0);return yield p._updateCurrentUser(z.user),z})).apply(this,arguments)}class to extends K.ZR{constructor(d,p,T,z){var se;super(p.code,p.message),this.operationType=T,this.user=z,Object.setPrototypeOf(this,to.prototype),this.customData={appName:d.name,tenantId:null!==(se=d.tenantId)&&void 0!==se?se:void 0,_serverResponse:p.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(d,p,T,z){return new to(d,p,T,z)}}function Ks(E,d,p,T){return("reauthenticate"===d?p._getReauthenticationResolver(E):p._getIdTokenResponse(E)).catch(se=>{throw"auth/multi-factor-auth-required"===se.code?to._fromErrorAndOperation(E,se,d,T):se})}function Cs(E){return new Set(E.map(({providerId:d})=>d).filter(d=>!!d))}function $s(){return($s=(0,y.Z)(function*(E,d){const p=(0,K.m9)(E);yield U(!0,p,d);const{providerUserInfo:T}=yield fr(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[d]}),z=Cs(T||[]);return p.providerData=p.providerData.filter(se=>z.has(se.providerId)),z.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function V(E,d){return J.apply(this,arguments)}function J(){return(J=(0,y.Z)(function*(E,d,p=!1){const T=yield _n(E,d._linkToIdToken(E.auth,yield E.getIdToken()),p);return Ki._forOperation(E,"link",T)})).apply(this,arguments)}function U(E,d,p){return I.apply(this,arguments)}function I(){return(I=(0,y.Z)(function*(E,d,p){yield vn(d);const z=!1===E?"provider-already-linked":"no-such-provider";ne(Cs(d.providerData).has(p)===E,d.auth,z)})).apply(this,arguments)}function A(E,d){return R.apply(this,arguments)}function R(){return(R=(0,y.Z)(function*(E,d,p=!1){const{auth:T}=E,z="reauthenticate";try{const se=yield _n(E,Ks(T,z,d,E),p);ne(se.idToken,T,"internal-error");const Ke=wt(se.idToken);ne(Ke,T,"internal-error");const{sub:_t}=Ke;return ne(E.uid===_t,T,"user-mismatch"),Ki._forOperation(E,z,se)}catch(se){throw"auth/user-not-found"===(null==se?void 0:se.code)&&Ue(T,"user-mismatch"),se}})).apply(this,arguments)}function W(E,d){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,y.Z)(function*(E,d,p=!1){const T="signIn",z=yield Ks(E,T,d),se=yield Ki._fromIdTokenResponse(E,T,z);return p||(yield E._updateCurrentUser(se.user)),se})).apply(this,arguments)}function It(E,d){return In.apply(this,arguments)}function In(){return(In=(0,y.Z)(function*(E,d){return W(gr(E),d)})).apply(this,arguments)}function mr(E,d){return rr.apply(this,arguments)}function rr(){return(rr=(0,y.Z)(function*(E,d){const p=(0,K.m9)(E);return yield U(!1,p,d.providerId),V(p,d)})).apply(this,arguments)}function wn(E,d){return _r.apply(this,arguments)}function _r(){return(_r=(0,y.Z)(function*(E,d){return A((0,K.m9)(E),d)})).apply(this,arguments)}function qi(E,d){return hs.apply(this,arguments)}function hs(){return(hs=(0,y.Z)(function*(E,d){return Wn(E,"POST","/v1/accounts:signInWithCustomToken",Qt(E,d))})).apply(this,arguments)}function Zi(){return(Zi=(0,y.Z)(function*(E,d){const p=gr(E),T=yield qi(p,{token:d,returnSecureToken:!0}),z=yield Ki._fromIdTokenResponse(p,"signIn",T);return yield p._updateCurrentUser(z.user),z})).apply(this,arguments)}class ts{constructor(d,p){this.factorId=d,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(d,p){return"phoneInfo"in p?Ir._fromServerResponse(d,p):Ue(d,"internal-error")}}class Ir extends ts{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,p){return new Ir(p)}}function vi(E,d,p){var T;ne((null===(T=p.url)||void 0===T?void 0:T.length)>0,E,"invalid-continue-uri"),ne(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),d.continueUrl=p.url,d.dynamicLinkDomain=p.dynamicLinkDomain,d.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(ne(p.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),d.iOSBundleId=p.iOS.bundleId),p.android&&(ne(p.android.packageName.length>0,E,"missing-android-pkg-name"),d.androidInstallApp=p.android.installApp,d.androidMinimumVersionCode=p.android.minimumVersion,d.androidPackageName=p.android.packageName)}function Ms(){return(Ms=(0,y.Z)(function*(E,d,p){const T=(0,K.m9)(E),z={requestType:"PASSWORD_RESET",email:d};p&&vi(T,z,p),yield Di(T,z)})).apply(this,arguments)}function as(){return(as=(0,y.Z)(function*(E,d,p){yield He((0,K.m9)(E),{oobCode:d,newPassword:p})})).apply(this,arguments)}function G(){return(G=(0,y.Z)(function*(E,d){yield Dn((0,K.m9)(E),{oobCode:d})})).apply(this,arguments)}function L(E,d){return ie.apply(this,arguments)}function ie(){return(ie=(0,y.Z)(function*(E,d){const p=(0,K.m9)(E),T=yield He(p,{oobCode:d}),z=T.requestType;switch(ne(z,p,"internal-error"),z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(T.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(T.mfaInfo,p,"internal-error");default:ne(T.email,p,"internal-error")}let se=null;return T.mfaInfo&&(se=ts._fromServerResponse(gr(p),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:se},operation:z}})).apply(this,arguments)}function Ye(){return(Ye=(0,y.Z)(function*(E,d){const{data:p}=yield L((0,K.m9)(E),d);return p.email})).apply(this,arguments)}function kt(){return(kt=(0,y.Z)(function*(E,d,p){const T=gr(E),z=yield bo(T,{returnSecureToken:!0,email:d,password:p}),se=yield Ki._fromIdTokenResponse(T,"signIn",z);return yield T._updateCurrentUser(se.user),se})).apply(this,arguments)}function ut(){return(ut=(0,y.Z)(function*(E,d,p){const T=(0,K.m9)(E),z={requestType:"EMAIL_SIGNIN",email:d};ne(p.handleCodeInApp,T,"argument-error"),p&&vi(T,z,p),yield ci(T,z)})).apply(this,arguments)}function Xn(){return(Xn=(0,y.Z)(function*(E,d,p){const T=(0,K.m9)(E),z=Fs.credentialWithLink(d,p||at());return ne(z._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),It(T,z)})).apply(this,arguments)}function di(E,d){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,y.Z)(function*(E,d){return cn(E,"POST","/v1/accounts:createAuthUri",Qt(E,d))})).apply(this,arguments)}function Vr(){return(Vr=(0,y.Z)(function*(E,d){const T={identifier:d,continueUri:xt()?at():"http://localhost"},{signinMethods:z}=yield di((0,K.m9)(E),T);return z||[]})).apply(this,arguments)}function ps(){return(ps=(0,y.Z)(function*(E,d){const p=(0,K.m9)(E),z={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};d&&vi(p.auth,z,d);const{email:se}=yield Dr(p.auth,z);se!==E.email&&(yield E.reload())})).apply(this,arguments)}function Ur(){return(Ur=(0,y.Z)(function*(E,d,p){const T=(0,K.m9)(E),se={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:d};p&&vi(T.auth,se,p);const{email:Ke}=yield vo(T.auth,se);Ke!==E.email&&(yield E.reload())})).apply(this,arguments)}function Hs(E,d){return Br.apply(this,arguments)}function Br(){return(Br=(0,y.Z)(function*(E,d){return cn(E,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Is(){return(Is=(0,y.Z)(function*(E,{displayName:d,photoURL:p}){if(void 0===d&&void 0===p)return;const T=(0,K.m9)(E),se={idToken:yield T.getIdToken(),displayName:d,photoUrl:p,returnSecureToken:!0},Ke=yield _n(T,Hs(T.auth,se));T.displayName=Ke.displayName||null,T.photoURL=Ke.photoUrl||null;const _t=T.providerData.find(({providerId:Yt})=>"password"===Yt);_t&&(_t.displayName=T.displayName,_t.photoURL=T.photoURL),yield T._updateTokensIfNecessary(Ke)})).apply(this,arguments)}function Ma(E,d,p){return xa.apply(this,arguments)}function xa(){return(xa=(0,y.Z)(function*(E,d,p){const{auth:T}=E,se={idToken:yield E.getIdToken(),returnSecureToken:!0};d&&(se.email=d),p&&(se.password=p);const Ke=yield _n(E,rt(T,se));yield E._updateTokensIfNecessary(Ke,!0)})).apply(this,arguments)}class $o{constructor(d,p,T={}){this.isNewUser=d,this.providerId=p,this.profile=T}}class Oa extends $o{constructor(d,p,T,z){super(d,p,T),this.username=z}}class ia extends $o{constructor(d,p){super(d,"facebook.com",p)}}class ca extends Oa{constructor(d,p){super(d,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class da extends $o{constructor(d,p){super(d,"google.com",p)}}class Pa extends Oa{constructor(d,p,T){super(d,"twitter.com",p,T)}}function Na(E){const{user:d,_tokenResponse:p}=E;return d.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function(E){var d,p;if(!E)return null;const{providerId:T}=E,z=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},se=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!T&&(null==E?void 0:E.idToken)){const Ke=null===(p=null===(d=wt(E.idToken))||void 0===d?void 0:d.firebase)||void 0===p?void 0:p.sign_in_provider;if(Ke)return new $o(se,"anonymous"!==Ke&&"custom"!==Ke?Ke:null)}if(!T)return null;switch(T){case"facebook.com":return new ia(se,z);case"github.com":return new ca(se,z);case"google.com":return new da(se,z);case"twitter.com":return new Pa(se,z,E.screenName||null);case"custom":case"anonymous":return new $o(se,null);default:return new $o(se,T,z)}}(p)}class Ci{constructor(d,p){this.type=d,this.credential=p}static _fromIdtoken(d){return new Ci("enroll",d)}static _fromMfaPendingCredential(d){return new Ci("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var p,T;if(null==d?void 0:d.multiFactorSession){if(null===(p=d.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return Ci._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null===(T=d.multiFactorSession)||void 0===T?void 0:T.idToken)return Ci._fromIdtoken(d.multiFactorSession.idToken)}return null}}class io{constructor(d,p,T){this.session=d,this.hints=p,this.signInResolver=T}static _fromError(d,p){const T=gr(d),z=p.customData._serverResponse,se=(z.mfaInfo||[]).map(_t=>ts._fromServerResponse(T,_t));ne(z.mfaPendingCredential,T,"internal-error");const Ke=Ci._fromMfaPendingCredential(z.mfaPendingCredential);return new io(Ke,se,function(){var _t=(0,y.Z)(function*(Yt){const mn=yield Yt._process(T,Ke);delete z.mfaInfo,delete z.mfaPendingCredential;const xn=Object.assign(Object.assign({},z),{idToken:mn.idToken,refreshToken:mn.refreshToken});switch(p.operationType){case"signIn":const Ln=yield Ki._fromIdTokenResponse(T,p.operationType,xn);return yield T._updateCurrentUser(Ln.user),Ln;case"reauthenticate":return ne(p.user,T,"internal-error"),Ki._forOperation(p.user,p.operationType,xn);default:Ue(T,"internal-error")}});return function(Yt){return _t.apply(this,arguments)}}())}resolveSignIn(d){var p=this;return(0,y.Z)(function*(){return p.signInResolver(d)})()}}function su(E,d){return cn(E,"POST","/v2/accounts/mfaEnrollment:start",Qt(E,d))}class Ha{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(T=>ts._fromServerResponse(d.auth,T)))})}static _fromUser(d){return new Ha(d)}getSession(){var d=this;return(0,y.Z)(function*(){return Ci._fromIdtoken(yield d.user.getIdToken())})()}enroll(d,p){var T=this;return(0,y.Z)(function*(){const z=d,se=yield T.getSession(),Ke=yield _n(T.user,z._process(T.user.auth,se,p));return yield T.user._updateTokensIfNecessary(Ke),T.user.reload()})()}unenroll(d){var p=this;return(0,y.Z)(function*(){const T="string"==typeof d?d:d.uid,z=yield p.user.getIdToken(),se=yield _n(p.user,function(E,d){return cn(E,"POST","/v2/accounts/mfaEnrollment:withdraw",Qt(E,d))}(p.user.auth,{idToken:z,mfaEnrollmentId:T}));p.enrolledFactors=p.enrolledFactors.filter(({uid:Ke})=>Ke!==T),yield p.user._updateTokensIfNecessary(se);try{yield p.user.reload()}catch(Ke){if("auth/user-token-expired"!==Ke.code)throw Ke}})()}}const ga=new WeakMap,so="__sak";class No{constructor(d,p){this.storageRetriever=d,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(so,"1"),this.storage.removeItem(so),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,p){return this.storage.setItem(d,JSON.stringify(p)),Promise.resolve()}_get(d){const p=this.storage.getItem(d);return Promise.resolve(p?JSON.parse(p):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const ao=(()=>{class E extends No{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,T)=>this.onStorageEvent(p,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const E=(0,K.z$)();return ui(E)||gi(E)}()&&function(){try{return!(!window||window===window.top)}catch(E){return!1}}(),this.fallbackToPolling=mi(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const T of Object.keys(this.listeners)){const z=this.storage.getItem(T),se=this.localCache[T];z!==se&&p(T,se,z)}}onStorageEvent(p,T=!1){if(!p.key)return void this.forAllChangedKeys((_t,Yt,mn)=>{this.notifyListeners(_t,mn)});const z=p.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const _t=this.storage.getItem(z);if(p.newValue!==_t)null!==p.newValue?this.storage.setItem(z,p.newValue):this.storage.removeItem(z);else if(this.localCache[z]===p.newValue&&!T)return}const se=()=>{const _t=this.storage.getItem(z);!T&&this.localCache[z]===_t||this.notifyListeners(z,_t)},Ke=this.storage.getItem(z);(0,K.w1)()&&10===document.documentMode&&Ke!==p.newValue&&p.newValue!==p.oldValue?setTimeout(se,10):se()}notifyListeners(p,T){this.localCache[p]=T;const z=this.listeners[p];if(z)for(const se of Array.from(z))se(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,T,z)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:T,newValue:z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(T)}_removeListener(p,T){this.listeners[p]&&(this.listeners[p].delete(T),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,T){var z=()=>super._set,se=this;return(0,y.Z)(function*(){yield z().call(se,p,T),se.localCache[p]=JSON.stringify(T)})()}_get(p){var T=()=>super._get,z=this;return(0,y.Z)(function*(){const se=yield T().call(z,p);return z.localCache[p]=JSON.stringify(se),se})()}_remove(p){var T=()=>super._remove,z=this;return(0,y.Z)(function*(){yield T().call(z,p),delete z.localCache[p]})()}}return E.type="LOCAL",E})(),ko=(()=>{class E extends No{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,T){}_removeListener(p,T){}}return E.type="SESSION",E})();let Fo=(()=>{class E{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const T=this.receivers.find(se=>se.isListeningto(p));if(T)return T;const z=new E(p);return this.receivers.push(z),z}isListeningto(p){return this.eventTarget===p}handleEvent(p){var T=this;return(0,y.Z)(function*(){const z=p,{eventId:se,eventType:Ke,data:_t}=z.data,Yt=T.handlersMap[Ke];if(!(null==Yt?void 0:Yt.size))return;z.ports[0].postMessage({status:"ack",eventId:se,eventType:Ke});const mn=Array.from(Yt).map(function(){var Ln=(0,y.Z)(function*(Hi){return Hi(z.origin,_t)});return function(Hi){return Ln.apply(this,arguments)}}()),xn=yield function(E){return Promise.all(E.map(function(){var d=(0,y.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(T){return{fulfilled:!1,reason:T}}});return function(p){return d.apply(this,arguments)}}()))}(mn);z.ports[0].postMessage({status:"done",eventId:se,eventType:Ke,response:xn})})()}_subscribe(p,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(T)}_unsubscribe(p,T){this.handlersMap[p]&&T&&this.handlersMap[p].delete(T),(!T||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function Yi(E="",d=10){let p="";for(let T=0;T<d;T++)p+=Math.floor(10*Math.random());return E+p}class au{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,p,T=50){var z=this;return(0,y.Z)(function*(){const se="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!se)throw new Error("connection_unavailable");let Ke,_t;return new Promise((Yt,mn)=>{const xn=Yi("",20);se.port1.start();const Ln=setTimeout(()=>{mn(new Error("unsupported_event"))},T);_t={messageChannel:se,onMessage(Hi){const xo=Hi;if(xo.data.eventId===xn)switch(xo.data.status){case"ack":clearTimeout(Ln),Ke=setTimeout(()=>{mn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ke),Yt(xo.data.response);break;default:clearTimeout(Ln),clearTimeout(Ke),mn(new Error("invalid_response"))}}},z.handlers.add(_t),se.port1.addEventListener("message",_t.onMessage),z.target.postMessage({eventType:d,eventId:xn,data:p},[se.port2])}).finally(()=>{_t&&z.removeMessageHandler(_t)})})()}}function Mr(){return window}function ma(){return void 0!==Mr().WorkerGlobalScope&&"function"==typeof Mr().importScripts}function Lo(){return(Lo=(0,y.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(E){return null}})).apply(this,arguments)}const uo="firebaseLocalStorageDb",ms="firebaseLocalStorage",Fa="fbase_key";class lo{constructor(d){this.request=d}toPromise(){return new Promise((d,p)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function fi(E,d){return E.transaction([ms],d?"readwrite":"readonly").objectStore(ms)}function rs(){const E=indexedDB.open(uo,1);return new Promise((d,p)=>{E.addEventListener("error",()=>{p(E.error)}),E.addEventListener("upgradeneeded",()=>{const T=E.result;try{T.createObjectStore(ms,{keyPath:Fa})}catch(z){p(z)}}),E.addEventListener("success",(0,y.Z)(function*(){const T=E.result;T.objectStoreNames.contains(ms)?d(T):(T.close(),yield function(){const E=indexedDB.deleteDatabase(uo);return new lo(E).toPromise()}(),d(yield rs()))}))})}function va(E,d,p){return Co.apply(this,arguments)}function Co(){return(Co=(0,y.Z)(function*(E,d,p){const T=fi(E,!0).put({[Fa]:d,value:p});return new lo(T).toPromise()})).apply(this,arguments)}function Ri(){return(Ri=(0,y.Z)(function*(E,d){const p=fi(E,!1).get(d),T=yield new lo(p).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function co(E,d){const p=fi(E,!0).delete(d);return new lo(p).toPromise()}const Wo=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,y.Z)(function*(){return p.db||(p.db=yield rs()),p.db})()}_withRetries(p){var T=this;return(0,y.Z)(function*(){let z=0;for(;;)try{const se=yield T._openDb();return yield p(se)}catch(se){if(z++>3)throw se;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,y.Z)(function*(){return ma()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,y.Z)(function*(){p.receiver=Fo._getInstance(ma()?self:null),p.receiver._subscribe("keyChanged",function(){var T=(0,y.Z)(function*(z,se){return{keyProcessed:(yield p._poll()).includes(se.key)}});return function(z,se){return T.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var T=(0,y.Z)(function*(z,se){return["keyChanged"]});return function(z,se){return T.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,y.Z)(function*(){var T,z;if(p.activeServiceWorker=yield function(){return Lo.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new au(p.activeServiceWorker);const se=yield p.sender._send("ping",{},800);!se||(null===(T=se[0])||void 0===T?void 0:T.fulfilled)&&(null===(z=se[0])||void 0===z?void 0:z.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var T=this;return(0,y.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function(){var E;return(null===(E=null==navigator?void 0:navigator.serviceWorker)||void 0===E?void 0:E.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:p},T.serviceWorkerReceiverAvailable?800:50)}catch(z){}})()}_isAvailable(){return(0,y.Z)(function*(){try{if(!indexedDB)return!1;const p=yield rs();return yield va(p,so,"1"),yield co(p,so),!0}catch(p){}return!1})()}_withPendingWrite(p){var T=this;return(0,y.Z)(function*(){T.pendingWrites++;try{yield p()}finally{T.pendingWrites--}})()}_set(p,T){var z=this;return(0,y.Z)(function*(){return z._withPendingWrite((0,y.Z)(function*(){return yield z._withRetries(se=>va(se,p,T)),z.localCache[p]=T,z.notifyServiceWorker(p)}))})()}_get(p){var T=this;return(0,y.Z)(function*(){const z=yield T._withRetries(se=>function(E,d){return Ri.apply(this,arguments)}(se,p));return T.localCache[p]=z,z})()}_remove(p){var T=this;return(0,y.Z)(function*(){return T._withPendingWrite((0,y.Z)(function*(){return yield T._withRetries(z=>co(z,p)),delete T.localCache[p],T.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,y.Z)(function*(){const T=yield p._withRetries(Ke=>{const _t=fi(Ke,!1).getAll();return new lo(_t).toPromise()});if(!T)return[];if(0!==p.pendingWrites)return[];const z=[],se=new Set;for(const{fbase_key:Ke,value:_t}of T)se.add(Ke),JSON.stringify(p.localCache[Ke])!==JSON.stringify(_t)&&(p.notifyListeners(Ke,_t),z.push(Ke));for(const Ke of Object.keys(p.localCache))p.localCache[Ke]&&!se.has(Ke)&&(p.notifyListeners(Ke,null),z.push(Ke));return z})()}notifyListeners(p,T){this.localCache[p]=T;const z=this.listeners[p];if(z)for(const se of Array.from(z))se(T)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,y.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(T)}_removeListener(p,T){this.listeners[p]&&(this.listeners[p].delete(T),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function on(E,d){return cn(E,"POST","/v2/accounts/mfaSignIn:start",Qt(E,d))}function ji(){return(ji=(0,y.Z)(function*(E){return(yield cn(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function xs(E){return new Promise((d,p)=>{const T=document.createElement("script");T.setAttribute("src",E),T.onload=d,T.onerror=z=>{const se=st("internal-error");se.customData=z,p(se)},T.type="text/javascript",T.charset="UTF-8",function(){var E,d;return null!==(d=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==d?d:document}().appendChild(T)})}function uu(E){return`__${E}${Math.floor(1e6*Math.random())}`}const Ka=1e12;class Os{constructor(d){this.auth=d,this.counter=Ka,this._widgets=new Map}render(d,p){const T=this.counter;return this._widgets.set(T,new x(d,this.auth.name,p||{})),this.counter++,T}reset(d){var p;const T=d||Ka;null===(p=this._widgets.get(T))||void 0===p||p.delete(),this._widgets.delete(T)}getResponse(d){var p;return(null===(p=this._widgets.get(d||Ka))||void 0===p?void 0:p.getResponse())||""}execute(d){var p=this;return(0,y.Z)(function*(){var T;return null===(T=p._widgets.get(d||Ka))||void 0===T||T.execute(),""})()}}class x{constructor(d,p,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const z="string"==typeof d?document.getElementById(d):d;ne(z,"argument-error",{appName:p}),this.container=z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(E){const d=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<50;T++)d.push(p.charAt(Math.floor(Math.random()*p.length)));return d.join("")}();const{callback:d,"expired-callback":p}=this.params;if(d)try{d(this.responseToken)}catch(T){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(T){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const v=uu("rcb"),N=new Fn(3e4,6e4);class X{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Mr().grecaptcha}load(d,p=""){return ne((E=p).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E),d,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(Mr().grecaptcha):new Promise((T,z)=>{const se=Mr().setTimeout(()=>{z(st(d,"network-request-failed"))},N.get());Mr()[v]=()=>{Mr().clearTimeout(se),delete Mr()[v];const _t=Mr().grecaptcha;if(!_t)return void z(st(d,"internal-error"));const Yt=_t.render;_t.render=(mn,xn)=>{const Ln=Yt(mn,xn);return this.counter++,Ln},this.hostLanguage=p,T(_t)},xs(`https://www.google.com/recaptcha/api.js??${(0,K.xO)({onload:v,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(se),z(st(d,"internal-error"))})});var E}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){return!!Mr().grecaptcha&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class $e{load(d){return(0,y.Z)(function*(){return new Os(d)})()}clearedOneInstance(){}}const yt="recaptcha",hn={theme:"light",type:"image"};class er{constructor(d,p=Object.assign({},hn),T){this.parameters=p,this.type=yt,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gr(T),this.isInvisible="invisible"===this.parameters.size,ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const z="string"==typeof d?document.getElementById(d):d;ne(z,this.auth,"argument-error"),this.container=z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new $e:new X,this.validateStartingState()}verify(){var d=this;return(0,y.Z)(function*(){d.assertNotDestroyed();const p=yield d.render(),T=d.getAssertedRecaptcha();return T.getResponse(p)||new Promise(se=>{const Ke=_t=>{!_t||(d.tokenChangeListeners.delete(Ke),se(_t))};d.tokenChangeListeners.add(Ke),d.isInvisible&&T.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return p=>{if(this.tokenChangeListeners.forEach(T=>T(p)),"function"==typeof d)d(p);else if("string"==typeof d){const T=Mr()[d];"function"==typeof T&&T(p)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,y.Z)(function*(){if(yield d.init(),!d.widgetId){let p=d.container;if(!d.isInvisible){const T=document.createElement("div");p.appendChild(T),p=T}d.widgetId=d.getAssertedRecaptcha().render(p,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,y.Z)(function*(){ne(xt()&&!ma(),d.auth,"internal-error"),yield function(){let E=null;return new Promise(d=>{"complete"!==document.readyState?(E=()=>d(),window.addEventListener("load",E)):d()}).catch(d=>{throw E&&window.removeEventListener("load",E),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const p=yield function(E){return ji.apply(this,arguments)}(d.auth);ne(p,d.auth,"internal-error"),d.parameters.sitekey=p})()}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ni{constructor(d,p){this.verificationId=d,this.onConfirmation=p}confirm(d){const p=zi._fromVerification(this.verificationId,d);return this.onConfirmation(p)}}function Ds(){return(Ds=(0,y.Z)(function*(E,d,p){const T=gr(E),z=yield Kr(T,d,(0,K.m9)(p));return new ni(z,se=>It(T,se))})).apply(this,arguments)}function Vn(){return(Vn=(0,y.Z)(function*(E,d,p){const T=(0,K.m9)(E);yield U(!1,T,"phone");const z=yield Kr(T.auth,d,(0,K.m9)(p));return new ni(z,se=>mr(T,se))})).apply(this,arguments)}function $i(){return($i=(0,y.Z)(function*(E,d,p){const T=(0,K.m9)(E),z=yield Kr(T.auth,d,(0,K.m9)(p));return new ni(z,se=>wn(T,se))})).apply(this,arguments)}function Kr(E,d,p){return So.apply(this,arguments)}function So(){return(So=(0,y.Z)(function*(E,d,p){var T;const z=yield p.verify();try{let se;if(ne("string"==typeof z,E,"argument-error"),ne(p.type===yt,E,"argument-error"),se="string"==typeof d?{phoneNumber:d}:d,"session"in se){const Ke=se.session;if("phoneNumber"in se)return ne("enroll"===Ke.type,E,"internal-error"),(yield su(E,{idToken:Ke.credential,phoneEnrollmentInfo:{phoneNumber:se.phoneNumber,recaptchaToken:z}})).phoneSessionInfo.sessionInfo;{ne("signin"===Ke.type,E,"internal-error");const _t=(null===(T=se.multiFactorHint)||void 0===T?void 0:T.uid)||se.multiFactorUid;return ne(_t,E,"missing-multi-factor-info"),(yield on(E,{mfaPendingCredential:Ke.credential,mfaEnrollmentId:_t,phoneSignInInfo:{recaptchaToken:z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ke}=yield Ge(E,{phoneNumber:se.phoneNumber,recaptchaToken:z});return Ke}}finally{p._reset()}})).apply(this,arguments)}function lu(){return(lu=(0,y.Z)(function*(E,d){yield V((0,K.m9)(E),d)})).apply(this,arguments)}let Ko=(()=>{class E{constructor(p){this.providerId=E.PROVIDER_ID,this.auth=gr(p)}verifyPhoneNumber(p,T){return Kr(this.auth,p,(0,K.m9)(T))}static credential(p,T){return zi._fromVerification(p,T)}static credentialFromResult(p){return E.credentialFromTaggedObject(p)}static credentialFromError(p){return E.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:T,temporaryProof:z}=p;return T&&z?zi._fromTokenResponse(T,z):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function Ys(E,d){return d?_e(d):(ne(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class qa extends je{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Kn(d,this._buildIdpRequest())}_linkToIdToken(d,p){return Kn(d,this._buildIdpRequest(p))}_getReauthenticationResolver(d){return Kn(d,this._buildIdpRequest())}_buildIdpRequest(d){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(p.idToken=d),p}}function vc(E){return W(E.auth,new qa(E),E.bypassAuthState)}function On(E){const{auth:d,user:p}=E;return ne(p,d,"internal-error"),A(p,new qa(E),E.bypassAuthState)}function ho(E){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,y.Z)(function*(E){const{auth:d,user:p}=E;return ne(p,d,"internal-error"),V(p,new qa(E),E.bypassAuthState)})).apply(this,arguments)}class Ii{constructor(d,p,T,z,se=!1){this.auth=d,this.resolver=T,this.user=z,this.bypassAuthState=se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var d=this;return new Promise(function(){var p=(0,y.Z)(function*(T,z){d.pendingPromise={resolve:T,reject:z};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(se){d.reject(se)}});return function(T,z){return p.apply(this,arguments)}}())}onAuthEvent(d){var p=this;return(0,y.Z)(function*(){const{urlResponse:T,sessionId:z,postBody:se,tenantId:Ke,error:_t,type:Yt}=d;if(_t)return void p.reject(_t);const mn={auth:p.auth,requestUri:T,sessionId:z,tenantId:Ke||void 0,postBody:se||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Yt)(mn))}catch(xn){p.reject(xn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return vc;case"linkViaPopup":case"linkViaRedirect":return ho;case"reauthViaPopup":case"reauthViaRedirect":return On;default:Ue(this.auth,"internal-error")}}resolve(d){ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qo=new Fn(2e3,1e4);function f(){return(f=(0,y.Z)(function*(E,d,p){const T=gr(E);$t(E,d,_i);const z=Ys(T,p);return new ce(T,"signInViaPopup",d,z).executeNotNull()})).apply(this,arguments)}function b(){return(b=(0,y.Z)(function*(E,d,p){const T=(0,K.m9)(E);$t(T.auth,d,_i);const z=Ys(T.auth,p);return new ce(T.auth,"reauthViaPopup",d,z,T).executeNotNull()})).apply(this,arguments)}function q(){return(q=(0,y.Z)(function*(E,d,p){const T=(0,K.m9)(E);$t(T.auth,d,_i);const z=Ys(T.auth,p);return new ce(T.auth,"linkViaPopup",d,z,T).executeNotNull()})).apply(this,arguments)}let ce=(()=>{class E extends Ii{constructor(p,T,z,se,Ke){super(p,T,se,Ke),this.provider=z,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var p=this;return(0,y.Z)(function*(){const T=yield p.execute();return ne(T,p.auth,"internal-error"),T})()}onExecution(){var p=this;return(0,y.Z)(function*(){ye(1===p.filter.length,"Popup operations only handle one event");const T=Yi();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],T),p.authWindow.associatedEvent=T,p.resolver._originValidation(p.auth).catch(z=>{p.reject(z)}),p.resolver._isIframeWebStorageSupported(p.auth,z=>{z||p.reject(st(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(st(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const p=()=>{var T,z;this.pollId=(null===(z=null===(T=this.authWindow)||void 0===T?void 0:T.window)||void 0===z?void 0:z.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(st(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,qo.get())};p()}}return E.currentPopupAction=null,E})();const nt=new Map;class Et extends Ii{constructor(d,p,T=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,T),this.eventId=null}execute(){var d=()=>super.execute,p=this;return(0,y.Z)(function*(){let T=nt.get(p.auth._key());if(!T){try{const se=(yield function(E,d){return ln.apply(this,arguments)}(p.resolver,p.auth))?yield d().call(p):null;T=()=>Promise.resolve(se)}catch(z){T=()=>Promise.reject(z)}nt.set(p.auth._key(),T)}return p.bypassAuthState||nt.set(p.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(d){var p=()=>super.onAuthEvent,T=this;return(0,y.Z)(function*(){if("signInViaRedirect"===d.type)return p().call(T,d);if("unknown"!==d.type){if(d.eventId){const z=yield T.auth._redirectUserForId(d.eventId);if(z)return T.user=z,p().call(T,d);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,y.Z)(function*(){})()}cleanUp(){}}function ln(){return(ln=(0,y.Z)(function*(E,d){const p=yr(d),T=Yn(E);if(!(yield T._isAvailable()))return!1;const z="true"===(yield T._get(p));return yield T._remove(p),z})).apply(this,arguments)}function fn(E,d){return ar.apply(this,arguments)}function ar(){return(ar=(0,y.Z)(function*(E,d){return Yn(E)._set(yr(d),"true")})).apply(this,arguments)}function Yn(E){return _e(E._redirectPersistence)}function yr(E){return Gn("pendingRedirect",E.config.apiKey,E.name)}function ri(){return(ri=(0,y.Z)(function*(E,d,p){const T=gr(E);$t(E,d,_i);const z=Ys(T,p);return yield fn(z,T),z._openRedirect(T,d,"signInViaRedirect")})).apply(this,arguments)}function ee(){return(ee=(0,y.Z)(function*(E,d,p){const T=(0,K.m9)(E);$t(T.auth,d,_i);const z=Ys(T.auth,p);yield fn(z,T.auth);const se=yield Nr(T);return z._openRedirect(T.auth,d,"reauthViaRedirect",se)})).apply(this,arguments)}function gt(){return(gt=(0,y.Z)(function*(E,d,p){const T=(0,K.m9)(E);$t(T.auth,d,_i);const z=Ys(T.auth,p);yield U(!1,T,d.providerId),yield fn(z,T.auth);const se=yield Nr(T);return z._openRedirect(T.auth,d,"linkViaRedirect",se)})).apply(this,arguments)}function Cn(){return(Cn=(0,y.Z)(function*(E,d){return yield gr(E)._initializationPromise,qt(E,d,!1)})).apply(this,arguments)}function qt(E,d){return kn.apply(this,arguments)}function kn(){return(kn=(0,y.Z)(function*(E,d,p=!1){const T=gr(E),z=Ys(T,d),Ke=yield new Et(T,z,p).execute();return Ke&&!p&&(delete Ke.user._redirectEventId,yield T._persistUserIfCurrent(Ke.user),yield T._setRedirectUser(null,d)),Ke})).apply(this,arguments)}function Nr(E){return is.apply(this,arguments)}function is(){return(is=(0,y.Z)(function*(E){const d=Yi(`${E.uid}:::`);return E._redirectEventId=d,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),d})).apply(this,arguments)}class En{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let p=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(d,T)&&(p=!0,this.sendToConsumer(d,T),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hr(E);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=d,p=!0)),p}sendToConsumer(d,p){var T;if(d.error&&!hr(d)){const z=(null===(T=d.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";p.onError(st(this.auth,z))}else p.onAuthEvent(d)}isEventForConsumer(d,p){const T=null===p.eventId||!!d.eventId&&d.eventId===p.eventId;return p.filter.includes(d.type)&&T}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zn(d))}saveEventToCache(d){this.cachedEventUids.add(zn(d)),this.lastProcessedEventTime=Date.now()}}function zn(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(d=>d).join("-")}function hr({type:E,error:d}){return"unknown"===E&&"auth/no-auth-event"===(null==d?void 0:d.code)}function Ti(E){return pi.apply(this,arguments)}function pi(){return(pi=(0,y.Z)(function*(E,d={}){return cn(E,"GET","/v1/projects",d)})).apply(this,arguments)}const Ro=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vr=/^https?/;function Vo(){return(Vo=(0,y.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:d}=yield Ti(E);for(const p of d)try{if(fo(p))return}catch(T){}Ue(E,"unauthorized-domain")})).apply(this,arguments)}function fo(E){const d=at(),{protocol:p,hostname:T}=new URL(d);if(E.startsWith("chrome-extension://")){const Ke=new URL(E);return""===Ke.hostname&&""===T?"chrome-extension:"===p&&E.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===p&&Ke.hostname===T}if(!vr.test(p))return!1;if(Ro.test(E))return T===E;const z=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+z+"|"+z+")$","i").test(T)}const Ps=new Fn(3e4,6e4);function Va(){const E=Mr().___jsl;if(null==E?void 0:E.H)for(const d of Object.keys(E.H))if(E.H[d].r=E.H[d].r||[],E.H[d].L=E.H[d].L||[],E.H[d].r=[...E.H[d].L],E.CP)for(let p=0;p<E.CP.length;p++)E.CP[p]=null}let ml=null;function nh(E){return ml=ml||function(E){return new Promise((d,p)=>{var T,z,se;function Ke(){Va(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Va(),p(st(E,"network-request-failed"))},timeout:Ps.get()})}if(null===(z=null===(T=Mr().gapi)||void 0===T?void 0:T.iframes)||void 0===z?void 0:z.Iframe)d(gapi.iframes.getContext());else{if(!(null===(se=Mr().gapi)||void 0===se?void 0:se.load)){const _t=uu("iframefcb");return Mr()[_t]=()=>{gapi.load?Ke():p(st(E,"network-request-failed"))},xs(`https://apis.google.com/js/api.js?onload=${_t}`)}Ke()}}).catch(d=>{throw ml=null,d})}(E),ml}const Ya=new Fn(5e3,15e3),cu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rd(E){const d=E.config;ne(d.authDomain,E,"auth-domain-config-required");const p=d.emulator?rn(d,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,T={apiKey:d.apiKey,appName:E.name,v:we.SDK_VERSION},z=rh.get(E.config.apiHost);z&&(T.eid=z);const se=E._getFrameworks();return se.length&&(T.fw=se.join(",")),`${p}?${(0,K.xO)(T).slice(1)}`}function _l(){return(_l=(0,y.Z)(function*(E){const d=yield nh(E),p=Mr().gapi;return ne(p,E,"internal-error"),d.open({where:document.body,url:rd(E),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cu,dontclear:!0},T=>new Promise(function(){var z=(0,y.Z)(function*(se,Ke){yield T.restyle({setHideOnLeave:!1});const _t=st(E,"network-request-failed"),Yt=Mr().setTimeout(()=>{Ke(_t)},Ya.get());function mn(){Mr().clearTimeout(Yt),se(T)}T.ping(mn).then(mn,()=>{Ke(_t)})});return function(se,Ke){return z.apply(this,arguments)}}()))})).apply(this,arguments)}const ih={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Fu{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}function Qu(E,d,p,T,z,se){ne(E.config.authDomain,E,"auth-domain-config-required"),ne(E.config.apiKey,E,"invalid-api-key");const Ke={apiKey:E.config.apiKey,appName:E.name,authType:p,redirectUrl:T,v:we.SDK_VERSION,eventId:z};if(d instanceof _i){d.setDefaultLanguage(E.languageCode),Ke.providerId=d.providerId||"",(0,K.xb)(d.getCustomParameters())||(Ke.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Yt,mn]of Object.entries(se||{}))Ke[Yt]=mn}if(d instanceof bs){const Yt=d.getScopes().filter(mn=>""!==mn);Yt.length>0&&(Ke.scopes=Yt.join(","))}E.tenantId&&(Ke.tid=E.tenantId);const _t=Ke;for(const Yt of Object.keys(_t))void 0===_t[Yt]&&delete _t[Yt];return`${function({config:E}){return E.emulator?rn(E,"emulator/auth/handler"):`https://${E.authDomain}/__/auth/handler`}(E)}?${(0,K.xO)(_t).slice(1)}`}const id="webStorageSupport";class sd extends class{constructor(d){this.factorId=d}_process(d,p,T){switch(p.type){case"enroll":return this._finalizeEnroll(d,p.credential,T);case"signin":return this._finalizeSignIn(d,p.credential);default:return oe("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new sd(d)}_finalizeEnroll(d,p,T){return function(E,d){return cn(E,"POST","/v2/accounts/mfaEnrollment:finalize",Qt(E,d))}(d,{idToken:p,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,p){return function(E,d){return cn(E,"POST","/v2/accounts/mfaSignIn:finalize",Qt(E,d))}(d,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let od=(()=>{class E{constructor(){}static assertion(p){return sd._fromCredential(p)}}return E.FACTOR_ID="phone",E})();var E,Xf="@firebase/auth";class bc{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var p=this;return(0,y.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const p=this.auth.onIdTokenChanged(T=>{var z;d((null===(z=T)||void 0===z?void 0:z.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,p),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const p=this.internalListeners.get(d);!p||(this.internalListeners.delete(d),p(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Zo(){return window}function Wl(){return(Wl=(0,y.Z)(function*(E,d,p){var T;const{BuildInfo:z}=Zo();ye(d.sessionId,"AuthEvent did not contain a session ID");const se=yield wc(d.sessionId),Ke={};return gi()?Ke.ibi=z.packageName:li()?Ke.apn=z.packageName:Ue(E,"operation-not-supported-in-this-environment"),z.displayName&&(Ke.appDisplayName=z.displayName),Ke.sessionId=se,Qu(E,p,d.type,void 0,null!==(T=d.eventId)&&void 0!==T?T:void 0,Ke)})).apply(this,arguments)}function Ss(){return(Ss=(0,y.Z)(function*(E){const{BuildInfo:d}=Zo(),p={};gi()?p.iosBundleId=d.packageName:li()?p.androidPackageName=d.packageName:Ue(E,"operation-not-supported-in-this-environment"),yield Ti(E,p)})).apply(this,arguments)}function Kl(){return(Kl=(0,y.Z)(function*(E,d,p){const{cordova:T}=Zo();let z=()=>{};try{yield new Promise((se,Ke)=>{let _t=null;function Yt(){var Ln;se();const Hi=null===(Ln=T.plugins.browsertab)||void 0===Ln?void 0:Ln.close;"function"==typeof Hi&&Hi(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function mn(){_t||(_t=window.setTimeout(()=>{Ke(st(E,"redirect-cancelled-by-user"))},2e3))}function xn(){"visible"===(null==document?void 0:document.visibilityState)&&mn()}d.addPassiveListener(Yt),document.addEventListener("resume",mn,!1),li()&&document.addEventListener("visibilitychange",xn,!1),z=()=>{d.removePassiveListener(Yt),document.removeEventListener("resume",mn,!1),document.removeEventListener("visibilitychange",xn,!1),_t&&window.clearTimeout(_t)}})}finally{z()}})).apply(this,arguments)}function wc(E){return Js.apply(this,arguments)}function Js(){return(Js=(0,y.Z)(function*(E){const d=As(E),p=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(p)).map(z=>z.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function As(E){if(ye(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(E);const d=new ArrayBuffer(E.length),p=new Uint8Array(d);for(let T=0;T<E.length;T++)p[T]=E.charCodeAt(T);return p}E="Browser",(0,we._registerComponent)(new Me.wA("auth",(d,{options:p})=>{const T=d.getProvider("app").getImmediate(),{apiKey:z,authDomain:se}=T.options;return(Ke=>{ne(z&&!z.includes(":"),"invalid-api-key",{appName:Ke.name}),ne(!(null==se?void 0:se.includes(":")),"argument-error",{appName:Ke.name});const _t={apiKey:z,authDomain:se,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:br(E)},Yt=new Ji(Ke,_t);return function(E,d){const p=(null==d?void 0:d.persistence)||[],T=(Array.isArray(p)?p:[p]).map(_e);(null==d?void 0:d.errorMap)&&E._updateErrorMap(d.errorMap),E._initializeWithPersistence(T,null==d?void 0:d.popupRedirectResolver)}(Yt,p),Yt})(T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,p,T)=>{d.getProvider("auth-internal").initialize()})),(0,we._registerComponent)(new Me.wA("auth-internal",d=>{const p=gr(d.getProvider("auth").getImmediate());return new bc(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,we.registerVersion)(Xf,"0.19.3",void 0),(0,we.registerVersion)(Xf,"0.19.3","esm2017");class ch extends En{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(d)),super.onEvent(d)}initialized(){var d=this;return(0,y.Z)(function*(){yield d.initPromise})()}}function Cc(E){return ad.apply(this,arguments)}function ad(){return(ad=(0,y.Z)(function*(E){const d=yield Qr()._get(Ic(E));return d&&(yield Qr()._remove(Ic(E))),d})).apply(this,arguments)}function rp(){const E=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const T=Math.floor(Math.random()*d.length);E.push(d.charAt(T))}return E.join("")}function Qr(){return _e(ao)}function Ic(E){return Gn("authEvent",E.config.apiKey,E.name)}function pu(E){if(!(null==E?void 0:E.includes("?")))return{};const[d,...p]=E.split("?");return(0,K.zd)(p.join("?"))}function dh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:st("no-auth-event")}}function cd(){var E;return(null===(E=null==self?void 0:self.location)||void 0===E?void 0:E.protocol)||null}function el(E=(0,K.z$)()){return!("file:"!==cd()&&"ionic:"!==cd()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sc(){try{const E=self.localStorage,d=Yi();if(E)return E.setItem(d,"1"),E.removeItem(d),!function(E=(0,K.z$)()){return(0,K.w1)()&&11===(null==document?void 0:document.documentMode)||function(E=(0,K.z$)()){return/Edge\/\d+/.test(E)}(E)}()||(0,K.hl)()}catch(E){return Ja()&&(0,K.hl)()}return!1}function Ja(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function aa(){return("http:"===cd()||"https:"===cd()||(0,K.ru)()||el())&&!((0,K.b$)()||(0,K.UG)())&&Sc()&&!Ja()}function Cl(){return el()&&"undefined"!=typeof document}function Fi(){return(Fi=(0,y.Z)(function*(){return!!Cl()&&new Promise(E=>{const d=setTimeout(()=>{E(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),E(!0)})})})).apply(this,arguments)}const Uo={LOCAL:"local",NONE:"none",SESSION:"session"},Il=ne,Zl="persistence";function hd(E){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,y.Z)(function*(E){yield E._initializationPromise;const d=mh(),p=Gn(Zl,E.config.apiKey,E.name);(null==d?void 0:d.sessionStorage)&&d.sessionStorage.setItem(p,E._getPersistence())})).apply(this,arguments)}function mh(){return"undefined"!=typeof window?window:null}const yh=ne;class Lu{constructor(){this.browserResolver=_e(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ko,this._completeRedirectFn=qt}_openPopup(d,p,T,z){var se=this;return(0,y.Z)(function*(){var Ke;ye(null===(Ke=se.eventManagers[d._key()])||void 0===Ke?void 0:Ke.manager,"_initialize() not called before _openPopup()");const _t=Qu(d,p,T,at(),z);return function(E,d,p,T=500,z=600){const se=Math.max((window.screen.availHeight-z)/2,0).toString(),Ke=Math.max((window.screen.availWidth-T)/2,0).toString();let _t="";const Yt=Object.assign(Object.assign({},ih),{width:T.toString(),height:z.toString(),top:se,left:Ke}),mn=(0,K.z$)().toLowerCase();p&&(_t=ds(mn)?"_blank":p),ai(mn)&&(d=d||"http://localhost",Yt.scrollbars="yes");const xn=Object.entries(Yt).reduce((Hi,[xo,yu])=>`${Hi}${xo}=${yu},`,"");if(function(E=(0,K.z$)()){var d;return gi(E)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}(mn)&&"_self"!==_t)return function(E,d){const p=document.createElement("a");p.href=E,p.target=d;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(T)}(d||"",_t),new Fu(null);const Ln=window.open(d||"",_t,xn);ne(Ln,E,"popup-blocked");try{Ln.focus()}catch(Hi){}return new Fu(Ln)}(d,_t,Yi())})()}_openRedirect(d,p,T,z){var se=this;return(0,y.Z)(function*(){return yield se._originValidation(d),E=Qu(d,p,T,at(),z),Mr().location.href=E,new Promise(()=>{});var E})()}_initialize(d){const p=d._key();if(this.eventManagers[p]){const{manager:z,promise:se}=this.eventManagers[p];return z?Promise.resolve(z):(ye(se,"If manager is not set, promise should be"),se)}const T=this.initAndGetManager(d);return this.eventManagers[p]={promise:T},T}initAndGetManager(d){var p=this;return(0,y.Z)(function*(){const T=yield function(E){return _l.apply(this,arguments)}(d),z=new En(d);return T.register("authEvent",se=>(ne(null==se?void 0:se.authEvent,d,"invalid-auth-event"),{status:z.onEvent(se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[d._key()]={manager:z},p.iframes[d._key()]=T,z})()}_isIframeWebStorageSupported(d,p){this.iframes[d._key()].send(id,{type:id},z=>{var se;const Ke=null===(se=null==z?void 0:z[0])||void 0===se?void 0:se[id];void 0!==Ke&&p(!!Ke),Ue(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function(E){return Vo.apply(this,arguments)}(d)),this.originValidationPromises[p]}get _shouldInitProactively(){return mi()||ui()||gi()}}),this.cordovaResolver=_e(class{constructor(){this._redirectPersistence=ko,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=qt}_initialize(d){var p=this;return(0,y.Z)(function*(){const T=d._key();let z=p.eventManagers.get(T);return z||(z=new ch(d),p.eventManagers.set(T,z),p.attachCallbackListeners(d,z)),z})()}_openPopup(d){Ue(d,"operation-not-supported-in-this-environment")}_openRedirect(d,p,T,z){var se=this;return(0,y.Z)(function*(){!function(E){var d,p,T,z,se,Ke,_t,Yt,mn,xn;const Ln=Zo();ne("function"==typeof(null===(d=null==Ln?void 0:Ln.universalLinks)||void 0===d?void 0:d.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ne(void 0!==(null===(p=null==Ln?void 0:Ln.BuildInfo)||void 0===p?void 0:p.packageName),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ne("function"==typeof(null===(se=null===(z=null===(T=null==Ln?void 0:Ln.cordova)||void 0===T?void 0:T.plugins)||void 0===z?void 0:z.browsertab)||void 0===se?void 0:se.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(Yt=null===(_t=null===(Ke=null==Ln?void 0:Ln.cordova)||void 0===Ke?void 0:Ke.plugins)||void 0===_t?void 0:_t.browsertab)||void 0===Yt?void 0:Yt.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(xn=null===(mn=null==Ln?void 0:Ln.cordova)||void 0===mn?void 0:mn.InAppBrowser)||void 0===xn?void 0:xn.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const Ke=yield se._initialize(d);yield Ke.initialized(),Ke.resetRedirect(),nt.clear(),yield se._originValidation(d);const _t=function(E,d,p=null){return{type:d,eventId:p,urlResponse:null,sessionId:rp(),postBody:null,tenantId:E.tenantId,error:st(E,"no-auth-event")}}(d,T,z);yield function(E,d){return Qr()._set(Ic(E),d)}(d,_t);const Yt=yield function(E,d,p){return Wl.apply(this,arguments)}(d,_t,p),mn=yield function(E){const{cordova:d}=Zo();return new Promise(p=>{d.plugins.browsertab.isAvailable(T=>{let z=null;T?d.plugins.browsertab.openUrl(E):z=d.InAppBrowser.open(E,function(E=(0,K.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}()?"_blank":"_system","location=yes"),p(z)})})}(Yt);return function(E,d,p){return Kl.apply(this,arguments)}(d,Ke,mn)})()}_isIframeWebStorageSupported(d,p){throw new Error("Method not implemented.")}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function(E){return Ss.apply(this,arguments)}(d)),this.originValidationPromises[p]}attachCallbackListeners(d,p){const{universalLinks:T,handleOpenURL:z,BuildInfo:se}=Zo(),Ke=setTimeout((0,y.Z)(function*(){yield Cc(d),p.onEvent(dh())}),500),_t=function(){var xn=(0,y.Z)(function*(Ln){clearTimeout(Ke);const Hi=yield Cc(d);let xo=null;Hi&&(null==Ln?void 0:Ln.url)&&(xo=function(E,d){var p,T;const z=function(E){const d=pu(E),p=d.link?decodeURIComponent(d.link):void 0,T=pu(p).link,z=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return pu(z).link||z||T||p||E}(d);if(z.includes("/__/auth/callback")){const se=pu(z),Ke=se.firebaseError?function(E){try{return JSON.parse(E)}catch(d){return null}}(decodeURIComponent(se.firebaseError)):null,_t=null===(T=null===(p=null==Ke?void 0:Ke.code)||void 0===p?void 0:p.split("auth/"))||void 0===T?void 0:T[1],Yt=_t?st(_t):null;return Yt?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:Yt,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:z,postBody:null}}return null}(Hi,Ln.url)),p.onEvent(xo||dh())});return function(Hi){return xn.apply(this,arguments)}}();void 0!==T&&"function"==typeof T.subscribe&&T.subscribe(null,_t);const Yt=z,mn=`${se.packageName.toLowerCase()}://`;Zo().handleOpenURL=function(){var xn=(0,y.Z)(function*(Ln){if(Ln.toLowerCase().startsWith(mn)&&_t({url:Ln}),"function"==typeof Yt)try{Yt(Ln)}catch(Hi){console.error(Hi)}});return function(Ln){return xn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ko,this._completeRedirectFn=qt}_initialize(d){var p=this;return(0,y.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,p,T,z){var se=this;return(0,y.Z)(function*(){return yield se.selectUnderlyingResolver(),se.assertedUnderlyingResolver._openPopup(d,p,T,z)})()}_openRedirect(d,p,T,z){var se=this;return(0,y.Z)(function*(){return yield se.selectUnderlyingResolver(),se.assertedUnderlyingResolver._openRedirect(d,p,T,z)})()}_isIframeWebStorageSupported(d,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,p)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return Cl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return yh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,y.Z)(function*(){if(d.underlyingResolver)return;const p=yield function(){return Fi.apply(this,arguments)}();d.underlyingResolver=p?d.cordovaResolver:d.browserResolver})()}}function _h(E){return E.unwrap()}function Mo(E){return Rc(E)}function Rc(E){const{_tokenResponse:d}=E instanceof K.ZR?E.customData:E;if(!d)return null;if(!(E instanceof K.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return Ko.credentialFromResult(E);const p=d.providerId;if(!p||"password"===p)return null;let T;switch(p){case"google.com":T=eo;break;case"facebook.com":T=Ls;break;case"github.com":T=Vs;break;case"twitter.com":T=Wi;break;default:const{oauthIdToken:z,oauthAccessToken:se,oauthTokenSecret:Ke,pendingToken:_t,nonce:Yt}=d;return se||Ke||z||_t?_t?p.startsWith("saml.")?ws._create(p,_t):Be._fromParams({providerId:p,signInMethod:p,pendingToken:_t,idToken:z,accessToken:se}):new os(p).credential({idToken:z,accessToken:se,rawNonce:Yt}):null}return E instanceof K.ZR?T.credentialFromError(E):T.credentialFromResult(E)}function Bo(E,d){return d.catch(p=>{throw p instanceof K.ZR&&function(E,d){var p;const T=null===(p=d.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===d.code)d.resolver=new Vu(E,function(E,d){var p;const T=(0,K.m9)(E),z=d;return ne(d.customData.operationType,T,"argument-error"),ne(null===(p=z.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,T,"argument-error"),io._fromError(T,z)}(E,d));else if(T){const z=Rc(d),se=d;z&&(se.credential=z,se.tenantId=T.tenantId||void 0,se.email=T.email||void 0,se.phoneNumber=T.phoneNumber||void 0)}}(E,p),p}).then(p=>{const z=p.user;return{operationType:p.operationType,credential:Mo(p),additionalUserInfo:Na(p),user:gu.getOrCreate(z)}})}function go(E,d){return wa.apply(this,arguments)}function wa(){return(wa=(0,y.Z)(function*(E,d){const p=yield d;return{verificationId:p.verificationId,confirm:T=>Bo(E,p.confirm(T))}})).apply(this,arguments)}class Vu{constructor(d,p){this.resolver=p,this.auth=function(E){return E.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return Bo(_h(this.auth),this.resolver.resolveSignIn(d))}}class gu{constructor(d){this._delegate=d,this.multiFactor=function(E){const d=(0,K.m9)(E);return ga.has(d)||ga.set(d,Ha._fromUser(d)),ga.get(d)}(d)}static getOrCreate(d){return gu.USER_MAP.has(d)||gu.USER_MAP.set(d,new gu(d)),gu.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var p=this;return(0,y.Z)(function*(){return Bo(p.auth,mr(p._delegate,d))})()}linkWithPhoneNumber(d,p){var T=this;return(0,y.Z)(function*(){return go(T.auth,function(E,d,p){return Vn.apply(this,arguments)}(T._delegate,d,p))})()}linkWithPopup(d){var p=this;return(0,y.Z)(function*(){return Bo(p.auth,function(E,d,p){return q.apply(this,arguments)}(p._delegate,d,Lu))})()}linkWithRedirect(d){var p=this;return(0,y.Z)(function*(){return yield hd(gr(p.auth)),function(E,d,p){return function(E,d,p){return gt.apply(this,arguments)}(E,d,p)}(p._delegate,d,Lu)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var p=this;return(0,y.Z)(function*(){return Bo(p.auth,wn(p._delegate,d))})()}reauthenticateWithPhoneNumber(d,p){return go(this.auth,function(E,d,p){return $i.apply(this,arguments)}(this._delegate,d,p))}reauthenticateWithPopup(d){return Bo(this.auth,function(E,d,p){return b.apply(this,arguments)}(this._delegate,d,Lu))}reauthenticateWithRedirect(d){var p=this;return(0,y.Z)(function*(){return yield hd(gr(p.auth)),function(E,d,p){return function(E,d,p){return ee.apply(this,arguments)}(E,d,p)}(p._delegate,d,Lu)})()}sendEmailVerification(d){return function(E,d){return ps.apply(this,arguments)}(this._delegate,d)}unlink(d){var p=this;return(0,y.Z)(function*(){return yield function(E,d){return $s.apply(this,arguments)}(p._delegate,d),p})()}updateEmail(d){return function(E,d){return Ma((0,K.m9)(E),d,null)}(this._delegate,d)}updatePassword(d){return function(E,d){return Ma((0,K.m9)(E),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function(E,d){return lu.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function(E,d){return Is.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,p){return function(E,d,p){return Ur.apply(this,arguments)}(this._delegate,d,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}gu.USER_MAP=new WeakMap;const Ql=ne;let fd=(()=>{class E{constructor(p,T){if(this.app=p,T.isInitialized())return this._delegate=T.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:z}=p.options;Ql(z,"invalid-api-key",{appName:p.name});let se=[Qn];if("undefined"!=typeof window){se=function(E,d){const p=mh();if(!(null==p?void 0:p.sessionStorage))return[];const T=Gn(Zl,E,d);switch(p.sessionStorage.getItem(T)){case Uo.NONE:return[Qn];case Uo.LOCAL:return[Wo,ko];case Uo.SESSION:return[ko];default:return[]}}(z,p.name);for(const _t of[Wo,ao,ko])se.includes(_t)||se.push(_t)}Ql(z,"invalid-api-key",{appName:p.name});const Ke="undefined"!=typeof window?Lu:void 0;this._delegate=T.initialize({options:{persistence:se,popupRedirectResolver:Ke}}),this._delegate._updateErrorMap(ct),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?gu.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,T){!function(E,d,p){const T=gr(E);ne(T._canInitEmulator,T,"emulator-config-failed"),ne(/^https?:\/\//.test(d),T,"invalid-emulator-scheme");const z=!!(null==p?void 0:p.disableWarnings),se=Wr(d),{host:Ke,port:_t}=function(E){const d=Wr(E),p=/(\/\/)?([^?#/]+)/.exec(E.substr(d.length));if(!p)return{host:"",port:null};const T=p[2].split("@").pop()||"",z=/^(\[[^\]]+\])(:|$)/.exec(T);if(z){const se=z[1];return{host:se,port:Sn(T.substr(se.length+1))}}{const[se,Ke]=T.split(":");return{host:se,port:Sn(Ke)}}}(d);T.config.emulator={url:`${se}//${Ke}${null===_t?"":`:${_t}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:Ke,port:_t,protocol:se.replace(":",""),options:Object.freeze({disableWarnings:z})}),z||function(){function E(){const d=document.createElement("p"),p=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}(this._delegate,p,T)}applyActionCode(p){return function(E,d){return G.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return L(this._delegate,p)}confirmPasswordReset(p,T){return function(E,d,p){return as.apply(this,arguments)}(this._delegate,p,T)}createUserWithEmailAndPassword(p,T){var z=this;return(0,y.Z)(function*(){return Bo(z._delegate,function(E,d,p){return kt.apply(this,arguments)}(z._delegate,p,T))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function(E,d){return Vr.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function(E,d){const p=Ai.parseLink(d);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,y.Z)(function*(){Ql(aa(),p._delegate,"operation-not-supported-in-this-environment");const T=yield function(E,d){return Cn.apply(this,arguments)}(p._delegate,Lu);return T?Bo(p._delegate,Promise.resolve(T)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function(E,d){gr(E)._logFramework(d)}(this._delegate,p)}onAuthStateChanged(p,T,z){const{next:se,error:Ke,complete:_t}=pd(p,T,z);return this._delegate.onAuthStateChanged(se,Ke,_t)}onIdTokenChanged(p,T,z){const{next:se,error:Ke,complete:_t}=pd(p,T,z);return this._delegate.onIdTokenChanged(se,Ke,_t)}sendSignInLinkToEmail(p,T){return function(E,d,p){return ut.apply(this,arguments)}(this._delegate,p,T)}sendPasswordResetEmail(p,T){return function(E,d,p){return Ms.apply(this,arguments)}(this._delegate,p,T||void 0)}setPersistence(p){var T=this;return(0,y.Z)(function*(){let z;switch(function(E,d){Il(Object.values(Uo).includes(d),E,"invalid-persistence-type"),(0,K.b$)()?Il(d!==Uo.SESSION,E,"unsupported-persistence-type"):(0,K.UG)()?Il(d===Uo.NONE,E,"unsupported-persistence-type"):Ja()?Il(d===Uo.NONE||d===Uo.LOCAL&&(0,K.hl)(),E,"unsupported-persistence-type"):Il(d===Uo.NONE||Sc(),E,"unsupported-persistence-type")}(T._delegate,p),p){case Uo.SESSION:z=ko;break;case Uo.LOCAL:z=(yield _e(Wo)._isAvailable())?Wo:ao;break;case Uo.NONE:z=Qn;break;default:return Ue("argument-error",{appName:T._delegate.name})}return T._delegate.setPersistence(z)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return Bo(this._delegate,function(E){return Bs.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return Bo(this._delegate,It(this._delegate,p))}signInWithCustomToken(p){return Bo(this._delegate,function(E,d){return Zi.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,T){return Bo(this._delegate,function(E,d,p){return It((0,K.m9)(E),Fs.credential(d,p))}(this._delegate,p,T))}signInWithEmailLink(p,T){return Bo(this._delegate,function(E,d,p){return Xn.apply(this,arguments)}(this._delegate,p,T))}signInWithPhoneNumber(p,T){return go(this._delegate,function(E,d,p){return Ds.apply(this,arguments)}(this._delegate,p,T))}signInWithPopup(p){var T=this;return(0,y.Z)(function*(){return Ql(aa(),T._delegate,"operation-not-supported-in-this-environment"),Bo(T._delegate,function(E,d,p){return f.apply(this,arguments)}(T._delegate,p,Lu))})()}signInWithRedirect(p){var T=this;return(0,y.Z)(function*(){return Ql(aa(),T._delegate,"operation-not-supported-in-this-environment"),yield hd(T._delegate),function(E,d,p){return function(E,d,p){return ri.apply(this,arguments)}(E,d,p)}(T._delegate,p,Lu)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function(E,d){return Ye.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=Uo,E})();function pd(E,d,p){let T=E;"function"!=typeof E&&({next:T,error:d,complete:p}=E);const z=T;return{next:Ke=>z(Ke&&gu.getOrCreate(Ke)),error:d,complete:p}}class Yo{constructor(){this.providerId="phone",this._delegate=new Ko(_h(w.Z.auth()))}static credential(d,p){return Ko.credential(d,p)}verifyPhoneNumber(d,p){return this._delegate.verifyPhoneNumber(d,p)}unwrap(){return this._delegate}}Yo.PHONE_SIGN_IN_METHOD=Ko.PHONE_SIGN_IN_METHOD,Yo.PROVIDER_ID=Ko.PROVIDER_ID;const op=ne;class gd{constructor(d,p,T=w.Z.app()){var z;op(null===(z=T.options)||void 0===z?void 0:z.apiKey,"invalid-api-key",{appName:T.name}),this._delegate=new er(d,p,T.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(E){E.INTERNAL.registerComponent(new Me.wA("auth-compat",d=>{const p=d.getProvider("app-compat").getImmediate(),T=d.getProvider("auth");return new fd(p,T)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Fs,FacebookAuthProvider:Ls,GithubAuthProvider:Vs,GoogleAuthProvider:eo,OAuthProvider:os,SAMLAuthProvider:Bi,PhoneAuthProvider:Yo,PhoneMultiFactorGenerator:od,RecaptchaVerifier:gd,TwitterAuthProvider:Wi,Auth:fd,AuthCredential:je,Error:K.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.2.3")}(w.Z)},6676:function(Dt,Ve){!function(O){"use strict";function y(Oe){return Array.prototype.slice.call(Oe)}function w(Oe){return new Promise(function(We,xe){Oe.onsuccess=function(){We(Oe.result)},Oe.onerror=function(){xe(Oe.error)}})}function K(Oe,We,xe){var Le,Ue=new Promise(function(st,ot){w(Le=Oe[We].apply(Oe,xe)).then(st,ot)});return Ue.request=Le,Ue}function we(Oe,We,xe){var Le=K(Oe,We,xe);return Le.then(function(Ue){if(Ue)return new Q(Ue,Le.request)})}function fe(Oe,We,xe){xe.forEach(function(Le){Object.defineProperty(Oe.prototype,Le,{get:function(){return this[We][Le]},set:function(Ue){this[We][Le]=Ue}})})}function Ce(Oe,We,xe,Le){Le.forEach(function(Ue){Ue in xe.prototype&&(Oe.prototype[Ue]=function(){return K(this[We],Ue,arguments)})})}function Me(Oe,We,xe,Le){Le.forEach(function(Ue){Ue in xe.prototype&&(Oe.prototype[Ue]=function(){return this[We][Ue].apply(this[We],arguments)})})}function Te(Oe,We,xe,Le){Le.forEach(function(Ue){Ue in xe.prototype&&(Oe.prototype[Ue]=function(){return we(this[We],Ue,arguments)})})}function he(Oe){this._index=Oe}function Q(Oe,We){this._cursor=Oe,this._request=We}function Y(Oe){this._store=Oe}function pe(Oe){this._tx=Oe,this.complete=new Promise(function(We,xe){Oe.oncomplete=function(){We()},Oe.onerror=function(){xe(Oe.error)},Oe.onabort=function(){xe(Oe.error)}})}function qe(Oe,We,xe){this._db=Oe,this.oldVersion=We,this.transaction=new pe(xe)}function Ne(Oe){this._db=Oe}fe(he,"_index",["name","keyPath","multiEntry","unique"]),Ce(he,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Te(he,"_index",IDBIndex,["openCursor","openKeyCursor"]),fe(Q,"_cursor",["direction","key","primaryKey","value"]),Ce(Q,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Oe){Oe in IDBCursor.prototype&&(Q.prototype[Oe]=function(){var We=this,xe=arguments;return Promise.resolve().then(function(){return We._cursor[Oe].apply(We._cursor,xe),w(We._request).then(function(Le){if(Le)return new Q(Le,We._request)})})})}),Y.prototype.createIndex=function(){return new he(this._store.createIndex.apply(this._store,arguments))},Y.prototype.index=function(){return new he(this._store.index.apply(this._store,arguments))},fe(Y,"_store",["name","keyPath","indexNames","autoIncrement"]),Ce(Y,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Te(Y,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Me(Y,"_store",IDBObjectStore,["deleteIndex"]),pe.prototype.objectStore=function(){return new Y(this._tx.objectStore.apply(this._tx,arguments))},fe(pe,"_tx",["objectStoreNames","mode"]),Me(pe,"_tx",IDBTransaction,["abort"]),qe.prototype.createObjectStore=function(){return new Y(this._db.createObjectStore.apply(this._db,arguments))},fe(qe,"_db",["name","version","objectStoreNames"]),Me(qe,"_db",IDBDatabase,["deleteObjectStore","close"]),Ne.prototype.transaction=function(){return new pe(this._db.transaction.apply(this._db,arguments))},fe(Ne,"_db",["name","version","objectStoreNames"]),Me(Ne,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Oe){[Y,he].forEach(function(We){Oe in We.prototype&&(We.prototype[Oe.replace("open","iterate")]=function(){var xe=y(arguments),Le=xe[xe.length-1],Ue=this._store||this._index,st=Ue[Oe].apply(Ue,xe.slice(0,-1));st.onsuccess=function(){Le(st.result)}})})}),[he,Y].forEach(function(Oe){Oe.prototype.getAll||(Oe.prototype.getAll=function(We,xe){var Le=this,Ue=[];return new Promise(function(st){Le.iterateCursor(We,function(ot){ot?(Ue.push(ot.value),void 0===xe||Ue.length!=xe?ot.continue():st(Ue)):st(Ue)})})})}),O.openDb=function(Oe,We,xe){var Le=K(indexedDB,"open",[Oe,We]),Ue=Le.request;return Ue&&(Ue.onupgradeneeded=function(st){xe&&xe(new qe(Ue.result,st.oldVersion,Ue.transaction))}),Le.then(function(st){return new Ne(st)})},O.deleteDb=function(Oe){return K(indexedDB,"deleteDatabase",[Oe])},Object.defineProperty(O,"__esModule",{value:!0})}(Ve)},6215:(Dt,Ve,O)=>{"use strict";O.d(Ve,{X:()=>K});var y=O(9765),w=O(7971);class K extends y.xQ{constructor(fe){super(),this._value=fe}get value(){return this.getValue()}_subscribe(fe){const Ce=super._subscribe(fe);return Ce&&!Ce.closed&&fe.next(this._value),Ce}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new w.N;return this._value}next(fe){super.next(this._value=fe)}}},7574:(Dt,Ve,O)=>{"use strict";O.d(Ve,{y:()=>Y});var y=O(7393),K=O(9181),we=O(6490),Ce=O(6554),Me=O(4487);var Q=O(2494);let Y=(()=>{class qe{constructor(ct){this._isScalar=!1,ct&&(this._subscribe=ct)}lift(ct){const Re=new qe;return Re.source=this,Re.operator=ct,Re}subscribe(ct,Re,Oe){const{operator:We}=this,xe=function(qe,Ne,ct){if(qe){if(qe instanceof y.L)return qe;if(qe[K.b])return qe[K.b]()}return qe||Ne||ct?new y.L(qe,Ne,ct):new y.L(we.c)}(ct,Re,Oe);if(xe.add(We?We.call(xe,this.source):this.source||Q.v.useDeprecatedSynchronousErrorHandling&&!xe.syncErrorThrowable?this._subscribe(xe):this._trySubscribe(xe)),Q.v.useDeprecatedSynchronousErrorHandling&&xe.syncErrorThrowable&&(xe.syncErrorThrowable=!1,xe.syncErrorThrown))throw xe.syncErrorValue;return xe}_trySubscribe(ct){try{return this._subscribe(ct)}catch(Re){Q.v.useDeprecatedSynchronousErrorHandling&&(ct.syncErrorThrown=!0,ct.syncErrorValue=Re),function(qe){for(;qe;){const{closed:Ne,destination:ct,isStopped:Re}=qe;if(Ne||Re)return!1;qe=ct&&ct instanceof y.L?ct:null}return!0}(ct)?ct.error(Re):console.warn(Re)}}forEach(ct,Re){return new(Re=pe(Re))((Oe,We)=>{let xe;xe=this.subscribe(Le=>{try{ct(Le)}catch(Ue){We(Ue),xe&&xe.unsubscribe()}},We,Oe)})}_subscribe(ct){const{source:Re}=this;return Re&&Re.subscribe(ct)}[Ce.L](){return this}pipe(...ct){return 0===ct.length?this:function(qe){return 0===qe.length?Me.y:1===qe.length?qe[0]:function(ct){return qe.reduce((Re,Oe)=>Oe(Re),ct)}}(ct)(this)}toPromise(ct){return new(ct=pe(ct))((Re,Oe)=>{let We;this.subscribe(xe=>We=xe,xe=>Oe(xe),()=>Re(We))})}}return qe.create=Ne=>new qe(Ne),qe})();function pe(qe){if(qe||(qe=Q.v.Promise||Promise),!qe)throw new Error("no Promise impl found");return qe}},6490:(Dt,Ve,O)=>{"use strict";O.d(Ve,{c:()=>K});var y=O(2494),w=O(4449);const K={closed:!0,next(we){},error(we){if(y.v.useDeprecatedSynchronousErrorHandling)throw we;(0,w.z)(we)},complete(){}}},9765:(Dt,Ve,O)=>{"use strict";O.d(Ve,{Yc:()=>Me,xQ:()=>Te});var y=O(7574),w=O(7393),K=O(5319),we=O(7971),fe=O(8858),Ce=O(9181);class Me extends w.L{constructor(Y){super(Y),this.destination=Y}}let Te=(()=>{class Q extends y.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Ce.b](){return new Me(this)}lift(pe){const qe=new he(this,this);return qe.operator=pe,qe}next(pe){if(this.closed)throw new we.N;if(!this.isStopped){const{observers:qe}=this,Ne=qe.length,ct=qe.slice();for(let Re=0;Re<Ne;Re++)ct[Re].next(pe)}}error(pe){if(this.closed)throw new we.N;this.hasError=!0,this.thrownError=pe,this.isStopped=!0;const{observers:qe}=this,Ne=qe.length,ct=qe.slice();for(let Re=0;Re<Ne;Re++)ct[Re].error(pe);this.observers.length=0}complete(){if(this.closed)throw new we.N;this.isStopped=!0;const{observers:pe}=this,qe=pe.length,Ne=pe.slice();for(let ct=0;ct<qe;ct++)Ne[ct].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(pe){if(this.closed)throw new we.N;return super._trySubscribe(pe)}_subscribe(pe){if(this.closed)throw new we.N;return this.hasError?(pe.error(this.thrownError),K.w.EMPTY):this.isStopped?(pe.complete(),K.w.EMPTY):(this.observers.push(pe),new fe.W(this,pe))}asObservable(){const pe=new y.y;return pe.source=this,pe}}return Q.create=(Y,pe)=>new he(Y,pe),Q})();class he extends Te{constructor(Y,pe){super(),this.destination=Y,this.source=pe}next(Y){const{destination:pe}=this;pe&&pe.next&&pe.next(Y)}error(Y){const{destination:pe}=this;pe&&pe.error&&this.destination.error(Y)}complete(){const{destination:Y}=this;Y&&Y.complete&&this.destination.complete()}_subscribe(Y){const{source:pe}=this;return pe?this.source.subscribe(Y):K.w.EMPTY}}},8858:(Dt,Ve,O)=>{"use strict";O.d(Ve,{W:()=>w});var y=O(5319);class w extends y.w{constructor(we,fe){super(),this.subject=we,this.subscriber=fe,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const we=this.subject,fe=we.observers;if(this.subject=null,!fe||0===fe.length||we.isStopped||we.closed)return;const Ce=fe.indexOf(this.subscriber);-1!==Ce&&fe.splice(Ce,1)}}},7393:(Dt,Ve,O)=>{"use strict";O.d(Ve,{L:()=>Me});var y=O(9105),w=O(6490),K=O(5319),we=O(9181),fe=O(2494),Ce=O(4449);class Me extends K.w{constructor(Q,Y,pe){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=w.c;break;case 1:if(!Q){this.destination=w.c;break}if("object"==typeof Q){Q instanceof Me?(this.syncErrorThrowable=Q.syncErrorThrowable,this.destination=Q,Q.add(this)):(this.syncErrorThrowable=!0,this.destination=new Te(this,Q));break}default:this.syncErrorThrowable=!0,this.destination=new Te(this,Q,Y,pe)}}[we.b](){return this}static create(Q,Y,pe){const qe=new Me(Q,Y,pe);return qe.syncErrorThrowable=!1,qe}next(Q){this.isStopped||this._next(Q)}error(Q){this.isStopped||(this.isStopped=!0,this._error(Q))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(Q){this.destination.next(Q)}_error(Q){this.destination.error(Q),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:Q}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=Q,this}}class Te extends Me{constructor(Q,Y,pe,qe){super(),this._parentSubscriber=Q;let Ne,ct=this;(0,y.m)(Y)?Ne=Y:Y&&(Ne=Y.next,pe=Y.error,qe=Y.complete,Y!==w.c&&(ct=Object.create(Y),(0,y.m)(ct.unsubscribe)&&this.add(ct.unsubscribe.bind(ct)),ct.unsubscribe=this.unsubscribe.bind(this))),this._context=ct,this._next=Ne,this._error=pe,this._complete=qe}next(Q){if(!this.isStopped&&this._next){const{_parentSubscriber:Y}=this;fe.v.useDeprecatedSynchronousErrorHandling&&Y.syncErrorThrowable?this.__tryOrSetError(Y,this._next,Q)&&this.unsubscribe():this.__tryOrUnsub(this._next,Q)}}error(Q){if(!this.isStopped){const{_parentSubscriber:Y}=this,{useDeprecatedSynchronousErrorHandling:pe}=fe.v;if(this._error)pe&&Y.syncErrorThrowable?(this.__tryOrSetError(Y,this._error,Q),this.unsubscribe()):(this.__tryOrUnsub(this._error,Q),this.unsubscribe());else if(Y.syncErrorThrowable)pe?(Y.syncErrorValue=Q,Y.syncErrorThrown=!0):(0,Ce.z)(Q),this.unsubscribe();else{if(this.unsubscribe(),pe)throw Q;(0,Ce.z)(Q)}}}complete(){if(!this.isStopped){const{_parentSubscriber:Q}=this;if(this._complete){const Y=()=>this._complete.call(this._context);fe.v.useDeprecatedSynchronousErrorHandling&&Q.syncErrorThrowable?(this.__tryOrSetError(Q,Y),this.unsubscribe()):(this.__tryOrUnsub(Y),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(Q,Y){try{Q.call(this._context,Y)}catch(pe){if(this.unsubscribe(),fe.v.useDeprecatedSynchronousErrorHandling)throw pe;(0,Ce.z)(pe)}}__tryOrSetError(Q,Y,pe){if(!fe.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Y.call(this._context,pe)}catch(qe){return fe.v.useDeprecatedSynchronousErrorHandling?(Q.syncErrorValue=qe,Q.syncErrorThrown=!0,!0):((0,Ce.z)(qe),!0)}return!1}_unsubscribe(){const{_parentSubscriber:Q}=this;this._context=null,this._parentSubscriber=null,Q.unsubscribe()}}},5319:(Dt,Ve,O)=>{"use strict";O.d(Ve,{w:()=>Ce});var y=O(9796),w=O(1555),K=O(9105);const fe=(()=>{function Te(he){return Error.call(this),this.message=he?`${he.length} errors occurred during unsubscription:\n${he.map((Q,Y)=>`${Y+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=he,this}return Te.prototype=Object.create(Error.prototype),Te})();class Ce{constructor(he){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,he&&(this._ctorUnsubscribe=!0,this._unsubscribe=he)}unsubscribe(){let he;if(this.closed)return;let{_parentOrParents:Q,_ctorUnsubscribe:Y,_unsubscribe:pe,_subscriptions:qe}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,Q instanceof Ce)Q.remove(this);else if(null!==Q)for(let Ne=0;Ne<Q.length;++Ne)Q[Ne].remove(this);if((0,K.m)(pe)){Y&&(this._unsubscribe=void 0);try{pe.call(this)}catch(Ne){he=Ne instanceof fe?Me(Ne.errors):[Ne]}}if((0,y.k)(qe)){let Ne=-1,ct=qe.length;for(;++Ne<ct;){const Re=qe[Ne];if((0,w.K)(Re))try{Re.unsubscribe()}catch(Oe){he=he||[],Oe instanceof fe?he=he.concat(Me(Oe.errors)):he.push(Oe)}}}if(he)throw new fe(he)}add(he){let Q=he;if(!he)return Ce.EMPTY;switch(typeof he){case"function":Q=new Ce(he);case"object":if(Q===this||Q.closed||"function"!=typeof Q.unsubscribe)return Q;if(this.closed)return Q.unsubscribe(),Q;if(!(Q instanceof Ce)){const qe=Q;Q=new Ce,Q._subscriptions=[qe]}break;default:throw new Error("unrecognized teardown "+he+" added to Subscription.")}let{_parentOrParents:Y}=Q;if(null===Y)Q._parentOrParents=this;else if(Y instanceof Ce){if(Y===this)return Q;Q._parentOrParents=[Y,this]}else{if(-1!==Y.indexOf(this))return Q;Y.push(this)}const pe=this._subscriptions;return null===pe?this._subscriptions=[Q]:pe.push(Q),Q}remove(he){const Q=this._subscriptions;if(Q){const Y=Q.indexOf(he);-1!==Y&&Q.splice(Y,1)}}}var Te;function Me(Te){return Te.reduce((he,Q)=>he.concat(Q instanceof fe?Q.errors:Q),[])}Ce.EMPTY=((Te=new Ce).closed=!0,Te)},2494:(Dt,Ve,O)=>{"use strict";O.d(Ve,{v:()=>w});let y=!1;const w={Promise:void 0,set useDeprecatedSynchronousErrorHandling(K){if(K){const we=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+we.stack)}else y&&console.log("RxJS: Back to a better error behavior. Thank you. <3");y=K},get useDeprecatedSynchronousErrorHandling(){return y}}},5345:(Dt,Ve,O)=>{"use strict";O.d(Ve,{IY:()=>we,Ds:()=>Ce,ft:()=>Te});var y=O(7393),w=O(7574),K=O(7444);class we extends y.L{constructor(Q){super(),this.parent=Q}_next(Q){this.parent.notifyNext(Q)}_error(Q){this.parent.notifyError(Q),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Ce extends y.L{notifyNext(Q){this.destination.next(Q)}notifyError(Q){this.destination.error(Q)}notifyComplete(){this.destination.complete()}}function Te(he,Q){if(Q.closed)return;if(he instanceof w.y)return he.subscribe(Q);let Y;try{Y=(0,K.s)(he)(Q)}catch(pe){Q.error(pe)}return Y}},2441:(Dt,Ve,O)=>{"use strict";O.d(Ve,{c:()=>fe,N:()=>Ce});var y=O(9765),w=O(7574),K=O(5319),we=O(1307);class fe extends w.y{constructor(Y,pe){super(),this.source=Y,this.subjectFactory=pe,this._refCount=0,this._isComplete=!1}_subscribe(Y){return this.getSubject().subscribe(Y)}getSubject(){const Y=this._subject;return(!Y||Y.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let Y=this._connection;return Y||(this._isComplete=!1,Y=this._connection=new K.w,Y.add(this.source.subscribe(new Me(this.getSubject(),this))),Y.closed&&(this._connection=null,Y=K.w.EMPTY)),Y}refCount(){return(0,we.x)()(this)}}const Ce=(()=>{const Q=fe.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:Q._subscribe},_isComplete:{value:Q._isComplete,writable:!0},getSubject:{value:Q.getSubject},connect:{value:Q.connect},refCount:{value:Q.refCount}}})();class Me extends y.Yc{constructor(Y,pe){super(Y),this.connectable=pe}_error(Y){this._unsubscribe(),super._error(Y)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const Y=this.connectable;if(Y){this.connectable=null;const pe=Y._connection;Y._refCount=0,Y._subject=null,Y._connection=null,pe&&pe.unsubscribe()}}}},8071:(Dt,Ve,O)=>{"use strict";O.d(Ve,{z:()=>we});var y=O(5917),w=O(3282);function we(...fe){return(0,w.J)(1)((0,y.of)(...fe))}},1439:(Dt,Ve,O)=>{"use strict";O.d(Ve,{P:()=>we});var y=O(7574),w=O(4402),K=O(9193);function we(fe){return new y.y(Ce=>{let Me;try{Me=fe()}catch(he){return void Ce.error(he)}return(Me?(0,w.D)(Me):(0,K.c)()).subscribe(Ce)})}},9193:(Dt,Ve,O)=>{"use strict";O.d(Ve,{E:()=>w,c:()=>K});var y=O(7574);const w=new y.y(fe=>fe.complete());function K(fe){return fe?function(fe){return new y.y(Ce=>fe.schedule(()=>Ce.complete()))}(fe):w}},5758:(Dt,Ve,O)=>{"use strict";O.d(Ve,{D:()=>Ce});var y=O(7574),w=O(9796),K=O(8002),we=O(1555),fe=O(4402);function Ce(...Te){if(1===Te.length){const he=Te[0];if((0,w.k)(he))return Me(he,null);if((0,we.K)(he)&&Object.getPrototypeOf(he)===Object.prototype){const Q=Object.keys(he);return Me(Q.map(Y=>he[Y]),Q)}}if("function"==typeof Te[Te.length-1]){const he=Te.pop();return Me(Te=1===Te.length&&(0,w.k)(Te[0])?Te[0]:Te,null).pipe((0,K.U)(Q=>he(...Q)))}return Me(Te,null)}function Me(Te,he){return new y.y(Q=>{const Y=Te.length;if(0===Y)return void Q.complete();const pe=new Array(Y);let qe=0,Ne=0;for(let ct=0;ct<Y;ct++){const Re=(0,fe.D)(Te[ct]);let Oe=!1;Q.add(Re.subscribe({next:We=>{Oe||(Oe=!0,Ne++),pe[ct]=We},error:We=>Q.error(We),complete:()=>{qe++,(qe===Y||!Oe)&&(Ne===Y&&Q.next(he?he.reduce((We,xe,Le)=>(We[xe]=pe[Le],We),{}):pe),Q.complete())}}))}})}},4402:(Dt,Ve,O)=>{"use strict";O.d(Ve,{D:()=>ct});var y=O(7574),w=O(7444),K=O(5319),we=O(6554),Me=O(4087),Te=O(377),Y=O(4072),pe=O(9489);function ct(Re,Oe){return Oe?function(Re,Oe){if(null!=Re){if(function(Re){return Re&&"function"==typeof Re[we.L]}(Re))return function(Re,Oe){return new y.y(We=>{const xe=new K.w;return xe.add(Oe.schedule(()=>{const Le=Re[we.L]();xe.add(Le.subscribe({next(Ue){xe.add(Oe.schedule(()=>We.next(Ue)))},error(Ue){xe.add(Oe.schedule(()=>We.error(Ue)))},complete(){xe.add(Oe.schedule(()=>We.complete()))}}))})),xe})}(Re,Oe);if((0,Y.t)(Re))return function(Re,Oe){return new y.y(We=>{const xe=new K.w;return xe.add(Oe.schedule(()=>Re.then(Le=>{xe.add(Oe.schedule(()=>{We.next(Le),xe.add(Oe.schedule(()=>We.complete()))}))},Le=>{xe.add(Oe.schedule(()=>We.error(Le)))}))),xe})}(Re,Oe);if((0,pe.z)(Re))return(0,Me.r)(Re,Oe);if(function(Re){return Re&&"function"==typeof Re[Te.hZ]}(Re)||"string"==typeof Re)return function(Re,Oe){if(!Re)throw new Error("Iterable cannot be null");return new y.y(We=>{const xe=new K.w;let Le;return xe.add(()=>{Le&&"function"==typeof Le.return&&Le.return()}),xe.add(Oe.schedule(()=>{Le=Re[Te.hZ](),xe.add(Oe.schedule(function(){if(We.closed)return;let Ue,st;try{const ot=Le.next();Ue=ot.value,st=ot.done}catch(ot){return void We.error(ot)}st?We.complete():(We.next(Ue),this.schedule())}))})),xe})}(Re,Oe)}throw new TypeError((null!==Re&&typeof Re||Re)+" is not observable")}(Re,Oe):Re instanceof y.y?Re:new y.y((0,w.s)(Re))}},6693:(Dt,Ve,O)=>{"use strict";O.d(Ve,{n:()=>we});var y=O(7574),w=O(5015),K=O(4087);function we(fe,Ce){return Ce?(0,K.r)(fe,Ce):new y.y((0,w.V)(fe))}},5917:(Dt,Ve,O)=>{"use strict";O.d(Ve,{of:()=>we});var y=O(4869),w=O(6693),K=O(4087);function we(...fe){let Ce=fe[fe.length-1];return(0,y.K)(Ce)?(fe.pop(),(0,K.r)(fe,Ce)):(0,w.n)(fe)}},4612:(Dt,Ve,O)=>{"use strict";O.d(Ve,{b:()=>w});var y=O(9773);function w(K,we){return(0,y.zg)(K,we,1)}},5435:(Dt,Ve,O)=>{"use strict";O.d(Ve,{h:()=>w});var y=O(7393);function w(fe,Ce){return function(Te){return Te.lift(new K(fe,Ce))}}class K{constructor(Ce,Me){this.predicate=Ce,this.thisArg=Me}call(Ce,Me){return Me.subscribe(new we(Ce,this.predicate,this.thisArg))}}class we extends y.L{constructor(Ce,Me,Te){super(Ce),this.predicate=Me,this.thisArg=Te,this.count=0}_next(Ce){let Me;try{Me=this.predicate.call(this.thisArg,Ce,this.count++)}catch(Te){return void this.destination.error(Te)}Me&&this.destination.next(Ce)}}},8002:(Dt,Ve,O)=>{"use strict";O.d(Ve,{U:()=>w});var y=O(7393);function w(fe,Ce){return function(Te){if("function"!=typeof fe)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Te.lift(new K(fe,Ce))}}class K{constructor(Ce,Me){this.project=Ce,this.thisArg=Me}call(Ce,Me){return Me.subscribe(new we(Ce,this.project,this.thisArg))}}class we extends y.L{constructor(Ce,Me,Te){super(Ce),this.project=Me,this.count=0,this.thisArg=Te||this}_next(Ce){let Me;try{Me=this.project.call(this.thisArg,Ce,this.count++)}catch(Te){return void this.destination.error(Te)}this.destination.next(Me)}}},3282:(Dt,Ve,O)=>{"use strict";O.d(Ve,{J:()=>K});var y=O(9773),w=O(4487);function K(we=Number.POSITIVE_INFINITY){return(0,y.zg)(w.y,we)}},9773:(Dt,Ve,O)=>{"use strict";O.d(Ve,{zg:()=>we});var y=O(8002),w=O(4402),K=O(5345);function we(Te,he,Q=Number.POSITIVE_INFINITY){return"function"==typeof he?Y=>Y.pipe(we((pe,qe)=>(0,w.D)(Te(pe,qe)).pipe((0,y.U)((Ne,ct)=>he(pe,Ne,qe,ct))),Q)):("number"==typeof he&&(Q=he),Y=>Y.lift(new fe(Te,Q)))}class fe{constructor(he,Q=Number.POSITIVE_INFINITY){this.project=he,this.concurrent=Q}call(he,Q){return Q.subscribe(new Ce(he,this.project,this.concurrent))}}class Ce extends K.Ds{constructor(he,Q,Y=Number.POSITIVE_INFINITY){super(he),this.project=Q,this.concurrent=Y,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(he){this.active<this.concurrent?this._tryNext(he):this.buffer.push(he)}_tryNext(he){let Q;const Y=this.index++;try{Q=this.project(he,Y)}catch(pe){return void this.destination.error(pe)}this.active++,this._innerSub(Q)}_innerSub(he){const Q=new K.IY(this),Y=this.destination;Y.add(Q);const pe=(0,K.ft)(he,Q);pe!==Q&&Y.add(pe)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(he){this.destination.next(he)}notifyComplete(){const he=this.buffer;this.active--,he.length>0?this._next(he.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},1307:(Dt,Ve,O)=>{"use strict";O.d(Ve,{x:()=>w});var y=O(7393);function w(){return function(Ce){return Ce.lift(new K(Ce))}}class K{constructor(Ce){this.connectable=Ce}call(Ce,Me){const{connectable:Te}=this;Te._refCount++;const he=new we(Ce,Te),Q=Me.subscribe(he);return he.closed||(he.connection=Te.connect()),Q}}class we extends y.L{constructor(Ce,Me){super(Ce),this.connectable=Me}_unsubscribe(){const{connectable:Ce}=this;if(!Ce)return void(this.connection=null);this.connectable=null;const Me=Ce._refCount;if(Me<=0)return void(this.connection=null);if(Ce._refCount=Me-1,Me>1)return void(this.connection=null);const{connection:Te}=this,he=Ce._connection;this.connection=null,he&&(!Te||he===Te)&&he.unsubscribe()}}},3190:(Dt,Ve,O)=>{"use strict";O.d(Ve,{w:()=>we});var y=O(8002),w=O(4402),K=O(5345);function we(Me,Te){return"function"==typeof Te?he=>he.pipe(we((Q,Y)=>(0,w.D)(Me(Q,Y)).pipe((0,y.U)((pe,qe)=>Te(Q,pe,Y,qe))))):he=>he.lift(new fe(Me))}class fe{constructor(Te){this.project=Te}call(Te,he){return he.subscribe(new Ce(Te,this.project))}}class Ce extends K.Ds{constructor(Te,he){super(Te),this.project=he,this.index=0}_next(Te){let he;const Q=this.index++;try{he=this.project(Te,Q)}catch(Y){return void this.destination.error(Y)}this._innerSub(he)}_innerSub(Te){const he=this.innerSubscription;he&&he.unsubscribe();const Q=new K.IY(this),Y=this.destination;Y.add(Q),this.innerSubscription=(0,K.ft)(Te,Q),this.innerSubscription!==Q&&Y.add(this.innerSubscription)}_complete(){const{innerSubscription:Te}=this;(!Te||Te.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(Te){this.destination.next(Te)}}},5257:(Dt,Ve,O)=>{"use strict";O.d(Ve,{q:()=>we});var y=O(7393),w=O(7108),K=O(9193);function we(Me){return Te=>0===Me?(0,K.c)():Te.lift(new fe(Me))}class fe{constructor(Te){if(this.total=Te,this.total<0)throw new w.W}call(Te,he){return he.subscribe(new Ce(Te,this.total))}}class Ce extends y.L{constructor(Te,he){super(Te),this.total=he,this.count=0}_next(Te){const he=this.total,Q=++this.count;Q<=he&&(this.destination.next(Te),Q===he&&(this.destination.complete(),this.unsubscribe()))}}},4087:(Dt,Ve,O)=>{"use strict";O.d(Ve,{r:()=>K});var y=O(7574),w=O(5319);function K(we,fe){return new y.y(Ce=>{const Me=new w.w;let Te=0;return Me.add(fe.schedule(function(){Te!==we.length?(Ce.next(we[Te++]),Ce.closed||Me.add(this.schedule())):Ce.complete()})),Me})}},377:(Dt,Ve,O)=>{"use strict";O.d(Ve,{hZ:()=>w});const w="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Dt,Ve,O)=>{"use strict";O.d(Ve,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Dt,Ve,O)=>{"use strict";O.d(Ve,{b:()=>y});const y="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(Dt,Ve,O)=>{"use strict";O.d(Ve,{W:()=>w});const w=(()=>{function K(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return K.prototype=Object.create(Error.prototype),K})()},7971:(Dt,Ve,O)=>{"use strict";O.d(Ve,{N:()=>w});const w=(()=>{function K(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return K.prototype=Object.create(Error.prototype),K})()},4449:(Dt,Ve,O)=>{"use strict";function y(w){setTimeout(()=>{throw w},0)}O.d(Ve,{z:()=>y})},4487:(Dt,Ve,O)=>{"use strict";function y(w){return w}O.d(Ve,{y:()=>y})},9796:(Dt,Ve,O)=>{"use strict";O.d(Ve,{k:()=>y});const y=Array.isArray||(w=>w&&"number"==typeof w.length)},9489:(Dt,Ve,O)=>{"use strict";O.d(Ve,{z:()=>y});const y=w=>w&&"number"==typeof w.length&&"function"!=typeof w},9105:(Dt,Ve,O)=>{"use strict";function y(w){return"function"==typeof w}O.d(Ve,{m:()=>y})},1555:(Dt,Ve,O)=>{"use strict";function y(w){return null!==w&&"object"==typeof w}O.d(Ve,{K:()=>y})},4072:(Dt,Ve,O)=>{"use strict";function y(w){return!!w&&"function"!=typeof w.subscribe&&"function"==typeof w.then}O.d(Ve,{t:()=>y})},4869:(Dt,Ve,O)=>{"use strict";function y(w){return w&&"function"==typeof w.schedule}O.d(Ve,{K:()=>y})},7444:(Dt,Ve,O)=>{"use strict";O.d(Ve,{s:()=>Y});var y=O(5015),w=O(4449),we=O(377),Ce=O(6554),Te=O(9489),he=O(4072),Q=O(1555);const Y=pe=>{if(pe&&"function"==typeof pe[Ce.L])return(pe=>qe=>{const Ne=pe[Ce.L]();if("function"!=typeof Ne.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ne.subscribe(qe)})(pe);if((0,Te.z)(pe))return(0,y.V)(pe);if((0,he.t)(pe))return(pe=>qe=>(pe.then(Ne=>{qe.closed||(qe.next(Ne),qe.complete())},Ne=>qe.error(Ne)).then(null,w.z),qe))(pe);if(pe&&"function"==typeof pe[we.hZ])return(pe=>qe=>{const Ne=pe[we.hZ]();for(;;){let ct;try{ct=Ne.next()}catch(Re){return qe.error(Re),qe}if(ct.done){qe.complete();break}if(qe.next(ct.value),qe.closed)break}return"function"==typeof Ne.return&&qe.add(()=>{Ne.return&&Ne.return()}),qe})(pe);{const Ne=`You provided ${(0,Q.K)(pe)?"an invalid object":`'${pe}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ne)}}},5015:(Dt,Ve,O)=>{"use strict";O.d(Ve,{V:()=>y});const y=w=>K=>{for(let we=0,fe=w.length;we<fe&&!K.closed;we++)K.next(w[we]);K.complete()}},7145:(Dt,Ve,O)=>{"use strict";O.d(Ve,{v:()=>y});class y{}},3849:(Dt,Ve,O)=>{"use strict";O.d(Ve,{b:()=>y});class y{constructor(){this.password="",this.approved=!1}}},6397:(Dt,Ve,O)=>{"use strict";O.d(Ve,{_:()=>Te});var y=O(639),w=O(8583),K=O(3679);function we(he,Q){1&he&&(y.ynx(0),y.TgZ(1,"h3"),y._uU(2,"Captcha correcto"),y.qZA(),y.BQk())}function fe(he,Q){if(1&he){const Y=y.EpF();y.TgZ(0,"div",2),y._UZ(1,"canvas",3),y.qZA(),y.TgZ(2,"div",4),y.TgZ(3,"input",5),y.NdJ("ngModelChange",function(qe){return y.CHM(Y),y.oxw().captchaInput=qe}),y.qZA(),y.TgZ(4,"input",6),y.NdJ("click",function(){return y.CHM(Y),y.oxw().onConfirm()}),y.qZA(),y.qZA()}if(2&he){const Y=y.oxw();y.Tol(Y.error?"border border-danger":Y.success?"border border-success":""),y.xp6(3),y.Q6J("disabled",Y.success)("ngModel",Y.captchaInput),y.xp6(1),y.Q6J("disabled",Y.success)}}let Ce=(()=>{class he{constructor(){this.resolve=new y.vpe(!1),this.captchaRandom="",this.captchaInput="",this.error=!1,this.success=!1}ngAfterViewInit(){this.crearCaptcha()}crearCaptcha(){this.captchaRandom=this.randomWord(6);const pe=document.getElementById("captchaCanvas").getContext("2d");pe.font="30px Arial",pe.clearRect(0,0,150,80),pe.strokeText(this.captchaRandom,10,50)}onConfirm(){if(console.log(this.captchaRandom),console.log(this.captchaInput),this.captchaRandom==this.captchaInput)return this.success=!0,this.resolve.emit(!0);this.error=!0,this.crearCaptcha()}onInteract(){this.resolve.emit(!0)}randomWord(Y){for(var pe="",qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Ne=qe.length,ct=0;ct<Y;ct++)pe+=qe.charAt(Math.floor(Math.random()*Ne));return pe}}return he.\u0275fac=function(Y){return new(Y||he)},he.\u0275cmp=y.Xpm({type:he,selectors:[["app-captcha"]],outputs:{resolve:"resolve"},decls:6,vars:2,consts:[[4,"ngIf","ngIfElse"],["captcha",""],[2,"width","fit-content","height","fit-content"],["id","captchaCanvas","width","150","height","80"],[1,"col-6","d-flex","mt-2","mb-4"],["type","text",1,"form-control","mr-3",2,"height","fit-content",3,"disabled","ngModel","ngModelChange"],["value","Confirmar","type","button",1,"btn","btn-outline-warning",2,"height","fit-content",3,"disabled","click"]],template:function(Y,pe){if(1&Y&&(y.ynx(0),y.TgZ(1,"div"),y.YNc(2,we,3,0,"ng-container",0),y.YNc(3,fe,5,5,"ng-template",null,1,y.W1O),y.qZA(),y._UZ(5,"br"),y.BQk()),2&Y){const qe=y.MAs(4);y.xp6(2),y.Q6J("ngIf",pe.success)("ngIfElse",qe)}},directives:[w.O5,K.Fj,K.JJ,K.On],styles:[""]}),he})();var Me=O(967);let Te=(()=>{class he{constructor(Y,pe,qe,Ne){this.element=Y,this.viewContainerRef=pe,this.captcha=qe,this.componentFactoryResolver=Ne,this.resolve=new y.vpe(!1)}ngOnInit(){this.captcha.GetCaptcha().subscribe(Y=>{if(null==Y?void 0:Y.activo){const pe=this.componentFactoryResolver.resolveComponentFactory(Ce),qe=this.viewContainerRef.createComponent(pe);qe.instance.resolve.subscribe(ct=>{this.resolve.emit(ct)});const Ne=this.element.nativeElement;Ne&&Ne.insertAfter(qe.location.nativeElement,Ne.firstChild)}else this.resolve.emit(!0)})}}return he.\u0275fac=function(Y){return new(Y||he)(y.Y36(y.SBq),y.Y36(y.s_b),y.Y36(Me.r),y.Y36(y._Vd))},he.\u0275dir=y.lG2({type:he,selectors:[["","appCaptcha",""]],outputs:{resolve:"resolve"}}),he})()},6057:(Dt,Ve,O)=>{"use strict";O.d(Ve,{V:()=>w});var y=O(639);let w=(()=>{class K{constructor(fe){this.el=fe,this.isValid=!1}ngOnInit(){this.submit&&(this.el.nativeElement.onsubmit=()=>{this.validation(),this.isValid&&this.submit&&this.submit(this.that)}),this.addEventListenerToValidationClass(),this.addEventListenerToProvidedInputs()}addEventListenerToValidationClass(){this.el.nativeElement.querySelectorAll(".required").forEach(fe=>{fe.addEventListener("blur",()=>{this.addErrorElem(fe,"El campo es requerido",`requiredFields-${fe.name}`)})})}addErrorElem(fe,Ce,Me){this.cleanErrors(`.validation-${Me}`),fe.value||(this.isValid=!1,fe.insertAdjacentHTML("afterend",`<div style="display:block !important" class="invalid-feedback validation validation-${Me}">\n          ${Ce}\n        </div>`))}cleanErrors(fe){fe?this.el.nativeElement.querySelectorAll(`${fe}`).forEach(Ce=>{Ce.remove()}):this.el.nativeElement.querySelectorAll(".validation").forEach(Ce=>Ce.remove())}validation(){this.cleanErrors(),this.isValid=!0,this.el.nativeElement.querySelectorAll(".required").forEach(fe=>{this.addErrorElem(fe,"El campo es requerido",`requiredFields-${fe.name}`)}),this.inputs&&this.inputs.forEach(fe=>{const Ce=this.el.nativeElement.querySelector(`input[name="${fe.name}"]`);Ce&&this.addErrorElem(Ce,fe.requiredError,fe.name)})}addEventListenerToProvidedInputs(){this.el.nativeElement.querySelectorAll("input").forEach(fe=>{const Ce=fe.name,Me=this.inputs&&this.inputs.find(Te=>Te.name===Ce);Me&&fe.addEventListener("blur",()=>{this.addErrorElem(fe,Me.requiredError,Me.name)})})}}return K.\u0275fac=function(fe){return new(fe||K)(y.Y36(y.SBq))},K.\u0275dir=y.lG2({type:K,selectors:[["","appFormValidations",""]],inputs:{inputs:"inputs",submit:"submit",that:"that"}}),K})()},1596:(Dt,Ve,O)=>{"use strict";O.d(Ve,{o:()=>K});var y=O(8583),w=O(639);let K=(()=>{class we{}return we.\u0275fac=function(Ce){return new(Ce||we)},we.\u0275mod=w.oAB({type:we}),we.\u0275inj=w.cJS({imports:[[y.ez]]}),we})()},5058:(Dt,Ve,O)=>{"use strict";O.d(Ve,{e:()=>Te});var y=O(4762),w=O(6215),K=O(639),we=O(743),fe=O(8778),Ce=O(4430),Me=O(8093);let Te=(()=>{class he{constructor(Y,pe,qe,Ne,ct){this.afs=Y,this.afAuth=pe,this.logger=qe,this.router=Ne,this.ngZone=ct,this.singUpError="",this.singInError="",this.singout=!1,this.isLoading=new w.X(!0),this.update=!0,this.afAuth.authState.subscribe(Re=>{Re&&this.update?(console.log(Re.toJSON()),this.GetUserData(Re.toJSON().uid,Re.toJSON().emailVerified)):(this.isLoading.next(!1),this.update=!0)})}SignIn(Y,pe){return(0,y.mG)(this,void 0,void 0,function*(){this.isLoading.next(!0),Y&&pe?yield this.afAuth.signInWithEmailAndPassword(Y,pe).then(qe=>(0,y.mG)(this,void 0,void 0,function*(){this.singout=!1,this.ngZone.run(()=>{this.router.navigate([""])})})).catch(qe=>{this.singInError=qe}):this.SignOut(),this.isLoading.next(!1)})}SignUp(Y){return this.update=!1,this.afAuth.createUserWithEmailAndPassword(Y.email,Y.password||"").then(pe=>(0,y.mG)(this,void 0,void 0,function*(){var qe;console.log(pe),this.SetUserData(pe.user.toJSON(),Y),this.logger.CrearLogIngreso(Y),null===(qe=yield this.afAuth.currentUser)||void 0===qe||qe.sendEmailVerification(),this.SignOut(),this.router.navigate([""])})).catch(pe=>alert(pe))}SetUserData(Y,pe){const qe=Object.assign(Object.assign({},Y),pe);this.isLoading.next(!0),Y&&this.afs.collection("users").doc(Y.uid).set(JSON.parse(JSON.stringify(qe))).then(Ne=>{localStorage.setItem("user",JSON.stringify(qe)),this.isLoading.next(!1)})}GetUserData(Y,pe){return(0,y.mG)(this,void 0,void 0,function*(){this.isLoading.next(!0);const Ne=(yield this.afs.collection("users").doc(Y).ref.get()).data();if(Ne){if(!this.singout){if(this.isLoading.next(!1),!pe&&"admin"!==Ne.rol)return alert("Email no ha sido validado"),void this.SignOut();if("especialista"===Ne.rol&&!Ne.approved)return alert("El especialista debe ser aprobado por un administrador para poder ingresar"),void this.SignOut();localStorage.setItem("user",JSON.stringify(Ne)),this.logger.CrearLogIngreso(Ne)}this.isLoading.next(!1)}})}Validar(Y){this.afs.collection("users").doc(Y).update({approved:!0})}RemoverAcceso(Y){this.afs.collection("users").doc(Y).update({approved:!1})}SignOut(){return this.afAuth.signOut().then(()=>{this.singout=!0,localStorage.removeItem("user"),this.router.navigate(["login"])})}get isLoggedIn(){const Y=localStorage.getItem("user");return!!Y&&!!JSON.parse(Y)}get isValid(){const Y=localStorage.getItem("user");if(!Y)return!1;const pe=JSON.parse(Y);return pe.emailVerified&&pe.approved}get isValidAdmin(){const Y=localStorage.getItem("user");return!!Y&&"admin"===JSON.parse(Y).rol}get getUser(){const Y=localStorage.getItem("user");if(Y)return JSON.parse(Y||"")}}return he.\u0275fac=function(Y){return new(Y||he)(K.LFG(we.ST),K.LFG(fe.zQ),K.LFG(Ce.m),K.LFG(Me.F0),K.LFG(K.R0b))},he.\u0275prov=K.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})()},967:(Dt,Ve,O)=>{"use strict";O.d(Ve,{r:()=>fe});var y=O(639),w=O(743),K=O(5058);const we="captcha";let fe=(()=>{class Ce{constructor(Te,he){this.bd=Te,this.authService=he}SetCaptcha(Te){this.bd.collection(we).doc(we).update({activo:Te})}GetCaptcha(){return this.bd.collection(we).doc(we).valueChanges()}}return Ce.\u0275fac=function(Te){return new(Te||Ce)(y.LFG(w.ST),y.LFG(K.e))},Ce.\u0275prov=y.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},4430:(Dt,Ve,O)=>{"use strict";O.d(Ve,{m:()=>fe});var y=O(639),w=O(743),K=O(5058);const we="logIngresos";let fe=(()=>{class Ce{constructor(Te,he){this.bd=Te,this.authService=he}CrearLogIngreso(Te){Te&&this.bd.collection(we).add({usuario:Object.assign({},Te),fecha:(new Date).toISOString()})}GetLogIngreso(){return this.bd.collection(we).valueChanges()}}return Ce.\u0275fac=function(Te){return new(Te||Ce)(y.LFG(w.ST),y.LFG(K.e))},Ce.\u0275prov=y.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},9726:(Dt,Ve,O)=>{"use strict";O.d(Ve,{TM:()=>qe});var y=O(4762),w=O(7145),K=O(3849),we=O(639),fe=O(743),Ce=O(5058),Me=O(8093),Te=O(9273),he=O(1841);const Q="especialidad",Y="users",pe="turnos";let qe=(()=>{class Ne{constructor(Re,Oe,We,xe,Le){this.bd=Re,this.authService=Oe,this.router=We,this.afStorage=xe,this.http=Le,this.uploadProgress=0}GetEspecialidades(){return this.bd.collection(Q).valueChanges()}GetTurnos(Re){return(0,y.mG)(this,void 0,void 0,function*(){const{historia:Oe,fecha:We,estado:xe,hora:Le,paciente:Ue,especialidad:st,especialista:ot,altura:$t,peso:Mt,temperatura:ne,presion:oe,valorDinamico:ye,resena:me,encuesta:_e,comentario:Je}=Re||{},De=this.bd.collection(pe),at=[];return yield De.get().forEach(xt=>xt.docs.map(Bt=>{var Tt,yn,Fn,rn,tr,zt,lr;const Qt=Bt.data(),cn=Bt.id;let an=!0;if(We&&an&&(an=Qt.fecha===We),Le&&an&&(an=Qt.hora===Le),xe&&an&&(an=Qt.estado.toLowerCase().includes(xe.toLowerCase())),Oe&&an&&(an=!!Qt.historiaClinica),$t&&an&&(an=(null===(Tt=Qt.historiaClinica)||void 0===Tt?void 0:Tt.altura.toString())===$t),Mt&&an&&(an=(null===(yn=Qt.historiaClinica)||void 0===yn?void 0:yn.peso.toString())===Mt),oe&&an&&(an=(null===(Fn=Qt.historiaClinica)||void 0===Fn?void 0:Fn.presion.toString())===oe),ne&&an&&(an=(null===(rn=Qt.historiaClinica)||void 0===rn?void 0:rn.temperatura.toString())===ne),ye&&an&&Qt.historiaClinica){const Jt=["altura","temperatura","presion","peso"];an=!!Object.keys(Qt.historiaClinica).filter(Wn=>!Jt.includes(Wn)).find(Wn=>Qt.historiaClinica[Wn].toString().toLowerCase().includes(ye.toLowerCase()))}me&&an&&(an=!!(null===(tr=Qt.resena)||void 0===tr?void 0:tr.toLowerCase().includes(me.toLowerCase()))),_e&&an&&(an=!!(null===(zt=Qt.encuesta)||void 0===zt?void 0:zt.toLowerCase().includes(_e.toLowerCase()))),Je&&an&&(an=!!(null===(lr=Qt.comentario)||void 0===lr?void 0:lr.toLowerCase().includes(Je.toLowerCase()))),Ue&&an&&(an="string"==typeof Ue?Qt.paciente.nombre.toLowerCase().includes(Ue.toLowerCase()):Qt.paciente.uid===Ue.uid),ot&&an&&(an="string"==typeof ot?Qt.especialista.nombre.toLowerCase().includes(ot.toLowerCase()):Qt.especialista.uid===ot.uid),st&&an&&(an="string"==typeof st?Qt.especialidad.nombre.toLowerCase().includes(st.toLowerCase()):Qt.especialidad.nombre===st.nombre),an&&at.push(Object.assign({id:cn},Qt))})),at})}timeout(Re){return new Promise(Oe=>setTimeout(Oe,Re))}UpdateTurno(Re,Oe){return this.bd.collection(pe).doc(Re).update(Oe)}UpdateUsuario(Re,Oe){return this.bd.collection(Y).doc(Re).update(Oe).then(xe=>{this.authService.GetUserData(Re,!0),alert("Datos actualizados")})}CreateTurno(Re){return this.bd.collection(pe).add(Re).then(We=>{this.router.navigate(this.authService.isValidAdmin?["admin-turnos"]:["paciente-turnos"])})}GetUsuarios(){return this.bd.collection(Y).valueChanges()}CreateEspecialidad(Re){return this.bd.collection(Q).add(Re)}UploadImage(Re,Oe){return(0,y.mG)(this,void 0,void 0,function*(){return this.afStorage.ref(Oe).put(Re)})}crearUsuariosFake(){Array(5).fill("").forEach(Re=>(0,y.mG)(this,void 0,void 0,function*(){const xe=(yield this.http.get("/api").toPromise()).results[0],Le=Math.random(),Ue=new K.b;Ue.nombre=xe.name.first,Ue.apellido=xe.name.last,Ue.email=xe.email,Ue.dni=xe.cell.replaceAll("-",""),Ue.fotoPerfil=xe.picture.thumbnail,Ue.uid="FAKE-"+xe.login.uuid,Ue.rol=Le<.8?"paciente":"especialista",this.bd.collection("users").doc(Ue.uid).set(JSON.parse(JSON.stringify(Ue))).then(st=>{console.log("AA")})}))}substractDays(Re){const Oe=new Date;return Oe.setDate(Oe.getDate()-Re),Oe}crearLogsFake(){this.GetUsuarios().subscribe(Re=>{Array(30).fill("").forEach((Oe,We)=>{const xe=Math.floor(100*Math.random()),Le=this.substractDays(We).toISOString();Array(xe).fill("").forEach(Ue=>(0,y.mG)(this,void 0,void 0,function*(){const st=Re[Math.floor(Math.random()*Re.length)];yield this.bd.collection("logIngresos").add({usuario:Object.assign({},st),fecha:Le})}))})})}crearTurnosFake(){const Re=["pendiente","finalizado","aceptado","cancelado","rechazado"];this.GetEspecialidades().subscribe(Oe=>{this.GetUsuarios().subscribe(We=>{const xe=[],Le=[];for(let Ue=0;Ue<We.length;Ue++){const st=We[Ue];"especialista"===st.rol?xe.push(st):"paciente"===st.rol&&Le.push(st)}Array(30).fill("").forEach((Ue,st)=>{const ot=Math.floor(1+20*Math.random()),$t=this.substractDays(st-15).toISOString();Array(ot).fill("").forEach(Mt=>(0,y.mG)(this,void 0,void 0,function*(){const ne=Le[Math.floor(Math.random()*Le.length)],oe=xe[Math.floor(Math.random()*xe.length)],ye=new w.v;ye.fecha=$t,ye.hora="08:00hs",ye.paciente=ne,ye.especialista=oe,ye.calificacion={comentario:"Fake comentario",prefiereSerContactadoPorCelular:!0,probabilidadDeRecomendacion:Math.floor(100*Math.random()),puntuacionAtencion:Math.floor(10*Math.random()),solucionoSuProblema:Math.random()>.5},ye.comentario="Fake comentario",ye.resena="Fake resena",ye.encuesta="Fake encuesta?",ye.especialidad=Oe[Math.floor(Math.random()*Oe.length)],ye.estado=Re[Math.floor(Math.random()*Oe.length)],ye.historiaClinica={altura:100+105*Math.random(),peso:30+70*Math.random(),presion:70+70*Math.random(),temperatura:35+7*Math.random()},this.CreateTurno(Object.assign({},ye))}))})})})}}return Ne.\u0275fac=function(Re){return new(Re||Ne)(we.LFG(fe.ST),we.LFG(Ce.e),we.LFG(Me.F0),we.LFG(Te.Q1),we.LFG(he.eN))},Ne.\u0275prov=we.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"}),Ne})()},7947:(Dt,Ve,O)=>{"use strict";O.d(Ve,{J:()=>fe});var y=O(8583),w=O(1596),K=O(3679),we=O(639);let fe=(()=>{class Ce{}return Ce.\u0275fac=function(Te){return new(Te||Ce)},Ce.\u0275mod=we.oAB({type:Ce}),Ce.\u0275inj=we.cJS({imports:[[y.ez,w.o,K.u5,K.UX]]}),Ce})()},6221:(Dt,Ve,O)=>{"use strict";var y=O(9075),w=O(639),K=O(3679);const we_firebaseConfig={apiKey:"AIzaSyAtEnxDHONzJcoZ5cIy5t5gTFGRqsA1Ccc",authDomain:"sala-de-juegos-db.firebaseapp.com",projectId:"sala-de-juegos-db",storageBucket:"sala-de-juegos-db.appspot.com",messagingSenderId:"104589083411",appId:"1:104589083411:web:dcd270515f7a0db71750e6",measurementId:"G-C1N2F34WP9"};var fe=O(8939),Ce=O(743),Me=O(9273),Te=O(8093),he=O(5058);let Q=(()=>{class M{constructor(h,b){this.auth=h,this.router=b}canActivate(){return!!this.auth.isValidAdmin||(this.router.navigate(["login"]),!1)}}return M.\u0275fac=function(h){return new(h||M)(w.LFG(he.e),w.LFG(Te.F0))},M.\u0275prov=w.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})(),Y=(()=>{class M{constructor(h,b){this.auth=h,this.router=b}canActivate(){var h;return"especialista"==(null===(h=this.auth.getUser)||void 0===h?void 0:h.rol)||(this.router.navigate(["login"]),!1)}}return M.\u0275fac=function(h){return new(h||M)(w.LFG(he.e),w.LFG(Te.F0))},M.\u0275prov=w.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})(),pe=(()=>{class M{constructor(h,b){this.auth=h,this.router=b}canActivate(){var h,b;return"paciente"==(null===(h=this.auth.getUser)||void 0===h?void 0:h.rol)||"admin"==(null===(b=this.auth.getUser)||void 0===b?void 0:b.rol)||(this.router.navigate(["login"]),!1)}}return M.\u0275fac=function(h){return new(h||M)(w.LFG(he.e),w.LFG(Te.F0))},M.\u0275prov=w.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();var qe=O(9726),Ne=O(8583);function ct(M,f){if(1&M){const h=w.EpF();w.TgZ(0,"div",3),w.TgZ(1,"h1"),w._uU(2),w.qZA(),w._UZ(3,"br"),w.TgZ(4,"button",5),w.NdJ("click",function(){return w.CHM(h),w.oxw().getData()}),w._uU(5,"Generar usuarios fake"),w.qZA(),w._UZ(6,"br"),w._UZ(7,"br"),w.TgZ(8,"button",5),w.NdJ("click",function(){return w.CHM(h),w.oxw().getLoginsFake()}),w._uU(9,"Generar logins fake"),w.qZA(),w._UZ(10,"br"),w._UZ(11,"br"),w.TgZ(12,"button",5),w.NdJ("click",function(){return w.CHM(h),w.oxw().crearTurnosFake()}),w._uU(13,"Generar Turnos fake"),w.qZA(),w.qZA()}if(2&M){const h=w.oxw();w.xp6(2),w.hij("Bienvenido ",h.usuario.nombre,"!")}}let Re=(()=>{class M{constructor(h,b){this.authService=h,this.store=b,this.usuario=this.authService.getUser}getData(){this.store.crearUsuariosFake()}getLoginsFake(){this.store.crearLogsFake()}crearTurnosFake(){this.store.crearTurnosFake()}ngOnInit(){}}return M.\u0275fac=function(h){return new(h||M)(w.Y36(he.e),w.Y36(qe.TM))},M.\u0275cmp=w.Xpm({type:M,selectors:[["app-home"]],decls:7,vars:1,consts:[[1,"row"],[1,"col-12"],["class","col-12 mt-5",4,"ngIf"],[1,"col-12","mt-5"],["width","200px","src","/assets/Pimpollo.png","alt",""],[1,"btn","btn-warning",3,"click"]],template:function(h,b){1&h&&(w.TgZ(0,"div",0),w.TgZ(1,"div",1),w.TgZ(2,"h1"),w._uU(3,"Clinica Pinpollo"),w.qZA(),w.qZA(),w.YNc(4,ct,14,1,"div",2),w.TgZ(5,"div",3),w._UZ(6,"img",4),w.qZA(),w.qZA()),2&h&&(w.xp6(4),w.Q6J("ngIf",b.usuario&&"admin"==b.usuario.rol))},directives:[Ne.O5],styles:[""]}),M})();var Oe=O(4762),We=O(3849);class xe extends We.b{constructor(){super(...arguments),this.rol="admin",this.approved=!0}}var Le=O(6057),Ue=O(6397);function st(M,f){1&M&&w._UZ(0,"div",21)}function ot(M,f){if(1&M&&(w.TgZ(0,"span",22),w._uU(1),w.qZA()),2&M){const h=w.oxw();w.xp6(1),w.Oqu(h.singUpError)}}const Mt=[{path:"register-admin",component:(()=>{class M{constructor(h,b){this.authService=h,this._store=b,this.admin=new xe,this.loadingImge=!1,this.captchaSolved=!1,this.that=this}ngOnInit(){}resolved(h){this.captchaSolved=!0}registrarse(h){h.captchaSolved?h.admin.fotoPerfil?h.authService.SignUp(h.admin).catch(b=>{h.singUpError=b}):h.singUpError="La foto de perfil es requerida":h.singUpError="Completar el captcha para continuar"}handleImage(h){var b;if(!(null===(b=null==h?void 0:h.target)||void 0===b?void 0:b.files[0]))return;this.loadingImge=!0;const B=Math.random().toString(36).substring(2);this._store.UploadImage(h.target.files[0],B).then(q=>(0,Oe.mG)(this,void 0,void 0,function*(){this.admin.fotoPerfil=yield q.ref.getDownloadURL(),this.loadingImge=!1}))}}return M.\u0275fac=function(h){return new(h||M)(w.Y36(he.e),w.Y36(qe.TM))},M.\u0275cmp=w.Xpm({type:M,selectors:[["app-admin"]],decls:31,vars:11,consts:[[1,"row"],[1,"text-primarty","my-4"],["appFormValidations","",3,"that","submit"],[1,"input-group",2,"margin-bottom","25px"],["type","text","name","nombre","placeholder","Nombre",1,"form-control","required",3,"ngModel","ngModelChange"],["type","text","name","apellido","placeholder","Apellido",1,"form-control","required",3,"ngModel","ngModelChange"],["type","number","name","dni","min","20000000","max","80000000","placeholder","DNI",1,"form-control","required",3,"ngModel","ngModelChange"],["type","number","name","edad","min","0","max","99","placeholder","Edad",1,"form-control","required",3,"ngModel","ngModelChange"],["type","email","name","email","placeholder","Email",1,"form-control","required",3,"ngModel","ngModelChange"],["for","file",2,"margin-right","15px"],["type","file","accept",".png,.jpg",3,"disabled","change"],["class","loader",4,"ngIf"],["type","password","name","password","placeholder","Password",1,"form-control","required",3,"ngModel","ngModelChange"],["id","pacienteCaptcha"],["appCaptcha","",3,"resolve"],[1,"input-group"],[1,"form-group",2,"margin-top","10px"],[1,"col-sm-12","controls"],["type","submit",1,"btn","btn-success"],[1,"mt-3"],["class","text-danger",4,"ngIf"],[1,"loader"],[1,"text-danger"]],template:function(h,b){1&h&&(w.TgZ(0,"div",0),w.TgZ(1,"h2",1),w._uU(2," Registrar admin "),w.qZA(),w.TgZ(3,"form",2),w.TgZ(4,"div",3),w.TgZ(5,"input",4),w.NdJ("ngModelChange",function(q){return b.admin.nombre=q}),w.qZA(),w.qZA(),w.TgZ(6,"div",3),w.TgZ(7,"input",5),w.NdJ("ngModelChange",function(q){return b.admin.apellido=q}),w.qZA(),w.qZA(),w.TgZ(8,"div",3),w.TgZ(9,"input",6),w.NdJ("ngModelChange",function(q){return b.admin.dni=q}),w.qZA(),w.qZA(),w.TgZ(10,"div",3),w.TgZ(11,"input",7),w.NdJ("ngModelChange",function(q){return b.admin.edad=q}),w.qZA(),w.qZA(),w.TgZ(12,"div",3),w.TgZ(13,"input",8),w.NdJ("ngModelChange",function(q){return b.admin.email=q}),w.qZA(),w.qZA(),w.TgZ(14,"div",3),w.TgZ(15,"label",9),w._uU(16,"Foto perfil:"),w.qZA(),w.TgZ(17,"input",10),w.NdJ("change",function(q){return b.handleImage(q)}),w.qZA(),w.YNc(18,st,1,0,"div",11),w.qZA(),w.TgZ(19,"div",3),w.TgZ(20,"input",12),w.NdJ("ngModelChange",function(q){return b.admin.password=q}),w.qZA(),w.qZA(),w._UZ(21,"div",13),w._UZ(22,"br"),w.TgZ(23,"div",14),w.NdJ("resolve",function(q){return b.resolved(q)}),w.qZA(),w.TgZ(24,"div",15),w.TgZ(25,"div",16),w.TgZ(26,"div",17),w.TgZ(27,"button",18),w._uU(28," Registrarse "),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.TgZ(29,"div",19),w.YNc(30,ot,2,1,"span",20),w.qZA(),w.qZA(),w.qZA()),2&h&&(w.xp6(3),w.Q6J("that",b.that)("submit",b.registrarse),w.xp6(2),w.Q6J("ngModel",b.admin.nombre),w.xp6(2),w.Q6J("ngModel",b.admin.apellido),w.xp6(2),w.Q6J("ngModel",b.admin.dni),w.xp6(2),w.Q6J("ngModel",b.admin.edad),w.xp6(2),w.Q6J("ngModel",b.admin.email),w.xp6(4),w.Q6J("disabled",b.loadingImge),w.xp6(1),w.Q6J("ngIf",b.loadingImge),w.xp6(2),w.Q6J("ngModel",b.admin.password),w.xp6(10),w.Q6J("ngIf",b.singUpError))},directives:[K._Y,K.JL,K.F,Le.V,K.Fj,K.JJ,K.On,K.qQ,K.Fd,K.wV,Ne.O5,Ue._],styles:[".loader[_ngcontent-%COMP%]{border:5px solid #000000;border-top:5px solid #0400e4;border-radius:50%!important;width:25px;height:25px;animation:spin 2s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),M})(),canActivate:[Q],data:{animationState:"RegistrarAdmin"}},{path:"admin-turnos",loadChildren:()=>Promise.all([O.e(592),O.e(880)]).then(O.bind(O,5880)).then(M=>M.AdminTurnosModule),canActivate:[Q],data:{animationState:"TrunosAdmin"}},{path:"user-list",loadChildren:()=>Promise.all([O.e(513),O.e(592),O.e(377)]).then(O.bind(O,8377)).then(M=>M.ListaUsuariosModule),canActivate:[Q],data:{animationState:"AdminUserList"}},{path:"informes",loadChildren:()=>Promise.all([O.e(513),O.e(53)]).then(O.bind(O,3053)).then(M=>M.InformesModule),canActivate:[Q],data:{animationState:"Informes"}},{path:"settings",loadChildren:()=>O.e(909).then(O.bind(O,4909)).then(M=>M.SettingsModule),canActivate:[Q],data:{animationState:"Settings"}},{path:"especialista-turnos",loadChildren:()=>Promise.all([O.e(592),O.e(864)]).then(O.bind(O,5864)).then(M=>M.EspecialistaTurnosModule),canActivate:[Y],data:{animationState:"TrunosEspecialista"}},{path:"pacientes-atendidos",loadChildren:()=>Promise.all([O.e(513),O.e(592),O.e(0)]).then(O.bind(O,0)).then(M=>M.PacientesAtendidosModule),canActivate:[Y],data:{animationState:"EspecialistaPacientesAtendidos"}},{path:"especialista-perfil",loadChildren:()=>Promise.all([O.e(592),O.e(830)]).then(O.bind(O,1830)).then(M=>M.EspecialistaPerfilModule),canActivate:[Y],data:{animationState:"EspecialistaPerfil"}},{path:"paciente-turnos",loadChildren:()=>Promise.all([O.e(592),O.e(277)]).then(O.bind(O,8277)).then(M=>M.PacienteTurnosModule),canActivate:[pe],data:{animationState:"TurnosPaciente"}},{path:"paciente-perfil",loadChildren:()=>Promise.all([O.e(513),O.e(592),O.e(913)]).then(O.bind(O,9913)).then(M=>M.PacientePerfilModule),canActivate:[pe],data:{animationState:"PacientePerfil"}},{path:"solicitar-turno",loadChildren:()=>O.e(574).then(O.bind(O,2574)).then(M=>M.SolicitarTurnoModule),canActivate:[pe],data:{animationState:"SolicitarTurno"}},{path:"login",loadChildren:()=>O.e(8).then(O.bind(O,9008)).then(M=>M.LoginModule),data:{animationState:"Login"}},{path:"register",loadChildren:()=>O.e(191).then(O.bind(O,1191)).then(M=>M.RegistrarseModule),data:{animationState:"Registrarse"}},{path:"",component:Re,data:{animationState:"Home"}}];let ne=(()=>{class M{}return M.\u0275fac=function(h){return new(h||M)},M.\u0275mod=w.oAB({type:M}),M.\u0275inj=w.cJS({imports:[[Te.Bz.forRoot(Mt)],Te.Bz]}),M})();class oe{}const me="*";function Je(M,f=null){return{type:4,styles:f,timings:M}}function De(M,f=null){return{type:3,steps:M,options:f}}function at(M,f=null){return{type:2,steps:M,options:f}}function xt(M){return{type:6,styles:M,offset:null}}function yn(M,f,h=null){return{type:1,expr:M,animation:f,options:h}}function rn(M=null){return{type:9,options:M}}function zt(M,f,h=null){return{type:11,selector:M,animation:f,options:h}}function Qt(M){Promise.resolve(null).then(M)}class cn{constructor(f=0,h=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=f+h}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}onStart(f){this._onStartFns.push(f)}onDone(f){this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Qt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(f=>f()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(f){this._position=this.totalTime?f*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(f){const h="start"==f?this._onStartFns:this._onDoneFns;h.forEach(b=>b()),h.length=0}}class an{constructor(f){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=f;let h=0,b=0,B=0;const q=this.players.length;0==q?Qt(()=>this._onFinish()):this.players.forEach(ce=>{ce.onDone(()=>{++h==q&&this._onFinish()}),ce.onDestroy(()=>{++b==q&&this._onDestroy()}),ce.onStart(()=>{++B==q&&this._onStart()})}),this.totalTime=this.players.reduce((ce,Se)=>Math.max(ce,Se.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this.players.forEach(f=>f.init())}onStart(f){this._onStartFns.push(f)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(f=>f()),this._onStartFns=[])}onDone(f){this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(f=>f.play())}pause(){this.players.forEach(f=>f.pause())}restart(){this.players.forEach(f=>f.restart())}finish(){this._onFinish(),this.players.forEach(f=>f.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(f=>f.destroy()),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}reset(){this.players.forEach(f=>f.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(f){const h=f*this.totalTime;this.players.forEach(b=>{const B=b.totalTime?Math.min(1,h/b.totalTime):1;b.setPosition(B)})}getPosition(){const f=this.players.reduce((h,b)=>null===h||b.totalTime>h.totalTime?b:h,null);return null!=f?f.getPosition():0}beforeDestroy(){this.players.forEach(f=>{f.beforeDestroy&&f.beforeDestroy()})}triggerCallback(f){const h="start"==f?this._onStartFns:this._onDoneFns;h.forEach(b=>b()),h.length=0}}const Cr=("triggerName",{type:7,name:"triggerName",definitions:[yn("* => Login,* => Registrarse,* => Home",[xt({position:"relative"}),zt(":enter, :leave",[xt({position:"absolute",overflow:"hidden",top:0,right:0,width:"100%"})],{optional:!0}),zt(":enter",[xt({right:"-100%",opacity:0})],{optional:!0}),zt(":leave",rn(),{optional:!0}),De([zt(":leave",[Je("1s ease-out",xt({right:"100%",opacity:0}))],{optional:!0}),zt(":enter",[Je("1s ease-out",xt({right:"0%",opacity:1}))],{optional:!0})]),zt(":enter",rn(),{optional:!0})]),yn("* => TrunosAdmin, * => TrunosEspecialista, * => TurnosPaciente",[xt({position:"relative"}),zt(":enter, :leave",[xt({position:"absolute",overflow:"hidden",top:0,right:0,width:"100%"})],{optional:!0}),zt(":enter",[xt({top:"-100%",opacity:0})],{optional:!0}),zt(":leave",rn(),{optional:!0}),De([zt(":leave",[Je("1s ease-out",xt({transform:"scale(10)",opacity:0}))],{optional:!0}),zt(":enter",[Je("1s ease-out",xt({top:"0%",opacity:1}))],{optional:!0})]),zt(":enter",rn(),{optional:!0})]),yn("* => PacientePerfil, * => EspecialistaPerfil",[xt({position:"relative"}),zt(":enter, :leave",[xt({position:"absolute",overflow:"hidden",top:0,right:0,width:"100%"})],{optional:!0}),zt(":enter",[xt({top:"-100%",opacity:0})],{optional:!0}),zt(":leave",rn(),{optional:!0}),De([zt(":leave",[Je("1s ease-out",xt({transform:"rotate(360deg)",opacity:0}))],{optional:!0}),zt(":enter",[Je("1s ease-out",xt({top:"0%",opacity:1}))],{optional:!0})]),zt(":enter",rn(),{optional:!0})]),yn("* => SolicitarTurno, * => EspecialistaPacientesAtendidos",[xt({position:"relative"}),zt(":enter, :leave",[xt({position:"absolute",overflow:"hidden",top:0,right:0,width:"100%"})],{optional:!0}),zt(":enter",[xt({top:"-100%",opacity:0})],{optional:!0}),zt(":leave",rn(),{optional:!0}),De([zt(":leave",[Je("1s ease-out",xt({transform:"skew(30deg, 20deg)",opacity:0}))],{optional:!0}),zt(":enter",[Je("1s ease-out",xt({top:"0%",opacity:1}))],{optional:!0})]),zt(":enter",rn(),{optional:!0})]),yn("* => RegistrarAdmin, * => AdminUserList",[xt({position:"relative"}),zt(":enter, :leave",[xt({position:"absolute",overflow:"hidden",top:0,right:0,width:"100%"})],{optional:!0}),zt(":enter",[xt({top:"-100%",opacity:0})],{optional:!0}),zt(":leave",rn(),{optional:!0}),De([zt(":leave",[Je("1s ease-out",xt({transform:"scale(.1)",opacity:0}))],{optional:!0}),zt(":enter",[Je("1s ease-out",xt({top:"0%",opacity:1}))],{optional:!0})]),zt(":enter",rn(),{optional:!0})]),yn("* => Settings, * => Informes",[xt({position:"relative"}),zt(":enter, :leave",[xt({position:"absolute",overflow:"hidden",top:0,right:0,width:"100%"})],{optional:!0}),zt(":enter",[xt({top:"-100%",opacity:0})],{optional:!0}),zt(":leave",rn(),{optional:!0}),De([zt(":leave",[Je("1s ease-out",xt({top:"100vh",opacity:0}))],{optional:!0}),zt(":enter",[Je("1s ease-out",xt({top:"0%",opacity:1}))],{optional:!0})]),zt(":enter",rn(),{optional:!0})])],options:{}});function Wn(M,f){1&M&&(w.TgZ(0,"a",17),w._uU(1,"Lista de Usuarios"),w.qZA())}function kr(M,f){1&M&&(w.TgZ(0,"a",18),w._uU(1,"Crear Admin"),w.qZA())}function Un(M,f){1&M&&(w.TgZ(0,"a",19),w._uU(1,"Turnos"),w.qZA())}function oi(M,f){1&M&&(w.TgZ(0,"a",20),w._uU(1,"Informes"),w.qZA())}function cr(M,f){1&M&&(w.TgZ(0,"a",21),w._uU(1,"Settings"),w.qZA())}function Rr(M,f){1&M&&(w.TgZ(0,"a",22),w._uU(1,"Turnos"),w.qZA())}function or(M,f){1&M&&(w.TgZ(0,"a",23),w._uU(1,"Perfil"),w.qZA())}function fr(M,f){1&M&&(w.TgZ(0,"a",24),w._uU(1,"Pacientes"),w.qZA())}function jt(M,f){1&M&&(w.TgZ(0,"a",25),w._uU(1,"Perfil"),w.qZA())}function Ht(M,f){1&M&&(w.TgZ(0,"a",26),w._uU(1,"Turnos"),w.qZA())}function ve(M,f){1&M&&(w.TgZ(0,"a",27),w._uU(1,"Solicitar Turno"),w.qZA())}function te(M,f){1&M&&(w.TgZ(0,"a",28),w._uU(1,"Login"),w.qZA())}function be(M,f){1&M&&(w.TgZ(0,"a",29),w._uU(1,"Registrarse"),w.qZA())}function dt(M,f){if(1&M){const h=w.EpF();w.TgZ(0,"span",30),w.NdJ("click",function(){return w.CHM(h),w.oxw().authService.SignOut()}),w._uU(1,"Desloguearse"),w.qZA()}}let ze=(()=>{class M{constructor(h){this.auth=h,this.isLoading=this.auth.isLoading,this.authService=h}ngOnInit(){}}return M.\u0275fac=function(h){return new(h||M)(w.Y36(he.e))},M.\u0275cmp=w.Xpm({type:M,selectors:[["app-navbar"]],decls:18,vars:14,consts:[[1,"site-header","navbar-expand-md","navbar-dark","bg-dark","mb-4"],[1,"container","d-flex","flex-column","flex-md-row","justify-content-between","navbar-nav"],["routerLink","/",1,"nav-item","nav-link","py-2"],["class","nav-item nav-link py-2","routerLink","user-list",4,"ngIf"],["class","nav-item nav-link py-2","routerLink","register-admin",4,"ngIf"],["class","nav-item nav-link py-2","routerLink","admin-turnos",4,"ngIf"],["class","nav-item nav-link py-2","routerLink","informes",4,"ngIf"],["class","nav-item nav-link py-2","routerLink","settings",4,"ngIf"],["class","nav-item nav-link py-2","routerLink","especialista-turnos",4,"ngIf"],["class","nav-item nav-link py-2","routerLink","especialista-perfil",4,"ngIf"],["class","nav-item nav-link py-2","routerLink","pacientes-atendidos",4,"ngIf"],["class","nav-item nav-link py-2","routerLink","paciente-perfil",4,"ngIf"],["class","nav-item nav-link py-2","routerLink","paciente-turnos",4,"ngIf"],["class","nav-item nav-link py-2","routerLink","solicitar-turno",4,"ngIf"],["class","nav-item nav-link py-2","routerLink","login",4,"ngIf"],["class","nav-item nav-link py-2","routerLink","register",4,"ngIf"],["class","nav-item nav-link py-2",3,"click",4,"ngIf"],["routerLink","user-list",1,"nav-item","nav-link","py-2"],["routerLink","register-admin",1,"nav-item","nav-link","py-2"],["routerLink","admin-turnos",1,"nav-item","nav-link","py-2"],["routerLink","informes",1,"nav-item","nav-link","py-2"],["routerLink","settings",1,"nav-item","nav-link","py-2"],["routerLink","especialista-turnos",1,"nav-item","nav-link","py-2"],["routerLink","especialista-perfil",1,"nav-item","nav-link","py-2"],["routerLink","pacientes-atendidos",1,"nav-item","nav-link","py-2"],["routerLink","paciente-perfil",1,"nav-item","nav-link","py-2"],["routerLink","paciente-turnos",1,"nav-item","nav-link","py-2"],["routerLink","solicitar-turno",1,"nav-item","nav-link","py-2"],["routerLink","login",1,"nav-item","nav-link","py-2"],["routerLink","register",1,"nav-item","nav-link","py-2"],[1,"nav-item","nav-link","py-2",3,"click"]],template:function(h,b){1&h&&(w.TgZ(0,"nav",0),w.TgZ(1,"div",1),w.TgZ(2,"a",2),w._uU(3,"Home"),w.qZA(),w.YNc(4,Wn,2,0,"a",3),w.YNc(5,kr,2,0,"a",4),w.YNc(6,Un,2,0,"a",5),w.YNc(7,oi,2,0,"a",6),w.YNc(8,cr,2,0,"a",7),w.YNc(9,Rr,2,0,"a",8),w.YNc(10,or,2,0,"a",9),w.YNc(11,fr,2,0,"a",10),w.YNc(12,jt,2,0,"a",11),w.YNc(13,Ht,2,0,"a",12),w.YNc(14,ve,2,0,"a",13),w.YNc(15,te,2,0,"a",14),w.YNc(16,be,2,0,"a",15),w.YNc(17,dt,2,0,"span",16),w.qZA(),w.qZA()),2&h&&(w.xp6(4),w.Q6J("ngIf",b.authService.isValidAdmin),w.xp6(1),w.Q6J("ngIf",b.authService.isValidAdmin),w.xp6(1),w.Q6J("ngIf",b.authService.isValidAdmin),w.xp6(1),w.Q6J("ngIf",b.authService.isValidAdmin),w.xp6(1),w.Q6J("ngIf",b.authService.isValidAdmin),w.xp6(1),w.Q6J("ngIf","especialista"==(null==b.authService.getUser?null:b.authService.getUser.rol)),w.xp6(1),w.Q6J("ngIf","especialista"==(null==b.authService.getUser?null:b.authService.getUser.rol)),w.xp6(1),w.Q6J("ngIf","especialista"==(null==b.authService.getUser?null:b.authService.getUser.rol)),w.xp6(1),w.Q6J("ngIf","paciente"==(null==b.authService.getUser?null:b.authService.getUser.rol)),w.xp6(1),w.Q6J("ngIf","paciente"==(null==b.authService.getUser?null:b.authService.getUser.rol)),w.xp6(1),w.Q6J("ngIf",b.authService.isValidAdmin||"paciente"==(null==b.authService.getUser?null:b.authService.getUser.rol)),w.xp6(1),w.Q6J("ngIf",!b.authService.isLoggedIn),w.xp6(1),w.Q6J("ngIf",!b.authService.isLoggedIn),w.xp6(1),w.Q6J("ngIf",b.authService.isLoggedIn))},directives:[Te.yS,Ne.O5],styles:[""]}),M})(),Ft=(()=>{class M{constructor(){}ngOnInit(){}}return M.\u0275fac=function(h){return new(h||M)},M.\u0275cmp=w.Xpm({type:M,selectors:[["app-loader"]],decls:6,vars:0,consts:[[1,"wrapper"],[1,"spinner"],[1,"spinner__square"]],template:function(h,b){1&h&&(w.TgZ(0,"div",0),w.TgZ(1,"div",1),w._UZ(2,"div",2),w._UZ(3,"div",2),w._UZ(4,"div",2),w._UZ(5,"div",2),w.qZA(),w.qZA())},styles:["[_ngcontent-%COMP%]:root{--teal: #26ffdf;--dark-blue: #151820}.wrapper[_ngcontent-%COMP%]{height:100vh;width:100vw;display:flex;overflow:hidden;align-items:center;justify-content:center;background-color:#000030}.spinner[_ngcontent-%COMP%]{width:72px;height:72px;position:relative;transform-origin:center center;animation:spinnerSpin 2.8s 0s ease-in-out infinite forwards}.spinner__square[_ngcontent-%COMP%]{top:0px;left:24px;width:24px;height:24px;position:absolute;background-color:teal;box-shadow:0 0 3px teal;animation-delay:0;animation-duration:1.4s;animation-direction:alternate;animation-iteration-count:infinite;animation-timing-function:ease-in-out}.spinner__square[_ngcontent-%COMP%]:nth-child(1){animation-name:spinnerSquareContract_1}.spinner__square[_ngcontent-%COMP%]:nth-child(2){top:24px;left:48px;animation-name:spinnerSquareContract_2}.spinner__square[_ngcontent-%COMP%]:nth-child(3){top:24px;left:0px;animation-name:spinnerSquareContract_3}.spinner__square[_ngcontent-%COMP%]:nth-child(4){top:48px;left:24px;animation-name:spinnerSquareContract_4}@keyframes spinnerSpin{0%{transform:rotate(0)}30%,to{transform:rotate(360deg)}}@keyframes spinnerSquareContract_1{0%,60%{transform:translateY(0)}80%,to{transform:translateY(24px)}}@keyframes spinnerSquareContract_2{0%,60%{transform:translate(0)}80%,to{transform:translate(-24px)}}@keyframes spinnerSquareContract_3{0%,60%{transform:translate(0)}80%,to{transform:translate(24px)}}@keyframes spinnerSquareContract_4{0%,60%{transform:translateY(0)}80%,to{transform:translateY(-24px)}}"]}),M})();function wt(M,f){if(1&M&&(w.ynx(0),w._UZ(1,"app-navbar"),w.TgZ(2,"div",2),w.TgZ(3,"div",3),w._UZ(4,"router-outlet",null,4),w.qZA(),w.qZA(),w.BQk()),2&M){const h=w.MAs(5),b=w.oxw();w.xp6(3),w.Q6J("@triggerName",b.prepareRoute(h))}}function Pt(M,f){1&M&&w._UZ(0,"app-loader")}let _n=(()=>{class M{constructor(h,b){this.authService=h,this.router=b,this.title="clinica",this.loading=!0,this.authService.isLoading.subscribe(B=>{this.loading=B})}prepareRoute(h){return h&&h.activatedRouteData&&h.activatedRouteData.animationState}}return M.\u0275fac=function(h){return new(h||M)(w.Y36(he.e),w.Y36(Te.F0))},M.\u0275cmp=w.Xpm({type:M,selectors:[["app-root"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loadingTemplate",""],[1,"container"],[1,"m-5"],["outlet","outlet"]],template:function(h,b){if(1&h&&(w.YNc(0,wt,6,1,"ng-container",0),w.YNc(1,Pt,1,0,"ng-template",null,1,w.W1O)),2&h){const B=w.MAs(2);w.Q6J("ngIf",!b.loading)("ngIfElse",B)}},directives:[Ne.O5,ze,Te.lC,Ft],styles:[""],data:{animation:[Cr]}}),M})();var Bn=O(3290),Mn=O(1596);function Hn(){return"undefined"!=typeof window&&void 0!==window.document}function ir(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function vn(M){switch(M.length){case 0:return new cn;case 1:return M[0];default:return new an(M)}}function Ee(M,f,h,b,B={},q={}){const ce=[],Se=[];let nt=-1,Et=null;if(b.forEach(Vt=>{const ln=Vt.offset,fn=ln==nt,ar=fn&&Et||{};Object.keys(Vt).forEach(An=>{let Yn=An,yr=Vt[An];if("offset"!==An)switch(Yn=f.normalizePropertyName(Yn,ce),yr){case"!":yr=B[An];break;case me:yr=q[An];break;default:yr=f.normalizeStyleValue(An,Yn,yr,ce)}ar[Yn]=yr}),fn||Se.push(ar),Et=ar,nt=ln}),ce.length){const Vt="\n - ";throw new Error(`Unable to animate due to the following errors:${Vt}${ce.join(Vt)}`)}return Se}function Pe(M,f,h,b){switch(f){case"start":M.onStart(()=>b(h&&Fe(h,"start",M)));break;case"done":M.onDone(()=>b(h&&Fe(h,"done",M)));break;case"destroy":M.onDestroy(()=>b(h&&Fe(h,"destroy",M)))}}function Fe(M,f,h){const b=h.totalTime,q=pt(M.element,M.triggerName,M.fromState,M.toState,f||M.phaseName,null==b?M.totalTime:b,!!h.disabled),ce=M._data;return null!=ce&&(q._data=ce),q}function pt(M,f,h,b,B="",q=0,ce){return{element:M,triggerName:f,fromState:h,toState:b,phaseName:B,totalTime:q,disabled:!!ce}}function Qe(M,f,h){let b;return M instanceof Map?(b=M.get(f),b||M.set(f,b=h)):(b=M[f],b||(b=M[f]=h)),b}function Nt(M){const f=M.indexOf(":");return[M.substring(1,f),M.substr(f+1)]}let nn=(M,f)=>!1,dr=(M,f)=>!1,bn=(M,f,h)=>[];const Gn=ir();(Gn||"undefined"!=typeof Element)&&(nn=Hn()?(M,f)=>{for(;f&&f!==document.documentElement;){if(f===M)return!0;f=f.parentNode||f.host}return!1}:(M,f)=>M.contains(f),dr=(()=>{if(Gn||Element.prototype.matches)return(M,f)=>M.matches(f);{const M=Element.prototype,f=M.matchesSelector||M.mozMatchesSelector||M.msMatchesSelector||M.oMatchesSelector||M.webkitMatchesSelector;return f?(h,b)=>f.apply(h,[b]):dr}})(),bn=(M,f,h)=>{let b=[];if(h){const B=M.querySelectorAll(f);for(let q=0;q<B.length;q++)b.push(B[q])}else{const B=M.querySelector(f);B&&b.push(B)}return b});let Fr=null,ai=!1;function ui(M){Fr||(Fr=("undefined"!=typeof document?document.body:null)||{},ai=!!Fr.style&&"WebkitAppearance"in Fr.style);let f=!0;return Fr.style&&!function(M){return"ebkit"==M.substring(1,6)}(M)&&(f=M in Fr.style,!f&&ai&&(f="Webkit"+M.charAt(0).toUpperCase()+M.substr(1)in Fr.style)),f}const jr=dr,li=nn,Oi=bn;function Lr(M){const f={};return Object.keys(M).forEach(h=>{const b=h.replace(/([a-z])([A-Z])/g,"$1-$2");f[b]=M[h]}),f}let gi=(()=>{class M{validateStyleProperty(h){return ui(h)}matchesElement(h,b){return jr(h,b)}containsElement(h,b){return li(h,b)}query(h,b,B){return Oi(h,b,B)}computeStyle(h,b,B){return B||""}animate(h,b,B,q,ce,Se=[],nt){return new cn(B,q)}}return M.\u0275fac=function(h){return new(h||M)},M.\u0275prov=w.Yz7({token:M,factory:M.\u0275fac}),M})(),Pr=(()=>{class M{}return M.NOOP=new gi,M})();const Li="ng-enter",br="ng-leave",zr="ng-trigger",Pi=".ng-trigger",Wr="ng-animating",Gt=".ng-animating";function Sn(M){if("number"==typeof M)return M;const f=M.match(/^(-?[\.\d]+)(m?s)/);return!f||f.length<2?0:Wt(parseFloat(f[1]),f[2])}function Wt(M,f){switch(f){case"s":return 1e3*M;default:return M}}function je(M,f,h){return M.hasOwnProperty("duration")?M:function(M,f,h){let B,q=0,ce="";if("string"==typeof M){const Se=M.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Se)return f.push(`The provided timing value "${M}" is invalid.`),{duration:0,delay:0,easing:""};B=Wt(parseFloat(Se[1]),Se[2]);const nt=Se[3];null!=nt&&(q=Wt(parseFloat(nt),Se[4]));const Et=Se[5];Et&&(ce=Et)}else B=M;if(!h){let Se=!1,nt=f.length;B<0&&(f.push("Duration values below 0 are not allowed for this animation step."),Se=!0),q<0&&(f.push("Delay values below 0 are not allowed for this animation step."),Se=!0),Se&&f.splice(nt,0,`The provided timing value "${M}" is invalid.`)}return{duration:B,delay:q,easing:ce}}(M,f,h)}function ue(M,f={}){return Object.keys(M).forEach(h=>{f[h]=M[h]}),f}function ft(M,f,h={}){if(f)for(let b in M)h[b]=M[b];else ue(M,h);return h}function Dn(M,f,h){return h?f+":"+h+";":""}function Pn(M){let f="";for(let h=0;h<M.style.length;h++){const b=M.style.item(h);f+=Dn(0,b,M.style.getPropertyValue(b))}for(const h in M.style)M.style.hasOwnProperty(h)&&!h.startsWith("_")&&(f+=Dn(0,vo(h),M.style[h]));M.setAttribute("style",f)}function Xt(M,f,h){M.style&&(Object.keys(f).forEach(b=>{const B=wr(b);h&&!h.hasOwnProperty(b)&&(h[b]=M.style[B]),M.style[B]=f[b]}),ir()&&Pn(M))}function sr(M,f){M.style&&(Object.keys(f).forEach(h=>{const b=wr(h);M.style[b]=""}),ir()&&Pn(M))}function Xr(M){return Array.isArray(M)?1==M.length?M[0]:at(M):M}const Dr=new RegExp("{{\\s*(.+?)\\s*}}","g");function ei(M){let f=[];if("string"==typeof M){let h;for(;h=Dr.exec(M);)f.push(h[1]);Dr.lastIndex=0}return f}function Di(M,f,h){const b=M.toString(),B=b.replace(Dr,(q,ce)=>{let Se=f[ce];return f.hasOwnProperty(ce)||(h.push(`Please provide a value for the animation param ${ce}`),Se=""),Se.toString()});return B==b?M:B}function $r(M){const f=[];let h=M.next();for(;!h.done;)f.push(h.value),h=M.next();return f}const ci=/-+([a-z0-9])/g;function wr(M){return M.replace(ci,(...f)=>f[1].toUpperCase())}function vo(M){return M.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ni(M,f){return 0===M||0===f}function Si(M,f,h){const b=Object.keys(h);if(b.length&&f.length){let q=f[0],ce=[];if(b.forEach(Se=>{q.hasOwnProperty(Se)||ce.push(Se),q[Se]=h[Se]}),ce.length)for(var B=1;B<f.length;B++){let Se=f[B];ce.forEach(function(nt){Se[nt]=Es(M,nt)})}}return f}function yi(M,f,h){switch(f.type){case 7:return M.visitTrigger(f,h);case 0:return M.visitState(f,h);case 1:return M.visitTransition(f,h);case 2:return M.visitSequence(f,h);case 3:return M.visitGroup(f,h);case 4:return M.visitAnimate(f,h);case 5:return M.visitKeyframes(f,h);case 6:return M.visitStyle(f,h);case 8:return M.visitReference(f,h);case 9:return M.visitAnimateChild(f,h);case 10:return M.visitAnimateRef(f,h);case 11:return M.visitQuery(f,h);case 12:return M.visitStagger(f,h);default:throw new Error(`Unable to resolve animation metadata node #${f.type}`)}}function Es(M,f){return window.getComputedStyle(M)[f]}function Vi(M,f){const h=[];return"string"==typeof M?M.split(/\s*,\s*/).forEach(b=>function(M,f,h){if(":"==M[0]){const nt=function(M,f){switch(M){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(h,b)=>parseFloat(b)>parseFloat(h);case":decrement":return(h,b)=>parseFloat(b)<parseFloat(h);default:return f.push(`The transition alias value "${M}" is not supported`),"* => *"}}(M,h);if("function"==typeof nt)return void f.push(nt);M=nt}const b=M.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==b||b.length<4)return h.push(`The provided transition expression "${M}" is not supported`),f;const B=b[1],q=b[2],ce=b[3];f.push(Ge(B,ce));"<"==q[0]&&!("*"==B&&"*"==ce)&&f.push(Ge(ce,B))}(b,h,f)):h.push(M),h}const qr=new Set(["true","1"]),Be=new Set(["false","0"]);function Ge(M,f){const h=qr.has(M)||Be.has(M),b=qr.has(f)||Be.has(f);return(B,q)=>{let ce="*"==M||M==B,Se="*"==f||f==q;return!ce&&h&&"boolean"==typeof B&&(ce=B?qr.has(M):Be.has(M)),!Se&&b&&"boolean"==typeof q&&(Se=q?qr.has(f):Be.has(f)),ce&&Se}}const Ct=new RegExp("s*:selfs*,?","g");function St(M,f,h){return new Jn(M).build(f,h)}class Jn{constructor(f){this._driver=f}build(f,h){const b=new Ui(h);return this._resetContextStyleTimingState(b),yi(this,Xr(f),b)}_resetContextStyleTimingState(f){f.currentQuerySelector="",f.collectedStyles={},f.collectedStyles[""]={},f.currentTime=0}visitTrigger(f,h){let b=h.queryCount=0,B=h.depCount=0;const q=[],ce=[];return"@"==f.name.charAt(0)&&h.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),f.definitions.forEach(Se=>{if(this._resetContextStyleTimingState(h),0==Se.type){const nt=Se,Et=nt.name;Et.toString().split(/\s*,\s*/).forEach(Vt=>{nt.name=Vt,q.push(this.visitState(nt,h))}),nt.name=Et}else if(1==Se.type){const nt=this.visitTransition(Se,h);b+=nt.queryCount,B+=nt.depCount,ce.push(nt)}else h.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:f.name,states:q,transitions:ce,queryCount:b,depCount:B,options:null}}visitState(f,h){const b=this.visitStyle(f.styles,h),B=f.options&&f.options.params||null;if(b.containsDynamicStyles){const q=new Set,ce=B||{};if(b.styles.forEach(Se=>{if(ss(Se)){const nt=Se;Object.keys(nt).forEach(Et=>{ei(nt[Et]).forEach(Vt=>{ce.hasOwnProperty(Vt)||q.add(Vt)})})}}),q.size){const Se=$r(q.values());h.errors.push(`state("${f.name}", ...) must define default values for all the following style substitutions: ${Se.join(", ")}`)}}return{type:0,name:f.name,style:b,options:B?{params:B}:null}}visitTransition(f,h){h.queryCount=0,h.depCount=0;const b=yi(this,Xr(f.animation),h);return{type:1,matchers:Vi(f.expr,h.errors),animation:b,queryCount:h.queryCount,depCount:h.depCount,options:Ai(f.options)}}visitSequence(f,h){return{type:2,steps:f.steps.map(b=>yi(this,b,h)),options:Ai(f.options)}}visitGroup(f,h){const b=h.currentTime;let B=0;const q=f.steps.map(ce=>{h.currentTime=b;const Se=yi(this,ce,h);return B=Math.max(B,h.currentTime),Se});return h.currentTime=B,{type:3,steps:q,options:Ai(f.options)}}visitAnimate(f,h){const b=function(M,f){let h=null;if(M.hasOwnProperty("duration"))h=M;else if("number"==typeof M)return zs(je(M,f).duration,0,"");const b=M;if(b.split(/\s+/).some(q=>"{"==q.charAt(0)&&"{"==q.charAt(1))){const q=zs(0,0,"");return q.dynamic=!0,q.strValue=b,q}return h=h||je(b,f),zs(h.duration,h.delay,h.easing)}(f.timings,h.errors);h.currentAnimateTimings=b;let B,q=f.styles?f.styles:xt({});if(5==q.type)B=this.visitKeyframes(q,h);else{let ce=f.styles,Se=!1;if(!ce){Se=!0;const Et={};b.easing&&(Et.easing=b.easing),ce=xt(Et)}h.currentTime+=b.duration+b.delay;const nt=this.visitStyle(ce,h);nt.isEmptyStep=Se,B=nt}return h.currentAnimateTimings=null,{type:4,timings:b,style:B,options:null}}visitStyle(f,h){const b=this._makeStyleAst(f,h);return this._validateStyleAst(b,h),b}_makeStyleAst(f,h){const b=[];Array.isArray(f.styles)?f.styles.forEach(ce=>{"string"==typeof ce?ce==me?b.push(ce):h.errors.push(`The provided style string value ${ce} is not allowed.`):b.push(ce)}):b.push(f.styles);let B=!1,q=null;return b.forEach(ce=>{if(ss(ce)){const Se=ce,nt=Se.easing;if(nt&&(q=nt,delete Se.easing),!B)for(let Et in Se)if(Se[Et].toString().indexOf("{{")>=0){B=!0;break}}}),{type:6,styles:b,easing:q,offset:f.offset,containsDynamicStyles:B,options:null}}_validateStyleAst(f,h){const b=h.currentAnimateTimings;let B=h.currentTime,q=h.currentTime;b&&q>0&&(q-=b.duration+b.delay),f.styles.forEach(ce=>{"string"!=typeof ce&&Object.keys(ce).forEach(Se=>{if(!this._driver.validateStyleProperty(Se))return void h.errors.push(`The provided animation property "${Se}" is not a supported CSS property for animations`);const nt=h.collectedStyles[h.currentQuerySelector],Et=nt[Se];let Vt=!0;Et&&(q!=B&&q>=Et.startTime&&B<=Et.endTime&&(h.errors.push(`The CSS property "${Se}" that exists between the times of "${Et.startTime}ms" and "${Et.endTime}ms" is also being animated in a parallel animation between the times of "${q}ms" and "${B}ms"`),Vt=!1),q=Et.startTime),Vt&&(nt[Se]={startTime:q,endTime:B}),h.options&&function(M,f,h){const b=f.params||{},B=ei(M);B.length&&B.forEach(q=>{b.hasOwnProperty(q)||h.push(`Unable to resolve the local animation param ${q} in the given list of values`)})}(ce[Se],h.options,h.errors)})})}visitKeyframes(f,h){const b={type:5,styles:[],options:null};if(!h.currentAnimateTimings)return h.errors.push("keyframes() must be placed inside of a call to animate()"),b;let q=0;const ce=[];let Se=!1,nt=!1,Et=0;const Vt=f.steps.map(ki=>{const Mi=this._makeStyleAst(ki,h);let ri=null!=Mi.offset?Mi.offset:function(M){if("string"==typeof M)return null;let f=null;if(Array.isArray(M))M.forEach(h=>{if(ss(h)&&h.hasOwnProperty("offset")){const b=h;f=parseFloat(b.offset),delete b.offset}});else if(ss(M)&&M.hasOwnProperty("offset")){const h=M;f=parseFloat(h.offset),delete h.offset}return f}(Mi.styles),P=0;return null!=ri&&(q++,P=Mi.offset=ri),nt=nt||P<0||P>1,Se=Se||P<Et,Et=P,ce.push(P),Mi});nt&&h.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),Se&&h.errors.push("Please ensure that all keyframe offsets are in order");const ln=f.steps.length;let fn=0;q>0&&q<ln?h.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==q&&(fn=1/(ln-1));const ar=ln-1,An=h.currentTime,Yn=h.currentAnimateTimings,yr=Yn.duration;return Vt.forEach((ki,Mi)=>{const ri=fn>0?Mi==ar?1:fn*Mi:ce[Mi],P=ri*yr;h.currentTime=An+Yn.delay+P,Yn.duration=P,this._validateStyleAst(ki,h),ki.offset=ri,b.styles.push(ki)}),b}visitReference(f,h){return{type:8,animation:yi(this,Xr(f.animation),h),options:Ai(f.options)}}visitAnimateChild(f,h){return h.depCount++,{type:9,options:Ai(f.options)}}visitAnimateRef(f,h){return{type:10,animation:this.visitReference(f.animation,h),options:Ai(f.options)}}visitQuery(f,h){const b=h.currentQuerySelector,B=f.options||{};h.queryCount++,h.currentQuery=f;const[q,ce]=function(M){const f=!!M.split(/\s*,\s*/).find(h=>":self"==h);return f&&(M=M.replace(Ct,"")),[M=M.replace(/@\*/g,Pi).replace(/@\w+/g,h=>Pi+"-"+h.substr(1)).replace(/:animating/g,Gt),f]}(f.selector);h.currentQuerySelector=b.length?b+" "+q:q,Qe(h.collectedStyles,h.currentQuerySelector,{});const Se=yi(this,Xr(f.animation),h);return h.currentQuery=null,h.currentQuerySelector=b,{type:11,selector:q,limit:B.limit||0,optional:!!B.optional,includeSelf:ce,animation:Se,originalSelector:f.selector,options:Ai(f.options)}}visitStagger(f,h){h.currentQuery||h.errors.push("stagger() can only be used inside of query()");const b="full"===f.timings?{duration:0,delay:0,easing:"full"}:je(f.timings,h.errors,!0);return{type:12,animation:yi(this,Xr(f.animation),h),timings:b,options:null}}}class Ui{constructor(f){this.errors=f,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function ss(M){return!Array.isArray(M)&&"object"==typeof M}function Ai(M){return M?(M=ue(M)).params&&(M.params=function(M){return M?ue(M):null}(M.params)):M={},M}function zs(M,f,h){return{duration:M,delay:f,easing:h}}function Fs(M,f,h,b,B,q,ce=null,Se=!1){return{type:1,element:M,keyframes:f,preStyleProps:h,postStyleProps:b,duration:B,delay:q,totalTime:B+q,easing:ce,subTimeline:Se}}class _i{constructor(){this._map=new Map}consume(f){let h=this._map.get(f);return h?this._map.delete(f):h=[],h}append(f,h){let b=this._map.get(f);b||this._map.set(f,b=[]),b.push(...h)}has(f){return this._map.has(f)}clear(){this._map.clear()}}const Ls=new RegExp(":enter","g"),Vs=new RegExp(":leave","g");function Us(M,f,h,b,B,q={},ce={},Se,nt,Et=[]){return(new ws).buildKeyframes(M,f,h,b,B,q,ce,Se,nt,Et)}class ws{buildKeyframes(f,h,b,B,q,ce,Se,nt,Et,Vt=[]){Et=Et||new _i;const ln=new Bi(f,h,Et,B,q,Vt,[]);ln.options=nt,ln.currentTimeline.setStyles([ce],null,ln.errors,nt),yi(this,b,ln);const fn=ln.timelines.filter(ar=>ar.containsAnimation());if(fn.length&&Object.keys(Se).length){const ar=fn[fn.length-1];ar.allowOnlyTimelineStyles()||ar.setStyles([Se],null,ln.errors,nt)}return fn.length?fn.map(ar=>ar.buildKeyframes()):[Fs(h,[],[],[],0,0,"",!1)]}visitTrigger(f,h){}visitState(f,h){}visitTransition(f,h){}visitAnimateChild(f,h){const b=h.subInstructions.consume(h.element);if(b){const B=h.createSubContext(f.options),q=h.currentTimeline.currentTime,ce=this._visitSubInstructions(b,B,B.options);q!=ce&&h.transformIntoNewTimeline(ce)}h.previousNode=f}visitAnimateRef(f,h){const b=h.createSubContext(f.options);b.transformIntoNewTimeline(),this.visitReference(f.animation,b),h.transformIntoNewTimeline(b.currentTimeline.currentTime),h.previousNode=f}_visitSubInstructions(f,h,b){let q=h.currentTimeline.currentTime;const ce=null!=b.duration?Sn(b.duration):null,Se=null!=b.delay?Sn(b.delay):null;return 0!==ce&&f.forEach(nt=>{const Et=h.appendInstructionToTimeline(nt,ce,Se);q=Math.max(q,Et.duration+Et.delay)}),q}visitReference(f,h){h.updateOptions(f.options,!0),yi(this,f.animation,h),h.previousNode=f}visitSequence(f,h){const b=h.subContextCount;let B=h;const q=f.options;if(q&&(q.params||q.delay)&&(B=h.createSubContext(q),B.transformIntoNewTimeline(),null!=q.delay)){6==B.previousNode.type&&(B.currentTimeline.snapshotCurrentStyles(),B.previousNode=Ws);const ce=Sn(q.delay);B.delayNextStep(ce)}f.steps.length&&(f.steps.forEach(ce=>yi(this,ce,B)),B.currentTimeline.applyStylesToKeyframe(),B.subContextCount>b&&B.transformIntoNewTimeline()),h.previousNode=f}visitGroup(f,h){const b=[];let B=h.currentTimeline.currentTime;const q=f.options&&f.options.delay?Sn(f.options.delay):0;f.steps.forEach(ce=>{const Se=h.createSubContext(f.options);q&&Se.delayNextStep(q),yi(this,ce,Se),B=Math.max(B,Se.currentTimeline.currentTime),b.push(Se.currentTimeline)}),b.forEach(ce=>h.currentTimeline.mergeTimelineCollectedStyles(ce)),h.transformIntoNewTimeline(B),h.previousNode=f}_visitTiming(f,h){if(f.dynamic){const b=f.strValue;return je(h.params?Di(b,h.params,h.errors):b,h.errors)}return{duration:f.duration,delay:f.delay,easing:f.easing}}visitAnimate(f,h){const b=h.currentAnimateTimings=this._visitTiming(f.timings,h),B=h.currentTimeline;b.delay&&(h.incrementTime(b.delay),B.snapshotCurrentStyles());const q=f.style;5==q.type?this.visitKeyframes(q,h):(h.incrementTime(b.duration),this.visitStyle(q,h),B.applyStylesToKeyframe()),h.currentAnimateTimings=null,h.previousNode=f}visitStyle(f,h){const b=h.currentTimeline,B=h.currentAnimateTimings;!B&&b.getCurrentStyleProperties().length&&b.forwardFrame();const q=B&&B.easing||f.easing;f.isEmptyStep?b.applyEmptyStep(q):b.setStyles(f.styles,q,h.errors,h.options),h.previousNode=f}visitKeyframes(f,h){const b=h.currentAnimateTimings,B=h.currentTimeline.duration,q=b.duration,Se=h.createSubContext().currentTimeline;Se.easing=b.easing,f.styles.forEach(nt=>{Se.forwardTime((nt.offset||0)*q),Se.setStyles(nt.styles,nt.easing,h.errors,h.options),Se.applyStylesToKeyframe()}),h.currentTimeline.mergeTimelineCollectedStyles(Se),h.transformIntoNewTimeline(B+q),h.previousNode=f}visitQuery(f,h){const b=h.currentTimeline.currentTime,B=f.options||{},q=B.delay?Sn(B.delay):0;q&&(6===h.previousNode.type||0==b&&h.currentTimeline.getCurrentStyleProperties().length)&&(h.currentTimeline.snapshotCurrentStyles(),h.previousNode=Ws);let ce=b;const Se=h.invokeQuery(f.selector,f.originalSelector,f.limit,f.includeSelf,!!B.optional,h.errors);h.currentQueryTotal=Se.length;let nt=null;Se.forEach((Et,Vt)=>{h.currentQueryIndex=Vt;const ln=h.createSubContext(f.options,Et);q&&ln.delayNextStep(q),Et===h.element&&(nt=ln.currentTimeline),yi(this,f.animation,ln),ln.currentTimeline.applyStylesToKeyframe(),ce=Math.max(ce,ln.currentTimeline.currentTime)}),h.currentQueryIndex=0,h.currentQueryTotal=0,h.transformIntoNewTimeline(ce),nt&&(h.currentTimeline.mergeTimelineCollectedStyles(nt),h.currentTimeline.snapshotCurrentStyles()),h.previousNode=f}visitStagger(f,h){const b=h.parentContext,B=h.currentTimeline,q=f.timings,ce=Math.abs(q.duration),Se=ce*(h.currentQueryTotal-1);let nt=ce*h.currentQueryIndex;switch(q.duration<0?"reverse":q.easing){case"reverse":nt=Se-nt;break;case"full":nt=b.currentStaggerTime}const Vt=h.currentTimeline;nt&&Vt.delayNextStep(nt);const ln=Vt.currentTime;yi(this,f.animation,h),h.previousNode=f,b.currentStaggerTime=B.currentTime-ln+(B.startTime-b.currentTimeline.startTime)}}const Ws={};class Bi{constructor(f,h,b,B,q,ce,Se,nt){this._driver=f,this.element=h,this.subInstructions=b,this._enterClassName=B,this._leaveClassName=q,this.errors=ce,this.timelines=Se,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ws,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=nt||new Wi(this._driver,h,0),Se.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(f,h){if(!f)return;const b=f;let B=this.options;null!=b.duration&&(B.duration=Sn(b.duration)),null!=b.delay&&(B.delay=Sn(b.delay));const q=b.params;if(q){let ce=B.params;ce||(ce=this.options.params={}),Object.keys(q).forEach(Se=>{(!h||!ce.hasOwnProperty(Se))&&(ce[Se]=Di(q[Se],ce,this.errors))})}}_copyOptions(){const f={};if(this.options){const h=this.options.params;if(h){const b=f.params={};Object.keys(h).forEach(B=>{b[B]=h[B]})}}return f}createSubContext(f=null,h,b){const B=h||this.element,q=new Bi(this._driver,B,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(B,b||0));return q.previousNode=this.previousNode,q.currentAnimateTimings=this.currentAnimateTimings,q.options=this._copyOptions(),q.updateOptions(f),q.currentQueryIndex=this.currentQueryIndex,q.currentQueryTotal=this.currentQueryTotal,q.parentContext=this,this.subContextCount++,q}transformIntoNewTimeline(f){return this.previousNode=Ws,this.currentTimeline=this.currentTimeline.fork(this.element,f),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(f,h,b){const B={duration:null!=h?h:f.duration,delay:this.currentTimeline.currentTime+(null!=b?b:0)+f.delay,easing:""},q=new bo(this._driver,f.element,f.keyframes,f.preStyleProps,f.postStyleProps,B,f.stretchStartingKeyframe);return this.timelines.push(q),B}incrementTime(f){this.currentTimeline.forwardTime(this.currentTimeline.duration+f)}delayNextStep(f){f>0&&this.currentTimeline.delayNextStep(f)}invokeQuery(f,h,b,B,q,ce){let Se=[];if(B&&Se.push(this.element),f.length>0){f=(f=f.replace(Ls,"."+this._enterClassName)).replace(Vs,"."+this._leaveClassName);let Et=this._driver.query(this.element,f,1!=b);0!==b&&(Et=b<0?Et.slice(Et.length+b,Et.length):Et.slice(0,b)),Se.push(...Et)}return!q&&0==Se.length&&ce.push(`\`query("${h}")\` returned zero elements. (Use \`query("${h}", { optional: true })\` if you wish to allow this.)`),Se}}class Wi{constructor(f,h,b,B){this._driver=f,this.element=h,this.startTime=b,this._elementTimelineStylesLookup=B,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(h),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(h,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(f){const h=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||h?(this.forwardTime(this.currentTime+f),h&&this.snapshotCurrentStyles()):this.startTime+=f}fork(f,h){return this.applyStylesToKeyframe(),new Wi(this._driver,f,h||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(f){this.applyStylesToKeyframe(),this.duration=f,this._loadKeyframe()}_updateStyle(f,h){this._localTimelineStyles[f]=h,this._globalTimelineStyles[f]=h,this._styleSummary[f]={time:this.currentTime,value:h}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(f){f&&(this._previousKeyframe.easing=f),Object.keys(this._globalTimelineStyles).forEach(h=>{this._backFill[h]=this._globalTimelineStyles[h]||me,this._currentKeyframe[h]=me}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(f,h,b,B){h&&(this._previousKeyframe.easing=h);const q=B&&B.params||{},ce=function(M,f){const h={};let b;return M.forEach(B=>{"*"===B?(b=b||Object.keys(f),b.forEach(q=>{h[q]=me})):ft(B,!1,h)}),h}(f,this._globalTimelineStyles);Object.keys(ce).forEach(Se=>{const nt=Di(ce[Se],q,b);this._pendingStyles[Se]=nt,this._localTimelineStyles.hasOwnProperty(Se)||(this._backFill[Se]=this._globalTimelineStyles.hasOwnProperty(Se)?this._globalTimelineStyles[Se]:me),this._updateStyle(Se,nt)})}applyStylesToKeyframe(){const f=this._pendingStyles,h=Object.keys(f);0!=h.length&&(this._pendingStyles={},h.forEach(b=>{this._currentKeyframe[b]=f[b]}),Object.keys(this._localTimelineStyles).forEach(b=>{this._currentKeyframe.hasOwnProperty(b)||(this._currentKeyframe[b]=this._localTimelineStyles[b])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(f=>{const h=this._localTimelineStyles[f];this._pendingStyles[f]=h,this._updateStyle(f,h)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const f=[];for(let h in this._currentKeyframe)f.push(h);return f}mergeTimelineCollectedStyles(f){Object.keys(f._styleSummary).forEach(h=>{const b=this._styleSummary[h],B=f._styleSummary[h];(!b||B.time>b.time)&&this._updateStyle(h,B.value)})}buildKeyframes(){this.applyStylesToKeyframe();const f=new Set,h=new Set,b=1===this._keyframes.size&&0===this.duration;let B=[];this._keyframes.forEach((Se,nt)=>{const Et=ft(Se,!0);Object.keys(Et).forEach(Vt=>{const ln=Et[Vt];"!"==ln?f.add(Vt):ln==me&&h.add(Vt)}),b||(Et.offset=nt/this.duration),B.push(Et)});const q=f.size?$r(f.values()):[],ce=h.size?$r(h.values()):[];if(b){const Se=B[0],nt=ue(Se);Se.offset=0,nt.offset=1,B=[Se,nt]}return Fs(this.element,B,q,ce,this.duration,this.startTime,this.easing,!1)}}class bo extends Wi{constructor(f,h,b,B,q,ce,Se=!1){super(f,h,ce.delay),this.keyframes=b,this.preStyleProps=B,this.postStyleProps=q,this._stretchStartingKeyframe=Se,this.timings={duration:ce.duration,delay:ce.delay,easing:ce.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let f=this.keyframes,{delay:h,duration:b,easing:B}=this.timings;if(this._stretchStartingKeyframe&&h){const q=[],ce=b+h,Se=h/ce,nt=ft(f[0],!1);nt.offset=0,q.push(nt);const Et=ft(f[0],!1);Et.offset=es(Se),q.push(Et);const Vt=f.length-1;for(let ln=1;ln<=Vt;ln++){let fn=ft(f[ln],!1);fn.offset=es((h+fn.offset*b)/ce),q.push(fn)}b=ce,h=0,B="",f=q}return Fs(this.element,f,this.preStyleProps,this.postStyleProps,b,h,B,!0)}}function es(M,f=3){const h=Math.pow(10,f-1);return Math.round(M*h)/h}class Rs{}class to extends Rs{normalizePropertyName(f,h){return wr(f)}normalizeStyleValue(f,h,b,B){let q="";const ce=b.toString().trim();if(Cs[h]&&0!==b&&"0"!==b)if("number"==typeof b)q="px";else{const Se=b.match(/^[+-]?[\d\.]+([a-z]*)$/);Se&&0==Se[1].length&&B.push(`Please provide a CSS unit value for ${f}:${b}`)}return ce+q}}const Cs=(()=>function(M){const f={};return M.forEach(h=>f[h]=!0),f}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function $s(M,f,h,b,B,q,ce,Se,nt,Et,Vt,ln,fn){return{type:0,element:M,triggerName:f,isRemovalTransition:B,fromState:h,fromStyles:q,toState:b,toStyles:ce,timelines:Se,queriedElements:nt,preStyleProps:Et,postStyleProps:Vt,totalTime:ln,errors:fn}}const V={};class J{constructor(f,h,b){this._triggerName=f,this.ast=h,this._stateStyles=b}match(f,h,b,B){return function(M,f,h,b,B){return M.some(q=>q(f,h,b,B))}(this.ast.matchers,f,h,b,B)}buildStyles(f,h,b){const B=this._stateStyles["*"],q=this._stateStyles[f],ce=B?B.buildStyles(h,b):{};return q?q.buildStyles(h,b):ce}build(f,h,b,B,q,ce,Se,nt,Et,Vt){const ln=[],fn=this.ast.options&&this.ast.options.params||V,An=this.buildStyles(b,Se&&Se.params||V,ln),Yn=nt&&nt.params||V,yr=this.buildStyles(B,Yn,ln),ki=new Set,Mi=new Map,ri=new Map,P="void"===B,j={params:Object.assign(Object.assign({},fn),Yn)},ee=Vt?[]:Us(f,h,this.ast.animation,q,ce,An,yr,j,Et,ln);let ge=0;if(ee.forEach(gt=>{ge=Math.max(gt.duration+gt.delay,ge)}),ln.length)return $s(h,this._triggerName,b,B,P,An,yr,[],[],Mi,ri,ge,ln);ee.forEach(gt=>{const At=gt.element,Cn=Qe(Mi,At,{});gt.preStyleProps.forEach(kn=>Cn[kn]=!0);const qt=Qe(ri,At,{});gt.postStyleProps.forEach(kn=>qt[kn]=!0),At!==h&&ki.add(At)});const tt=$r(ki.values());return $s(h,this._triggerName,b,B,P,An,yr,ee,tt,Mi,ri,ge)}}class I{constructor(f,h,b){this.styles=f,this.defaultParams=h,this.normalizer=b}buildStyles(f,h){const b={},B=ue(this.defaultParams);return Object.keys(f).forEach(q=>{const ce=f[q];null!=ce&&(B[q]=ce)}),this.styles.styles.forEach(q=>{if("string"!=typeof q){const ce=q;Object.keys(ce).forEach(Se=>{let nt=ce[Se];nt.length>1&&(nt=Di(nt,B,h));const Et=this.normalizer.normalizePropertyName(Se,h);nt=this.normalizer.normalizeStyleValue(Se,Et,nt,h),b[Et]=nt})}}),b}}class R{constructor(f,h,b){this.name=f,this.ast=h,this._normalizer=b,this.transitionFactories=[],this.states={},h.states.forEach(B=>{this.states[B.name]=new I(B.style,B.options&&B.options.params||{},b)}),Ze(this.states,"true","1"),Ze(this.states,"false","0"),h.transitions.forEach(B=>{this.transitionFactories.push(new J(f,B,this.states))}),this.fallbackTransition=function(M,f,h){return new J(M,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ce,Se)=>!0],options:null,queryCount:0,depCount:0},f)}(f,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(f,h,b,B){return this.transitionFactories.find(ce=>ce.match(f,h,b,B))||null}matchStyles(f,h,b){return this.fallbackTransition.buildStyles(f,h,b)}}function Ze(M,f,h){M.hasOwnProperty(f)?M.hasOwnProperty(h)||(M[h]=M[f]):M.hasOwnProperty(h)&&(M[f]=M[h])}const It=new _i;class In{constructor(f,h,b){this.bodyNode=f,this._driver=h,this._normalizer=b,this._animations={},this._playersById={},this.players=[]}register(f,h){const b=[],B=St(this._driver,h,b);if(b.length)throw new Error(`Unable to build the animation due to the following errors: ${b.join("\n")}`);this._animations[f]=B}_buildPlayer(f,h,b){const B=f.element,q=Ee(0,this._normalizer,0,f.keyframes,h,b);return this._driver.animate(B,q,f.duration,f.delay,f.easing,[],!0)}create(f,h,b={}){const B=[],q=this._animations[f];let ce;const Se=new Map;if(q?(ce=Us(this._driver,h,q,Li,br,{},{},b,It,B),ce.forEach(Vt=>{const ln=Qe(Se,Vt.element,{});Vt.postStyleProps.forEach(fn=>ln[fn]=null)})):(B.push("The requested animation doesn't exist or has already been destroyed"),ce=[]),B.length)throw new Error(`Unable to create the animation due to the following errors: ${B.join("\n")}`);Se.forEach((Vt,ln)=>{Object.keys(Vt).forEach(fn=>{Vt[fn]=this._driver.computeStyle(ln,fn,me)})});const Et=vn(ce.map(Vt=>{const ln=Se.get(Vt.element);return this._buildPlayer(Vt,{},ln)}));return this._playersById[f]=Et,Et.onDestroy(()=>this.destroy(f)),this.players.push(Et),Et}destroy(f){const h=this._getPlayer(f);h.destroy(),delete this._playersById[f];const b=this.players.indexOf(h);b>=0&&this.players.splice(b,1)}_getPlayer(f){const h=this._playersById[f];if(!h)throw new Error(`Unable to find the timeline player referenced by ${f}`);return h}listen(f,h,b,B){const q=pt(h,"","","");return Pe(this._getPlayer(f),b,q,B),()=>{}}command(f,h,b,B){if("register"==b)return void this.register(f,B[0]);if("create"==b)return void this.create(f,h,B[0]||{});const q=this._getPlayer(f);switch(b){case"play":q.play();break;case"pause":q.pause();break;case"reset":q.reset();break;case"restart":q.restart();break;case"finish":q.finish();break;case"init":q.init();break;case"setPosition":q.setPosition(parseFloat(B[0]));break;case"destroy":this.destroy(f)}}}const mr="ng-animate-queued",wn="ng-animate-disabled",_r=".ng-animate-disabled",Zr=[],Zi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ts={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ir="__ng_removed";class vi{constructor(f,h=""){this.namespaceId=h;const b=f&&f.hasOwnProperty("value");if(this.value=function(M){return null!=M?M:null}(b?f.value:f),b){const q=ue(f);delete q.value,this.options=q}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(f){const h=f.params;if(h){const b=this.options.params;Object.keys(h).forEach(B=>{null==b[B]&&(b[B]=h[B])})}}}const no="void",Ms=new vi(no);class la{constructor(f,h,b){this.id=f,this.hostElement=h,this._engine=b,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+f,ut(h,this._hostClassName)}listen(f,h,b,B){if(!this._triggers.hasOwnProperty(h))throw new Error(`Unable to listen on the animation trigger event "${b}" because the animation trigger "${h}" doesn't exist!`);if(null==b||0==b.length)throw new Error(`Unable to listen on the animation trigger "${h}" because the provided event is undefined!`);if(!function(M){return"start"==M||"done"==M}(b))throw new Error(`The provided animation trigger event "${b}" for the animation trigger "${h}" is not supported!`);const q=Qe(this._elementListeners,f,[]),ce={name:h,phase:b,callback:B};q.push(ce);const Se=Qe(this._engine.statesByElement,f,{});return Se.hasOwnProperty(h)||(ut(f,zr),ut(f,zr+"-"+h),Se[h]=Ms),()=>{this._engine.afterFlush(()=>{const nt=q.indexOf(ce);nt>=0&&q.splice(nt,1),this._triggers[h]||delete Se[h]})}}register(f,h){return!this._triggers[f]&&(this._triggers[f]=h,!0)}_getTrigger(f){const h=this._triggers[f];if(!h)throw new Error(`The provided animation trigger "${f}" has not been registered!`);return h}trigger(f,h,b,B=!0){const q=this._getTrigger(h),ce=new qs(this.id,h,f);let Se=this._engine.statesByElement.get(f);Se||(ut(f,zr),ut(f,zr+"-"+h),this._engine.statesByElement.set(f,Se={}));let nt=Se[h];const Et=new vi(b,this.id);if(!(b&&b.hasOwnProperty("value"))&&nt&&Et.absorbOptions(nt.options),Se[h]=Et,nt||(nt=Ms),Et.value!==no&&nt.value===Et.value){if(!function(M,f){const h=Object.keys(M),b=Object.keys(f);if(h.length!=b.length)return!1;for(let B=0;B<h.length;B++){const q=h[B];if(!f.hasOwnProperty(q)||M[q]!==f[q])return!1}return!0}(nt.params,Et.params)){const Yn=[],yr=q.matchStyles(nt.value,nt.params,Yn),ki=q.matchStyles(Et.value,Et.params,Yn);Yn.length?this._engine.reportError(Yn):this._engine.afterFlush(()=>{sr(f,yr),Xt(f,ki)})}return}const fn=Qe(this._engine.playersByElement,f,[]);fn.forEach(Yn=>{Yn.namespaceId==this.id&&Yn.triggerName==h&&Yn.queued&&Yn.destroy()});let ar=q.matchTransition(nt.value,Et.value,f,Et.params),An=!1;if(!ar){if(!B)return;ar=q.fallbackTransition,An=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:h,transition:ar,fromState:nt,toState:Et,player:ce,isFallbackTransition:An}),An||(ut(f,mr),ce.onStart(()=>{sn(f,mr)})),ce.onDone(()=>{let Yn=this.players.indexOf(ce);Yn>=0&&this.players.splice(Yn,1);const yr=this._engine.playersByElement.get(f);if(yr){let ki=yr.indexOf(ce);ki>=0&&yr.splice(ki,1)}}),this.players.push(ce),fn.push(ce),ce}deregister(f){delete this._triggers[f],this._engine.statesByElement.forEach((h,b)=>{delete h[f]}),this._elementListeners.forEach((h,b)=>{this._elementListeners.set(b,h.filter(B=>B.name!=f))})}clearElementCache(f){this._engine.statesByElement.delete(f),this._elementListeners.delete(f);const h=this._engine.playersByElement.get(f);h&&(h.forEach(b=>b.destroy()),this._engine.playersByElement.delete(f))}_signalRemovalForInnerTriggers(f,h){const b=this._engine.driver.query(f,Pi,!0);b.forEach(B=>{if(B[Ir])return;const q=this._engine.fetchNamespacesByElement(B);q.size?q.forEach(ce=>ce.triggerLeaveAnimation(B,h,!1,!0)):this.clearElementCache(B)}),this._engine.afterFlushAnimationsDone(()=>b.forEach(B=>this.clearElementCache(B)))}triggerLeaveAnimation(f,h,b,B){const q=this._engine.statesByElement.get(f);if(q){const ce=[];if(Object.keys(q).forEach(Se=>{if(this._triggers[Se]){const nt=this.trigger(f,Se,no,B);nt&&ce.push(nt)}}),ce.length)return this._engine.markElementAsRemoved(this.id,f,!0,h),b&&vn(ce).onDone(()=>this._engine.processLeaveNode(f)),!0}return!1}prepareLeaveAnimationListeners(f){const h=this._elementListeners.get(f),b=this._engine.statesByElement.get(f);if(h&&b){const B=new Set;h.forEach(q=>{const ce=q.name;if(B.has(ce))return;B.add(ce);const nt=this._triggers[ce].fallbackTransition,Et=b[ce]||Ms,Vt=new vi(no),ln=new qs(this.id,ce,f);this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:ce,transition:nt,fromState:Et,toState:Vt,player:ln,isFallbackTransition:!0})})}}removeNode(f,h){const b=this._engine;if(f.childElementCount&&this._signalRemovalForInnerTriggers(f,h),this.triggerLeaveAnimation(f,h,!0))return;let B=!1;if(b.totalAnimations){const q=b.players.length?b.playersByQueriedElement.get(f):[];if(q&&q.length)B=!0;else{let ce=f;for(;ce=ce.parentNode;)if(b.statesByElement.get(ce)){B=!0;break}}}if(this.prepareLeaveAnimationListeners(f),B)b.markElementAsRemoved(this.id,f,!1,h);else{const q=f[Ir];(!q||q===Zi)&&(b.afterFlush(()=>this.clearElementCache(f)),b.destroyInnerAnimations(f),b._onRemovalComplete(f,h))}}insertNode(f,h){ut(f,this._hostClassName)}drainQueuedTransitions(f){const h=[];return this._queue.forEach(b=>{const B=b.player;if(B.destroyed)return;const q=b.element,ce=this._elementListeners.get(q);ce&&ce.forEach(Se=>{if(Se.name==b.triggerName){const nt=pt(q,b.triggerName,b.fromState.value,b.toState.value);nt._data=f,Pe(b.player,Se.phase,nt,Se.callback)}}),B.markedForDestroy?this._engine.afterFlush(()=>{B.destroy()}):h.push(b)}),this._queue=[],h.sort((b,B)=>{const q=b.transition.ast.depCount,ce=B.transition.ast.depCount;return 0==q||0==ce?q-ce:this._engine.driver.containsElement(b.element,B.element)?1:-1})}destroy(f){this.players.forEach(h=>h.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,f)}elementContainsData(f){let h=!1;return this._elementListeners.has(f)&&(h=!0),h=!!this._queue.find(b=>b.element===f)||h,h}}class as{constructor(f,h,b){this.bodyNode=f,this.driver=h,this._normalizer=b,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(B,q)=>{}}_onRemovalComplete(f,h){this.onRemovalComplete(f,h)}get queuedPlayers(){const f=[];return this._namespaceList.forEach(h=>{h.players.forEach(b=>{b.queued&&f.push(b)})}),f}createNamespace(f,h){const b=new la(f,h,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,h)?this._balanceNamespaceList(b,h):(this.newHostElements.set(h,b),this.collectEnterElement(h)),this._namespaceLookup[f]=b}_balanceNamespaceList(f,h){const b=this._namespaceList.length-1;if(b>=0){let B=!1;for(let q=b;q>=0;q--)if(this.driver.containsElement(this._namespaceList[q].hostElement,h)){this._namespaceList.splice(q+1,0,f),B=!0;break}B||this._namespaceList.splice(0,0,f)}else this._namespaceList.push(f);return this.namespacesByHostElement.set(h,f),f}register(f,h){let b=this._namespaceLookup[f];return b||(b=this.createNamespace(f,h)),b}registerTrigger(f,h,b){let B=this._namespaceLookup[f];B&&B.register(h,b)&&this.totalAnimations++}destroy(f,h){if(!f)return;const b=this._fetchNamespace(f);this.afterFlush(()=>{this.namespacesByHostElement.delete(b.hostElement),delete this._namespaceLookup[f];const B=this._namespaceList.indexOf(b);B>=0&&this._namespaceList.splice(B,1)}),this.afterFlushAnimationsDone(()=>b.destroy(h))}_fetchNamespace(f){return this._namespaceLookup[f]}fetchNamespacesByElement(f){const h=new Set,b=this.statesByElement.get(f);if(b){const B=Object.keys(b);for(let q=0;q<B.length;q++){const ce=b[B[q]].namespaceId;if(ce){const Se=this._fetchNamespace(ce);Se&&h.add(Se)}}}return h}trigger(f,h,b,B){if(ie(h)){const q=this._fetchNamespace(f);if(q)return q.trigger(h,b,B),!0}return!1}insertNode(f,h,b,B){if(!ie(h))return;const q=h[Ir];if(q&&q.setForRemoval){q.setForRemoval=!1,q.setForMove=!0;const ce=this.collectedLeaveElements.indexOf(h);ce>=0&&this.collectedLeaveElements.splice(ce,1)}if(f){const ce=this._fetchNamespace(f);ce&&ce.insertNode(h,b)}B&&this.collectEnterElement(h)}collectEnterElement(f){this.collectedEnterElements.push(f)}markElementAsDisabled(f,h){h?this.disabledNodes.has(f)||(this.disabledNodes.add(f),ut(f,wn)):this.disabledNodes.has(f)&&(this.disabledNodes.delete(f),sn(f,wn))}removeNode(f,h,b,B){if(ie(h)){const q=f?this._fetchNamespace(f):null;if(q?q.removeNode(h,B):this.markElementAsRemoved(f,h,!1,B),b){const ce=this.namespacesByHostElement.get(h);ce&&ce.id!==f&&ce.removeNode(h,B)}}else this._onRemovalComplete(h,B)}markElementAsRemoved(f,h,b,B){this.collectedLeaveElements.push(h),h[Ir]={namespaceId:f,setForRemoval:B,hasAnimation:b,removedBeforeQueried:!1}}listen(f,h,b,B,q){return ie(h)?this._fetchNamespace(f).listen(h,b,B,q):()=>{}}_buildInstruction(f,h,b,B,q){return f.transition.build(this.driver,f.element,f.fromState.value,f.toState.value,b,B,f.fromState.options,f.toState.options,h,q)}destroyInnerAnimations(f){let h=this.driver.query(f,Pi,!0);h.forEach(b=>this.destroyActiveAnimationsForElement(b)),0!=this.playersByQueriedElement.size&&(h=this.driver.query(f,Gt,!0),h.forEach(b=>this.finishActiveQueriedAnimationOnElement(b)))}destroyActiveAnimationsForElement(f){const h=this.playersByElement.get(f);h&&h.forEach(b=>{b.queued?b.markedForDestroy=!0:b.destroy()})}finishActiveQueriedAnimationOnElement(f){const h=this.playersByQueriedElement.get(f);h&&h.forEach(b=>b.finish())}whenRenderingDone(){return new Promise(f=>{if(this.players.length)return vn(this.players).onDone(()=>f());f()})}processLeaveNode(f){const h=f[Ir];if(h&&h.setForRemoval){if(f[Ir]=Zi,h.namespaceId){this.destroyInnerAnimations(f);const b=this._fetchNamespace(h.namespaceId);b&&b.clearElementCache(f)}this._onRemovalComplete(f,h.setForRemoval)}this.driver.matchesElement(f,_r)&&this.markElementAsDisabled(f,!1),this.driver.query(f,_r,!0).forEach(b=>{this.markElementAsDisabled(b,!1)})}flush(f=-1){let h=[];if(this.newHostElements.size&&(this.newHostElements.forEach((b,B)=>this._balanceNamespaceList(b,B)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let b=0;b<this.collectedEnterElements.length;b++)ut(this.collectedEnterElements[b],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const b=[];try{h=this._flushAnimations(b,f)}finally{for(let B=0;B<b.length;B++)b[B]()}}else for(let b=0;b<this.collectedLeaveElements.length;b++)this.processLeaveNode(this.collectedLeaveElements[b]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(b=>b()),this._flushFns=[],this._whenQuietFns.length){const b=this._whenQuietFns;this._whenQuietFns=[],h.length?vn(h).onDone(()=>{b.forEach(B=>B())}):b.forEach(B=>B())}}reportError(f){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${f.join("\n")}`)}_flushAnimations(f,h){const b=new _i,B=[],q=new Map,ce=[],Se=new Map,nt=new Map,Et=new Map,Vt=new Set;this.disabledNodes.forEach(pn=>{Vt.add(pn);const En=this.driver.query(pn,".ng-animate-queued",!0);for(let zn=0;zn<En.length;zn++)Vt.add(En[zn])});const ln=this.bodyNode,fn=Array.from(this.statesByElement.keys()),ar=kt(fn,this.collectedEnterElements),An=new Map;let Yn=0;ar.forEach((pn,En)=>{const zn=Li+Yn++;An.set(En,zn),pn.forEach(hr=>ut(hr,zn))});const yr=[],ki=new Set,Mi=new Set;for(let pn=0;pn<this.collectedLeaveElements.length;pn++){const En=this.collectedLeaveElements[pn],zn=En[Ir];zn&&zn.setForRemoval&&(yr.push(En),ki.add(En),zn.hasAnimation?this.driver.query(En,".ng-star-inserted",!0).forEach(hr=>ki.add(hr)):Mi.add(En))}const ri=new Map,P=kt(fn,Array.from(ki));P.forEach((pn,En)=>{const zn=br+Yn++;ri.set(En,zn),pn.forEach(hr=>ut(hr,zn))}),f.push(()=>{ar.forEach((pn,En)=>{const zn=An.get(En);pn.forEach(hr=>sn(hr,zn))}),P.forEach((pn,En)=>{const zn=ri.get(En);pn.forEach(hr=>sn(hr,zn))}),yr.forEach(pn=>{this.processLeaveNode(pn)})});const j=[],ee=[];for(let pn=this._namespaceList.length-1;pn>=0;pn--)this._namespaceList[pn].drainQueuedTransitions(h).forEach(zn=>{const hr=zn.player,xi=zn.element;if(j.push(hr),this.collectedEnterElements.length){const Vo=xi[Ir];if(Vo&&Vo.setForMove)return void hr.destroy()}const Ti=!ln||!this.driver.containsElement(ln,xi),pi=ri.get(xi),Ro=An.get(xi),vr=this._buildInstruction(zn,b,Ro,pi,Ti);if(vr.errors&&vr.errors.length)ee.push(vr);else{if(Ti)return hr.onStart(()=>sr(xi,vr.fromStyles)),hr.onDestroy(()=>Xt(xi,vr.toStyles)),void B.push(hr);if(zn.isFallbackTransition)return hr.onStart(()=>sr(xi,vr.fromStyles)),hr.onDestroy(()=>Xt(xi,vr.toStyles)),void B.push(hr);vr.timelines.forEach(Vo=>Vo.stretchStartingKeyframe=!0),b.append(xi,vr.timelines),ce.push({instruction:vr,player:hr,element:xi}),vr.queriedElements.forEach(Vo=>Qe(Se,Vo,[]).push(hr)),vr.preStyleProps.forEach((Vo,fo)=>{const Ps=Object.keys(Vo);if(Ps.length){let Va=nt.get(fo);Va||nt.set(fo,Va=new Set),Ps.forEach(Za=>Va.add(Za))}}),vr.postStyleProps.forEach((Vo,fo)=>{const Ps=Object.keys(Vo);let Va=Et.get(fo);Va||Et.set(fo,Va=new Set),Ps.forEach(Za=>Va.add(Za))})}});if(ee.length){const pn=[];ee.forEach(En=>{pn.push(`@${En.triggerName} has failed due to:\n`),En.errors.forEach(zn=>pn.push(`- ${zn}\n`))}),j.forEach(En=>En.destroy()),this.reportError(pn)}const ge=new Map,tt=new Map;ce.forEach(pn=>{const En=pn.element;b.has(En)&&(tt.set(En,En),this._beforeAnimationBuild(pn.player.namespaceId,pn.instruction,ge))}),B.forEach(pn=>{const En=pn.element;this._getPreviousPlayers(En,!1,pn.namespaceId,pn.triggerName,null).forEach(hr=>{Qe(ge,En,[]).push(hr),hr.destroy()})});const gt=yr.filter(pn=>Ei(pn,nt,Et)),At=new Map;ht(At,this.driver,Mi,Et,me).forEach(pn=>{Ei(pn,nt,Et)&&gt.push(pn)});const qt=new Map;ar.forEach((pn,En)=>{ht(qt,this.driver,new Set(pn),nt,"!")}),gt.forEach(pn=>{const En=At.get(pn),zn=qt.get(pn);At.set(pn,Object.assign(Object.assign({},En),zn))});const kn=[],Nr=[],is={};ce.forEach(pn=>{const{element:En,player:zn,instruction:hr}=pn;if(b.has(En)){if(Vt.has(En))return zn.onDestroy(()=>Xt(En,hr.toStyles)),zn.disabled=!0,zn.overrideTotalTime(hr.totalTime),void B.push(zn);let xi=is;if(tt.size>1){let pi=En;const Ro=[];for(;pi=pi.parentNode;){const vr=tt.get(pi);if(vr){xi=vr;break}Ro.push(pi)}Ro.forEach(vr=>tt.set(vr,xi))}const Ti=this._buildAnimation(zn.namespaceId,hr,ge,q,qt,At);if(zn.setRealPlayer(Ti),xi===is)kn.push(zn);else{const pi=this.playersByElement.get(xi);pi&&pi.length&&(zn.parentPlayer=vn(pi)),B.push(zn)}}else sr(En,hr.fromStyles),zn.onDestroy(()=>Xt(En,hr.toStyles)),Nr.push(zn),Vt.has(En)&&B.push(zn)}),Nr.forEach(pn=>{const En=q.get(pn.element);if(En&&En.length){const zn=vn(En);pn.setRealPlayer(zn)}}),B.forEach(pn=>{pn.parentPlayer?pn.syncPlayerEvents(pn.parentPlayer):pn.destroy()});for(let pn=0;pn<yr.length;pn++){const En=yr[pn],zn=En[Ir];if(sn(En,br),zn&&zn.hasAnimation)continue;let hr=[];if(Se.size){let Ti=Se.get(En);Ti&&Ti.length&&hr.push(...Ti);let pi=this.driver.query(En,Gt,!0);for(let Ro=0;Ro<pi.length;Ro++){let vr=Se.get(pi[Ro]);vr&&vr.length&&hr.push(...vr)}}const xi=hr.filter(Ti=>!Ti.destroyed);xi.length?ii(this,En,xi):this.processLeaveNode(En)}return yr.length=0,kn.forEach(pn=>{this.players.push(pn),pn.onDone(()=>{pn.destroy();const En=this.players.indexOf(pn);this.players.splice(En,1)}),pn.play()}),kn}elementContainsData(f,h){let b=!1;const B=h[Ir];return B&&B.setForRemoval&&(b=!0),this.playersByElement.has(h)&&(b=!0),this.playersByQueriedElement.has(h)&&(b=!0),this.statesByElement.has(h)&&(b=!0),this._fetchNamespace(f).elementContainsData(h)||b}afterFlush(f){this._flushFns.push(f)}afterFlushAnimationsDone(f){this._whenQuietFns.push(f)}_getPreviousPlayers(f,h,b,B,q){let ce=[];if(h){const Se=this.playersByQueriedElement.get(f);Se&&(ce=Se)}else{const Se=this.playersByElement.get(f);if(Se){const nt=!q||q==no;Se.forEach(Et=>{Et.queued||!nt&&Et.triggerName!=B||ce.push(Et)})}}return(b||B)&&(ce=ce.filter(Se=>!(b&&b!=Se.namespaceId||B&&B!=Se.triggerName))),ce}_beforeAnimationBuild(f,h,b){const q=h.element,ce=h.isRemovalTransition?void 0:f,Se=h.isRemovalTransition?void 0:h.triggerName;for(const nt of h.timelines){const Et=nt.element,Vt=Et!==q,ln=Qe(b,Et,[]);this._getPreviousPlayers(Et,Vt,ce,Se,h.toState).forEach(ar=>{const An=ar.getRealPlayer();An.beforeDestroy&&An.beforeDestroy(),ar.destroy(),ln.push(ar)})}sr(q,h.fromStyles)}_buildAnimation(f,h,b,B,q,ce){const Se=h.triggerName,nt=h.element,Et=[],Vt=new Set,ln=new Set,fn=h.timelines.map(An=>{const Yn=An.element;Vt.add(Yn);const yr=Yn[Ir];if(yr&&yr.removedBeforeQueried)return new cn(An.duration,An.delay);const ki=Yn!==nt,Mi=function(M){const f=[];return di(M,f),f}((b.get(Yn)||Zr).map(ge=>ge.getRealPlayer())).filter(ge=>!!ge.element&&ge.element===Yn),ri=q.get(Yn),P=ce.get(Yn),j=Ee(0,this._normalizer,0,An.keyframes,ri,P),ee=this._buildPlayer(An,j,Mi);if(An.subTimeline&&B&&ln.add(Yn),ki){const ge=new qs(f,Se,Yn);ge.setRealPlayer(ee),Et.push(ge)}return ee});Et.forEach(An=>{Qe(this.playersByQueriedElement,An.element,[]).push(An),An.onDone(()=>function(M,f,h){let b;if(M instanceof Map){if(b=M.get(f),b){if(b.length){const B=b.indexOf(h);b.splice(B,1)}0==b.length&&M.delete(f)}}else if(b=M[f],b){if(b.length){const B=b.indexOf(h);b.splice(B,1)}0==b.length&&delete M[f]}return b}(this.playersByQueriedElement,An.element,An))}),Vt.forEach(An=>ut(An,Wr));const ar=vn(fn);return ar.onDestroy(()=>{Vt.forEach(An=>sn(An,Wr)),Xt(nt,h.toStyles)}),ln.forEach(An=>{Qe(B,An,[]).push(ar)}),ar}_buildPlayer(f,h,b){return h.length>0?this.driver.animate(f.element,h,f.duration,f.delay,f.easing,b):new cn(f.duration,f.delay)}}class qs{constructor(f,h,b){this.namespaceId=f,this.triggerName=h,this.element=b,this._player=new cn,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(f){this._containsRealPlayer||(this._player=f,Object.keys(this._queuedCallbacks).forEach(h=>{this._queuedCallbacks[h].forEach(b=>Pe(f,h,void 0,b))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(f.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(f){this.totalTime=f}syncPlayerEvents(f){const h=this._player;h.triggerCallback&&f.onStart(()=>h.triggerCallback("start")),f.onDone(()=>this.finish()),f.onDestroy(()=>this.destroy())}_queueEvent(f,h){Qe(this._queuedCallbacks,f,[]).push(h)}onDone(f){this.queued&&this._queueEvent("done",f),this._player.onDone(f)}onStart(f){this.queued&&this._queueEvent("start",f),this._player.onStart(f)}onDestroy(f){this.queued&&this._queueEvent("destroy",f),this._player.onDestroy(f)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(f){this.queued||this._player.setPosition(f)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(f){const h=this._player;h.triggerCallback&&h.triggerCallback(f)}}function ie(M){return M&&1===M.nodeType}function Ye(M,f){const h=M.style.display;return M.style.display=null!=f?f:"none",h}function ht(M,f,h,b,B){const q=[];h.forEach(nt=>q.push(Ye(nt)));const ce=[];b.forEach((nt,Et)=>{const Vt={};nt.forEach(ln=>{const fn=Vt[ln]=f.computeStyle(Et,ln,B);(!fn||0==fn.length)&&(Et[Ir]=ts,ce.push(Et))}),M.set(Et,Vt)});let Se=0;return h.forEach(nt=>Ye(nt,q[Se++])),ce}function kt(M,f){const h=new Map;if(M.forEach(Se=>h.set(Se,[])),0==f.length)return h;const B=new Set(f),q=new Map;function ce(Se){if(!Se)return 1;let nt=q.get(Se);if(nt)return nt;const Et=Se.parentNode;return nt=h.has(Et)?Et:B.has(Et)?1:ce(Et),q.set(Se,nt),nt}return f.forEach(Se=>{const nt=ce(Se);1!==nt&&h.get(nt).push(Se)}),h}const gn="$$classes";function ut(M,f){if(M.classList)M.classList.add(f);else{let h=M[gn];h||(h=M[gn]={}),h[f]=!0}}function sn(M,f){if(M.classList)M.classList.remove(f);else{let h=M[gn];h&&delete h[f]}}function ii(M,f,h){vn(h).onDone(()=>M.processLeaveNode(f))}function di(M,f){for(let h=0;h<M.length;h++){const b=M[h];b instanceof an?di(b.players,f):f.push(b)}}function Ei(M,f,h){const b=h.get(M);if(!b)return!1;let B=f.get(M);return B?b.forEach(q=>B.add(q)):f.set(M,b),h.delete(M),!0}class Vr{constructor(f,h,b){this.bodyNode=f,this._driver=h,this._normalizer=b,this._triggerCache={},this.onRemovalComplete=(B,q)=>{},this._transitionEngine=new as(f,h,b),this._timelineEngine=new In(f,h,b),this._transitionEngine.onRemovalComplete=(B,q)=>this.onRemovalComplete(B,q)}registerTrigger(f,h,b,B,q){const ce=f+"-"+B;let Se=this._triggerCache[ce];if(!Se){const nt=[],Et=St(this._driver,q,nt);if(nt.length)throw new Error(`The animation trigger "${B}" has failed to build due to the following errors:\n - ${nt.join("\n - ")}`);Se=function(M,f,h){return new R(M,f,h)}(B,Et,this._normalizer),this._triggerCache[ce]=Se}this._transitionEngine.registerTrigger(h,B,Se)}register(f,h){this._transitionEngine.register(f,h)}destroy(f,h){this._transitionEngine.destroy(f,h)}onInsert(f,h,b,B){this._transitionEngine.insertNode(f,h,b,B)}onRemove(f,h,b,B){this._transitionEngine.removeNode(f,h,B||!1,b)}disableAnimations(f,h){this._transitionEngine.markElementAsDisabled(f,h)}process(f,h,b,B){if("@"==b.charAt(0)){const[q,ce]=Nt(b);this._timelineEngine.command(q,h,ce,B)}else this._transitionEngine.trigger(f,h,b,B)}listen(f,h,b,B,q){if("@"==b.charAt(0)){const[ce,Se]=Nt(b);return this._timelineEngine.listen(ce,h,Se,q)}return this._transitionEngine.listen(f,h,b,B,q)}flush(f=-1){this._transitionEngine.flush(f)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function fs(M,f){let h=null,b=null;return Array.isArray(f)&&f.length?(h=wi(f[0]),f.length>1&&(b=wi(f[f.length-1]))):f&&(h=wi(f)),h||b?new ps(M,h,b):null}let ps=(()=>{class M{constructor(h,b,B){this._element=h,this._startStyles=b,this._endStyles=B,this._state=0;let q=M.initialStylesByElement.get(h);q||M.initialStylesByElement.set(h,q={}),this._initialStyles=q}start(){this._state<1&&(this._startStyles&&Xt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xt(this._element,this._initialStyles),this._endStyles&&(Xt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(M.initialStylesByElement.delete(this._element),this._startStyles&&(sr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(sr(this._element,this._endStyles),this._endStyles=null),Xt(this._element,this._initialStyles),this._state=3)}}return M.initialStylesByElement=new WeakMap,M})();function wi(M){let f=null;const h=Object.keys(M);for(let b=0;b<h.length;b++){const B=h[b];Ur(B)&&(f=f||{},f[B]=M[B])}return f}function Ur(M){return"display"===M||"position"===M}const Br="animation",ns="animationend";class Gs{constructor(f,h,b,B,q,ce,Se){this._element=f,this._name=h,this._duration=b,this._delay=B,this._easing=q,this._fillMode=ce,this._onDoneFn=Se,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=nt=>this._handleCallback(nt)}apply(){(function(M,f){const h=ca(M,"").trim();let b=0;h.length&&(function(M,f){let h=0;for(let b=0;b<M.length;b++)","===M.charAt(b)&&h++;return h}(h)+1,f=`${h}, ${f}`),ia(M,"",f)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Oa(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Yr(this._element,this._name,"paused")}resume(){Yr(this._element,this._name,"running")}setPosition(f){const h=iu(this._element,this._name);this._position=f*this._duration,ia(this._element,"Delay",`-${this._position}ms`,h)}getPosition(){return this._position}_handleCallback(f){const h=f._ngTestManualTimestamp||Date.now(),b=1e3*parseFloat(f.elapsedTime.toFixed(3));f.animationName==this._name&&Math.max(h-this._startTime,0)>=this._delay&&b>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Oa(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(M,f){const b=ca(M,"").split(","),B=$o(b,f);B>=0&&(b.splice(B,1),ia(M,"",b.join(",")))}(this._element,this._name))}}function Yr(M,f,h){ia(M,"PlayState",h,iu(M,f))}function iu(M,f){const h=ca(M,"");return h.indexOf(",")>0?$o(h.split(","),f):$o([h],f)}function $o(M,f){for(let h=0;h<M.length;h++)if(M[h].indexOf(f)>=0)return h;return-1}function Oa(M,f,h){h?M.removeEventListener(ns,f):M.addEventListener(ns,f)}function ia(M,f,h,b){const B=Br+f;if(null!=b){const q=M.style[B];if(q.length){const ce=q.split(",");ce[b]=h,h=ce.join(",")}}M.style[B]=h}function ca(M,f){return M.style[Br+f]||""}class ro{constructor(f,h,b,B,q,ce,Se,nt){this.element=f,this.keyframes=h,this.animationName=b,this._duration=B,this._delay=q,this._finalStyles=Se,this._specialStyles=nt,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=ce||"linear",this.totalTime=B+q,this._buildStyler()}onStart(f){this._onStartFns.push(f)}onDone(f){this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(f=>f()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(f=>f()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(f){this._styler.setPosition(f)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Gs(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(f){const h="start"==f?this._onStartFns:this._onDoneFns;h.forEach(b=>b()),h.length=0}beforeDestroy(){this.init();const f={};if(this.hasStarted()){const h=this._state>=3;Object.keys(this._finalStyles).forEach(b=>{"offset"!=b&&(f[b]=h?this._finalStyles[b]:Es(this.element,b))})}this.currentSnapshot=f}}class Zu extends cn{constructor(f,h){super(),this.element=f,this._startingStyles={},this.__initialized=!1,this._styles=Lr(h)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(f=>{this._startingStyles[f]=this.element.style[f]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(f=>this.element.style.setProperty(f,this._styles[f])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(f=>{const h=this._startingStyles[f];h?this.element.style.setProperty(f,h):this.element.style.removeProperty(f)}),this._startingStyles=null,super.destroy())}}class fa{constructor(){this._count=0}validateStyleProperty(f){return ui(f)}matchesElement(f,h){return jr(f,h)}containsElement(f,h){return li(f,h)}query(f,h,b){return Oi(f,h,b)}computeStyle(f,h,b){return window.getComputedStyle(f)[h]}buildKeyframeElement(f,h,b){b=b.map(Se=>Lr(Se));let B=`@keyframes ${h} {\n`,q="";b.forEach(Se=>{q=" ";const nt=parseFloat(Se.offset);B+=`${q}${100*nt}% {\n`,q+=" ",Object.keys(Se).forEach(Et=>{const Vt=Se[Et];switch(Et){case"offset":return;case"easing":return void(Vt&&(B+=`${q}animation-timing-function: ${Vt};\n`));default:return void(B+=`${q}${Et}: ${Vt};\n`)}}),B+=`${q}}\n`}),B+="}\n";const ce=document.createElement("style");return ce.textContent=B,ce}animate(f,h,b,B,q,ce=[],Se){const nt=ce.filter(yr=>yr instanceof ro),Et={};Ni(b,B)&&nt.forEach(yr=>{let ki=yr.currentSnapshot;Object.keys(ki).forEach(Mi=>Et[Mi]=ki[Mi])});const Vt=function(M){let f={};return M&&(Array.isArray(M)?M:[M]).forEach(b=>{Object.keys(b).forEach(B=>{"offset"==B||"easing"==B||(f[B]=b[B])})}),f}(h=Si(f,h,Et));if(0==b)return new Zu(f,Vt);const ln="gen_css_kf_"+this._count++,fn=this.buildKeyframeElement(f,ln,h);(function(M){var f;const h=null===(f=M.getRootNode)||void 0===f?void 0:f.call(M);return"undefined"!=typeof ShadowRoot&&h instanceof ShadowRoot?h:document.head})(f).appendChild(fn);const An=fs(f,h),Yn=new ro(f,h,ln,b,B,q,Vt,An);return Yn.onDestroy(()=>function(M){M.parentNode.removeChild(M)}(fn)),Yn}}class hi{constructor(f,h,b,B){this.element=f,this.keyframes=h,this.options=b,this._specialStyles=B,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=b.duration,this._delay=b.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const f=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,f,this.options),this._finalKeyframe=f.length?f[f.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(f,h,b){return f.animate(h,b)}onStart(f){this._onStartFns.push(f)}onDone(f){this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(f=>f()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}setPosition(f){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=f*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const f={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(h=>{"offset"!=h&&(f[h]=this._finished?this._finalKeyframe[h]:Es(this.element,h))}),this.currentSnapshot=f}triggerCallback(f){const h="start"==f?this._onStartFns:this._onDoneFns;h.forEach(b=>b()),h.length=0}}class su{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Ho().toString()),this._cssKeyframesDriver=new fa}validateStyleProperty(f){return ui(f)}matchesElement(f,h){return jr(f,h)}containsElement(f,h){return li(f,h)}query(f,h,b){return Oi(f,h,b)}computeStyle(f,h,b){return window.getComputedStyle(f)[h]}overrideWebAnimationsSupport(f){this._isNativeImpl=f}animate(f,h,b,B,q,ce=[],Se){if(!Se&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(f,h,b,B,q,ce);const Vt={duration:b,delay:B,fill:0==B?"both":"forwards"};q&&(Vt.easing=q);const ln={},fn=ce.filter(An=>An instanceof hi);Ni(b,B)&&fn.forEach(An=>{let Yn=An.currentSnapshot;Object.keys(Yn).forEach(yr=>ln[yr]=Yn[yr])});const ar=fs(f,h=Si(f,h=h.map(An=>ft(An,!1)),ln));return new hi(f,h,Vt,ar)}}function Ho(){return Hn()&&Element.prototype.animate||{}}let Ha=(()=>{class M extends oe{constructor(h,b){super(),this._nextAnimationId=0,this._renderer=h.createRenderer(b.body,{id:"0",encapsulation:w.ifc.None,styles:[],data:{animation:[]}})}build(h){const b=this._nextAnimationId.toString();this._nextAnimationId++;const B=Array.isArray(h)?at(h):h;return so(this._renderer,null,b,"register",[B]),new ga(b,this._renderer)}}return M.\u0275fac=function(h){return new(h||M)(w.LFG(w.FYo),w.LFG(Ne.K0))},M.\u0275prov=w.Yz7({token:M,factory:M.\u0275fac}),M})();class ga extends class{}{constructor(f,h){super(),this._id=f,this._renderer=h}create(f,h){return new ou(this._id,f,h||{},this._renderer)}}class ou{constructor(f,h,b,B){this.id=f,this.element=h,this._renderer=B,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",b)}_listen(f,h){return this._renderer.listen(this.element,`@@${this.id}:${f}`,h)}_command(f,...h){return so(this._renderer,this.element,this.id,f,h)}onDone(f){this._listen("done",f)}onStart(f){this._listen("start",f)}onDestroy(f){this._listen("destroy",f)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(f){this._command("setPosition",f)}getPosition(){var f,h;return null!==(h=null===(f=this._renderer.engine.players[+this.id])||void 0===f?void 0:f.getPosition())&&void 0!==h?h:0}}function so(M,f,h,b,B){return M.setProperty(f,`@@${h}:${b}`,B)}const oo="@.disabled";let ka=(()=>{class M{constructor(h,b,B){this.delegate=h,this.engine=b,this._zone=B,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),b.onRemovalComplete=(q,ce)=>{ce&&ce.parentNode(q)&&ce.removeChild(q.parentNode,q)}}createRenderer(h,b){const q=this.delegate.createRenderer(h,b);if(!(h&&b&&b.data&&b.data.animation)){let Vt=this._rendererCache.get(q);return Vt||(Vt=new Ga("",q,this.engine),this._rendererCache.set(q,Vt)),Vt}const ce=b.id,Se=b.id+"-"+this._currentId;this._currentId++,this.engine.register(Se,h);const nt=Vt=>{Array.isArray(Vt)?Vt.forEach(nt):this.engine.registerTrigger(ce,Se,h,Vt.name,Vt)};return b.data.animation.forEach(nt),new wo(this,Se,q,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(h,b,B){h>=0&&h<this._microtaskId?this._zone.run(()=>b(B)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(q=>{const[ce,Se]=q;ce(Se)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([b,B]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return M.\u0275fac=function(h){return new(h||M)(w.LFG(w.FYo),w.LFG(Vr),w.LFG(w.R0b))},M.\u0275prov=w.Yz7({token:M,factory:M.\u0275fac}),M})();class Ga{constructor(f,h,b){this.namespaceId=f,this.delegate=h,this.engine=b,this.destroyNode=this.delegate.destroyNode?B=>h.destroyNode(B):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(f,h){return this.delegate.createElement(f,h)}createComment(f){return this.delegate.createComment(f)}createText(f){return this.delegate.createText(f)}appendChild(f,h){this.delegate.appendChild(f,h),this.engine.onInsert(this.namespaceId,h,f,!1)}insertBefore(f,h,b,B=!0){this.delegate.insertBefore(f,h,b),this.engine.onInsert(this.namespaceId,h,f,B)}removeChild(f,h,b){this.engine.onRemove(this.namespaceId,h,this.delegate,b)}selectRootElement(f,h){return this.delegate.selectRootElement(f,h)}parentNode(f){return this.delegate.parentNode(f)}nextSibling(f){return this.delegate.nextSibling(f)}setAttribute(f,h,b,B){this.delegate.setAttribute(f,h,b,B)}removeAttribute(f,h,b){this.delegate.removeAttribute(f,h,b)}addClass(f,h){this.delegate.addClass(f,h)}removeClass(f,h){this.delegate.removeClass(f,h)}setStyle(f,h,b,B){this.delegate.setStyle(f,h,b,B)}removeStyle(f,h,b){this.delegate.removeStyle(f,h,b)}setProperty(f,h,b){"@"==h.charAt(0)&&h==oo?this.disableAnimations(f,!!b):this.delegate.setProperty(f,h,b)}setValue(f,h){this.delegate.setValue(f,h)}listen(f,h,b){return this.delegate.listen(f,h,b)}disableAnimations(f,h){this.engine.disableAnimations(f,h)}}class wo extends Ga{constructor(f,h,b,B){super(h,b,B),this.factory=f,this.namespaceId=h}setProperty(f,h,b){"@"==h.charAt(0)?"."==h.charAt(1)&&h==oo?this.disableAnimations(f,b=void 0===b||!!b):this.engine.process(this.namespaceId,f,h.substr(1),b):this.delegate.setProperty(f,h,b)}listen(f,h,b){if("@"==h.charAt(0)){const B=function(M){switch(M){case"body":return document.body;case"document":return document;case"window":return window;default:return M}}(f);let q=h.substr(1),ce="";return"@"!=q.charAt(0)&&([q,ce]=function(M){const f=M.indexOf(".");return[M.substring(0,f),M.substr(f+1)]}(q)),this.engine.listen(this.namespaceId,B,q,ce,Se=>{this.factory.scheduleListenerCallback(Se._data||-1,b,Se)})}return this.delegate.listen(f,h,b)}}let ko=(()=>{class M extends Vr{constructor(h,b,B){super(h.body,b,B)}ngOnDestroy(){this.flush()}}return M.\u0275fac=function(h){return new(h||M)(w.LFG(Ne.K0),w.LFG(Pr),w.LFG(Rs))},M.\u0275prov=w.Yz7({token:M,factory:M.\u0275fac}),M})();const au=new w.OlP("AnimationModuleType"),Mr=[{provide:oe,useClass:Ha},{provide:Rs,useFactory:function(){return new to}},{provide:Vr,useClass:ko},{provide:w.FYo,useFactory:function(M,f,h){return new ka(M,f,h)},deps:[y.se,Vr,w.R0b]}],Go=[{provide:Pr,useFactory:function(){return"function"==typeof Ho()?new su:new fa}},{provide:au,useValue:"BrowserAnimations"},...Mr],ma=[{provide:Pr,useClass:gi},{provide:au,useValue:"NoopAnimations"},...Mr];let zo=(()=>{class M{static withConfig(h){return{ngModule:M,providers:h.disableAnimations?ma:Go}}}return M.\u0275fac=function(h){return new(h||M)},M.\u0275mod=w.oAB({type:M}),M.\u0275inj=w.cJS({providers:Go,imports:[y.b2]}),M})();var To=O(7947),ya=O(1841),uo=O(5917),_a=O(7574);function ms(M){return!!M&&(M instanceof _a.y||"function"==typeof M.lift&&"function"==typeof M.subscribe)}var Fa=O(5758),lo=O(8071),fi=O(1439),Zs=O(5257),rs=O(9765),va=O(5319);class Co extends va.w{constructor(f,h){super()}schedule(f,h=0){return this}}class Kt extends Co{constructor(f,h){super(f,h),this.scheduler=f,this.work=h,this.pending=!1}schedule(f,h=0){if(this.closed)return this;this.state=f;const b=this.id,B=this.scheduler;return null!=b&&(this.id=this.recycleAsyncId(B,b,h)),this.pending=!0,this.delay=h,this.id=this.id||this.requestAsyncId(B,this.id,h),this}requestAsyncId(f,h,b=0){return setInterval(f.flush.bind(f,this),b)}recycleAsyncId(f,h,b=0){if(null!==b&&this.delay===b&&!1===this.pending)return h;clearInterval(h)}execute(f,h){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const b=this._execute(f,h);if(b)return b;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(f,h){let B,b=!1;try{this.work(f)}catch(q){b=!0,B=!!q&&q||new Error(q)}if(b)return this.unsubscribe(),B}_unsubscribe(){const f=this.id,h=this.scheduler,b=h.actions,B=b.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==B&&b.splice(B,1),null!=f&&(this.id=this.recycleAsyncId(h,f,null)),this.delay=null}}let co=(()=>{class M{constructor(h,b=M.now){this.SchedulerAction=h,this.now=b}schedule(h,b=0,B){return new this.SchedulerAction(this,h).schedule(B,b)}}return M.now=()=>Date.now(),M})();class Ts extends co{constructor(f,h=co.now){super(f,()=>Ts.delegate&&Ts.delegate!==this?Ts.delegate.now():h()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(f,h=0,b){return Ts.delegate&&Ts.delegate!==this?Ts.delegate.schedule(f,h,b):super.schedule(f,h,b)}flush(f){const{actions:h}=this;if(this.active)return void h.push(f);let b;this.active=!0;do{if(b=f.execute(f.state,f.delay))break}while(f=h.shift());if(this.active=!1,b){for(;f=h.shift();)f.unsubscribe();throw b}}}const Wo=new class extends Ts{}(class extends Kt{constructor(f,h){super(f,h),this.scheduler=f,this.work=h}schedule(f,h=0){return h>0?super.schedule(f,h):(this.delay=h,this.state=f,this.scheduler.flush(this),this)}execute(f,h){return h>0||this.closed?super.execute(f,h):this._execute(f,h)}requestAsyncId(f,h,b=0){return null!==b&&b>0||null===b&&this.delay>0?super.requestAsyncId(f,h,b):f.flush(this)}});var on=O(7393),mt=O(9193);class xs{constructor(f,h,b){this.kind=f,this.value=h,this.error=b,this.hasValue="N"===f}observe(f){switch(this.kind){case"N":return f.next&&f.next(this.value);case"E":return f.error&&f.error(this.error);case"C":return f.complete&&f.complete()}}do(f,h,b){switch(this.kind){case"N":return f&&f(this.value);case"E":return h&&h(this.error);case"C":return b&&b()}}accept(f,h,b){return f&&"function"==typeof f.next?this.observe(f):this.do(f,h,b)}toObservable(){switch(this.kind){case"N":return(0,uo.of)(this.value);case"E":return function(M,f){return new _a.y(h=>h.error(M))}(this.error);case"C":return(0,mt.c)()}throw new Error("unexpected notification kind value")}static createNext(f){return void 0!==f?new xs("N",f):xs.undefinedValueNotification}static createError(f){return new xs("E",void 0,f)}static createComplete(){return xs.completeNotification}}xs.completeNotification=new xs("C"),xs.undefinedValueNotification=new xs("N",void 0);class Io extends on.L{constructor(f,h,b=0){super(f),this.scheduler=h,this.delay=b}static dispatch(f){const{notification:h,destination:b}=f;h.observe(b),this.unsubscribe()}scheduleMessage(f){this.destination.add(this.scheduler.schedule(Io.dispatch,this.delay,new Ka(f,this.destination)))}_next(f){this.scheduleMessage(xs.createNext(f))}_error(f){this.scheduleMessage(xs.createError(f)),this.unsubscribe()}_complete(){this.scheduleMessage(xs.createComplete()),this.unsubscribe()}}class Ka{constructor(f,h){this.notification=f,this.destination=h}}var Os=O(7971),x=O(8858);class C extends rs.xQ{constructor(f=Number.POSITIVE_INFINITY,h=Number.POSITIVE_INFINITY,b){super(),this.scheduler=b,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=f<1?1:f,this._windowTime=h<1?1:h,h===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(f){if(!this.isStopped){const h=this._events;h.push(f),h.length>this._bufferSize&&h.shift()}super.next(f)}nextTimeWindow(f){this.isStopped||(this._events.push(new v(this._getNow(),f)),this._trimBufferThenGetEvents()),super.next(f)}_subscribe(f){const h=this._infiniteTimeWindow,b=h?this._events:this._trimBufferThenGetEvents(),B=this.scheduler,q=b.length;let ce;if(this.closed)throw new Os.N;if(this.isStopped||this.hasError?ce=va.w.EMPTY:(this.observers.push(f),ce=new x.W(this,f)),B&&f.add(f=new Io(f,B)),h)for(let Se=0;Se<q&&!f.closed;Se++)f.next(b[Se]);else for(let Se=0;Se<q&&!f.closed;Se++)f.next(b[Se].value);return this.hasError?f.error(this.thrownError):this.isStopped&&f.complete(),ce}_getNow(){return(this.scheduler||Wo).now()}_trimBufferThenGetEvents(){const f=this._getNow(),h=this._bufferSize,b=this._windowTime,B=this._events,q=B.length;let ce=0;for(;ce<q&&!(f-B[ce].time<b);)ce++;return q>h&&(ce=Math.max(ce,q-h)),ce>0&&B.splice(0,ce),B}}class v{constructor(f,h){this.time=f,this.value=h}}function N(M,f,h){let b;return b=M&&"object"==typeof M?M:{bufferSize:M,windowTime:f,refCount:!1,scheduler:h},B=>B.lift(function({bufferSize:M=Number.POSITIVE_INFINITY,windowTime:f=Number.POSITIVE_INFINITY,refCount:h,scheduler:b}){let B,ce,q=0,Se=!1,nt=!1;return function(Vt){let ln;q++,!B||Se?(Se=!1,B=new C(M,f,b),ln=B.subscribe(this),ce=Vt.subscribe({next(fn){B.next(fn)},error(fn){Se=!0,B.error(fn)},complete(){nt=!0,ce=void 0,B.complete()}}),nt&&(ce=void 0)):ln=B.subscribe(this),this.add(()=>{q--,ln.unsubscribe(),ln=void 0,ce&&!nt&&h&&0===q&&(ce.unsubscribe(),ce=void 0,B=void 0)})}}(b))}var X=O(8002),de=O(4612),$e=O(3190);class yt{}let hn=(()=>{class M extends yt{getTranslation(h){return(0,uo.of)({})}}return M.\u0275fac=function(){let f;return function(b){return(f||(f=w.n5z(M)))(b||M)}}(),M.\u0275prov=w.Yz7({token:M,factory:M.\u0275fac}),M})();class er{}let en=(()=>{class M{handle(h){return h.key}}return M.\u0275fac=function(h){return new(h||M)},M.\u0275prov=w.Yz7({token:M,factory:M.\u0275fac}),M})();function Nn(M){return null!=M}function Ds(M){return M&&"object"==typeof M&&!Array.isArray(M)}function Do(M,f){let h=Object.assign({},M);return Ds(M)&&Ds(f)&&Object.keys(f).forEach(b=>{Ds(f[b])?b in M?h[b]=Do(M[b],f[b]):Object.assign(h,{[b]:f[b]}):Object.assign(h,{[b]:f[b]})}),h}class Vn{}let La=(()=>{class M extends Vn{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(h,b){let B;return B="string"==typeof h?this.interpolateString(h,b):"function"==typeof h?this.interpolateFunction(h,b):h,B}getValue(h,b){let B="string"==typeof b?b.split("."):[b];b="";do{b+=B.shift(),!Nn(h)||!Nn(h[b])||"object"!=typeof h[b]&&B.length?B.length?b+=".":h=void 0:(h=h[b],b="")}while(B.length);return h}interpolateFunction(h,b){return h(b)}interpolateString(h,b){return b?h.replace(this.templateMatcher,(B,q)=>{let ce=this.getValue(b,q);return Nn(ce)?ce:B}):h}}return M.\u0275fac=function(){let f;return function(b){return(f||(f=w.n5z(M)))(b||M)}}(),M.\u0275prov=w.Yz7({token:M,factory:M.\u0275fac}),M})();class $i{}let Kr=(()=>{class M extends $i{compile(h,b){return h}compileTranslations(h,b){return h}}return M.\u0275fac=function(){let f;return function(b){return(f||(f=w.n5z(M)))(b||M)}}(),M.\u0275prov=w.Yz7({token:M,factory:M.\u0275fac}),M})();class So{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new w.vpe,this.onLangChange=new w.vpe,this.onDefaultLangChange=new w.vpe}}const ku=new w.OlP("USE_STORE"),lu=new w.OlP("USE_DEFAULT_LANG"),Ko=new w.OlP("DEFAULT_LANGUAGE"),Ys=new w.OlP("USE_EXTEND");let qa=(()=>{class M{constructor(h,b,B,q,ce,Se=!0,nt=!1,Et=!1,Vt){this.store=h,this.currentLoader=b,this.compiler=B,this.parser=q,this.missingTranslationHandler=ce,this.useDefaultLang=Se,this.isolate=nt,this.extend=Et,this.pending=!1,this._onTranslationChange=new w.vpe,this._onLangChange=new w.vpe,this._onDefaultLangChange=new w.vpe,this._langs=[],this._translations={},this._translationRequests={},Vt&&this.setDefaultLang(Vt)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(h){this.isolate?this._defaultLang=h:this.store.defaultLang=h}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(h){this.isolate?this._currentLang=h:this.store.currentLang=h}get langs(){return this.isolate?this._langs:this.store.langs}set langs(h){this.isolate?this._langs=h:this.store.langs=h}get translations(){return this.isolate?this._translations:this.store.translations}set translations(h){this.isolate?this._translations=h:this.store.translations=h}setDefaultLang(h){if(h===this.defaultLang)return;let b=this.retrieveTranslations(h);void 0!==b?(null==this.defaultLang&&(this.defaultLang=h),b.pipe((0,Zs.q)(1)).subscribe(B=>{this.changeDefaultLang(h)})):this.changeDefaultLang(h)}getDefaultLang(){return this.defaultLang}use(h){if(h===this.currentLang)return(0,uo.of)(this.translations[h]);let b=this.retrieveTranslations(h);return void 0!==b?(this.currentLang||(this.currentLang=h),b.pipe((0,Zs.q)(1)).subscribe(B=>{this.changeLang(h)}),b):(this.changeLang(h),(0,uo.of)(this.translations[h]))}retrieveTranslations(h){let b;return(void 0===this.translations[h]||this.extend)&&(this._translationRequests[h]=this._translationRequests[h]||this.getTranslation(h),b=this._translationRequests[h]),b}getTranslation(h){this.pending=!0;const b=this.currentLoader.getTranslation(h).pipe(N(1),(0,Zs.q)(1));return this.loadingTranslations=b.pipe((0,X.U)(B=>this.compiler.compileTranslations(B,h)),N(1),(0,Zs.q)(1)),this.loadingTranslations.subscribe({next:B=>{this.translations[h]=this.extend&&this.translations[h]?Object.assign(Object.assign({},B),this.translations[h]):B,this.updateLangs(),this.pending=!1},error:B=>{this.pending=!1}}),b}setTranslation(h,b,B=!1){b=this.compiler.compileTranslations(b,h),this.translations[h]=(B||this.extend)&&this.translations[h]?Do(this.translations[h],b):b,this.updateLangs(),this.onTranslationChange.emit({lang:h,translations:this.translations[h]})}getLangs(){return this.langs}addLangs(h){h.forEach(b=>{-1===this.langs.indexOf(b)&&this.langs.push(b)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(h,b,B){let q;if(b instanceof Array){let ce={},Se=!1;for(let nt of b)ce[nt]=this.getParsedResult(h,nt,B),ms(ce[nt])&&(Se=!0);if(Se){const nt=b.map(Et=>ms(ce[Et])?ce[Et]:(0,uo.of)(ce[Et]));return(0,Fa.D)(nt).pipe((0,X.U)(Et=>{let Vt={};return Et.forEach((ln,fn)=>{Vt[b[fn]]=ln}),Vt}))}return ce}if(h&&(q=this.parser.interpolate(this.parser.getValue(h,b),B)),void 0===q&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(q=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],b),B)),void 0===q){let ce={key:b,translateService:this};void 0!==B&&(ce.interpolateParams=B),q=this.missingTranslationHandler.handle(ce)}return void 0!==q?q:b}get(h,b){if(!Nn(h)||!h.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,de.b)(B=>ms(B=this.getParsedResult(B,h,b))?B:(0,uo.of)(B)));{let B=this.getParsedResult(this.translations[this.currentLang],h,b);return ms(B)?B:(0,uo.of)(B)}}getStreamOnTranslationChange(h,b){if(!Nn(h)||!h.length)throw new Error('Parameter "key" required');return(0,lo.z)((0,fi.P)(()=>this.get(h,b)),this.onTranslationChange.pipe((0,$e.w)(B=>{const q=this.getParsedResult(B.translations,h,b);return"function"==typeof q.subscribe?q:(0,uo.of)(q)})))}stream(h,b){if(!Nn(h)||!h.length)throw new Error('Parameter "key" required');return(0,lo.z)((0,fi.P)(()=>this.get(h,b)),this.onLangChange.pipe((0,$e.w)(B=>{const q=this.getParsedResult(B.translations,h,b);return ms(q)?q:(0,uo.of)(q)})))}instant(h,b){if(!Nn(h)||!h.length)throw new Error('Parameter "key" required');let B=this.getParsedResult(this.translations[this.currentLang],h,b);if(ms(B)){if(h instanceof Array){let q={};return h.forEach((ce,Se)=>{q[h[Se]]=h[Se]}),q}return h}return B}set(h,b,B=this.currentLang){this.translations[B][h]=this.compiler.compile(b,B),this.updateLangs(),this.onTranslationChange.emit({lang:B,translations:this.translations[B]})}changeLang(h){this.currentLang=h,this.onLangChange.emit({lang:h,translations:this.translations[h]}),null==this.defaultLang&&this.changeDefaultLang(h)}changeDefaultLang(h){this.defaultLang=h,this.onDefaultLangChange.emit({lang:h,translations:this.translations[h]})}reloadLang(h){return this.resetLang(h),this.getTranslation(h)}resetLang(h){this._translationRequests[h]=void 0,this.translations[h]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let h=window.navigator.languages?window.navigator.languages[0]:null;return h=h||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==h?(-1!==h.indexOf("-")&&(h=h.split("-")[0]),-1!==h.indexOf("_")&&(h=h.split("_")[0]),h):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let h=window.navigator.languages?window.navigator.languages[0]:null;return h=h||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,h}}return M.\u0275fac=function(h){return new(h||M)(w.LFG(So),w.LFG(yt),w.LFG($i),w.LFG(Vn),w.LFG(er),w.LFG(lu),w.LFG(ku),w.LFG(Ys),w.LFG(Ko))},M.\u0275prov=w.Yz7({token:M,factory:M.\u0275fac}),M})(),ho=(()=>{class M{static forRoot(h={}){return{ngModule:M,providers:[h.loader||{provide:yt,useClass:hn},h.compiler||{provide:$i,useClass:Kr},h.parser||{provide:Vn,useClass:La},h.missingTranslationHandler||{provide:er,useClass:en},So,{provide:ku,useValue:h.isolate},{provide:lu,useValue:h.useDefaultLang},{provide:Ys,useValue:h.extend},{provide:Ko,useValue:h.defaultLanguage},qa]}}static forChild(h={}){return{ngModule:M,providers:[h.loader||{provide:yt,useClass:hn},h.compiler||{provide:$i,useClass:Kr},h.parser||{provide:Vn,useClass:La},h.missingTranslationHandler||{provide:er,useClass:en},{provide:ku,useValue:h.isolate},{provide:lu,useValue:h.useDefaultLang},{provide:Ys,useValue:h.extend},{provide:Ko,useValue:h.defaultLanguage},qa]}}}return M.\u0275fac=function(h){return new(h||M)},M.\u0275mod=w.oAB({type:M}),M.\u0275inj=w.cJS({}),M})();class Ao{constructor(f,h="/assets/i18n/",b=".json"){this.http=f,this.prefix=h,this.suffix=b}getTranslation(f){return this.http.get(`${this.prefix}${f}${this.suffix}`)}}function Ii(M){return new Ao(M)}let qo=(()=>{class M{}return M.\u0275fac=function(h){return new(h||M)},M.\u0275mod=w.oAB({type:M,bootstrap:[_n]}),M.\u0275inj=w.cJS({providers:[Ce.ST],imports:[[y.b2,ne,fe.hO.initializeApp(we_firebaseConfig),Ce.yb,Me.TE,K.u5,ya.JF,Bn.a,zo,Mn.o,To.J,K.UX,ya.JF,ho.forRoot({loader:{provide:yt,useFactory:Ii,deps:[ya.eN]},defaultLanguage:"es"})],ho]}),M})();(0,w.G48)(),y.q6().bootstrapModule(qo).catch(M=>console.error(M))},9517:(Dt,Ve,O)=>{"use strict";function Te(oe,ye,me,_e){return new(me||(me=Promise))(function(De,at){function xt(yn){try{Tt(_e.next(yn))}catch(Fn){at(Fn)}}function Bt(yn){try{Tt(_e.throw(yn))}catch(Fn){at(Fn)}}function Tt(yn){yn.done?De(yn.value):function(De){return De instanceof me?De:new me(function(at){at(De)})}(yn.value).then(xt,Bt)}Tt((_e=_e.apply(oe,ye||[])).next())})}function Oe(oe){return this instanceof Oe?(this.v=oe,this):new Oe(oe)}function We(oe,ye,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,_e=me.apply(oe,ye||[]),De=[];return Je={},at("next"),at("throw"),at("return"),Je[Symbol.asyncIterator]=function(){return this},Je;function at(rn){_e[rn]&&(Je[rn]=function(tr){return new Promise(function(zt,lr){De.push([rn,tr,zt,lr])>1||xt(rn,tr)})})}function xt(rn,tr){try{!function(rn){rn.value instanceof Oe?Promise.resolve(rn.value.v).then(Tt,yn):Fn(De[0][2],rn)}(_e[rn](tr))}catch(zt){Fn(De[0][3],zt)}}function Tt(rn){xt("next",rn)}function yn(rn){xt("throw",rn)}function Fn(rn,tr){rn(tr),De.shift(),De.length&&xt(De[0][0],De[0][1])}}function Le(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,ye=oe[Symbol.asyncIterator];return ye?ye.call(oe):(oe=function(oe){var ye="function"==typeof Symbol&&Symbol.iterator,me=ye&&oe[ye],_e=0;if(me)return me.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&_e>=oe.length&&(oe=void 0),{value:oe&&oe[_e++],done:!oe}}};throw new TypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),me={},_e("next"),_e("throw"),_e("return"),me[Symbol.asyncIterator]=function(){return this},me);function _e(De){me[De]=oe[De]&&function(at){return new Promise(function(xt,Bt){!function(De,at,xt,Bt){Promise.resolve(Bt).then(function(Tt){De({value:Tt,done:xt})},at)}(xt,Bt,(at=oe[De](at)).done,at.value)})}}}O.d(Ve,{mG:()=>Te,qq:()=>Oe,FC:()=>We,KL:()=>Le})},4762:(Dt,Ve,O)=>{"use strict";function we(oe,ye){var me={};for(var _e in oe)Object.prototype.hasOwnProperty.call(oe,_e)&&ye.indexOf(_e)<0&&(me[_e]=oe[_e]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var Je=0;for(_e=Object.getOwnPropertySymbols(oe);Je<_e.length;Je++)ye.indexOf(_e[Je])<0&&Object.prototype.propertyIsEnumerable.call(oe,_e[Je])&&(me[_e[Je]]=oe[_e[Je]])}return me}function Te(oe,ye,me,_e){return new(me||(me=Promise))(function(De,at){function xt(yn){try{Tt(_e.next(yn))}catch(Fn){at(Fn)}}function Bt(yn){try{Tt(_e.throw(yn))}catch(Fn){at(Fn)}}function Tt(yn){yn.done?De(yn.value):function(De){return De instanceof me?De:new me(function(at){at(De)})}(yn.value).then(xt,Bt)}Tt((_e=_e.apply(oe,ye||[])).next())})}O.d(Ve,{_T:()=>we,mG:()=>Te})},3394:(Dt,Ve,O)=>{"use strict";O.d(Ve,{Z:()=>ct});var y=O(3854),w=O(3910),K=O(8026),we=O(5422);class fe{constructor(Oe,We){this._delegate=Oe,this.firebase=We,(0,K._addComponent)(Oe,new w.wA("app-compat",()=>this,"PUBLIC")),this.container=Oe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Oe){this._delegate.automaticDataCollectionEnabled=Oe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Oe=>{this._delegate.checkDestroyed(),Oe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,K.deleteApp)(this._delegate)))}_getService(Oe,We=K._DEFAULT_ENTRY_NAME){var xe;this._delegate.checkDestroyed();const Le=this._delegate.container.getProvider(Oe);return!Le.isInitialized()&&"EXPLICIT"===(null===(xe=Le.getComponent())||void 0===xe?void 0:xe.instantiationMode)&&Le.initialize(),Le.getImmediate({identifier:We})}_removeServiceInstance(Oe,We=K._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Oe).clearInstance(We)}_addComponent(Oe){(0,K._addComponent)(this._delegate,Oe)}_addOrOverwriteComponent(Oe){(0,K._addOrOverwriteComponent)(this._delegate,Oe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Me=new y.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Q=function he(){const Re=function(Re){const Oe={},We={__esModule:!0,initializeApp:function(Mt,ne={}){const oe=K.initializeApp(Mt,ne);if((0,y.r3)(Oe,oe.name))return Oe[oe.name];const ye=new Re(oe,We);return Oe[oe.name]=ye,ye},app:Le,registerVersion:K.registerVersion,setLogLevel:K.setLogLevel,onLog:K.onLog,apps:null,SDK_VERSION:K.SDK_VERSION,INTERNAL:{registerComponent:function(Mt){const ne=Mt.name,oe=ne.replace("-compat","");if(K._registerComponent(Mt)&&"PUBLIC"===Mt.type){const ye=(me=Le())=>{if("function"!=typeof me[oe])throw Me.create("invalid-app-argument",{appName:ne});return me[oe]()};void 0!==Mt.serviceProps&&(0,y.ZB)(ye,Mt.serviceProps),We[oe]=ye,Re.prototype[oe]=function(...me){return this._getService.bind(this,ne).apply(this,Mt.multipleInstances?me:[])}}return"PUBLIC"===Mt.type?We[oe]:null},removeApp:function(Mt){delete Oe[Mt]},useAsService:function(Mt,ne){return"serverAuth"===ne?null:ne},modularAPIs:K}};function Le(Mt){if(!(0,y.r3)(Oe,Mt=Mt||K._DEFAULT_ENTRY_NAME))throw Me.create("no-app",{appName:Mt});return Oe[Mt]}return We.default=We,Object.defineProperty(We,"apps",{get:function(){return Object.keys(Oe).map(Mt=>Oe[Mt])}}),Le.App=Re,We}(fe);return Re.INTERNAL=Object.assign(Object.assign({},Re.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function(We){(0,y.ZB)(Re,We)},createSubscribe:y.ne,ErrorFactory:y.LL,deepExtend:y.ZB}),Re}(),Y=new we.Yd("@firebase/app-compat");if((0,y.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Re=self.firebase.SDK_VERSION;Re&&Re.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ct=Q;(0,K.registerVersion)("@firebase/app-compat","0.1.10",undefined)},8026:(Dt,Ve,O)=>{"use strict";O.r(Ve),O.d(Ve,{FirebaseError:()=>we.ZR,SDK_VERSION:()=>Wn,_DEFAULT_ENTRY_NAME:()=>Bt,_addComponent:()=>rn,_addOrOverwriteComponent:()=>tr,_apps:()=>yn,_clearComponents:()=>cn,_components:()=>Fn,_getProvider:()=>lr,_registerComponent:()=>zt,_removeServiceInstance:()=>Qt,deleteApp:()=>cr,getApp:()=>Un,getApps:()=>oi,initializeApp:()=>kr,onLog:()=>fr,registerVersion:()=>or,setLogLevel:()=>jt});var y=O(8239),w=O(3910),K=O(5422),we=O(3854);class fe{constructor(te){this.container=te}getPlatformInfoString(){return this.container.getProviders().map(be=>{if(function(ve){const te=ve.getComponent();return"VERSION"===(null==te?void 0:te.type)}(be)){const dt=be.getImmediate();return`${dt.library}/${dt.version}`}return null}).filter(be=>be).join(" ")}}const Me="@firebase/app",he=new K.Yd("@firebase/app"),Bt="[DEFAULT]",Tt={[Me]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},yn=new Map,Fn=new Map;function rn(ve,te){try{ve.container.addComponent(te)}catch(be){he.debug(`Component ${te.name} failed to register with FirebaseApp ${ve.name}`,be)}}function tr(ve,te){ve.container.addOrOverwriteComponent(te)}function zt(ve){const te=ve.name;if(Fn.has(te))return he.debug(`There were multiple attempts to register component ${te}.`),!1;Fn.set(te,ve);for(const be of yn.values())rn(be,ve);return!0}function lr(ve,te){return ve.container.getProvider(te)}function Qt(ve,te,be=Bt){lr(ve,te).clearInstance(be)}function cn(){Fn.clear()}const Jt=new we.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Cr{constructor(te,be,dt){this._isDeleted=!1,this._options=Object.assign({},te),this._config=Object.assign({},be),this._name=be.name,this._automaticDataCollectionEnabled=be.automaticDataCollectionEnabled,this._container=dt,this.container.addComponent(new w.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this.checkDestroyed(),this._automaticDataCollectionEnabled=te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(te){this._isDeleted=te}checkDestroyed(){if(this.isDeleted)throw Jt.create("app-deleted",{appName:this._name})}}const Wn="9.5.0";function kr(ve,te={}){"object"!=typeof te&&(te={name:te});const be=Object.assign({name:Bt,automaticDataCollectionEnabled:!1},te),dt=be.name;if("string"!=typeof dt||!dt)throw Jt.create("bad-app-name",{appName:String(dt)});const ze=yn.get(dt);if(ze){if((0,we.vZ)(ve,ze.options)&&(0,we.vZ)(be,ze.config))return ze;throw Jt.create("duplicate-app",{appName:dt})}const Ft=new w.H0(dt);for(const Pt of Fn.values())Ft.addComponent(Pt);const wt=new Cr(ve,be,Ft);return yn.set(dt,wt),wt}function Un(ve=Bt){const te=yn.get(ve);if(!te)throw Jt.create("no-app",{appName:ve});return te}function oi(){return Array.from(yn.values())}function cr(ve){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,y.Z)(function*(ve){const te=ve.name;yn.has(te)&&(yn.delete(te),yield Promise.all(ve.container.getProviders().map(be=>be.delete())),ve.isDeleted=!0)})).apply(this,arguments)}function or(ve,te,be){var dt;let ze=null!==(dt=Tt[ve])&&void 0!==dt?dt:ve;be&&(ze+=`-${be}`);const Ft=ze.match(/\s|\//),wt=te.match(/\s|\//);if(Ft||wt){const Pt=[`Unable to register library "${ze}" with version "${te}":`];return Ft&&Pt.push(`library name "${ze}" contains illegal characters (whitespace or "/")`),Ft&&wt&&Pt.push("and"),wt&&Pt.push(`version name "${te}" contains illegal characters (whitespace or "/")`),void he.warn(Pt.join(" "))}zt(new w.wA(`${ze}-version`,()=>({library:ze,version:te}),"VERSION"))}function fr(ve,te){if(null!==ve&&"function"!=typeof ve)throw Jt.create("invalid-log-argument");(0,K.Am)(ve,te)}function jt(ve){(0,K.Ub)(ve)}zt(new w.wA("platform-logger",te=>new fe(te),"PRIVATE")),or(Me,"0.7.9",""),or(Me,"0.7.9","esm2017"),or("fire-js","")},3910:(Dt,Ve,O)=>{"use strict";O.d(Ve,{wA:()=>K,H0:()=>Te});var y=O(8239),w=O(3854);class K{constructor(Q,Y,pe){this.name=Q,this.instanceFactory=Y,this.type=pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const we="[DEFAULT]";class fe{constructor(Q,Y){this.name=Q,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){const Y=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(Y)){const pe=new w.BH;if(this.instancesDeferred.set(Y,pe),this.isInitialized(Y)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:Y});qe&&pe.resolve(qe)}catch(qe){}}return this.instancesDeferred.get(Y).promise}getImmediate(Q){var Y;const pe=this.normalizeInstanceIdentifier(null==Q?void 0:Q.identifier),qe=null!==(Y=null==Q?void 0:Q.optional)&&void 0!==Y&&Y;if(!this.isInitialized(pe)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:pe})}catch(Ne){if(qe)return null;throw Ne}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if("EAGER"===Q.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:we})}catch(Y){}for(const[Y,pe]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(Y);try{const Ne=this.getOrInitializeService({instanceIdentifier:qe});pe.resolve(Ne)}catch(Ne){}}}}clearInstance(Q=we){this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}delete(){var Q=this;return(0,y.Z)(function*(){const Y=Array.from(Q.instances.values());yield Promise.all([...Y.filter(pe=>"INTERNAL"in pe).map(pe=>pe.INTERNAL.delete()),...Y.filter(pe=>"_delete"in pe).map(pe=>pe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Q=we){return this.instances.has(Q)}getOptions(Q=we){return this.instancesOptions.get(Q)||{}}initialize(Q={}){const{options:Y={}}=Q,pe=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(pe))throw Error(`${this.name}(${pe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:pe,options:Y});for(const[Ne,ct]of this.instancesDeferred.entries())pe===this.normalizeInstanceIdentifier(Ne)&&ct.resolve(qe);return qe}onInit(Q,Y){var pe;const qe=this.normalizeInstanceIdentifier(Y),Ne=null!==(pe=this.onInitCallbacks.get(qe))&&void 0!==pe?pe:new Set;Ne.add(Q),this.onInitCallbacks.set(qe,Ne);const ct=this.instances.get(qe);return ct&&Q(ct,qe),()=>{Ne.delete(Q)}}invokeOnInitCallbacks(Q,Y){const pe=this.onInitCallbacks.get(Y);if(pe)for(const qe of pe)try{qe(Q,Y)}catch(Ne){}}getOrInitializeService({instanceIdentifier:Q,options:Y={}}){let pe=this.instances.get(Q);if(!pe&&this.component&&(pe=this.component.instanceFactory(this.container,{instanceIdentifier:(he=Q,he===we?void 0:he),options:Y}),this.instances.set(Q,pe),this.instancesOptions.set(Q,Y),this.invokeOnInitCallbacks(pe,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,pe)}catch(qe){}var he;return pe||null}normalizeInstanceIdentifier(Q=we){return this.component?this.component.multipleInstances?Q:we:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Te{constructor(Q){this.name=Q,this.providers=new Map}addComponent(Q){const Y=this.getProvider(Q.name);if(Y.isComponentSet())throw new Error(`Component ${Q.name} has already been registered with ${this.name}`);Y.setComponent(Q)}addOrOverwriteComponent(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);const Y=new fe(Q,this);return this.providers.set(Q,Y),Y}getProviders(){return Array.from(this.providers.values())}}},5422:(Dt,Ve,O)=>{"use strict";O.d(Ve,{in:()=>w,Yd:()=>Me,Ub:()=>Te,Am:()=>he});const y=[];var w=(()=>{return(Q=w||(w={}))[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT",w;var Q})();const K={debug:w.DEBUG,verbose:w.VERBOSE,info:w.INFO,warn:w.WARN,error:w.ERROR,silent:w.SILENT},we=w.INFO,fe={[w.DEBUG]:"log",[w.VERBOSE]:"log",[w.INFO]:"info",[w.WARN]:"warn",[w.ERROR]:"error"},Ce=(Q,Y,...pe)=>{if(Y<Q.logLevel)return;const qe=(new Date).toISOString(),Ne=fe[Y];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[Ne](`[${qe}]  ${Q.name}:`,...pe)};class Me{constructor(Y){this.name=Y,this._logLevel=we,this._logHandler=Ce,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in w))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?K[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,w.DEBUG,...Y),this._logHandler(this,w.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,w.VERBOSE,...Y),this._logHandler(this,w.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,w.INFO,...Y),this._logHandler(this,w.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,w.WARN,...Y),this._logHandler(this,w.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,w.ERROR,...Y),this._logHandler(this,w.ERROR,...Y)}}function Te(Q){y.forEach(Y=>{Y.setLogLevel(Q)})}function he(Q,Y){for(const pe of y){let qe=null;Y&&Y.level&&(qe=K[Y.level]),pe.userLogHandler=null===Q?null:(Ne,ct,...Re)=>{const Oe=Re.map(We=>{if(null==We)return null;if("string"==typeof We)return We;if("number"==typeof We||"boolean"==typeof We)return We.toString();if(We instanceof Error)return We.message;try{return JSON.stringify(We)}catch(xe){return null}}).filter(We=>We).join(" ");ct>=(null!=qe?qe:Ne.logLevel)&&Q({level:w[ct].toLowerCase(),message:Oe,args:Re,type:Ne.name})}}}},3290:(Dt,Ve,O)=>{"use strict";O.d(Ve,{a:()=>Re});var y=O(639),w=O(8583),K=O(5917),we=O(6215);const fe=new y.OlP("recaptcha-language"),Ce=new y.OlP("recaptcha-base-url"),Me=new y.OlP("recaptcha-nonce-tag"),he=(new y.OlP("recaptcha-settings"),new y.OlP("recaptcha-v3-site-key")),Y_loadScript=function(Ue,st,ot,$t,Mt){window.ng2recaptchaloaded=()=>{st(grecaptcha)};const ne=document.createElement("script");ne.innerHTML="",ne.src=`${$t||"https://www.google.com/recaptcha/api.js"}?render=${Ue}&onload=ng2recaptchaloaded${ot}`,Mt&&(ne.nonce=Mt),ne.async=!0,ne.defer=!0,document.head.appendChild(ne)};let pe=(()=>{class Ue{constructor(ot,$t,Mt,ne,oe){this.platformId=ot,this.language=$t,this.baseUrl=Mt,this.nonce=ne,this.v3SiteKey=oe,this.init(),this.ready=(0,w.NF)(this.platformId)?Ue.ready.asObservable():(0,K.of)()}init(){if(!Ue.ready&&(0,w.NF)(this.platformId)){const ot=new we.X(null);Ue.ready=ot,Y_loadScript(this.v3SiteKey||"explicit",ne=>ot.next(ne),this.language?"&hl="+this.language:"",this.baseUrl,this.nonce)}}}return Ue.ready=null,Ue.\u0275fac=function(ot){return new(ot||Ue)(y.LFG(y.Lbi),y.LFG(fe,8),y.LFG(Ce,8),y.LFG(Me,8),y.LFG(he,8))},Ue.\u0275prov=y.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})(),ct=(()=>{class Ue{}return Ue.\u0275fac=function(ot){return new(ot||Ue)},Ue.\u0275mod=y.oAB({type:Ue}),Ue.\u0275inj=y.cJS({}),Ue})(),Re=(()=>{class Ue{}return Ue.\u0275fac=function(ot){return new(ot||Ue)},Ue.\u0275mod=y.oAB({type:Ue}),Ue.\u0275inj=y.cJS({providers:[pe],imports:[[ct]]}),Ue})()},8239:(Dt,Ve,O)=>{"use strict";function y(K,we,fe,Ce,Me,Te,he){try{var Q=K[Te](he),Y=Q.value}catch(pe){return void fe(pe)}Q.done?we(Y):Promise.resolve(Y).then(Ce,Me)}function w(K){return function(){var we=this,fe=arguments;return new Promise(function(Ce,Me){var Te=K.apply(we,fe);function he(Y){y(Te,Ce,Me,he,Q,"next",Y)}function Q(Y){y(Te,Ce,Me,he,Q,"throw",Y)}he(void 0)})}}O.d(Ve,{Z:()=>w})}},Dt=>{Dt(Dt.s=6221)}]);