"use strict";(self.webpackChunkclinica=self.webpackChunkclinica||[]).push([[277],{8277:(T,p,a)=>{a.r(p),a.d(p,{PacienteTurnosModule:()=>Q});var u=a(8583),_=a(7202),n=a(639),s=a(9726),d=a(5058),m=a(9039),g=a(6790),l=a(665);let f=(()=>{class e{constructor(t){this.store=t,this.callbackFunc=new n.vpe}ngOnInit(){}submit(){!this.turno||!this.turno.id||!this.calificacion||(this.store.UpdateTurno(this.turno.id,Object.assign(Object.assign({},this.turno),{calificacion:this.calificacion})),this.callbackFunc.emit(!0))}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.TM))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-calificacion"]],inputs:{turno:"turno"},outputs:{callbackFunc:"callbackFunc"},decls:6,vars:1,consts:[[1,"input-group","mt-3",2,"margin-bottom","25px"],["type","text","name","calificacion",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success","mt-4",3,"click"]],template:function(t,o){1&t&&(n.TgZ(0,"h3"),n._uU(1,"Calificar atencion"),n.qZA(),n.TgZ(2,"div",0),n.TgZ(3,"input",1),n.NdJ("ngModelChange",function(r){return o.calificacion=r}),n.qZA(),n.qZA(),n.TgZ(4,"button",2),n.NdJ("click",function(){return o.submit()}),n._uU(5," Submit "),n.qZA()),2&t&&(n.xp6(3),n.Q6J("ngModel",o.calificacion))},directives:[l.Fj,l.JJ,l.On],styles:[""]}),e})(),Z=(()=>{class e{constructor(t){this.store=t,this.callbackFunc=new n.vpe}ngOnInit(){}submit(){!this.turno||!this.turno.id||!this.encuesta||(this.store.UpdateTurno(this.turno.id,Object.assign(Object.assign({},this.turno),{encuesta:this.encuesta})),this.callbackFunc.emit(!1))}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.TM))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-encueta"]],inputs:{turno:"turno"},outputs:{callbackFunc:"callbackFunc"},decls:6,vars:1,consts:[[1,"input-group","mt-3",2,"margin-bottom","25px"],["type","text","name","encuesta",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success","mt-4",3,"click"]],template:function(t,o){1&t&&(n.TgZ(0,"h3"),n._uU(1,"Completar encuesta"),n.qZA(),n.TgZ(2,"div",0),n.TgZ(3,"input",1),n.NdJ("ngModelChange",function(r){return o.encuesta=r}),n.qZA(),n.qZA(),n.TgZ(4,"button",2),n.NdJ("click",function(){return o.submit()}),n._uU(5," Submit "),n.qZA()),2&t&&(n.xp6(3),n.Q6J("ngModel",o.encuesta))},directives:[l.Fj,l.JJ,l.On],styles:[""]}),e})();var h=a(9410),C=a(6839);function x(e,c){if(1&e){const t=n.EpF();n.ynx(0),n.TgZ(1,"button",7),n.NdJ("click",function(){n.CHM(t);const i=n.oxw().$implicit;return n.oxw(2).cancelarTurno(i)}),n._uU(2,"Cancelar"),n.qZA(),n.BQk()}}function b(e,c){if(1&e){const t=n.EpF();n.ynx(0),n.TgZ(1,"button",8),n.NdJ("click",function(){n.CHM(t);const i=n.oxw().$implicit;return n.oxw(2).handleOpenModal(i,"resena")}),n._uU(2,"Ver comentario"),n.qZA(),n.BQk()}}function v(e,c){if(1&e){const t=n.EpF();n.ynx(0),n.TgZ(1,"button",9),n.NdJ("click",function(){n.CHM(t);const i=n.oxw().$implicit;return n.oxw(2).handleOpenModal(i,"encuestaVer")}),n._uU(2,"Ver encuesta"),n.qZA(),n.BQk()}}function A(e,c){if(1&e){const t=n.EpF();n.ynx(0),n.TgZ(1,"button",10),n.NdJ("click",function(){n.CHM(t);const i=n.oxw().$implicit;return n.oxw(2).handleOpenModal(i,"encuesta")}),n._uU(2,"Encuesta"),n.qZA(),n.BQk()}}function M(e,c){if(1&e){const t=n.EpF();n.ynx(0),n.TgZ(1,"button",11),n.NdJ("click",function(){n.CHM(t);const i=n.oxw().$implicit;return n.oxw(2).handleOpenModal(i,"calificar")}),n._uU(2,"Dar Calificacion"),n.qZA(),n.BQk()}}function P(e,c){if(1&e&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.TgZ(5,"td"),n._uU(6),n.qZA(),n.TgZ(7,"td"),n._uU(8),n.qZA(),n._UZ(9,"td",6),n.ALo(10,"safeHtml"),n.ALo(11,"estadoTurno"),n.TgZ(12,"td"),n.YNc(13,x,3,0,"ng-container",4),n.YNc(14,b,3,0,"ng-container",4),n.YNc(15,v,3,0,"ng-container",4),n.YNc(16,A,3,0,"ng-container",4),n.YNc(17,M,3,0,"ng-container",4),n.qZA(),n.qZA()),2&e){const t=c.$implicit;n.xp6(2),n.hij(" ",t.fecha," "),n.xp6(2),n.hij(" ",t.hora," "),n.xp6(2),n.hij(" ",t.especialidad.nombre," "),n.xp6(2),n.hij(" ",t.especialista.nombre," "),n.xp6(1),n.Q6J("innerHTML",n.lcZ(10,10,n.lcZ(11,12,t.estado)),n.oJD),n.xp6(4),n.Q6J("ngIf","pendiente"==t.estado||"aceptado"==t.estado),n.xp6(1),n.Q6J("ngIf",t.resena),n.xp6(1),n.Q6J("ngIf",t.encuesta),n.xp6(1),n.Q6J("ngIf",t.resena&&"finalizado"==t.estado&&!t.encuesta),n.xp6(1),n.Q6J("ngIf","finalizado"==t.estado&&!t.calificacion)}}function J(e,c){if(1&e&&(n.TgZ(0,"tbody"),n.YNc(1,P,18,14,"tr",5),n.qZA()),2&e){const t=c.ngIf;n.xp6(1),n.Q6J("ngForOf",t)}}function y(e,c){if(1&e){const t=n.EpF();n.TgZ(0,"div"),n.TgZ(1,"app-modal",12),n.NdJ("onClose",function(){return n.CHM(t),n.oxw().handleCloseModals()}),n.TgZ(2,"div",13),n.TgZ(3,"h2"),n._uU(4,"Rese\xf1a"),n.qZA(),n.TgZ(5,"h5",14),n.TgZ(6,"i"),n._uU(7),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const t=n.oxw();n.xp6(7),n.hij('"',null==t.turnoSelected?null:t.turnoSelected.resena,'"')}}function q(e,c){if(1&e){const t=n.EpF();n.TgZ(0,"div"),n.TgZ(1,"app-modal",12),n.NdJ("onClose",function(){return n.CHM(t),n.oxw().handleCloseModals()}),n.TgZ(2,"div",13),n.TgZ(3,"h2"),n._uU(4,"Encuesta"),n.qZA(),n.TgZ(5,"h5",14),n.TgZ(6,"i"),n._uU(7),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const t=n.oxw();n.xp6(7),n.hij('"',null==t.turnoSelected?null:t.turnoSelected.encuesta,'"')}}function F(e,c){if(1&e){const t=n.EpF();n.TgZ(0,"div"),n.TgZ(1,"app-modal",12),n.NdJ("onClose",function(){return n.CHM(t),n.oxw().handleCloseModals()}),n.TgZ(2,"div",13),n.TgZ(3,"app-calificacion",15),n.NdJ("callbackFunc",function(){return n.CHM(t),n.oxw().handleCloseModals()}),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const t=n.oxw();n.xp6(3),n.Q6J("turno",t.turnoSelected)}}function U(e,c){if(1&e){const t=n.EpF();n.TgZ(0,"div"),n.TgZ(1,"app-modal",12),n.NdJ("onClose",function(){return n.CHM(t),n.oxw().handleCloseModals()}),n.TgZ(2,"div",13),n.TgZ(3,"app-encueta",15),n.NdJ("callbackFunc",function(){return n.CHM(t),n.oxw().handleCloseModals()}),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const t=n.oxw();n.xp6(3),n.Q6J("turno",t.turnoSelected)}}const k=[{path:"",component:(()=>{class e{constructor(t,o){this.storeService=t,this.authService=o,this.especialidades=this.storeService.GetEspecialidades(),this.especialistas=[],this.filtros={},this.modal={resena:!1}}handleOpenModal(t,o){this.turnoSelected=t,this.modal[o]=!0}handleCloseModals(){this.updateData(),this.turnoSelected=void 0,this.modal={}}updateData(t){t&&(this.filtros=t),this.turnos=this.storeService.GetTurnos(Object.assign(Object.assign({},this.filtros),{paciente:this.authService.getUser}))}cancelarTurno(t){this.storeService.UpdateTurno(t.id||"",Object.assign(Object.assign({},t),{estado:"cancelado"})),this.updateData()}ngOnInit(){this.updateData(),this.storeService.GetUsuarios().subscribe(t=>{this.especialistas=t.filter(o=>"especialista"==o.rol)})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.TM),n.Y36(d.e))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-paciente-turnos"]],decls:22,vars:5,consts:[[3,"filtrosChange"],[1,"row"],[1,"col-12"],[1,"table","table-dark"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"innerHTML"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-info",3,"click"],[1,"btn","btn-info","mx-2",3,"click"],[1,"btn","btn-warning","mx-2",3,"click"],[1,"btn","btn-primary",3,"click"],[3,"onClose"],[1,"p-5","pt-2"],[1,"mt-4"],[3,"turno","callbackFunc"]],template:function(t,o){1&t&&(n.TgZ(0,"app-turno-filtros",0),n.NdJ("filtrosChange",function(r){return o.updateData(r)}),n.qZA(),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"table",3),n.TgZ(4,"thead"),n.TgZ(5,"tr"),n.TgZ(6,"th"),n._uU(7,"Fecha"),n.qZA(),n.TgZ(8,"th"),n._uU(9,"Hora"),n.qZA(),n.TgZ(10,"th"),n._uU(11,"Especialidad"),n.qZA(),n.TgZ(12,"th"),n._uU(13,"Especialista"),n.qZA(),n.TgZ(14,"th"),n._uU(15,"Estado"),n.qZA(),n._UZ(16,"td"),n.qZA(),n.qZA(),n.YNc(17,J,2,1,"tbody",4),n.qZA(),n.qZA(),n.qZA(),n.YNc(18,y,8,1,"div",4),n.YNc(19,q,8,1,"div",4),n.YNc(20,F,4,1,"div",4),n.YNc(21,U,4,1,"div",4)),2&t&&(n.xp6(17),n.Q6J("ngIf",o.turnos),n.xp6(1),n.Q6J("ngIf",o.modal.resena),n.xp6(1),n.Q6J("ngIf",o.modal.encuestaVer),n.xp6(1),n.Q6J("ngIf",o.modal.calificar&&o.turnoSelected),n.xp6(1),n.Q6J("ngIf",o.modal.encuesta&&o.turnoSelected))},directives:[m.Y,u.O5,u.sg,g.z,f,Z],pipes:[h.z,C.S],styles:[""]}),e})()}];let E=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[_.Bz.forChild(k)],_.Bz]}),e})();var N=a(791),O=a(7860),S=a(7947);let Q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[u.ez,l.u5,l.UX,N.z,O.D,S.J,E]]}),e})()},7860:(T,p,a)=>{a.d(p,{D:()=>n});var u=a(8583),_=a(639);let n=(()=>{class s{}return s.\u0275fac=function(m){return new(m||s)},s.\u0275mod=_.oAB({type:s}),s.\u0275inj=_.cJS({imports:[[u.ez]]}),s})()}}]);