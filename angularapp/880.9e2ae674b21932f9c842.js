"use strict";(self.webpackChunkclinica=self.webpackChunkclinica||[]).push([[880],{5880:(g,_,i)=>{i.r(_),i.d(_,{AdminTurnosModule:()=>S});var l=i(8583),d=i(7202),n=i(639),a=i(9726),p=i(5058),m=i(9039),Z=i(6790),u=i(665),h=i(9410),f=i(6839);function A(o,r){if(1&o){const t=n.EpF();n.ynx(0),n.TgZ(1,"button",7),n.NdJ("click",function(){n.CHM(t);const s=n.oxw().$implicit;return n.oxw(2).handleOpenModal(s,"cancelado")}),n._uU(2,"Cancelar"),n.qZA(),n.BQk()}}function x(o,r){if(1&o){const t=n.EpF();n.ynx(0),n.TgZ(1,"button",8),n.NdJ("click",function(){n.CHM(t);const s=n.oxw().$implicit;return n.oxw(2).handleOpenModal(s,"comentario")}),n._uU(2,"Ver comentario"),n.qZA(),n.BQk()}}function C(o,r){if(1&o){const t=n.EpF();n.ynx(0),n.TgZ(1,"button",9),n.NdJ("click",function(){n.CHM(t);const s=n.oxw().$implicit;return n.oxw(2).handleOpenModal(s,"encuestaVer")}),n._uU(2,"Ver encuesta"),n.qZA(),n.BQk()}}function v(o,r){if(1&o){const t=n.EpF();n.ynx(0),n.TgZ(1,"button",10),n.NdJ("click",function(){n.CHM(t);const s=n.oxw().$implicit;return n.oxw(2).handleOpenModal(s,"calificacion")}),n._uU(2,"Ver calificacion"),n.qZA(),n.BQk()}}function M(o,r){if(1&o&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.TgZ(5,"td"),n._uU(6),n.qZA(),n.TgZ(7,"td"),n._uU(8),n.qZA(),n.TgZ(9,"td"),n._uU(10),n.qZA(),n._UZ(11,"td",6),n.ALo(12,"safeHtml"),n.ALo(13,"estadoTurno"),n.TgZ(14,"td"),n.YNc(15,A,3,0,"ng-container",4),n.YNc(16,x,3,0,"ng-container",4),n.YNc(17,C,3,0,"ng-container",4),n.YNc(18,v,3,0,"ng-container",4),n.qZA(),n.qZA()),2&o){const t=r.$implicit;n.xp6(2),n.hij(" ",t.fecha," "),n.xp6(2),n.hij(" ",t.hora," "),n.xp6(2),n.hij(" ",t.especialidad.nombre," "),n.xp6(2),n.hij(" ",t.paciente.nombre," "),n.xp6(2),n.hij(" ",t.especialista.nombre," "),n.xp6(1),n.Q6J("innerHTML",n.lcZ(12,10,n.lcZ(13,12,t.estado)),n.oJD),n.xp6(4),n.Q6J("ngIf","pendiente"==t.estado),n.xp6(1),n.Q6J("ngIf",t.resena),n.xp6(1),n.Q6J("ngIf",t.encuesta),n.xp6(1),n.Q6J("ngIf",t.calificacion)}}function q(o,r){if(1&o&&(n.TgZ(0,"tbody"),n.YNc(1,M,19,14,"tr",5),n.qZA()),2&o){const t=r.ngIf;n.xp6(1),n.Q6J("ngForOf",t)}}function b(o,r){if(1&o){const t=n.EpF();n.TgZ(0,"div"),n.TgZ(1,"app-modal",11),n.NdJ("onClose",function(){return n.CHM(t),n.oxw().closeModal()}),n.TgZ(2,"div",12),n.TgZ(3,"h3"),n._uU(4,"Calificacion paciente"),n.qZA(),n.TgZ(5,"h5",13),n._uU(6),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&o){const t=n.oxw();n.xp6(6),n.Oqu(null==t.turnoSelected?null:t.turnoSelected.calificacion)}}function U(o,r){if(1&o){const t=n.EpF();n.TgZ(0,"div"),n.TgZ(1,"app-modal",11),n.NdJ("onClose",function(){return n.CHM(t),n.oxw().closeModal()}),n.TgZ(2,"div",12),n.TgZ(3,"h3"),n._uU(4,"Encuesta paciente"),n.qZA(),n.TgZ(5,"h5",13),n._uU(6),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&o){const t=n.oxw();n.xp6(6),n.Oqu(null==t.turnoSelected?null:t.turnoSelected.encuesta)}}function F(o,r){if(1&o){const t=n.EpF();n.TgZ(0,"div"),n.TgZ(1,"app-modal",11),n.NdJ("onClose",function(){return n.CHM(t),n.oxw().closeModal()}),n.TgZ(2,"div",12),n.TgZ(3,"h3"),n._uU(4,"Indique la razon por la que quiere cancelar el turno"),n.qZA(),n.TgZ(5,"div",14),n.TgZ(6,"input",15),n.NdJ("ngModelChange",function(s){return n.CHM(t),n.oxw().resena=s}),n.qZA(),n.TgZ(7,"button",16),n.NdJ("click",function(){return n.CHM(t),n.oxw().turnoUpdateModal("cancelado")}),n._uU(8," Cancelar Turno "),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&o){const t=n.oxw();n.xp6(6),n.Q6J("ngModel",t.resena)}}function J(o,r){if(1&o){const t=n.EpF();n.TgZ(0,"div"),n.TgZ(1,"app-modal",11),n.NdJ("onClose",function(){return n.CHM(t),n.oxw().closeModal()}),n.TgZ(2,"div",17),n.TgZ(3,"h2"),n._uU(4,"Comentario"),n.qZA(),n.TgZ(5,"h5",13),n._uU(6),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&o){const t=n.oxw();n.xp6(6),n.Oqu(null==t.turnoSelected?null:t.turnoSelected.resena)}}const y=[{path:"",component:(()=>{class o{constructor(t,e){this.storeService=t,this.authService=e,this.especialidades=this.storeService.GetEspecialidades(),this.modal={resena:!1},this.filtros={}}handleOpenModal(t,e){this.turnoSelected=t,this.modal[e]=!0}handleCloseModals(){this.updateData(),this.turnoSelected=void 0,this.modal={}}handlePacienteFiltro(){this.turnosFiltrados=this.turnos&&this.pacienteFiltro?this.turnos.filter(t=>t.paciente.nombre.toLocaleLowerCase().includes(this.pacienteFiltro.toLocaleLowerCase())):this.turnos}handleEspecialistaFiltro(){this.turnosFiltrados=this.turnos&&this.especialistaFiltro?this.turnos.filter(t=>t.especialista.nombre.toLocaleLowerCase().includes(this.especialistaFiltro.toLocaleLowerCase())):this.turnos}updateData(t){t&&(this.filtros=t),this.turnos=this.storeService.GetTurnos(Object.assign({},this.filtros)),this.handlePacienteFiltro()}turnoUpdateModal(t){const e=this.turnoSelected;!e||!this.resena||(this.storeService.UpdateTurno(e.id||"",Object.assign(Object.assign({},e),{estado:t,resena:this.resena})),this.updateData(),this.closeModal())}closeModal(){this.modal={},this.resena="",this.turnoSelected=void 0}updateEstado(t,e){this.storeService.UpdateTurno(t.id||"",Object.assign(Object.assign({},t),{estado:e})),this.updateData()}ngOnInit(){this.updateData(),this.turnosFiltrados=this.turnos}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(a.TM),n.Y36(p.e))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-admin-turnos"]],decls:24,vars:5,consts:[[3,"filtrosChange"],[1,"row"],[1,"col-12"],[1,"table","table-dark"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"innerHTML"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-info",3,"click"],[1,"btn","btn-warning","mx-2",3,"click"],[1,"btn","btn-light",3,"click"],[3,"onClose"],[1,"p-5","pt-0"],[1,"mt-4"],[1,"d-flex","align-items-center"],["type","text","name","resena",1,"mt-3",2,"margin","0 !important",3,"ngModel","ngModelChange"],[1,"btn","btn-danger","m-3",3,"click"],[1,"p-5","pt-2"]],template:function(t,e){1&t&&(n.TgZ(0,"app-turno-filtros",0),n.NdJ("filtrosChange",function(c){return e.updateData(c)}),n.qZA(),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"table",3),n.TgZ(4,"thead"),n.TgZ(5,"tr"),n.TgZ(6,"th"),n._uU(7,"Fecha"),n.qZA(),n.TgZ(8,"th"),n._uU(9,"Hora"),n.qZA(),n.TgZ(10,"th"),n._uU(11,"Especialidad"),n.qZA(),n.TgZ(12,"th"),n._uU(13,"Paciente"),n.qZA(),n.TgZ(14,"th"),n._uU(15,"Especialista"),n.qZA(),n.TgZ(16,"th"),n._uU(17,"Estado"),n.qZA(),n._UZ(18,"td"),n.qZA(),n.qZA(),n.YNc(19,q,2,1,"tbody",4),n.qZA(),n.qZA(),n.qZA(),n.YNc(20,b,7,1,"div",4),n.YNc(21,U,7,1,"div",4),n.YNc(22,F,9,1,"div",4),n.YNc(23,J,7,1,"div",4)),2&t&&(n.xp6(19),n.Q6J("ngIf",e.turnosFiltrados),n.xp6(1),n.Q6J("ngIf",e.modal.calificacion),n.xp6(1),n.Q6J("ngIf",e.modal.encuestaVer),n.xp6(1),n.Q6J("ngIf",e.modal.cancelado),n.xp6(1),n.Q6J("ngIf",e.modal.comentario))},directives:[m.Y,l.O5,l.sg,Z.z,u.Fj,u.JJ,u.On],pipes:[h.z,f.S],styles:[".btn[_ngcontent-%COMP%]{margin-top:5px}"]}),o})()}];let O=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[d.Bz.forChild(y)],d.Bz]}),o})();var T=i(791),E=i(7860),N=i(7947);let S=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[l.ez,T.z,T.z,u.u5,u.UX,N.J,E.D,O]]}),o})()},7860:(g,_,i)=>{i.d(_,{D:()=>n});var l=i(8583),d=i(639);let n=(()=>{class a{}return a.\u0275fac=function(m){return new(m||a)},a.\u0275mod=d.oAB({type:a}),a.\u0275inj=d.cJS({imports:[[l.ez]]}),a})()}}]);