(self.webpackChunkclinica=self.webpackChunkclinica||[]).push([[179],{8255:$t=>{function ze(N){return Promise.resolve().then(()=>{var _=new Error("Cannot find module '"+N+"'");throw _.code="MODULE_NOT_FOUND",_})}ze.keys=()=>[],ze.resolve=ze,ze.id=8255,$t.exports=ze},8583:($t,ze,N)=>{"use strict";N.d(ze,{mr:()=>We,Ov:()=>nt,ez:()=>zo,K0:()=>Ge,Do:()=>Re,V_:()=>X,Ye:()=>tt,S$:()=>Ke,sg:()=>Wn,O5:()=>vr,b0:()=>je,lw:()=>Qe,EM:()=>ji,JF:()=>Fs,NF:()=>ks,PM:()=>Ji,w_:()=>Pe,bD:()=>Qi,q:()=>K,Mx:()=>gt,HT:()=>Ee});var _=N(639);let I=null;function K(){return I}function Ee(V){I||(I=V)}class Pe{}const Ge=new _.OlP("DocumentToken");let Qe=(()=>{class V{historyGo(U){throw new Error("Not implemented")}}return V.\u0275fac=function(U){return new(U||V)},V.\u0275prov=(0,_.Yz7)({factory:we,token:V,providedIn:"platform"}),V})();function we(){return(0,_.LFG)(J)}const X=new _.OlP("Location Initialized");let J=(()=>{class V extends Qe{constructor(U){super(),this._doc=U,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return K().getBaseHref(this._doc)}onPopState(U){const te=K().getGlobalEventTarget(this._doc,"window");return te.addEventListener("popstate",U,!1),()=>te.removeEventListener("popstate",U)}onHashChange(U){const te=K().getGlobalEventTarget(this._doc,"window");return te.addEventListener("hashchange",U,!1),()=>te.removeEventListener("hashchange",U)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(U){this.location.pathname=U}pushState(U,te,De){fe()?this._history.pushState(U,te,De):this.location.hash=De}replaceState(U,te,De){fe()?this._history.replaceState(U,te,De):this.location.hash=De}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}}return V.\u0275fac=function(U){return new(U||V)(_.LFG(Ge))},V.\u0275prov=(0,_.Yz7)({factory:Fe,token:V,providedIn:"platform"}),V})();function fe(){return!!window.history.pushState}function Fe(){return new J((0,_.LFG)(Ge))}function Ue(V,q){if(0==V.length)return q;if(0==q.length)return V;let U=0;return V.endsWith("/")&&U++,q.startsWith("/")&&U++,2==U?V+q.substring(1):1==U?V+q:V+"/"+q}function ft(V){const q=V.match(/#|\?|$/),U=q&&q.index||V.length;return V.slice(0,U-("/"===V[U-1]?1:0))+V.slice(U)}function Ne(V){return V&&"?"!==V[0]?"?"+V:V}let Ke=(()=>{class V{historyGo(U){throw new Error("Not implemented")}}return V.\u0275fac=function(U){return new(U||V)},V.\u0275prov=(0,_.Yz7)({factory:Me,token:V,providedIn:"root"}),V})();function Me(V){const q=(0,_.LFG)(Ge).location;return new je((0,_.LFG)(Qe),q&&q.origin||"")}const We=new _.OlP("appBaseHref");let je=(()=>{class V extends Ke{constructor(U,te){if(super(),this._platformLocation=U,this._removeListenerFns=[],null==te&&(te=this._platformLocation.getBaseHrefFromDOM()),null==te)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=te}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return Ue(this._baseHref,U)}path(U=!1){const te=this._platformLocation.pathname+Ne(this._platformLocation.search),De=this._platformLocation.hash;return De&&U?`${te}${De}`:te}pushState(U,te,De,pt){const Dt=this.prepareExternalUrl(De+Ne(pt));this._platformLocation.pushState(U,te,Dt)}replaceState(U,te,De,pt){const Dt=this.prepareExternalUrl(De+Ne(pt));this._platformLocation.replaceState(U,te,Dt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(U=0){var te,De;null===(De=(te=this._platformLocation).historyGo)||void 0===De||De.call(te,U)}}return V.\u0275fac=function(U){return new(U||V)(_.LFG(Qe),_.LFG(We,8))},V.\u0275prov=_.Yz7({token:V,factory:V.\u0275fac}),V})(),Re=(()=>{class V extends Ke{constructor(U,te){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=te&&(this._baseHref=te)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let te=this._platformLocation.hash;return null==te&&(te="#"),te.length>0?te.substring(1):te}prepareExternalUrl(U){const te=Ue(this._baseHref,U);return te.length>0?"#"+te:te}pushState(U,te,De,pt){let Dt=this.prepareExternalUrl(De+Ne(pt));0==Dt.length&&(Dt=this._platformLocation.pathname),this._platformLocation.pushState(U,te,Dt)}replaceState(U,te,De,pt){let Dt=this.prepareExternalUrl(De+Ne(pt));0==Dt.length&&(Dt=this._platformLocation.pathname),this._platformLocation.replaceState(U,te,Dt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(U=0){var te,De;null===(De=(te=this._platformLocation).historyGo)||void 0===De||De.call(te,U)}}return V.\u0275fac=function(U){return new(U||V)(_.LFG(Qe),_.LFG(We,8))},V.\u0275prov=_.Yz7({token:V,factory:V.\u0275fac}),V})(),tt=(()=>{class V{constructor(U,te){this._subject=new _.vpe,this._urlChangeListeners=[],this._platformStrategy=U;const De=this._platformStrategy.getBaseHref();this._platformLocation=te,this._baseHref=ft(jt(De)),this._platformStrategy.onPopState(pt=>{this._subject.emit({url:this.path(!0),pop:!0,state:pt.state,type:pt.type})})}path(U=!1){return this.normalize(this._platformStrategy.path(U))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(U,te=""){return this.path()==this.normalize(U+Ne(te))}normalize(U){return V.stripTrailingSlash(function(V,q){return V&&q.startsWith(V)?q.substring(V.length):q}(this._baseHref,jt(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._platformStrategy.prepareExternalUrl(U)}go(U,te="",De=null){this._platformStrategy.pushState(De,"",U,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Ne(te)),De)}replaceState(U,te="",De=null){this._platformStrategy.replaceState(De,"",U,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Ne(te)),De)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(U=0){var te,De;null===(De=(te=this._platformStrategy).historyGo)||void 0===De||De.call(te,U)}onUrlChange(U){this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(te=>{this._notifyUrlChangeListeners(te.url,te.state)}))}_notifyUrlChangeListeners(U="",te){this._urlChangeListeners.forEach(De=>De(U,te))}subscribe(U,te,De){return this._subject.subscribe({next:U,error:te,complete:De})}}return V.\u0275fac=function(U){return new(U||V)(_.LFG(Ke),_.LFG(Qe))},V.normalizeQueryParams=Ne,V.joinWithSlash=Ue,V.stripTrailingSlash=ft,V.\u0275prov=(0,_.Yz7)({factory:rt,token:V,providedIn:"root"}),V})();function rt(){return new tt((0,_.LFG)(Ke),(0,_.LFG)(Qe))}function jt(V){return V.replace(/\/index.html$/,"")}var _e=(()=>((_e=_e||{})[_e.Zero=0]="Zero",_e[_e.One=1]="One",_e[_e.Two=2]="Two",_e[_e.Few=3]="Few",_e[_e.Many=4]="Many",_e[_e.Other=5]="Other",_e))();const Mn=_.kL8;class Oe{}let le=(()=>{class V extends Oe{constructor(U){super(),this.locale=U}getPluralCategory(U,te){switch(Mn(te||this.locale)(U)){case _e.Zero:return"zero";case _e.One:return"one";case _e.Two:return"two";case _e.Few:return"few";case _e.Many:return"many";default:return"other"}}}return V.\u0275fac=function(U){return new(U||V)(_.LFG(_.soG))},V.\u0275prov=_.Yz7({token:V,factory:V.\u0275fac}),V})();function gt(V,q){q=encodeURIComponent(q);for(const U of V.split(";")){const te=U.indexOf("="),[De,pt]=-1==te?[U,""]:[U.slice(0,te),U.slice(te+1)];if(De.trim()===q)return decodeURIComponent(pt)}return null}class cn{constructor(q,U,te,De){this.$implicit=q,this.ngForOf=U,this.index=te,this.count=De}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wn=(()=>{class V{constructor(U,te,De){this._viewContainer=U,this._template=te,this._differs=De,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;if(!this._differ&&U)try{this._differ=this._differs.find(U).create(this.ngForTrackBy)}catch(te){throw new Error(`Cannot find a differ supporting object '${U}' of type '${function(V){return V.name||typeof V}(U)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const te=[];U.forEachOperation((De,pt,Dt)=>{if(null==De.previousIndex){const k=this._viewContainer.createEmbeddedView(this._template,new cn(null,this._ngForOf,-1,-1),null===Dt?void 0:Dt),x=new Cn(De,k);te.push(x)}else if(null==Dt)this._viewContainer.remove(null===pt?void 0:pt);else if(null!==pt){const k=this._viewContainer.get(pt);this._viewContainer.move(k,Dt);const x=new Cn(De,k);te.push(x)}});for(let De=0;De<te.length;De++)this._perViewChange(te[De].view,te[De].record);for(let De=0,pt=this._viewContainer.length;De<pt;De++){const Dt=this._viewContainer.get(De);Dt.context.index=De,Dt.context.count=pt,Dt.context.ngForOf=this._ngForOf}U.forEachIdentityChange(De=>{this._viewContainer.get(De.currentIndex).context.$implicit=De.item})}_perViewChange(U,te){U.context.$implicit=te.item}static ngTemplateContextGuard(U,te){return!0}}return V.\u0275fac=function(U){return new(U||V)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(_.ZZ4))},V.\u0275dir=_.lG2({type:V,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),V})();class Cn{constructor(q,U){this.record=q,this.view=U}}let vr=(()=>{class V{constructor(U,te){this._viewContainer=U,this._context=new Ir,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=te}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){as("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){as("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,te){return!0}}return V.\u0275fac=function(U){return new(U||V)(_.Y36(_.s_b),_.Y36(_.Rgc))},V.\u0275dir=_.lG2({type:V,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),V})();class Ir{constructor(){this.$implicit=null,this.ngIf=null}}function as(V,q){if(q&&!q.createEmbeddedView)throw new Error(`${V} must be a TemplateRef, but received '${(0,_.AaK)(q)}'.`)}class so{createSubscription(q,U){return q.subscribe({next:U,error:te=>{throw te}})}dispose(q){q.unsubscribe()}onDestroy(q){q.unsubscribe()}}class hi{createSubscription(q,U){return q.then(U,te=>{throw te})}dispose(q){}onDestroy(q){}}const ke=new hi,Ve=new so;let nt=(()=>{class V{constructor(U){this._ref=U,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(U){return this._obj?U!==this._obj?(this._dispose(),this.transform(U)):this._latestValue:(U&&this._subscribe(U),this._latestValue)}_subscribe(U){this._obj=U,this._strategy=this._selectStrategy(U),this._subscription=this._strategy.createSubscription(U,te=>this._updateLatestValue(U,te))}_selectStrategy(U){if((0,_.QGY)(U))return ke;if((0,_.F4k)(U))return Ve;throw function(V,q){return Error(`InvalidPipeArgument: '${q}' for pipe '${(0,_.AaK)(V)}'`)}(V,U)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(U,te){U===this._obj&&(this._latestValue=te,this._ref.markForCheck())}}return V.\u0275fac=function(U){return new(U||V)(_.Y36(_.sBO,16))},V.\u0275pipe=_.Yjl({name:"async",type:V,pure:!1}),V})(),zo=(()=>{class V{}return V.\u0275fac=function(U){return new(U||V)},V.\u0275mod=_.oAB({type:V}),V.\u0275inj=_.cJS({providers:[{provide:Oe,useClass:le}]}),V})();const Qi="browser";function ks(V){return V===Qi}function Ji(V){return"server"===V}let ji=(()=>{class V{}return V.\u0275prov=(0,_.Yz7)({token:V,providedIn:"root",factory:()=>new Is((0,_.LFG)(Ge),window)}),V})();class Is{constructor(q,U){this.document=q,this.window=U,this.offset=()=>[0,0]}setOffset(q){this.offset=Array.isArray(q)?()=>q:q}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(q){this.supportsScrolling()&&this.window.scrollTo(q[0],q[1])}scrollToAnchor(q){if(!this.supportsScrolling())return;const U=function(V,q){const U=V.getElementById(q)||V.getElementsByName(q)[0];if(U)return U;if("function"==typeof V.createTreeWalker&&V.body&&(V.body.createShadowRoot||V.body.attachShadow)){const te=V.createTreeWalker(V.body,NodeFilter.SHOW_ELEMENT);let De=te.currentNode;for(;De;){const pt=De.shadowRoot;if(pt){const Dt=pt.getElementById(q)||pt.querySelector(`[name="${q}"]`);if(Dt)return Dt}De=te.nextNode()}}return null}(this.document,q);U&&(this.scrollToElement(U),this.attemptFocus(U))}setHistoryScrollRestoration(q){if(this.supportScrollRestoration()){const U=this.window.history;U&&U.scrollRestoration&&(U.scrollRestoration=q)}}scrollToElement(q){const U=q.getBoundingClientRect(),te=U.left+this.window.pageXOffset,De=U.top+this.window.pageYOffset,pt=this.offset();this.window.scrollTo(te-pt[0],De-pt[1])}attemptFocus(q){return q.focus(),this.document.activeElement===q}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const q=Ms(this.window.history)||Ms(Object.getPrototypeOf(this.window.history));return!(!q||!q.writable&&!q.set)}catch(q){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(q){return!1}}}function Ms(V){return Object.getOwnPropertyDescriptor(V,"scrollRestoration")}class Fs{}},639:($t,ze,N)=>{"use strict";N.d(ze,{deG:()=>Le,tb:()=>aw,AFp:()=>iw,ip1:()=>rE,CZH:()=>Gf,hGG:()=>GS,z2F:()=>om,sBO:()=>OI,Sil:()=>sm,_Vd:()=>Ff,EJc:()=>lw,SBq:()=>Ul,qLn:()=>Sn,vpe:()=>Bl,gxx:()=>Uc,tBr:()=>Ha,XFs:()=>Mt,OlP:()=>ce,zs3:()=>hs,ZZ4:()=>zy,aQg:()=>Wy,soG:()=>r_,YKP:()=>Y0,v3s:()=>CS,h0i:()=>Qd,PXZ:()=>yS,R0b:()=>Tu,FiY:()=>Ga,Lbi:()=>ow,g9A:()=>sw,Qsj:()=>yI,FYo:()=>Gy,JOm:()=>pu,Tiy:()=>xv,q3G:()=>Di,tp0:()=>ru,EAV:()=>SS,Rgc:()=>qg,dDg:()=>fw,DyG:()=>aa,q4F:()=>Mv,GfV:()=>H0,s_b:()=>Zy,ifc:()=>ve,eFA:()=>_w,G48:()=>cS,Gpc:()=>We,X6Q:()=>cE,_c5:()=>LS,VLi:()=>lS,c2e:()=>uw,zSh:()=>Od,wAp:()=>ir,vHH:()=>rt,EiD:()=>ea,mCW:()=>Kr,qzn:()=>Zu,JVY:()=>js,pB0:()=>lh,eBb:()=>$s,L6k:()=>bc,LAX:()=>bs,cg1:()=>bv,Tjo:()=>kS,kL8:()=>d0,yhl:()=>Gl,dqk:()=>Ct,sIi:()=>Vd,CqO:()=>Pg,QGY:()=>wy,F4k:()=>Cy,RDi:()=>pt,AaK:()=>Ne,z3N:()=>br,qOj:()=>yg,TTD:()=>fo,_Bn:()=>V0,xp6:()=>Lh,uIk:()=>Ef,ekj:()=>Pf,Suo:()=>kb,Xpm:()=>Ki,lG2:()=>ui,Yz7:()=>Mn,cJS:()=>Yn,oAB:()=>Pi,Yjl:()=>os,Y36:()=>Zc,_UZ:()=>Ey,BQk:()=>Og,ynx:()=>Mg,qZA:()=>zd,TgZ:()=>Fl,EpF:()=>by,n5z:()=>Qn,Ikx:()=>Ev,LFG:()=>vs,$8M:()=>oa,NdJ:()=>Wd,CRH:()=>Fb,oxw:()=>Ty,ALo:()=>xb,lcZ:()=>Mb,Hsn:()=>Sy,F$t:()=>qd,Q6J:()=>xg,s9C:()=>Mf,DdM:()=>Ib,iGM:()=>Nb,MAs:()=>Cg,CHM:()=>Lr,oJD:()=>To,LSH:()=>Wl,kYT:()=>Ci,YNc:()=>wf,W1O:()=>Bb,_uU:()=>wt,Oqu:()=>Nt,hij:()=>nn,AsE:()=>Vn});var _=N(7574),I=N(4869),K=N(3282),Ae=N(6693),Pe=N(7709),Ge=N(5319),Qe=N(2441);var J=N(1307);function fe(){return new Pe.xQ}function Ue(t){for(let n in t)if(t[n]===Ue)return n;throw Error("Could not find renamed property on target object.")}function ft(t,n){for(const r in n)n.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=n[r])}function Ne(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ne).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function Ke(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Me=Ue({__forward_ref__:Ue});function We(t){return t.__forward_ref__=We,t.toString=function(){return Ne(this())},t}function je(t){return Re(t)?t():t}function Re(t){return"function"==typeof t&&t.hasOwnProperty(Me)&&t.__forward_ref__===We}class rt extends Error{constructor(n,r){super(function(t,n){return`${t?`NG0${t}: `:""}${n}`}(n,r)),this.code=n}}function ne(t){return"string"==typeof t?t:null==t?"":String(t)}function oe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ne(t)}function Je(t,n){const r=n?` in ${n}`:"";throw new rt("201",`No provider for ${oe(t)} found${r}`)}function pr(t,n){null==t&&function(t,n,r,o){throw new Error(`ASSERTION ERROR: ${t}`+(null==o?"":` [Expected=> ${r} ${o} ${n} <=Actual]`))}(n,t,null,"!=")}function Mn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Yn(t){return{providers:t.providers||[],imports:t.imports||[]}}function ar(t){return ur(t,at)||ur(t,dn)}function ur(t,n){return t.hasOwnProperty(n)?t[n]:null}function Kt(t){return t&&(t.hasOwnProperty(dt)||t.hasOwnProperty(mn))?t[dt]:null}const at=Ue({\u0275prov:Ue}),dt=Ue({\u0275inj:Ue}),dn=Ue({ngInjectableDef:Ue}),mn=Ue({ngInjectorDef:Ue});var Mt=(()=>((Mt=Mt||{})[Mt.Default=0]="Default",Mt[Mt.Host=1]="Host",Mt[Mt.Self=2]="Self",Mt[Mt.SkipSelf=4]="SkipSelf",Mt[Mt.Optional=8]="Optional",Mt))();let bn;function Yt(t){const n=bn;return bn=t,n}function Ar(t,n,r){const o=ar(t);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&Mt.Optional?null:void 0!==n?n:void Je(Ne(t),"Injector")}function Zn(t){return{toString:t}.toString()}var dr=(()=>((dr=dr||{})[dr.OnPush=0]="OnPush",dr[dr.Default=1]="Default",dr))(),ve=(()=>((ve=ve||{})[ve.Emulated=0]="Emulated",ve[ve.None=2]="None",ve[ve.ShadowDom=3]="ShadowDom",ve))();const Te="undefined"!=typeof globalThis&&globalThis,Se="undefined"!=typeof window&&window,mt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ct=Te||"undefined"!=typeof global&&global||Se||mt,cr={},yn=[],Zr=Ue({\u0275cmp:Ue}),jn=Ue({\u0275dir:Ue}),sr=Ue({\u0275pipe:Ue}),Jn=Ue({\u0275mod:Ue}),ci=Ue({\u0275loc:Ue}),kr=Ue({\u0275fac:Ue}),wi=Ue({__NG_ELEMENT_ID__:Ue});let qi=0;function Ki(t){return Zn(()=>{const r={},o={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===dr.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||yn,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ve.Emulated,id:"c",styles:t.styles||yn,_:null,setInput:null,schemas:t.schemas||null,tView:null},u=t.directives,l=t.features,f=t.pipes;return o.id+=qi++,o.inputs=zr(t.inputs,r),o.outputs=zr(t.outputs),l&&l.forEach(y=>y(o)),o.directiveDefs=u?()=>("function"==typeof u?u():u).map(In):null,o.pipeDefs=f?()=>("function"==typeof f?f():f).map(xr):null,o})}function In(t){return Xn(t)||function(t){return t[jn]||null}(t)}function xr(t){return function(t){return t[sr]||null}(t)}const Cr={};function Pi(t){return Zn(()=>{const n={type:t.type,bootstrap:t.bootstrap||yn,declarations:t.declarations||yn,imports:t.imports||yn,exports:t.exports||yn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Cr[t.id]=t.type),n})}function Ci(t,n){return Zn(()=>{const r=Vr(t,!0);r.declarations=n.declarations||yn,r.imports=n.imports||yn,r.exports=n.exports||yn})}function zr(t,n){if(null==t)return cr;const r={};for(const o in t)if(t.hasOwnProperty(o)){let u=t[o],l=u;Array.isArray(u)&&(l=u[1],u=u[0]),r[u]=o,n&&(n[u]=l)}return r}const ui=Ki;function os(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Xn(t){return t[Zr]||null}function Vr(t,n){const r=t[Jn]||null;if(!r&&!0===n)throw new Error(`Type ${Ne(t)} does not have '\u0275mod' property.`);return r}function hi(t){return Array.isArray(t)&&"object"==typeof t[1]}function ke(t){return Array.isArray(t)&&!0===t[1]}function Ve(t){return 0!=(8&t.flags)}function nt(t){return 2==(2&t.flags)}function It(t){return 1==(1&t.flags)}function Pt(t){return null!==t.template}function ln(t){return 0!=(512&t[2])}function Ji(t,n){return t.hasOwnProperty(kr)?t[kr]:null}class Ai{constructor(n,r,o){this.previousValue=n,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function fo(){return xs}function xs(t){return t.type.prototype.ngOnChanges&&(t.setInput=Is),ji}function ji(){const t=ys(this),n=null==t?void 0:t.current;if(n){const r=t.previous;if(r===cr)t.previous=n;else for(let o in n)r[o]=n[o];t.current=null,this.ngOnChanges(n)}}function Is(t,n,r,o){const u=ys(t)||function(t,n){return t[Ms]=n}(t,{previous:cr,current:null}),l=u.current||(u.current={}),f=u.previous,y=this.declaredInputs[r],T=f[y];l[y]=new Ai(T&&T.currentValue,n,f===cr),t[o]=n}fo.ngInherit=!0;const Ms="__ngSimpleChanges__";function ys(t){return t[Ms]||null}let De;function pt(t){De=t}function Dt(){return void 0!==De?De:"undefined"!=typeof document?document:void 0}function x(t){return!!t.listen}const Z={createRenderer:(t,n)=>Dt()};function Tt(t){for(;Array.isArray(t);)t=t[0];return t}function Wr(t,n){return Tt(n[t])}function Or(t,n){return Tt(n[t.index])}function Fi(t,n){return t.data[n]}function us(t,n){return t[n]}function Pr(t,n){const r=n[t];return hi(r)?r:r[0]}function bo(t){return 4==(4&t[2])}function Xi(t){return 128==(128&t[2])}function $i(t,n){return null==n?null:t[n]}function Ws(t){t[18]=0}function $(t,n){t[5]+=n;let r=t,o=t[3];for(;null!==o&&(1===n&&1===r[5]||-1===n&&0===r[5]);)o[5]+=n,r=o,o=o[3]}const L={lFrame:cl(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ot(){return L.bindingsEnabled}function ct(){return L.lFrame.lView}function Xt(){return L.lFrame.tView}function Lr(t){return L.lFrame.contextLView=t,t[8]}function Hn(){let t=si();for(;null!==t&&64===t.type;)t=t.parent;return t}function si(){return L.lFrame.currentTNode}function Qr(t,n){const r=L.lFrame;r.currentTNode=t,r.isParent=n}function Gr(){return L.lFrame.isParent}function Hi(){L.lFrame.isParent=!1}function Br(){return L.isInCheckNoChangesMode}function Os(t){L.isInCheckNoChangesMode=t}function ti(){const t=L.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function zi(){return L.lFrame.bindingIndex}function po(){return L.lFrame.bindingIndex++}function qr(t){const n=L.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,r}function Du(t,n){const r=L.lFrame;r.bindingIndex=r.bindingRootIndex=t,na(n)}function na(t){L.lFrame.currentDirectiveIndex=t}function Wo(){return L.lFrame.currentQueryIndex}function Ao(t){L.lFrame.currentQueryIndex=t}function Ro(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function wa(t,n,r){if(r&Mt.SkipSelf){let u=n,l=t;for(;!(u=u.parent,null!==u||r&Mt.Host||(u=Ro(l),null===u||(l=l[15],10&u.type))););if(null===u)return!1;n=u,t=l}const o=L.lFrame=Su();return o.currentTNode=n,o.lView=t,!0}function ao(t){const n=Su(),r=t[1];L.lFrame=n,n.currentTNode=r.firstChild,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function Su(){const t=L.lFrame,n=null===t?null:t.child;return null===n?cl(t):n}function cl(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Ca(){const t=L.lFrame;return L.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ia=Ca;function Na(){const t=Ca();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ei(){return L.lFrame.selectedIndex}function Ls(t){L.lFrame.selectedIndex=t}function gi(){const t=L.lFrame;return Fi(t.tView,t.selectedIndex)}function qs(t,n){for(let r=n.directiveStart,o=n.directiveEnd;r<o;r++){const l=t.data[r].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:y,ngAfterViewInit:T,ngAfterViewChecked:P,ngOnDestroy:H}=l;f&&(t.contentHooks||(t.contentHooks=[])).push(-r,f),y&&((t.contentHooks||(t.contentHooks=[])).push(r,y),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(r,y)),T&&(t.viewHooks||(t.viewHooks=[])).push(-r,T),P&&((t.viewHooks||(t.viewHooks=[])).push(r,P),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(r,P)),null!=H&&(t.destroyHooks||(t.destroyHooks=[])).push(r,H)}}function xo(t,n,r){Xa(t,n,3,r)}function Vs(t,n,r,o){(3&t[2])===r&&Xa(t,n,r,o)}function Da(t,n){let r=t[2];(3&r)===n&&(r&=2047,r+=1,t[2]=r)}function Xa(t,n,r,o){const l=null!=o?o:-1,f=n.length-1;let y=0;for(let T=void 0!==o?65535&t[18]:0;T<f;T++)if("number"==typeof n[T+1]){if(y=n[T],null!=o&&y>=o)break}else n[T]<0&&(t[18]+=65536),(y<l||-1==l)&&(qo(t,r,n,T),t[18]=(4294901760&t[18])+T+2),T++}function qo(t,n,r,o){const u=r[o]<0,l=r[o+1],y=t[u?-r[o]:r[o]];if(u){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{l.call(y)}finally{}}}else try{l.call(y)}finally{}}class ls{constructor(n,r,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}function Ko(t,n,r){const o=x(t);let u=0;for(;u<r.length;){const l=r[u];if("number"==typeof l){if(0!==l)break;u++;const f=r[u++],y=r[u++],T=r[u++];o?t.setAttribute(n,y,T,f):n.setAttributeNS(f,y,T)}else{const f=l,y=r[++u];La(f)?o&&t.setProperty(n,f,y):o?t.setAttribute(n,f,y):n.setAttribute(f,y),u++}}return u}function Zo(t){return 3===t||4===t||6===t}function La(t){return 64===t.charCodeAt(0)}function Va(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let r=-1;for(let o=0;o<n.length;o++){const u=n[o];"number"==typeof u?r=u:0===r||Sa(t,r,u,null,-1===r||2===r?n[++o]:null)}}return t}function Sa(t,n,r,o,u){let l=0,f=t.length;if(-1===n)f=-1;else for(;l<t.length;){const y=t[l++];if("number"==typeof y){if(y===n){f=-1;break}if(y>n){f=l-1;break}}}for(;l<t.length;){const y=t[l];if("number"==typeof y)break;if(y===r){if(null===o)return void(null!==u&&(t[l+1]=u));if(o===t[l+1])return void(t[l+2]=u)}l++,null!==o&&l++,null!==u&&l++}-1!==f&&(t.splice(f,0,n),l=f+1),t.splice(l++,0,r),null!==o&&t.splice(l++,0,o),null!==u&&t.splice(l++,0,u)}function O(t){return-1!==t}function p(t){return 32767&t}function S(t,n){let r=function(t){return t>>16}(t),o=n;for(;r>0;)o=o[15],r--;return o}let z=!0;function ee(t){const n=z;return z=t,n}let Be=0;function hn(t,n){const r=Wt(t,n);if(-1!==r)return r;const o=n[1];o.firstCreatePass&&(t.injectorIndex=n.length,Fn(o.data,t),Fn(n,null),Fn(o.blueprint,null));const u=Vt(t,n),l=t.injectorIndex;if(O(u)){const f=p(u),y=S(u,n),T=y[1].data;for(let P=0;P<8;P++)n[l+P]=y[f+P]|T[f+P]}return n[l+8]=u,l}function Fn(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Wt(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Vt(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let r=0,o=null,u=n;for(;null!==u;){const l=u[1],f=l.type;if(o=2===f?l.declTNode:1===f?u[6]:null,null===o)return-1;if(r++,u=u[15],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return-1}function Ln(t,n,r){!function(t,n,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(wi)&&(o=r[wi]),null==o&&(o=r[wi]=Be++);const u=255&o;n.data[t+(u>>5)]|=1<<u}(t,n,r)}function lt(t,n,r){if(r&Mt.Optional)return t;Je(n,"NodeInjector")}function bt(t,n,r,o){if(r&Mt.Optional&&void 0===o&&(o=null),0==(r&(Mt.Self|Mt.Host))){const u=t[9],l=Yt(void 0);try{return u?u.get(n,o,r&Mt.Optional):Ar(n,o,r&Mt.Optional)}finally{Yt(l)}}return lt(o,n,r)}function Er(t,n,r,o=Mt.Default,u){if(null!==t){const l=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(wi)?t[wi]:void 0;return"number"==typeof n?n>=0?255&n:Yo:n}(r);if("function"==typeof l){if(!wa(n,t,o))return o&Mt.Host?lt(u,r,o):bt(n,r,o,u);try{const f=l(o);if(null!=f||o&Mt.Optional)return f;Je(r)}finally{Ia()}}else if("number"==typeof l){let f=null,y=Wt(t,n),T=-1,P=o&Mt.Host?n[16][6]:null;for((-1===y||o&Mt.SkipSelf)&&(T=-1===y?Vt(t,n):n[y+8],-1!==T&&eu(o,!1)?(f=n[1],y=p(T),n=S(T,n)):y=-1);-1!==y;){const H=n[1];if(mi(l,y,H.data)){const re=Us(y,n,r,f,o,P);if(re!==Ri)return re}T=n[y+8],-1!==T&&eu(o,n[1].data[y+8]===P)&&mi(l,y,n)?(f=H,y=p(T),n=S(T,n)):y=-1}}}return bt(n,r,o,u)}const Ri={};function Yo(){return new lo(Hn(),ct())}function Us(t,n,r,o,u,l){const f=n[1],y=f.data[t+8],H=ts(y,f,r,null==o?nt(y)&&z:o!=f&&0!=(3&y.type),u&Mt.Host&&l===y);return null!==H?Ts(n,f,H,y):Ri}function ts(t,n,r,o,u){const l=t.providerIndexes,f=n.data,y=1048575&l,T=t.directiveStart,H=l>>20,ue=u?y+H:t.directiveEnd;for(let Ie=o?y:y+H;Ie<ue;Ie++){const qe=f[Ie];if(Ie<T&&r===qe||Ie>=T&&qe.type===r)return Ie}if(u){const Ie=f[T];if(Ie&&Pt(Ie)&&Ie.type===r)return T}return null}function Ts(t,n,r,o){let u=t[r];const l=n.data;if(function(t){return t instanceof ls}(u)){const f=u;f.resolving&&function(t,n){throw new rt("200",`Circular dependency in DI detected for ${t}`)}(oe(l[r]));const y=ee(f.canSeeViewProviders);f.resolving=!0;const T=f.injectImpl?Yt(f.injectImpl):null;wa(t,o,Mt.Default);try{u=t[r]=f.factory(void 0,l,t,o),n.firstCreatePass&&r>=o.directiveStart&&function(t,n,r){const{ngOnChanges:o,ngOnInit:u,ngDoCheck:l}=n.type.prototype;if(o){const f=xs(n);(r.preOrderHooks||(r.preOrderHooks=[])).push(t,f),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(t,f)}u&&(r.preOrderHooks||(r.preOrderHooks=[])).push(0-t,u),l&&((r.preOrderHooks||(r.preOrderHooks=[])).push(t,l),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(t,l))}(r,l[r],n)}finally{null!==T&&Yt(T),ee(y),f.resolving=!1,Ia()}}return u}function mi(t,n,r){return!!(r[n+(t>>5)]&1<<t)}function eu(t,n){return!(t&Mt.Self||t&Mt.Host&&n)}class lo{constructor(n,r){this._tNode=n,this._lView=r}get(n,r,o){return Er(this._tNode,this._lView,n,o,r)}}function Qn(t){return Zn(()=>{const n=t.prototype.constructor,r=n[kr]||co(n),o=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==o;){const l=u[kr]||co(u);if(l&&l!==r)return l;u=Object.getPrototypeOf(u)}return l=>new l})}function co(t){return Re(t)?()=>{const n=co(je(t));return n&&n()}:Ji(t)}function oa(t){return function(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const r=t.attrs;if(r){const o=r.length;let u=0;for(;u<o;){const l=r[u];if(Zo(l))break;if(0===l)u+=2;else if("number"==typeof l)for(u++;u<o&&"string"==typeof r[u];)u++;else{if(l===n)return r[u+1];u+=2}}}return null}(Hn(),t)}const zt="__parameters__";function D(t,n,r){return Zn(()=>{const o=function(t){return function(...r){if(t){const o=t(...r);for(const u in o)this[u]=o[u]}}}(n);function u(...l){if(this instanceof u)return o.apply(this,l),this;const f=new u(...l);return y.annotation=f,y;function y(T,P,H){const re=T.hasOwnProperty(zt)?T[zt]:Object.defineProperty(T,zt,{value:[]})[zt];for(;re.length<=H;)re.push(null);return(re[H]=re[H]||[]).push(f),T}}return r&&(u.prototype=Object.create(r.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}class ce{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Mn({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Le=new ce("AnalyzeForEntryComponents"),aa=Function;function Ys(t,n){void 0===n&&(n=t);for(let r=0;r<t.length;r++){let o=t[r];Array.isArray(o)?(n===t&&(n=t.slice(0,r)),Ys(o,n)):n!==t&&n.push(o)}return n}function Qo(t,n){t.forEach(r=>Array.isArray(r)?Qo(r,n):n(r))}function Ua(t,n,r){n>=t.length?t.push(r):t.splice(n,0,r)}function ua(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function mo(t,n){const r=[];for(let o=0;o<t;o++)r.push(n);return r}function yo(t,n,r){let o=Ba(t,n);return o>=0?t[1|o]=r:(o=~o,function(t,n,r,o){let u=t.length;if(u==n)t.push(r,o);else if(1===u)t.push(o,t[0]),t[0]=r;else{for(u--,t.push(t[u-1],t[u]);u>n;)t[u]=t[u-2],u--;t[n]=r,t[n+1]=o}}(t,o,n,r)),o}function nu(t,n){const r=Ba(t,n);if(r>=0)return t[1|r]}function Ba(t,n){return function(t,n,r){let o=0,u=t.length>>r;for(;u!==o;){const l=o+(u-o>>1),f=t[l<<r];if(n===f)return l<<r;f>n?u=l:o=l+1}return~(u<<r)}(t,n,1)}const tn={},qn="__NG_DI_FLAG__",jr="ngTempTokenPath",ko=/\n/gm,ja="__source",$a=Ue({provide:String,useValue:Ue});let Bs;function Xs(t){const n=Bs;return Bs=t,n}function zu(t,n=Mt.Default){if(void 0===Bs)throw new Error("inject() must be called from an injection context");return null===Bs?Ar(t,void 0,n):Bs.get(t,n&Mt.Optional?null:void 0,n)}function vs(t,n=Mt.Default){return(bn||zu)(je(t),n)}function ca(t){const n=[];for(let r=0;r<t.length;r++){const o=je(t[r]);if(Array.isArray(o)){if(0===o.length)throw new Error("Arguments array must have arguments.");let u,l=Mt.Default;for(let f=0;f<o.length;f++){const y=o[f],T=nd(y);"number"==typeof T?-1===T?u=y.token:l|=T:u=y}n.push(vs(u,l))}else n.push(vs(o))}return n}function _o(t,n){return t[qn]=n,t.prototype[qn]=n,t}function nd(t){return t[qn]}function dl(t,n,r,o){const u=t[jr];throw n[ja]&&u.unshift(n[ja]),t.message=function(t,n,r,o=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let u=Ne(n);if(Array.isArray(n))u=n.map(Ne).join(" -> ");else if("object"==typeof n){let l=[];for(let f in n)if(n.hasOwnProperty(f)){let y=n[f];l.push(f+":"+("string"==typeof y?JSON.stringify(y):Ne(y)))}u=`{${l.join(", ")}}`}return`${r}${o?"("+o+")":""}[${u}]: ${t.replace(ko,"\n  ")}`}("\n"+t.message,u,r,o),t.ngTokenPath=u,t[jr]=null,t}const Ha=_o(D("Inject",t=>({token:t})),-1),Ga=_o(D("Optional"),8),ru=_o(D("SkipSelf"),4);let ds,yl;function iu(t){var n;return(null===(n=function(){if(void 0===ds&&(ds=null,Ct.trustedTypes))try{ds=Ct.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return ds}())||void 0===n?void 0:n.createHTML(t))||t}function _l(t){var n;return(null===(n=function(){if(void 0===yl&&(yl=null,Ct.trustedTypes))try{yl=Ct.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return yl}())||void 0===n?void 0:n.createHTML(t))||t}class Fo{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class uh extends Fo{getTypeName(){return"HTML"}}class $l extends Fo{getTypeName(){return"Style"}}class Hl extends Fo{getTypeName(){return"Script"}}class ep extends Fo{getTypeName(){return"URL"}}class Es extends Fo{getTypeName(){return"ResourceURL"}}function br(t){return t instanceof Fo?t.changingThisBreaksApplicationSecurity:t}function Zu(t,n){const r=Gl(t);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see https://g.co/ng/security#xss)`)}return r===n}function Gl(t){return t instanceof Fo&&t.getTypeName()||null}function js(t){return new uh(t)}function bc(t){return new $l(t)}function $s(t){return new Hl(t)}function bs(t){return new ep(t)}function lh(t){return new Es(t)}class ha{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const r=(new window.DOMParser).parseFromString(iu(n),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(n):(r.removeChild(r.firstChild),r)}catch(r){return null}}}class tp{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r);const o=this.inertDocument.createElement("body");r.appendChild(o)}}getInertBodyElement(n){const r=this.inertDocument.createElement("template");if("content"in r)return r.innerHTML=iu(n),r;const o=this.inertDocument.createElement("body");return o.innerHTML=iu(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(o),o}stripCustomNsAttrs(n){const r=n.attributes;for(let u=r.length-1;0<u;u--){const f=r.item(u).name;("xmlns:ns1"===f||0===f.indexOf("ns1:"))&&n.removeAttribute(f)}let o=n.firstChild;for(;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling}}const ad=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,rp=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Kr(t){return(t=String(t)).match(ad)||t.match(rp)?t:"unsafe:"+t}function Xo(t){const n={};for(const r of t.split(","))n[r]=!0;return n}function ou(...t){const n={};for(const r of t)for(const o in r)r.hasOwnProperty(o)&&(n[o]=!0);return n}const au=Xo("area,br,col,hr,img,wbr"),zl=Xo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ud=Xo("rp,rt"),Ic=ou(au,ou(zl,Xo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ou(ud,Xo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ou(ud,zl)),Tc=Xo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ld=Xo("srcset"),Yu=ou(Tc,ld,Xo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hh=Xo("script,style,template");class sp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let r=n.firstChild,o=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?o=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,o&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let u=this.checkClobberedElement(r,r.nextSibling);if(u){r=u;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(n){const r=n.nodeName.toLowerCase();if(!Ic.hasOwnProperty(r))return this.sanitizedSomething=!0,!hh.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const o=n.attributes;for(let u=0;u<o.length;u++){const l=o.item(u),f=l.name,y=f.toLowerCase();if(!Yu.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let T=l.value;Tc[y]&&(T=Kr(T)),ld[y]&&(t=T,T=(t=String(t)).split(",").map(n=>Kr(n.trim())).join(", ")),this.buf.push(" ",f,'="',Dc(T),'"')}var t;return this.buf.push(">"),!0}endElement(n){const r=n.nodeName.toLowerCase();Ic.hasOwnProperty(r)&&!au.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(n){this.buf.push(Dc(n))}checkClobberedElement(n,r){if(r&&(n.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return r}}const eo=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dd=/([^\#-~ |!])/g;function Dc(t){return t.replace(/&/g,"&amp;").replace(eo,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(dd,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let za;function ea(t,n){let r=null;try{za=za||function(t){const n=new tp(t);return function(){try{return!!(new window.DOMParser).parseFromString(iu(""),"text/html")}catch(t){return!1}}()?new ha(n):n}(t);let o=n?String(n):"";r=za.getInertBodyElement(o);let u=5,l=o;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,o=l,l=r.innerHTML,r=za.getInertBodyElement(o)}while(o!==l);return iu((new sp).sanitizeChildren(vl(r)||r))}finally{if(r){const o=vl(r)||r;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function vl(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Di=(()=>((Di=Di||{})[Di.NONE=0]="NONE",Di[Di.HTML=1]="HTML",Di[Di.STYLE=2]="STYLE",Di[Di.SCRIPT=3]="SCRIPT",Di[Di.URL=4]="URL",Di[Di.RESOURCE_URL=5]="RESOURCE_URL",Di))();function To(t){const n=ql();return n?_l(n.sanitize(Di.HTML,t)||""):Zu(t,"HTML")?_l(br(t)):ea(Dt(),ne(t))}function Wl(t){const n=ql();return n?n.sanitize(Di.URL,t)||"":Zu(t,"URL")?br(t):Kr(ne(t))}function ql(){const t=ct();return t&&t[12]}const Do="__ngContext__";function to(t,n){t[Do]=n}function Ou(t){const n=function(t){return t[Do]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function vt(t){return t.ngOriginalError}function pn(t,...n){t.error(...n)}class Sn{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n),o=this._findContext(n),u=(t=n)&&t.ngErrorLogger||pn;var t;u(this._console,"ERROR",n),r&&u(this._console,"ORIGINAL ERROR",r),o&&u(this._console,"ERROR CONTEXT",o)}_findContext(n){return n?n.ngDebugContext||this._findContext(vt(n)):null}_findOriginalError(n){let r=n&&vt(n);for(;r&&vt(r);)r=vt(r);return r||null}}const du=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ct))();function fu(t){return t instanceof Function?t():t}var pu=(()=>((pu=pu||{})[pu.Important=1]="Important",pu[pu.DashCase=2]="DashCase",pu))();function wh(t,n){return undefined(t,n)}function Pu(t){const n=t[3];return ke(n)?n[3]:n}function Jl(t){return Ih(t[13])}function Ch(t){return Ih(t[4])}function Ih(t){for(;null!==t&&!ke(t);)t=t[4];return t}function Xl(t,n,r,o,u){if(null!=o){let l,f=!1;ke(o)?l=o:hi(o)&&(f=!0,o=o[0]);const y=Tt(o);0===t&&null!==r?null==u?Tl(n,r,y):ma(n,r,y,u||null,!0):1===t&&null!==r?ma(n,r,y,u||null,!0):2===t?function(t,n,r){const o=Rh(t,n);o&&function(t,n,r,o){x(t)?t.removeChild(n,r,o):n.removeChild(r)}(t,o,n,r)}(n,y,f):3===t&&n.destroyNode(y),null!=l&&function(t,n,r,o,u){const l=r[7];l!==Tt(r)&&Xl(n,t,o,l,u);for(let y=10;y<r.length;y++){const T=r[y];Rc(T[1],T,t,n,o,l)}}(n,t,l,r,u)}}function hp(t,n,r){return x(t)?t.createElement(n,r):null===r?t.createElement(n):t.createElementNS(r,n)}function pp(t,n){const r=t[9],o=r.indexOf(n),u=n[3];1024&n[2]&&(n[2]&=-1025,$(u,-1)),r.splice(o,1)}function Nu(t,n){if(t.length<=10)return;const r=10+n,o=t[r];if(o){const u=o[17];null!==u&&u!==t&&pp(u,o),n>0&&(t[r-1][4]=o[4]);const l=ua(t,10+n);!function(t,n){Rc(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(o[1],o);const f=l[19];null!==f&&f.detachView(l[1]),o[3]=null,o[4]=null,o[2]&=-129}return o}function ec(t,n){if(!(256&n[2])){const r=n[11];x(r)&&r.destroyNode&&Rc(t,n,r,3,null,null),function(t){let n=t[13];if(!n)return Sh(t[1],t);for(;n;){let r=null;if(hi(n))r=n[13];else{const o=n[10];o&&(r=o)}if(!r){for(;n&&!n[4]&&n!==t;)hi(n)&&Sh(n[1],n),n=n[3];null===n&&(n=t),hi(n)&&Sh(n[1],n),r=n&&n[4]}n=r}}(n)}}function Sh(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(t,n){let r;if(null!=t&&null!=(r=t.destroyHooks))for(let o=0;o<r.length;o+=2){const u=n[r[o]];if(!(u instanceof ls)){const l=r[o+1];if(Array.isArray(l))for(let f=0;f<l.length;f+=2){const y=u[l[f]],T=l[f+1];try{T.call(y)}finally{}}else try{l.call(u)}finally{}}}}(t,n),function(t,n){const r=t.cleanup,o=n[7];let u=-1;if(null!==r)for(let l=0;l<r.length-1;l+=2)if("string"==typeof r[l]){const f=r[l+1],y="function"==typeof f?f(n):Tt(n[f]),T=o[u=r[l+2]],P=r[l+3];"boolean"==typeof P?y.removeEventListener(r[l],T,P):P>=0?o[u=P]():o[u=-P].unsubscribe(),l+=2}else{const f=o[u=r[l+1]];r[l].call(f)}if(null!==o){for(let l=u+1;l<o.length;l++)o[l]();n[7]=null}}(t,n),1===n[1].type&&x(n[11])&&n[11].destroy();const r=n[17];if(null!==r&&ke(n[3])){r!==n[3]&&pp(r,n);const o=n[19];null!==o&&o.detachView(t)}}}function nc(t,n,r){return function(t,n,r){let o=n;for(;null!==o&&40&o.type;)o=(n=o).parent;if(null===o)return r[0];if(2&o.flags){const u=t.data[o.directiveStart].encapsulation;if(u===ve.None||u===ve.Emulated)return null}return Or(o,r)}(t,n.parent,r)}function ma(t,n,r,o,u){x(t)?t.insertBefore(n,r,o,u):n.insertBefore(r,o,u)}function Tl(t,n,r){x(t)?t.appendChild(n,r):n.appendChild(r)}function Ah(t,n,r,o,u){null!==o?ma(t,n,r,o,u):Tl(t,n,r)}function Rh(t,n){return x(t)?t.parentNode(n):n.parentNode}function Em(t,n,r){return _d(t,n,r)}let _d=function(t,n,r){return 40&t.type?Or(t,r):null};function xh(t,n,r,o){const u=nc(t,o,n),l=n[11],y=Em(o.parent||n[6],o,n);if(null!=u)if(Array.isArray(r))for(let T=0;T<r.length;T++)Ah(l,u,r[T],y,!1);else Ah(l,u,r,y,!1)}function Mh(t,n){if(null!==n){const r=n.type;if(3&r)return Or(n,t);if(4&r)return ku(-1,t[n.index]);if(8&r){const o=n.child;if(null!==o)return Mh(t,o);{const u=t[n.index];return ke(u)?ku(-1,u):Tt(u)}}if(32&r)return wh(n,t)()||Tt(t[n.index]);{const o=yp(t,n);return null!==o?Array.isArray(o)?o[0]:Mh(Pu(t[16]),o):Mh(t,n.next)}}return null}function yp(t,n){return null!==n?t[16][6].projection[n.projection]:null}function ku(t,n){const r=10+t+1;if(r<n.length){const o=n[r],u=o[1].firstChild;if(null!==u)return Mh(o,u)}return n[7]}function _p(t,n,r,o,u,l,f){for(;null!=r;){const y=o[r.index],T=r.type;if(f&&0===n&&(y&&to(Tt(y),o),r.flags|=4),64!=(64&r.flags))if(8&T)_p(t,n,r.child,o,u,l,!1),Xl(n,t,u,y,l);else if(32&T){const P=wh(r,o);let H;for(;H=P();)Xl(n,t,u,H,l);Xl(n,t,u,y,l)}else 16&T?Oh(t,n,o,r,u,l):Xl(n,t,u,y,l);r=f?r.projectionNext:r.next}}function Rc(t,n,r,o,u,l){_p(r,o,t.firstChild,n,u,l,!1)}function Oh(t,n,r,o,u,l){const f=r[16],T=f[6].projection[o.projection];if(Array.isArray(T))for(let P=0;P<T.length;P++)Xl(n,t,u,T[P],l);else _p(t,n,T,f[3],u,l,!0)}function Nh(t,n,r){x(t)?t.setAttribute(n,"style",r):n.style.cssText=r}function Ep(t,n,r){x(t)?""===r?t.removeAttribute(n,"class"):t.setAttribute(n,"class",r):n.className=r}function bp(t,n,r){let o=t.length;for(;;){const u=t.indexOf(n,r);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const l=n.length;if(u+l===o||t.charCodeAt(u+l)<=32)return u}r=u+1}}const wp="ng-template";function m_(t,n,r){let o=0;for(;o<t.length;){let u=t[o++];if(r&&"class"===u){if(u=t[o],-1!==bp(u.toLowerCase(),n,0))return!0}else if(1===u){for(;o<t.length&&"string"==typeof(u=t[o++]);)if(u.toLowerCase()===n)return!0;return!1}}return!1}function Cp(t){return 4===t.type&&t.value!==wp}function Cm(t,n,r){return n===(4!==t.type||r?t.value:wp)}function Ip(t,n,r){let o=4;const u=t.attrs||[],l=function(t){for(let n=0;n<t.length;n++)if(Zo(t[n]))return n;return t.length}(u);let f=!1;for(let y=0;y<n.length;y++){const T=n[y];if("number"!=typeof T){if(!f)if(4&o){if(o=2|1&o,""!==T&&!Cm(t,T,r)||""===T&&1===n.length){if(gu(o))return!1;f=!0}}else{const P=8&o?T:n[++y];if(8&o&&null!==t.attrs){if(!m_(t.attrs,P,r)){if(gu(o))return!1;f=!0}continue}const re=Im(8&o?"class":T,u,Cp(t),r);if(-1===re){if(gu(o))return!1;f=!0;continue}if(""!==P){let ue;ue=re>l?"":u[re+1].toLowerCase();const Ie=8&o?ue:null;if(Ie&&-1!==bp(Ie,P,0)||2&o&&P!==ue){if(gu(o))return!1;f=!0}}}}else{if(!f&&!gu(o)&&!gu(T))return!1;if(f&&gu(T))continue;f=!1,o=T|1&o}}return gu(o)||f}function gu(t){return 0==(1&t)}function Im(t,n,r,o){if(null===n)return-1;let u=0;if(o||!r){let l=!1;for(;u<n.length;){const f=n[u];if(f===t)return u;if(3===f||6===f)l=!0;else{if(1===f||2===f){let y=n[++u];for(;"string"==typeof y;)y=n[++u];continue}if(4===f)break;if(0===f){u+=4;continue}}u+=l?1:2}return-1}return function(t,n){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){const o=t[r];if("number"==typeof o)return-1;if(o===n)return r;r++}return-1}(n,t)}function Tm(t,n,r=!1){for(let o=0;o<n.length;o++)if(Ip(t,n[o],r))return!0;return!1}function Mc(t,n){e:for(let r=0;r<n.length;r++){const o=n[r];if(t.length===o.length){for(let u=0;u<t.length;u++)if(t[u]!==o[u])continue e;return!0}}return!1}function kh(t,n){return t?":not("+n.trim()+")":n}function Fh(t){let n=t[0],r=1,o=2,u="",l=!1;for(;r<t.length;){let f=t[r];if("string"==typeof f)if(2&o){const y=t[++r];u+="["+f+(y.length>0?'="'+y+'"':"")+"]"}else 8&o?u+="."+f:4&o&&(u+=" "+f);else""!==u&&!gu(f)&&(n+=kh(l,u),u=""),o=f,l=l||!gu(o);r++}return""!==u&&(n+=kh(l,u)),n}const mr={};function Lh(t){Rm(Xt(),ct(),Ei()+t,Br())}function Rm(t,n,r,o){if(!o)if(3==(3&n[2])){const l=t.preOrderCheckHooks;null!==l&&xo(n,l,r)}else{const l=t.preOrderHooks;null!==l&&Vs(n,l,0,r)}Ls(r)}function Oc(t,n){return t<<17|n<<2}function mu(t){return t>>17&32767}function bd(t){return 2|t}function is(t){return(131068&t)>>2}function Tp(t,n){return-131069&t|n<<2}function Dp(t){return 1|t}function $h(t,n){const r=t.contentQueries;if(null!==r)for(let o=0;o<r.length;o+=2){const u=r[o],l=r[o+1];if(-1!==l){const f=t.data[l];Ao(u),f.contentQueries(2,n[l],l)}}}function Rd(t,n,r,o,u,l,f,y,T,P){const H=n.blueprint.slice();return H[0]=u,H[2]=140|o,Ws(H),H[3]=H[15]=t,H[8]=r,H[10]=f||t&&t[10],H[11]=y||t&&t[11],H[12]=T||t&&t[12]||null,H[9]=P||t&&t[9]||null,H[6]=l,H[16]=2==n.type?t[16]:H,H}function Al(t,n,r,o,u){let l=t.data[n];if(null===l)l=function(t,n,r,o,u){const l=si(),f=Gr(),T=t.data[n]=function(t,n,r,o,u,l){return{type:r,index:o,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?l:l&&l.parent,r,n,o,u);return null===t.firstChild&&(t.firstChild=T),null!==l&&(f?null==l.child&&null!==T.parent&&(l.child=T):null===l.next&&(l.next=T)),T}(t,n,r,o,u),L.lFrame.inI18n&&(l.flags|=64);else if(64&l.type){l.type=r,l.value=o,l.attrs=u;const f=function(){const t=L.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();l.injectorIndex=null===f?-1:f.injectorIndex}return Qr(l,!0),l}function Rl(t,n,r,o){if(0===r)return-1;const u=n.length;for(let l=0;l<r;l++)n.push(o),t.blueprint.push(o),t.data.push(null);return u}function Nc(t,n,r){ao(n);try{const o=t.viewQuery;null!==o&&Jp(1,o,r);const u=t.template;null!==u&&Lm(t,n,u,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&$h(t,n),t.staticViewQueries&&Jp(2,t.viewQuery,r);const l=t.components;null!==l&&function(t,n){for(let r=0;r<n.length;r++)Kp(t,n[r])}(n,l)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{n[2]&=-5,Na()}}function _u(t,n,r,o){const u=n[2];if(256==(256&u))return;ao(n);const l=Br();try{Ws(n),function(t){L.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==r&&Lm(t,n,r,2,o);const f=3==(3&u);if(!l)if(f){const P=t.preOrderCheckHooks;null!==P&&xo(n,P,null)}else{const P=t.preOrderHooks;null!==P&&Vs(n,P,0,null),Da(n,0)}if(function(t){for(let n=Jl(t);null!==n;n=Ch(n)){if(!n[2])continue;const r=n[9];for(let o=0;o<r.length;o++){const u=r[o],l=u[3];0==(1024&u[2])&&$(l,1),u[2]|=1024}}}(n),function(t){for(let n=Jl(t);null!==n;n=Ch(n))for(let r=10;r<n.length;r++){const o=n[r],u=o[1];Xi(o)&&_u(u,o,u.template,o[8])}}(n),null!==t.contentQueries&&$h(t,n),!l)if(f){const P=t.contentCheckHooks;null!==P&&xo(n,P)}else{const P=t.contentHooks;null!==P&&Vs(n,P,1),Da(n,1)}!function(t,n){const r=t.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const u=r[o];if(u<0)Ls(~u);else{const l=u,f=r[++o],y=r[++o];Du(f,l),y(2,n[l])}}}finally{Ls(-1)}}(t,n);const y=t.components;null!==y&&function(t,n){for(let r=0;r<n.length;r++)Wp(t,n[r])}(n,y);const T=t.viewQuery;if(null!==T&&Jp(2,T,o),!l)if(f){const P=t.viewCheckHooks;null!==P&&xo(n,P)}else{const P=t.viewHooks;null!==P&&Vs(n,P,2),Da(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),l||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,$(n[3],-1))}finally{Na()}}function Fp(t,n,r,o){const u=n[10],l=!Br(),f=bo(n);try{l&&!f&&u.begin&&u.begin(),f&&Nc(t,n,o),_u(t,n,r,o)}finally{l&&!f&&u.end&&u.end()}}function Lm(t,n,r,o,u){const l=Ei(),f=2&o;try{Ls(-1),f&&n.length>20&&Rm(t,n,20,Br()),r(o,u)}finally{Ls(l)}}function Vm(t,n,r){if(Ve(n)){const u=n.directiveEnd;for(let l=n.directiveStart;l<u;l++){const f=t.data[l];f.contentQueries&&f.contentQueries(1,r[l],l)}}}function Hh(t,n,r){!Ot()||(function(t,n,r,o){const u=r.directiveStart,l=r.directiveEnd;t.firstCreatePass||hn(r,n),to(o,n);const f=r.initialInputs;for(let y=u;y<l;y++){const T=t.data[y],P=Pt(T);P&&Gm(n,r,T);const H=Ts(n,t,y,r);to(H,n),null!==f&&A_(0,y-u,H,T,0,f),P&&(Pr(r.index,n)[8]=H)}}(t,n,r,Or(r,n)),128==(128&r.flags)&&function(t,n,r){const o=r.directiveStart,u=r.directiveEnd,f=r.index,y=L.lFrame.currentDirectiveIndex;try{Ls(f);for(let T=o;T<u;T++){const P=t.data[T],H=n[T];na(T),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&jm(P,H)}}finally{Ls(-1),na(y)}}(t,n,r))}function Gh(t,n,r=Or){const o=n.localNames;if(null!==o){let u=n.index+1;for(let l=0;l<o.length;l+=2){const f=o[l+1],y=-1===f?r(n,t):t[f];t[u++]=y}}}function Um(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=kc(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function kc(t,n,r,o,u,l,f,y,T,P){const H=20+o,re=H+u,ue=function(t,n){const r=[];for(let o=0;o<n;o++)r.push(o<t?null:mr);return r}(H,re),Ie="function"==typeof P?P():P;return ue[1]={type:t,blueprint:ue,template:r,queries:null,viewQuery:y,declTNode:n,data:ue.slice().fill(null,H),bindingStartIndex:H,expandoStartIndex:re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:T,consts:Ie,incompleteFirstPass:!1}}function Bm(t,n,r,o){const u=ef(n);null===r?u.push(o):(u.push(r),t.firstCreatePass&&tf(t).push(o,u.length-1))}function qh(t,n,r){for(let o in t)if(t.hasOwnProperty(o)){const u=t[o];(r=null===r?{}:r).hasOwnProperty(o)?r[o].push(n,u):r[o]=[n,u]}return r}function no(t,n,r,o,u,l,f,y){const T=Or(n,r);let H,P=n.inputs;!y&&null!=P&&(H=P[o])?(Xp(t,r,H,o,u),nt(n)&&function(t,n){const r=Pr(n,t);16&r[2]||(r[2]|=64)}(r,n.index)):3&n.type&&(o=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(o),u=null!=f?f(u,n.value||"",o):u,x(l)?l.setProperty(T,o,u):La(o)||(T.setProperty?T.setProperty(o,u):T[o]=u))}function Md(t,n,r,o){let u=!1;if(Ot()){const l=function(t,n,r){const o=t.directiveRegistry;let u=null;if(o)for(let l=0;l<o.length;l++){const f=o[l];Tm(r,f.selectors,!1)&&(u||(u=[]),Ln(hn(r,n),t,f.type),Pt(f)?(Zh(t,r),u.unshift(f)):u.push(f))}return u}(t,n,r),f=null===o?null:{"":-1};if(null!==l){u=!0,Hm(r,t.data.length,l.length);for(let H=0;H<l.length;H++){const re=l[H];re.providersResolver&&re.providersResolver(re)}let y=!1,T=!1,P=Rl(t,n,l.length,null);for(let H=0;H<l.length;H++){const re=l[H];r.mergedAttrs=Va(r.mergedAttrs,re.hostAttrs),Hp(t,r,n,P,re),$m(P,re,f),null!==re.contentQueries&&(r.flags|=8),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(r.flags|=128);const ue=re.type.prototype;!y&&(ue.ngOnChanges||ue.ngOnInit||ue.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(r.index),y=!0),!T&&(ue.ngOnChanges||ue.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(r.index),T=!0),P++}!function(t,n){const o=n.directiveEnd,u=t.data,l=n.attrs,f=[];let y=null,T=null;for(let P=n.directiveStart;P<o;P++){const H=u[P],re=H.inputs,ue=null===l||Cp(n)?null:R_(re,l);f.push(ue),y=qh(re,P,y),T=qh(H.outputs,P,T)}null!==y&&(y.hasOwnProperty("class")&&(n.flags|=16),y.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=f,n.inputs=y,n.outputs=T}(t,r)}f&&function(t,n,r){if(n){const o=t.localNames=[];for(let u=0;u<n.length;u+=2){const l=r[n[u+1]];if(null==l)throw new rt("301",`Export of name '${n[u+1]}' not found!`);o.push(n[u],l)}}}(r,o,f)}return r.mergedAttrs=Va(r.mergedAttrs,r.attrs),u}function Kh(t,n,r,o,u,l){const f=l.hostBindings;if(f){let y=t.hostBindingOpCodes;null===y&&(y=t.hostBindingOpCodes=[]);const T=~n.index;(function(t){let n=t.length;for(;n>0;){const r=t[--n];if("number"==typeof r&&r<0)return r}return 0})(y)!=T&&y.push(T),y.push(o,u,f)}}function jm(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Zh(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function $m(t,n,r){if(r){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)r[n.exportAs[o]]=t;Pt(n)&&(r[""]=t)}}function Hm(t,n,r){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+r,t.providerIndexes=n}function Hp(t,n,r,o,u){t.data[o]=u;const l=u.factory||(u.factory=Ji(u.type)),f=new ls(l,Pt(u),null);t.blueprint[o]=f,r[o]=f,Kh(t,n,0,o,Rl(t,r,u.hostVars,mr),u)}function Gm(t,n,r){const o=Or(n,t),u=Um(r),l=t[10],f=Vc(t,Rd(t,u,null,r.onPush?64:16,o,n,l,l.createRenderer(o,r),null,null));t[n.index]=f}function vu(t,n,r,o,u,l){const f=Or(t,n);!function(t,n,r,o,u,l,f){if(null==l)x(t)?t.removeAttribute(n,u,r):n.removeAttribute(u);else{const y=null==f?ne(l):f(l,o||"",u);x(t)?t.setAttribute(n,u,y,r):r?n.setAttributeNS(r,u,y):n.setAttribute(u,y)}}(n[11],f,l,t.value,r,o,u)}function A_(t,n,r,o,u,l){const f=l[n];if(null!==f){const y=o.setInput;for(let T=0;T<f.length;){const P=f[T++],H=f[T++],re=f[T++];null!==y?o.setInput(r,re,P,H):r[H]=re}}}function R_(t,n){let r=null,o=0;for(;o<n.length;){const u=n[o];if(0!==u)if(5!==u){if("number"==typeof u)break;t.hasOwnProperty(u)&&(null===r&&(r=[]),r.push(u,t[u],n[o+1])),o+=2}else o+=2;else o+=4}return r}function zm(t,n,r,o){return new Array(t,!0,!1,n,null,0,o,r,null,null)}function Wp(t,n){const r=Pr(n,t);if(Xi(r)){const o=r[1];80&r[2]?_u(o,r,o.template,r[8]):r[5]>0&&qp(r)}}function qp(t){for(let o=Jl(t);null!==o;o=Ch(o))for(let u=10;u<o.length;u++){const l=o[u];if(1024&l[2]){const f=l[1];_u(f,l,f.template,l[8])}else l[5]>0&&qp(l)}const r=t[1].components;if(null!==r)for(let o=0;o<r.length;o++){const u=Pr(r[o],t);Xi(u)&&u[5]>0&&qp(u)}}function Kp(t,n){const r=Pr(n,t),o=r[1];(function(t,n){for(let r=n.length;r<t.blueprint.length;r++)n.push(t.blueprint[r])})(o,r),Nc(o,r,r[8])}function Vc(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function Qh(t){for(;t;){t[2]|=64;const n=Pu(t);if(ln(t)&&!n)return t;t=n}return null}function Yp(t,n,r){const o=n[10];o.begin&&o.begin();try{_u(t,n,t.template,r)}catch(u){throw uc(n,u),u}finally{o.end&&o.end()}}function Xh(t){!function(t){for(let n=0;n<t.components.length;n++){const r=t.components[n],o=Ou(r),u=o[1];Fp(u,o,u.template,r)}}(t[8])}function Jp(t,n,r){Ao(0),n(t,r)}const O_=(()=>Promise.resolve(null))();function ef(t){return t[7]||(t[7]=[])}function tf(t){return t.cleanup||(t.cleanup=[])}function uc(t,n){const r=t[9],o=r?r.get(Sn,null):null;o&&o.handleError(n)}function Xp(t,n,r,o,u){for(let l=0;l<r.length;){const f=r[l++],y=r[l++],T=n[f],P=t.data[f];null!==P.setInput?P.setInput(T,u,o,y):T[y]=u}}function Eu(t,n,r){const o=Wr(n,t);!function(t,n,r){x(t)?t.setValue(n,r):n.textContent=r}(t[11],o,r)}function rf(t,n,r){let o=r?t.styles:null,u=r?t.classes:null,l=0;if(null!==n)for(let f=0;f<n.length;f++){const y=n[f];"number"==typeof y?l=y:1==l?u=Ke(u,y):2==l&&(o=Ke(o,y+": "+n[++f]+";"))}r?t.styles=o:t.stylesWithoutHost=o,r?t.classes=u:t.classesWithoutHost=u}const Uc=new ce("INJECTOR",-1);class sf{get(n,r=tn){if(r===tn){const o=new Error(`NullInjectorError: No provider for ${Ne(n)}!`);throw o.name="NullInjectorError",o}return r}}const Od=new ce("Set Injector scope."),Pd={},tg={};let ng;function af(){return void 0===ng&&(ng=new sf),ng}function uf(t,n=null,r=null,o){return new N_(t,r,n||af(),o)}class N_{constructor(n,r,o,u=null){this.parent=o,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const l=[];r&&Qo(r,y=>this.processProvider(y,n,r)),Qo([n],y=>this.processInjectorType(y,[],l)),this.records.set(Uc,Bc(void 0,this));const f=this.records.get(Od);this.scope=null!=f?f.value:null,this.source=u||("object"==typeof n?null:Ne(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,r=tn,o=Mt.Default){this.assertNotDestroyed();const u=Xs(this),l=Yt(void 0);try{if(!(o&Mt.SkipSelf)){let y=this.records.get(n);if(void 0===y){const T=("function"==typeof(t=n)||"object"==typeof t&&t instanceof ce)&&ar(n);y=T&&this.injectableDefInScope(T)?Bc(Nd(n),Pd):null,this.records.set(n,y)}if(null!=y)return this.hydrate(n,y)}return(o&Mt.Self?af():this.parent).get(n,r=o&Mt.Optional&&r===tn?null:r)}catch(f){if("NullInjectorError"===f.name){if((f[jr]=f[jr]||[]).unshift(Ne(n)),u)throw f;return dl(f,n,"R3InjectorError",this.source)}throw f}finally{Yt(l),Xs(u)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((o,u)=>n.push(Ne(u))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,r,o){if(!(n=je(n)))return!1;let u=Kt(n);const l=null==u&&n.ngModule||void 0,f=void 0===l?n:l,y=-1!==o.indexOf(f);if(void 0!==l&&(u=Kt(l)),null==u)return!1;if(null!=u.imports&&!y){let H;o.push(f);try{Qo(u.imports,re=>{this.processInjectorType(re,r,o)&&(void 0===H&&(H=[]),H.push(re))})}finally{}if(void 0!==H)for(let re=0;re<H.length;re++){const{ngModule:ue,providers:Ie}=H[re];Qo(Ie,qe=>this.processProvider(qe,ue,Ie||yn))}}this.injectorDefTypes.add(f);const T=Ji(f)||(()=>new f);this.records.set(f,Bc(T,Pd));const P=u.providers;if(null!=P&&!y){const H=n;Qo(P,re=>this.processProvider(re,H,P))}return void 0!==l&&void 0!==n.providers}processProvider(n,r,o){let u=xl(n=je(n))?n:je(n&&n.provide);const l=Zm(t=n)?Bc(void 0,t.useValue):Bc(ig(t),Pd);var t;if(xl(n)||!0!==n.multi)this.records.get(u);else{let f=this.records.get(u);f||(f=Bc(void 0,Pd,!0),f.factory=()=>ca(f.multi),this.records.set(u,f)),u=n,f.multi.push(n)}this.records.set(u,l)}hydrate(n,r){return r.value===Pd&&(r.value=tg,r.value=r.factory()),"object"==typeof r.value&&r.value&&null!==(t=r.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(r.value),r.value;var t}injectableDefInScope(n){if(!n.providedIn)return!1;const r=je(n.providedIn);return"string"==typeof r?"any"===r||r===this.scope:this.injectorDefTypes.has(r)}}function Nd(t){const n=ar(t),r=null!==n?n.factory:Ji(t);if(null!==r)return r;if(t instanceof ce)throw new Error(`Token ${Ne(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const n=t.length;if(n>0){const o=mo(n,"?");throw new Error(`Can't resolve all parameters for ${Ne(t)}: (${o.join(", ")}).`)}const r=function(t){const n=t&&(t[at]||t[dn]);if(n){const r=function(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${r}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${r}" class.`),n}return null}(t);return null!==r?()=>r.factory(t):()=>new t}(t);throw new Error("unreachable")}function ig(t,n,r){let o;if(xl(t)){const u=je(t);return Ji(u)||Nd(u)}if(Zm(t))o=()=>je(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))o=()=>t.useFactory(...ca(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))o=()=>vs(je(t.useExisting));else{const u=je(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Ji(u)||Nd(u);o=()=>new u(...ca(t.deps))}return o}function Bc(t,n,r=!1){return{factory:t,value:n,multi:r?[]:void 0}}function Zm(t){return null!==t&&"object"==typeof t&&$a in t}function xl(t){return"function"==typeof t}const lf=function(t,n,r){return function(t,n=null,r=null,o){const u=uf(t,n,r,o);return u._resolveInjectorDefTypes(),u}({name:r},n,t,r)};let hs=(()=>{class t{static create(r,o){return Array.isArray(r)?lf(r,o,""):lf(r.providers,r.parent,r.name||"")}}return t.THROW_IF_NOT_FOUND=tn,t.NULL=new sf,t.\u0275prov=Mn({token:t,providedIn:"any",factory:()=>vs(Uc)}),t.__NG_ELEMENT_ID__=-1,t})();function Uo(t,n){qs(Ou(t)[1],Hn())}function yg(t){let n=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),r=!0;const o=[t];for(;n;){let u;if(Pt(t))u=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");u=n.\u0275dir}if(u){if(r){o.push(u);const f=t;f.inputs=_f(t.inputs),f.declaredInputs=_f(t.declaredInputs),f.outputs=_f(t.outputs);const y=u.hostBindings;y&&_g(t,y);const T=u.viewQuery,P=u.contentQueries;if(T&&ry(t,T),P&&K_(t,P),ft(t.inputs,u.inputs),ft(t.declaredInputs,u.declaredInputs),ft(t.outputs,u.outputs),Pt(u)&&u.data.animation){const H=t.data;H.animation=(H.animation||[]).concat(u.data.animation)}}const l=u.features;if(l)for(let f=0;f<l.length;f++){const y=l[f];y&&y.ngInherit&&y(t),y===yg&&(r=!1)}}n=Object.getPrototypeOf(n)}!function(t){let n=0,r=null;for(let o=t.length-1;o>=0;o--){const u=t[o];u.hostVars=n+=u.hostVars,u.hostAttrs=Va(u.hostAttrs,r=Va(r,u.hostAttrs))}}(o)}function _f(t){return t===cr?{}:t===yn?[]:t}function ry(t,n){const r=t.viewQuery;t.viewQuery=r?(o,u)=>{n(o,u),r(o,u)}:n}function K_(t,n){const r=t.contentQueries;t.contentQueries=r?(o,u,l)=>{n(o,u,l),r(o,u,l)}:n}function _g(t,n){const r=t.hostBindings;t.hostBindings=r?(o,u)=>{n(o,u),r(o,u)}:n}let vg=null;function Ld(){if(!vg){const t=Ct.Symbol;if(t&&t.iterator)vg=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let r=0;r<n.length;++r){const o=n[r];"entries"!==o&&"size"!==o&&Map.prototype[o]===Map.prototype.entries&&(vg=o)}}}return vg}class Wa{constructor(n){this.wrapped=n}static wrap(n){return new Wa(n)}static unwrap(n){return Wa.isWrapped(n)?n.wrapped:n}static isWrapped(n){return n instanceof Wa}}function Vd(t){return!!Eg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ld()in t)}function Eg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Fu(t,n,r){return t[n]=r}function Bo(t,n,r){return!Object.is(t[n],r)&&(t[n]=r,!0)}function Ef(t,n,r,o){const u=ct();return Bo(u,po(),n)&&(Xt(),vu(gi(),u,t,n,r,o)),Ef}function Bd(t,n,r,o){return Bo(t,po(),r)?n+ne(r)+o:mr}function ta(t,n,r,o,u,l){const y=function(t,n,r,o){const u=Bo(t,n,r);return Bo(t,n+1,o)||u}(t,zi(),r,u);return qr(2),y?n+ne(r)+o+ne(u)+l:mr}function wf(t,n,r,o,u,l,f,y){const T=ct(),P=Xt(),H=t+20,re=P.firstCreatePass?function(t,n,r,o,u,l,f,y,T){const P=n.consts,H=Al(n,t,4,f||null,$i(P,y));Md(n,r,H,$i(P,T)),qs(n,H);const re=H.tViews=kc(2,H,o,u,l,n.directiveRegistry,n.pipeRegistry,null,n.schemas,P);return null!==n.queries&&(n.queries.template(n,H),re.queries=n.queries.embeddedTView(H)),H}(H,P,T,n,r,o,u,l,f):P.data[H];Qr(re,!1);const ue=T[11].createComment("");xh(P,T,ue,re),to(ue,T),Vc(T,T[H]=zm(ue,T,ue,re)),It(re)&&Hh(P,T,re),null!=f&&Gh(T,re,y)}function Cg(t){return us(L.lFrame.contextLView,20+t)}function Zc(t,n=Mt.Default){const r=ct();return null===r?vs(t,n):Er(Hn(),r,je(t),n)}function xg(t,n,r){const o=ct();return Bo(o,po(),n)&&no(Xt(),gi(),o,t,n,o[11],r,!1),xg}function Rf(t,n,r,o,u){const f=u?"class":"style";Xp(t,r,n.inputs[f],f,o)}function Fl(t,n,r,o){const u=ct(),l=Xt(),f=20+t,y=u[11],T=u[f]=hp(y,n,L.lFrame.currentNamespace),P=l.firstCreatePass?function(t,n,r,o,u,l,f){const y=n.consts,P=Al(n,t,2,u,$i(y,l));return Md(n,r,P,$i(y,f)),null!==P.attrs&&rf(P,P.attrs,!1),null!==P.mergedAttrs&&rf(P,P.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,P),P}(f,l,u,0,n,r,o):l.data[f];Qr(P,!0);const H=P.mergedAttrs;null!==H&&Ko(y,T,H);const re=P.classes;null!==re&&Ep(y,T,re);const ue=P.styles;null!==ue&&Nh(y,T,ue),64!=(64&P.flags)&&xh(l,u,T,P),0===L.lFrame.elementDepthCount&&to(T,u),L.lFrame.elementDepthCount++,It(P)&&(Hh(l,u,P),Vm(l,P,u)),null!==o&&Gh(u,P)}function zd(){let t=Hn();Gr()?Hi():(t=t.parent,Qr(t,!1));const n=t;L.lFrame.elementDepthCount--;const r=Xt();r.firstCreatePass&&(qs(r,t),Ve(t)&&r.queries.elementEnd(t)),null!=n.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(n)&&Rf(r,n,ct(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(n)&&Rf(r,n,ct(),n.stylesWithoutHost,!1)}function Ey(t,n,r,o){Fl(t,n,r,o),zd()}function Mg(t,n,r){const o=ct(),u=Xt(),l=t+20,f=u.firstCreatePass?function(t,n,r,o,u){const l=n.consts,f=$i(l,o),y=Al(n,t,8,"ng-container",f);return null!==f&&rf(y,f,!0),Md(n,r,y,$i(l,u)),null!==n.queries&&n.queries.elementStart(n,y),y}(l,u,o,n,r):u.data[l];Qr(f,!0);const y=o[l]=o[11].createComment("");xh(u,o,y,f),to(y,o),It(f)&&(Hh(u,o,f),Vm(u,f,o)),null!=r&&Gh(o,f)}function Og(){let t=Hn();const n=Xt();Gr()?Hi():(t=t.parent,Qr(t,!1)),n.firstCreatePass&&(qs(n,t),Ve(t)&&n.queries.elementEnd(t))}function by(){return ct()}function wy(t){return!!t&&"function"==typeof t.then}function Cy(t){return!!t&&"function"==typeof t.subscribe}const Pg=Cy;function Wd(t,n,r,o){const u=ct(),l=Xt(),f=Hn();return function(t,n,r,o,u,l,f,y){const T=It(o),H=t.firstCreatePass&&tf(t),re=n[8],ue=ef(n);let Ie=!0;if(3&o.type||y){const ut=Or(o,n),Qt=y?y(ut):ut,xt=ue.length,Gn=y?fr=>y(Tt(fr[o.index])):o.index;if(x(r)){let fr=null;if(!y&&T&&(fr=function(t,n,r,o){const u=t.cleanup;if(null!=u)for(let l=0;l<u.length-1;l+=2){const f=u[l];if(f===r&&u[l+1]===o){const y=n[7],T=u[l+2];return y.length>T?y[T]:null}"string"==typeof f&&(l+=2)}return null}(t,n,u,o.index)),null!==fr)(fr.__ngLastListenerFn__||fr).__ngNextListenerFn__=l,fr.__ngLastListenerFn__=l,Ie=!1;else{l=kg(o,n,re,l,!1);const ni=r.listen(Qt,u,l);ue.push(l,ni),H&&H.push(u,Gn,xt,xt+1)}}else l=kg(o,n,re,l,!0),Qt.addEventListener(u,l,f),ue.push(l),H&&H.push(u,Gn,xt,f)}else l=kg(o,n,re,l,!1);const qe=o.outputs;let Et;if(Ie&&null!==qe&&(Et=qe[u])){const ut=Et.length;if(ut)for(let Qt=0;Qt<ut;Qt+=2){const So=n[Et[Qt]][Et[Qt+1]].subscribe(l),$u=ue.length;ue.push(l,So),H&&H.push(u,o.index,$u,-($u+1))}}}(l,u,u[11],f,t,n,!!r,o),Wd}function xf(t,n,r,o){try{return!1!==r(o)}catch(u){return uc(t,u),!1}}function kg(t,n,r,o,u){return function l(f){if(f===Function)return o;const y=2&t.flags?Pr(t.index,n):n;0==(32&n[2])&&Qh(y);let T=xf(n,0,o,f),P=l.__ngNextListenerFn__;for(;P;)T=xf(n,0,P,f)&&T,P=P.__ngNextListenerFn__;return u&&!1===T&&(f.preventDefault(),f.returnValue=!1),T}}function Ty(t=1){return function(t){return(L.lFrame.contextLView=function(t,n){for(;t>0;)n=n[15],t--;return n}(t,L.lFrame.contextLView))[8]}(t)}function Dy(t,n){let r=null;const o=function(t){const n=t.attrs;if(null!=n){const r=n.indexOf(5);if(0==(1&r))return n[r+1]}return null}(t);for(let u=0;u<n.length;u++){const l=n[u];if("*"!==l){if(null===o?Tm(t,l,!0):Mc(o,l))return u}else r=u}return r}function qd(t){const n=ct()[16][6];if(!n.projection){const o=n.projection=mo(t?t.length:1,null),u=o.slice();let l=n.child;for(;null!==l;){const f=t?Dy(l,t):0;null!==f&&(u[f]?u[f].projectionNext=l:o[f]=l,u[f]=l),l=l.next}}}function Sy(t,n=0,r){const o=ct(),u=Xt(),l=Al(u,20+t,16,null,r||null);null===l.projection&&(l.projection=n),Hi(),64!=(64&l.flags)&&function(t,n,r){Oh(n[11],0,n,r,nc(t,r,n),Em(r.parent||n[6],r,n))}(u,o,l)}function Mf(t,n,r){return Of(t,"",n,"",r),Mf}function Of(t,n,r,o,u){const l=ct(),f=Bd(l,n,r,o);return f!==mr&&no(Xt(),gi(),l,t,f,l[11],u,!1),Of}function Vl(t,n,r,o,u){const l=t[r+1],f=null===n;let y=o?mu(l):is(l),T=!1;for(;0!==y&&(!1===T||f);){const H=t[y+1];Ug(t[y],n)&&(T=!0,t[y+1]=o?Dp(H):bd(H)),y=o?mu(H):is(H)}T&&(t[r+1]=o?bd(l):Dp(l))}function Ug(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Ba(t,n)>=0}function Pf(t,n){return function(t,n,r,o){const u=ct(),l=Xt(),f=qr(2);l.firstUpdatePass&&function(t,n,r,o){const u=t.data;if(null===u[r+1]){const l=u[Ei()],f=function(t,n){return n>=t.expandoStartIndex}(t,r);(function(t,n){return 0!=(t.flags&(n?16:32))})(l,o)&&null===n&&!f&&(n=!1),n=function(t,n,r,o){const u=function(t){const n=L.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let l=o?n.residualClasses:n.residualStyles;if(null===u)0===(o?n.classBindings:n.styleBindings)&&(r=a(r=i(null,t,n,r,o),n.attrs,o),l=null);else{const f=n.directiveStylingLast;if(-1===f||t[f]!==u)if(r=i(u,t,n,r,o),null===l){let T=function(t,n,r){const o=r?n.classBindings:n.styleBindings;if(0!==is(o))return t[mu(o)]}(t,n,o);void 0!==T&&Array.isArray(T)&&(T=i(null,t,n,T[1],o),T=a(T,n.attrs,o),function(t,n,r,o){t[mu(r?n.classBindings:n.styleBindings)]=o}(t,n,o,T))}else l=function(t,n,r){let o;const u=n.directiveEnd;for(let l=1+n.directiveStylingLast;l<u;l++)o=a(o,t[l].hostAttrs,r);return a(o,n.attrs,r)}(t,n,o)}return void 0!==l&&(o?n.residualClasses=l:n.residualStyles=l),r}(u,l,n,o),function(t,n,r,o,u,l){let f=l?n.classBindings:n.styleBindings,y=mu(f),T=is(f);t[o]=r;let H,P=!1;if(Array.isArray(r)){const re=r;H=re[1],(null===H||Ba(re,H)>0)&&(P=!0)}else H=r;if(u)if(0!==T){const ue=mu(t[y+1]);t[o+1]=Oc(ue,y),0!==ue&&(t[ue+1]=Tp(t[ue+1],o)),t[y+1]=function(t,n){return 131071&t|n<<17}(t[y+1],o)}else t[o+1]=Oc(y,0),0!==y&&(t[y+1]=Tp(t[y+1],o)),y=o;else t[o+1]=Oc(T,0),0===y?y=o:t[T+1]=Tp(t[T+1],o),T=o;P&&(t[o+1]=bd(t[o+1])),Vl(t,H,o,!0),Vl(t,H,o,!1),function(t,n,r,o,u){const l=u?t.residualClasses:t.residualStyles;null!=l&&"string"==typeof n&&Ba(l,n)>=0&&(r[o+1]=Dp(r[o+1]))}(n,H,t,o,l),f=Oc(y,T),l?n.classBindings=f:n.styleBindings=f}(u,l,n,r,f,o)}}(l,t,f,o),n!==mr&&Bo(u,f,n)&&function(t,n,r,o,u,l,f,y){if(!(3&n.type))return;const T=t.data,P=T[y+1];ae(function(t){return 1==(1&t)}(P)?W(T,n,r,u,is(P),f):void 0)||(ae(l)||function(t){return 2==(2&t)}(P)&&(l=W(T,null,r,u,y,f)),function(t,n,r,o,u){const l=x(t);if(n)u?l?t.addClass(r,o):r.classList.add(o):l?t.removeClass(r,o):r.classList.remove(o);else{let f=-1===o.indexOf("-")?void 0:pu.DashCase;if(null==u)l?t.removeStyle(r,o,f):r.style.removeProperty(o);else{const y="string"==typeof u&&u.endsWith("!important");y&&(u=u.slice(0,-10),f|=pu.Important),l?t.setStyle(r,o,u,f):r.style.setProperty(o,u,y?"important":"")}}}(o,f,Wr(Ei(),r),u,l))}(l,l.data[Ei()],u,u[11],t,u[f+1]=function(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Ne(br(t)))),t}(n,r),o,f)}(t,n,null,!0),Pf}function i(t,n,r,o,u){let l=null;const f=r.directiveEnd;let y=r.directiveStylingLast;for(-1===y?y=r.directiveStart:y++;y<f&&(l=n[y],o=a(o,l.hostAttrs,u),l!==t);)y++;return null!==t&&(r.directiveStylingLast=y),o}function a(t,n,r){const o=r?1:2;let u=-1;if(null!==n)for(let l=0;l<n.length;l++){const f=n[l];"number"==typeof f?u=f:u===o&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),yo(t,f,!!r||n[++l]))}return void 0===t?null:t}function W(t,n,r,o,u,l){const f=null===n;let y;for(;u>0;){const T=t[u],P=Array.isArray(T),H=P?T[1]:T,re=null===H;let ue=r[u+1];ue===mr&&(ue=re?yn:void 0);let Ie=re?nu(ue,o):H===o?ue:void 0;if(P&&!ae(Ie)&&(Ie=nu(T,o)),ae(Ie)&&(y=Ie,f))return y;const qe=t[u+1];u=f?mu(qe):is(qe)}if(null!==n){let T=l?n.residualClasses:n.residualStyles;null!=T&&(y=nu(T,o))}return y}function ae(t){return void 0!==t}function wt(t,n=""){const r=ct(),o=Xt(),u=t+20,l=o.firstCreatePass?Al(o,u,1,n,null):o.data[u],f=r[u]=function(t,n){return x(t)?t.createText(n):t.createTextNode(n)}(r[11],n);xh(o,r,f,l),Qr(l,!1)}function Nt(t){return nn("",t,""),Nt}function nn(t,n,r){const o=ct(),u=Bd(o,t,n,r);return u!==mr&&Eu(o,Ei(),u),nn}function Vn(t,n,r,o,u){const l=ct(),f=ta(l,t,n,r,o,u);return f!==mr&&Eu(l,Ei(),f),Vn}function Ev(t,n,r){const o=ct();return Bo(o,po(),n)&&no(Xt(),gi(),o,t,n,o[11],r,!0),Ev}const Yd=void 0;var fC=["en",[["a","p"],["AM","PM"],Yd],[["AM","PM"],Yd,Yd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yd,"{1} 'at' {0}",Yd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Nf={};function bv(t){const n=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let r=h0(n);if(r)return r;const o=n.split("-")[0];if(r=h0(o),r)return r;if("en"===o)return fC;throw new Error(`Missing locale data for the locale "${t}".`)}function d0(t){return bv(t)[ir.PluralCase]}function h0(t){return t in Nf||(Nf[t]=Ct.ng&&Ct.ng.common&&Ct.ng.common.locales&&Ct.ng.common.locales[t]),Nf[t]}var ir=(()=>((ir=ir||{})[ir.LocaleId=0]="LocaleId",ir[ir.DayPeriodsFormat=1]="DayPeriodsFormat",ir[ir.DayPeriodsStandalone=2]="DayPeriodsStandalone",ir[ir.DaysFormat=3]="DaysFormat",ir[ir.DaysStandalone=4]="DaysStandalone",ir[ir.MonthsFormat=5]="MonthsFormat",ir[ir.MonthsStandalone=6]="MonthsStandalone",ir[ir.Eras=7]="Eras",ir[ir.FirstDayOfWeek=8]="FirstDayOfWeek",ir[ir.WeekendRange=9]="WeekendRange",ir[ir.DateFormat=10]="DateFormat",ir[ir.TimeFormat=11]="TimeFormat",ir[ir.DateTimeFormat=12]="DateTimeFormat",ir[ir.NumberSymbols=13]="NumberSymbols",ir[ir.NumberFormats=14]="NumberFormats",ir[ir.CurrencyCode=15]="CurrencyCode",ir[ir.CurrencySymbol=16]="CurrencySymbol",ir[ir.CurrencyName=17]="CurrencyName",ir[ir.Currencies=18]="Currencies",ir[ir.Directionality=19]="Directionality",ir[ir.PluralCase=20]="PluralCase",ir[ir.ExtraData=21]="ExtraData",ir))();const Vy="en-US";let f0=Vy;function wv(t){pr(t,"Expected localeId to be defined"),"string"==typeof t&&(f0=t.toLowerCase().replace(/_/g,"-"))}function Tv(t,n,r,o,u){if(t=je(t),Array.isArray(t))for(let l=0;l<t.length;l++)Tv(t[l],n,r,o,u);else{const l=Xt(),f=ct();let y=xl(t)?t:je(t.provide),T=ig(t);const P=Hn(),H=1048575&P.providerIndexes,re=P.directiveStart,ue=P.providerIndexes>>20;if(xl(t)||!t.multi){const Ie=new ls(T,u,Zc),qe=Sv(y,n,u?H:H+ue,re);-1===qe?(Ln(hn(P,f),l,y),Dv(l,t,n.length),n.push(y),P.directiveStart++,P.directiveEnd++,u&&(P.providerIndexes+=1048576),r.push(Ie),f.push(Ie)):(r[qe]=Ie,f[qe]=Ie)}else{const Ie=Sv(y,n,H+ue,re),qe=Sv(y,n,H,H+ue),Et=Ie>=0&&r[Ie],ut=qe>=0&&r[qe];if(u&&!ut||!u&&!Et){Ln(hn(P,f),l,y);const Qt=function(t,n,r,o,u){const l=new ls(t,r,Zc);return l.multi=[],l.index=n,l.componentProviders=0,L0(l,u,o&&!r),l}(u?cI:lI,r.length,u,o,T);!u&&ut&&(r[qe].providerFactory=Qt),Dv(l,t,n.length,0),n.push(y),P.directiveStart++,P.directiveEnd++,u&&(P.providerIndexes+=1048576),r.push(Qt),f.push(Qt)}else Dv(l,t,Ie>-1?Ie:qe,L0(r[u?qe:Ie],T,!u&&o));!u&&o&&ut&&r[qe].componentProviders++}}}function Dv(t,n,r,o){const u=xl(n);if(u||function(t){return!!t.useClass}(n)){const f=(n.useClass||n).prototype.ngOnDestroy;if(f){const y=t.destroyHooks||(t.destroyHooks=[]);if(!u&&n.multi){const T=y.indexOf(r);-1===T?y.push(r,[o,f]):y[T+1].push(o,f)}else y.push(r,f)}}}function L0(t,n,r){return r&&t.componentProviders++,t.multi.push(n)-1}function Sv(t,n,r,o){for(let u=r;u<o;u++)if(n[u]===t)return u;return-1}function lI(t,n,r,o){return Av(this.multi,[])}function cI(t,n,r,o){const u=this.multi;let l;if(this.providerFactory){const f=this.providerFactory.componentProviders,y=Ts(r,r[1],this.providerFactory.index,o);l=y.slice(0,f),Av(u,l);for(let T=f;T<y.length;T++)l.push(y[T])}else l=[],Av(u,l);return l}function Av(t,n){for(let r=0;r<t.length;r++)n.push((0,t[r])());return n}function V0(t,n=[]){return r=>{r.providersResolver=(o,u)=>function(t,n,r){const o=Xt();if(o.firstCreatePass){const u=Pt(t);Tv(r,o.data,o.blueprint,u,!0),Tv(n,o.data,o.blueprint,u,!1)}}(o,u?u(t):t,n)}}class U0{}const j0="ngComponent";class fI{resolveComponentFactory(n){throw function(t){const n=Error(`No component factory found for ${Ne(t)}. Did you add it to @NgModule.entryComponents?`);return n[j0]=t,n}(n)}}let Ff=(()=>{class t{}return t.NULL=new fI,t})();function Hy(...t){}function Lf(t,n){return new Ul(Or(t,n))}const mI=function(){return Lf(Hn(),ct())};let Ul=(()=>{class t{constructor(r){this.nativeElement=r}}return t.__NG_ELEMENT_ID__=mI,t})();function $0(t){return t instanceof Ul?t.nativeElement:t}class Gy{}let yI=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>vI(),t})();const vI=function(){const t=ct(),r=Pr(Hn().index,t);return function(t){return t[11]}(hi(r)?r:t)};let xv=(()=>{class t{}return t.\u0275prov=Mn({token:t,providedIn:"root",factory:()=>null}),t})();class H0{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Mv=new H0("12.2.13");class G0{constructor(){}supports(n){return Vd(n)}create(n){return new CI(n)}}const wI=(t,n)=>n;class CI{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||wI}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,o=this._removalsHead,u=0,l=null;for(;r||o;){const f=!o||r&&r.currentIndex<W0(o,u,l)?r:o,y=W0(f,u,l),T=f.currentIndex;if(f===o)u--,o=o._nextRemoved;else if(r=r._next,null==f.previousIndex)u++;else{l||(l=[]);const P=y-u,H=T-u;if(P!=H){for(let ue=0;ue<P;ue++){const Ie=ue<l.length?l[ue]:l[ue]=0,qe=Ie+ue;H<=qe&&qe<P&&(l[ue]=Ie+1)}l[f.previousIndex]=H-P}}y!==T&&n(f,y,T)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!Vd(n))throw new Error(`Error trying to diff '${Ne(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let u,l,f,r=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let y=0;y<this.length;y++)l=n[y],f=this._trackByFn(y,l),null!==r&&Object.is(r.trackById,f)?(o&&(r=this._verifyReinsertion(r,l,f,y)),Object.is(r.item,l)||this._addIdentityChange(r,l)):(r=this._mismatch(r,l,f,y),o=!0),r=r._next}else u=0,function(t,n){if(Array.isArray(t))for(let r=0;r<t.length;r++)n(t[r]);else{const r=t[Ld()]();let o;for(;!(o=r.next()).done;)n(o.value)}}(n,y=>{f=this._trackByFn(u,y),null!==r&&Object.is(r.trackById,f)?(o&&(r=this._verifyReinsertion(r,y,f,u)),Object.is(r.item,y)||this._addIdentityChange(r,y)):(r=this._mismatch(r,y,f,u),o=!0),r=r._next,u++}),this.length=u;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,o,u){let l;return null===n?l=this._itTail:(l=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,l,u)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,u))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,l,u)):n=this._addAfter(new II(r,o),l,u),n}_verifyReinsertion(n,r,o,u){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==l?n=this._reinsertAfter(l,n._prev,u):n.currentIndex!=u&&(n.currentIndex=u,this._addToMoves(n,u)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const u=n._prevRemoved,l=n._nextRemoved;return null===u?this._removalsHead=l:u._nextRemoved=l,null===l?this._removalsTail=u:l._prevRemoved=u,this._insertAfter(n,r,o),this._addToMoves(n,o),n}_moveAfter(n,r,o){return this._unlink(n),this._insertAfter(n,r,o),this._addToMoves(n,o),n}_addAfter(n,r,o){return this._insertAfter(n,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,o){const u=null===r?this._itHead:r._next;return n._next=u,n._prev=r,null===u?this._itTail=n:u._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new z0),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,o=n._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new z0),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class II{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TI{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const r=n._prevDup,o=n._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class z0{constructor(){this.map=new Map}put(n){const r=n.trackById;let o=this.map.get(r);o||(o=new TI,this.map.set(r,o)),o.add(n)}get(n,r){const u=this.map.get(n);return u?u.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function W0(t,n,r){const o=t.previousIndex;if(null===o)return o;let u=0;return r&&o<r.length&&(u=r[o]),o+n+u}class q0{constructor(){}supports(n){return n instanceof Map||Eg(n)}create(){return new DI}}class DI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||Eg(n)))throw new Error(`Error trying to diff '${Ne(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,u)=>{if(r&&r.key===u)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const l=this._getOrCreateRecordForKey(u,o);r=this._insertBeforeOrAppend(r,l)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const o=n._prev;return r._next=n,r._prev=o,n._prev=r,o&&(o._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const u=this._records.get(n);this._maybeAddToChanges(u,r);const l=u._prev,f=u._next;return l&&(l._next=f),f&&(f._prev=l),u._next=null,u._prev=null,u}const o=new SI(n);return this._records.set(n,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(o=>r(n[o],o))}}class SI{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function K0(){return new zy([new G0])}let zy=(()=>{class t{constructor(r){this.factories=r}static create(r,o){if(null!=o){const u=o.factories.slice();r=r.concat(u)}return new t(r)}static extend(r){return{provide:t,useFactory:o=>t.create(r,o||K0()),deps:[[t,new ru,new Ga]]}}find(r){const o=this.factories.find(u=>u.supports(r));if(null!=o)return o;throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(t){return t.name||typeof t}(r)}'`)}}return t.\u0275prov=Mn({token:t,providedIn:"root",factory:K0}),t})();function Z0(){return new Wy([new q0])}let Wy=(()=>{class t{constructor(r){this.factories=r}static create(r,o){if(o){const u=o.factories.slice();r=r.concat(u)}return new t(r)}static extend(r){return{provide:t,useFactory:o=>t.create(r,o||Z0()),deps:[[t,new ru,new Ga]]}}find(r){const o=this.factories.find(u=>u.supports(r));if(o)return o;throw new Error(`Cannot find a differ supporting object '${r}'`)}}return t.\u0275prov=Mn({token:t,providedIn:"root",factory:Z0}),t})();function qy(t,n,r,o,u=!1){for(;null!==r;){const l=n[r.index];if(null!==l&&o.push(Tt(l)),ke(l))for(let y=10;y<l.length;y++){const T=l[y],P=T[1].firstChild;null!==P&&qy(T[1],T,P,o)}const f=r.type;if(8&f)qy(t,n,r.child,o);else if(32&f){const y=wh(r,n);let T;for(;T=y();)o.push(T)}else if(16&f){const y=yp(n,r);if(Array.isArray(y))o.push(...y);else{const T=Pu(n[16]);qy(T[1],T,y,o,!0)}}r=u?r.projectionNext:r.next}return o}class Wg{constructor(n,r){this._lView=n,this._cdRefInjectingView=r,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,r=n[1];return qy(r,n,r.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(ke(n)){const r=n[8],o=r?r.indexOf(this):-1;o>-1&&(Nu(n,o),ua(r,o))}this._attachedToViewContainer=!1}ec(this._lView[1],this._lView)}onDestroy(n){Bm(this._lView[1],this._lView,null,n)}markForCheck(){Qh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Yp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,n,r){Os(!0);try{Yp(t,n,r)}finally{Os(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,Rc(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class RI extends Wg{constructor(n){super(n),this._view=n}detectChanges(){Xh(this._view)}checkNoChanges(){!function(t){Os(!0);try{Xh(t)}finally{Os(!1)}}(this._view)}get context(){return null}}const MI=function(t){return function(t,n,r){if(nt(t)&&!r){const o=Pr(t.index,n);return new Wg(o,o)}return 47&t.type?new Wg(n[16],n):null}(Hn(),ct(),16==(16&t))};let OI=(()=>{class t{}return t.__NG_ELEMENT_ID__=MI,t})();const kI=[new q0],LI=new zy([new G0]),VI=new Wy(kI),BI=function(){return Ky(Hn(),ct())};let qg=(()=>{class t{}return t.__NG_ELEMENT_ID__=BI,t})();const jI=qg,$I=class extends jI{constructor(n,r,o){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}createEmbeddedView(n){const r=this._declarationTContainer.tViews,o=Rd(this._declarationLView,r,n,16,null,r.declTNode,null,null,null,null);o[17]=this._declarationLView[this._declarationTContainer.index];const l=this._declarationLView[19];return null!==l&&(o[19]=l.createEmbeddedView(r)),Nc(r,o,n),new Wg(o)}};function Ky(t,n){return 4&t.type?new $I(n,t,Lf(t,n)):null}class Qd{}class Y0{}const zI=function(){return X0(Hn(),ct())};let Zy=(()=>{class t{}return t.__NG_ELEMENT_ID__=zI,t})();const qI=Zy,Q0=class extends qI{constructor(n,r,o){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=o}get element(){return Lf(this._hostTNode,this._hostLView)}get injector(){return new lo(this._hostTNode,this._hostLView)}get parentInjector(){const n=Vt(this._hostTNode,this._hostLView);if(O(n)){const r=S(n,this._hostLView),o=p(n);return new lo(r[1].data[o+8],r)}return new lo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=J0(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,r,o){const u=n.createEmbeddedView(r||{});return this.insert(u,o),u}createComponent(n,r,o,u,l){const f=o||this.parentInjector;if(!l&&null==n.ngModule&&f){const T=f.get(Qd,null);T&&(l=T)}const y=n.create(f,u,void 0,l);return this.insert(y.hostView,r),y}insert(n,r){const o=n._lView,u=o[1];if(ke(o[3])){const H=this.indexOf(n);if(-1!==H)this.detach(H);else{const re=o[3],ue=new Q0(re,re[6],re[3]);ue.detach(ue.indexOf(n))}}const l=this._adjustIndex(r),f=this._lContainer;!function(t,n,r,o){const u=10+o,l=r.length;o>0&&(r[u-1][4]=n),o<l-10?(n[4]=r[u],Ua(r,10+o,n)):(r.push(n),n[4]=null),n[3]=r;const f=n[17];null!==f&&r!==f&&function(t,n){const r=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===r?t[9]=[n]:r.push(n)}(f,n);const y=n[19];null!==y&&y.insertView(t),n[2]|=128}(u,o,f,l);const y=ku(l,f),T=o[11],P=Rh(T,f[7]);return null!==P&&function(t,n,r,o,u,l){o[0]=u,o[6]=n,Rc(t,o,r,1,u,l)}(u,f[6],T,o,P,y),n.attachToViewContainerRef(),Ua(Ov(f),l,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=J0(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),o=Nu(this._lContainer,r);o&&(ua(Ov(this._lContainer),r),ec(o[1],o))}detach(n){const r=this._adjustIndex(n,-1),o=Nu(this._lContainer,r);return o&&null!=ua(Ov(this._lContainer),r)?new Wg(o):null}_adjustIndex(n,r=0){return null==n?this.length+r:n}};function J0(t){return t[8]}function Ov(t){return t[8]||(t[8]=[])}function X0(t,n){let r;const o=n[t.index];if(ke(o))r=o;else{let u;if(8&t.type)u=Tt(o);else{const l=n[11];u=l.createComment("");const f=Or(t,n);ma(l,Rh(l,f),u,function(t,n){return x(t)?t.nextSibling(n):n.nextSibling}(l,f),!1)}n[t.index]=r=zm(o,n,u,t),Vc(n,r)}return new Q0(r,t,n)}const jf={};class vb extends Ff{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=Xn(n);return new bb(r,this.ngModule)}}function Eb(t){const n=[];for(let r in t)t.hasOwnProperty(r)&&n.push({propName:t[r],templateName:r});return n}const HT=new ce("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>du});class bb extends U0{constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=n.selectors.map(Fh).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}get inputs(){return Eb(this.componentDef.inputs)}get outputs(){return Eb(this.componentDef.outputs)}create(n,r,o,u){const l=(u=u||this.ngModule)?function(t,n){return{get:(r,o,u)=>{const l=t.get(r,jf,u);return l!==jf||o===jf?l:n.get(r,o,u)}}}(n,u.injector):n,f=l.get(Gy,Z),y=l.get(xv,null),T=f.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",H=o?function(t,n,r){if(x(t))return t.selectRootElement(n,r===ve.ShadowDom);let o="string"==typeof n?t.querySelector(n):n;return o.textContent="",o}(T,o,this.componentDef.encapsulation):hp(f.createRenderer(null,this.componentDef),P,function(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(P)),re=this.componentDef.onPush?576:528,ue=function(t,n){return{components:[],scheduler:t||du,clean:O_,playerHandler:n||null,flags:0}}(),Ie=kc(0,null,null,1,0,null,null,null,null,null),qe=Rd(null,Ie,ue,re,null,null,f,T,y,l);let Et,ut;ao(qe);try{const Qt=function(t,n,r,o,u,l){const f=r[1];r[20]=t;const T=Al(f,20,2,"#host",null),P=T.mergedAttrs=n.hostAttrs;null!==P&&(rf(T,P,!0),null!==t&&(Ko(u,t,P),null!==T.classes&&Ep(u,t,T.classes),null!==T.styles&&Nh(u,t,T.styles)));const H=o.createRenderer(t,n),re=Rd(r,Um(n),null,n.onPush?64:16,r[20],T,o,H,l||null,null);return f.firstCreatePass&&(Ln(hn(T,r),f,n.type),Zh(f,T),Hm(T,r.length,1)),Vc(r,re),r[20]=re}(H,this.componentDef,qe,f,T);if(H)if(o)Ko(T,H,["ng-version",Mv.full]);else{const{attrs:xt,classes:Gn}=function(t){const n=[],r=[];let o=1,u=2;for(;o<t.length;){let l=t[o];if("string"==typeof l)2===u?""!==l&&n.push(l,t[++o]):8===u&&r.push(l);else{if(!gu(u))break;u=l}o++}return{attrs:n,classes:r}}(this.componentDef.selectors[0]);xt&&Ko(T,H,xt),Gn&&Gn.length>0&&Ep(T,H,Gn.join(" "))}if(ut=Fi(Ie,20),void 0!==r){const xt=ut.projection=[];for(let Gn=0;Gn<this.ngContentSelectors.length;Gn++){const fr=r[Gn];xt.push(null!=fr?Array.from(fr):null)}}Et=function(t,n,r,o,u){const l=r[1],f=function(t,n,r){const o=Hn();t.firstCreatePass&&(r.providersResolver&&r.providersResolver(r),Hp(t,o,n,Rl(t,n,1,null),r));const u=Ts(n,t,o.directiveStart,o);to(u,n);const l=Or(o,n);return l&&to(l,n),u}(l,r,n);if(o.components.push(f),t[8]=f,u&&u.forEach(T=>T(f,n)),n.contentQueries){const T=Hn();n.contentQueries(1,f,T.directiveStart)}const y=Hn();return!l.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Ls(y.index),Kh(r[1],y,0,y.directiveStart,y.directiveEnd,n),jm(n,f)),f}(Qt,this.componentDef,qe,ue,[Uo]),Nc(Ie,qe,null)}finally{Na()}return new WT(this.componentType,Et,Lf(ut,qe),qe,ut)}}class WT extends class{}{constructor(n,r,o,u,l){super(),this.location=o,this._rootLView=u,this._tNode=l,this.instance=r,this.hostView=this.changeDetectorRef=new RI(u),this.componentType=n}get injector(){return new lo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}const $f=new Map;class ZT extends Qd{constructor(n,r){super(),this._parent=r,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new vb(this);const o=Vr(n),u=n[ci]||null;u&&wv(u),this._bootstrapComponents=fu(o.bootstrap),this._r3Injector=uf(n,r,[{provide:Qd,useValue:this},{provide:Ff,useValue:this.componentFactoryResolver}],Ne(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,r=hs.THROW_IF_NOT_FOUND,o=Mt.Default){return n===hs||n===Qd||n===Uc?this:this._r3Injector.get(n,r,o)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class zv extends Y0{constructor(n){super(),this.moduleType=n,null!==Vr(n)&&function(t){const n=new Set;!function r(o){const u=Vr(o,!0),l=u.id;null!==l&&(function(t,n,r){if(n&&n!==r)throw new Error(`Duplicate module registered for ${t} - ${Ne(n)} vs ${Ne(n.name)}`)}(l,$f.get(l),o),$f.set(l,o));const f=fu(u.imports);for(const y of f)n.has(y)||(n.add(y),r(y))}(t)}(n)}create(n){return new ZT(this.moduleType,n)}}function Ib(t,n,r){const o=ti()+t,u=ct();return u[o]===mr?Fu(u,o,r?n.call(r):n()):function(t,n){return t[n]}(u,o)}function Tb(t,n,r,o,u,l){const f=n+r;return Bo(t,f,u)?Fu(t,f+1,l?o.call(l,u):o(u)):function(t,n){const r=t[n];return r===mr?void 0:r}(t,f+1)}function xb(t,n){const r=Xt();let o;const u=t+20;r.firstCreatePass?(o=function(t,n){if(n)for(let r=n.length-1;r>=0;r--){const o=n[r];if(t===o.name)return o}throw new rt("302",`The pipe '${t}' could not be found!`)}(n,r.pipeRegistry),r.data[u]=o,o.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(u,o.onDestroy)):o=r.data[u];const l=o.factory||(o.factory=Ji(o.type)),f=Yt(Zc);try{const y=ee(!1),T=l();return ee(y),function(t,n,r,o){r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),n[r]=o}(r,ct(),u,T),T}finally{Yt(f)}}function Mb(t,n,r){const o=t+20,u=ct(),l=us(u,o);return function(t,n){Wa.isWrapped(n)&&(n=Wa.unwrap(n),t[zi()]=mr);return n}(u,function(t,n){return t[1].data[n].pure}(u,o)?Tb(u,ti(),n,l.transform,r,l):l.transform(r))}function Wv(t){return n=>{setTimeout(t,void 0,n)}}const Bl=class extends Pe.xQ{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,r,o){var u,l,f;let y=n,T=r||(()=>null),P=o;if(n&&"object"==typeof n){const re=n;y=null===(u=re.next)||void 0===u?void 0:u.bind(re),T=null===(l=re.error)||void 0===l?void 0:l.bind(re),P=null===(f=re.complete)||void 0===f?void 0:f.bind(re)}this.__isAsync&&(T=Wv(T),y&&(y=Wv(y)),P&&(P=Wv(P)));const H=super.subscribe({next:y,error:T,complete:P});return n instanceof Ge.w&&n.add(H),H}};function dD(){return this._results[Ld()]()}class e_{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const r=Ld(),o=e_.prototype;o[r]||(o[r]=dD)}get changes(){return this._changes||(this._changes=new Bl)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){const o=this;o.dirty=!1;const u=Ys(n);(this._changesDetected=!function(t,n,r){if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++){let u=t[o],l=n[o];if(r&&(u=r(u),l=r(l)),l!==u)return!1}return!0}(o._results,u,r))&&(o._results=u,o.length=u.length,o.last=u[this.length-1],o.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class qv{constructor(n){this.queryList=n,this.matches=null}clone(){return new qv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Kv{constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const o=null!==n.contentQueries?n.contentQueries[0]:r.length,u=[];for(let l=0;l<o;l++){const f=r.getByIndex(l);u.push(this.queries[f.indexInDeclarationView].clone())}return new Kv(u)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==Ub(n,r).matches&&this.queries[r].setDirty()}}class Ob{constructor(n,r,o=null){this.predicate=n,this.flags=r,this.read=o}}class Zv{constructor(n=[]){this.queries=n}elementStart(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let o=0;o<this.length;o++){const u=null!==r?r.length:0,l=this.getByIndex(o).embeddedTView(n,u);l&&(l.indexInDeclarationView=o,null!==r?r.push(l):r=[l])}return null!==r?new Zv(r):null}template(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Yv{constructor(n,r=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new Yv(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let u=0;u<o.length;u++){const l=o[u];this.matchTNodeWithReadOption(n,r,pD(r,l)),this.matchTNodeWithReadOption(n,r,ts(r,n,l,!1,!1))}else o===qg?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,ts(r,n,o,!1,!1))}matchTNodeWithReadOption(n,r,o){if(null!==o){const u=this.metadata.read;if(null!==u)if(u===Ul||u===Zy||u===qg&&4&r.type)this.addMatch(r.index,-2);else{const l=ts(r,n,u,!1,!1);null!==l&&this.addMatch(r.index,l)}else this.addMatch(r.index,o)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function pD(t,n){const r=t.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===n)return r[o+1];return null}function mD(t,n,r,o){return-1===r?function(t,n){return 11&t.type?Lf(t,n):4&t.type?Ky(t,n):null}(n,t):-2===r?function(t,n,r){return r===Ul?Lf(n,t):r===qg?Ky(n,t):r===Zy?X0(n,t):void 0}(t,n,o):Ts(t,t[1],r,n)}function Pb(t,n,r,o){const u=n[19].queries[o];if(null===u.matches){const l=t.data,f=r.matches,y=[];for(let T=0;T<f.length;T+=2){const P=f[T];y.push(P<0?null:mD(n,l[P],f[T+1],r.metadata.read))}u.matches=y}return u.matches}function Qv(t,n,r,o){const u=t.queries.getByIndex(r),l=u.matches;if(null!==l){const f=Pb(t,n,u,r);for(let y=0;y<l.length;y+=2){const T=l[y];if(T>0)o.push(f[y/2]);else{const P=l[y+1],H=n[-T];for(let re=10;re<H.length;re++){const ue=H[re];ue[17]===ue[3]&&Qv(ue[1],ue,P,o)}if(null!==H[9]){const re=H[9];for(let ue=0;ue<re.length;ue++){const Ie=re[ue];Qv(Ie[1],Ie,P,o)}}}}}return o}function Nb(t){const n=ct(),r=Xt(),o=Wo();Ao(o+1);const u=Ub(r,o);if(t.dirty&&bo(n)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const l=u.crossesNgTemplate?Qv(r,n,o,[]):Pb(r,n,u,o);t.reset(l,$0),t.notifyOnChanges()}return!0}return!1}function kb(t,n,r,o){const u=Xt();if(u.firstCreatePass){const l=Hn();(function(t,n,r){null===t.queries&&(t.queries=new Zv),t.queries.track(new Yv(n,r))})(u,new Ob(n,r,o),l.index),function(t,n){const r=t.contentQueries||(t.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(t.queries.length-1,n)}(u,t),2==(2&r)&&(u.staticContentQueries=!0)}!function(t,n,r){const o=new e_(4==(4&r));Bm(t,n,o,o.destroy),null===n[19]&&(n[19]=new Kv),n[19].queries.push(new qv(o))}(u,ct(),r)}function Fb(){return t=ct(),n=Wo(),t[19].queries[n].queryList;var t,n}function Ub(t,n){return t.queries.getByIndex(n)}function Bb(t,n){return Ky(t,n)}const rE=new ce("Application Initializer");let Gf=(()=>{class t{constructor(r){this.appInits=r,this.resolve=Hy,this.reject=Hy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,u)=>{this.resolve=o,this.reject=u})}runInitializers(){if(this.initialized)return;const r=[],o=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const l=this.appInits[u]();if(wy(l))r.push(l);else if(Pg(l)){const f=new Promise((y,T)=>{l.subscribe({complete:y,error:T})});r.push(f)}}Promise.all(r).then(()=>{o()}).catch(u=>{this.reject(u)}),0===r.length&&o(),this.initialized=!0}}return t.\u0275fac=function(r){return new(r||t)(vs(rE,8))},t.\u0275prov=Mn({token:t,factory:t.\u0275fac}),t})();const iw=new ce("AppId"),qD={provide:iw,useFactory:function(){return`${iE()}${iE()}${iE()}`},deps:[]};function iE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sw=new ce("Platform Initializer"),ow=new ce("Platform ID"),aw=new ce("appBootstrapListener");let uw=(()=>{class t{log(r){console.log(r)}warn(r){console.warn(r)}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Mn({token:t,factory:t.\u0275fac}),t})();const r_=new ce("LocaleId"),lw=new ce("DefaultCurrencyCode");class ZD{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}const sE=function(t){return new zv(t)},YD=sE,QD=function(t){return Promise.resolve(sE(t))},cw=function(t){const n=sE(t),o=fu(Vr(t).declarations).reduce((u,l)=>{const f=Xn(l);return f&&u.push(new bb(f)),u},[]);return new ZD(n,o)},JD=cw,XD=function(t){return Promise.resolve(cw(t))};let sm=(()=>{class t{constructor(){this.compileModuleSync=YD,this.compileModuleAsync=QD,this.compileModuleAndAllComponentsSync=JD,this.compileModuleAndAllComponentsAsync=XD}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Mn({token:t,factory:t.\u0275fac}),t})();const nS=(()=>Promise.resolve(0))();function oE(t){"undefined"==typeof Zone?nS.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Tu{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bl(!1),this.onMicrotaskEmpty=new Bl(!1),this.onStable=new Bl(!1),this.onError=new Bl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!o&&r,u.shouldCoalesceRunChangeDetection=o,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function(){let t=Ct.requestAnimationFrame,n=Ct.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(t){const n=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ct,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,uE(t),t.isCheckStableRunning=!0,aE(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),uE(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,o,u,l,f,y)=>{try{return dw(t),r.invokeTask(u,l,f,y)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||t.shouldCoalesceRunChangeDetection)&&n(),hw(t)}},onInvoke:(r,o,u,l,f,y,T)=>{try{return dw(t),r.invoke(u,l,f,y,T)}finally{t.shouldCoalesceRunChangeDetection&&n(),hw(t)}},onHasTask:(r,o,u,l)=>{r.hasTask(u,l),o===u&&("microTask"==l.change?(t._hasPendingMicrotasks=l.microTask,uE(t),aE(t)):"macroTask"==l.change&&(t.hasPendingMacrotasks=l.macroTask))},onHandleError:(r,o,u,l)=>(r.handleError(u,l),t.runOutsideAngular(()=>t.onError.emit(l)),!1)})}(u)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Tu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Tu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,r,o){return this._inner.run(n,r,o)}runTask(n,r,o,u){const l=this._inner,f=l.scheduleEventTask("NgZoneEvent: "+u,n,iS,Hy,Hy);try{return l.runTask(f,r,o)}finally{l.cancelTask(f)}}runGuarded(n,r,o){return this._inner.runGuarded(n,r,o)}runOutsideAngular(n){return this._outer.run(n)}}const iS={};function aE(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function uE(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function dw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function hw(t){t._nesting--,aE(t)}class aS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bl,this.onMicrotaskEmpty=new Bl,this.onStable=new Bl,this.onError=new Bl}run(n,r,o){return n.apply(r,o)}runGuarded(n,r,o){return n.apply(r,o)}runOutsideAngular(n){return n()}runTask(n,r,o,u){return n.apply(r,o)}}let fw=(()=>{class t{constructor(r){this._ngZone=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Tu.assertNotInAngularZone(),oE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())oE(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,u){let l=-1;o&&o>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==l),r(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:r,timeoutId:l,updateCb:u})}whenStable(r,o,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(r,o,u){return[]}}return t.\u0275fac=function(r){return new(r||t)(vs(Tu))},t.\u0275prov=Mn({token:t,factory:t.\u0275fac}),t})(),pw=(()=>{class t{constructor(){this._applications=new Map,lE.addToWindow(this)}registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return lE.findTestabilityInTree(this,r,o)}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Mn({token:t,factory:t.\u0275fac}),t})();class uS{addToWindow(n){}findTestabilityInTree(n,r,o){return null}}function lS(t){lE=t}let lE=new uS,gw=!0,mw=!1;function cE(){return mw=!0,gw}function cS(){if(mw)throw new Error("Cannot enable prod mode after platform setup.");gw=!1}let al;const yw=new ce("AllowMultipleToken");class yS{constructor(n,r){this.name=n,this.token=r}}function _w(t,n,r=[]){const o=`Platform: ${n}`,u=new ce(o);return(l=[])=>{let f=vw();if(!f||f.injector.get(yw,!1))if(t)t(r.concat(l).concat({provide:u,useValue:!0}));else{const y=r.concat(l).concat({provide:u,useValue:!0},{provide:Od,useValue:"platform"});!function(t){if(al&&!al.destroyed&&!al.injector.get(yw,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");al=t.get(Ew);const n=t.get(sw,null);n&&n.forEach(r=>r())}(hs.create({providers:y,name:o}))}return function(t){const n=vw();if(!n)throw new Error("No platform exists!");if(!n.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return n}(u)}}function vw(){return al&&!al.destroyed?al:null}let Ew=(()=>{class t{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,o){const y=function(t,n){let r;return r="noop"===t?new aS:("zone.js"===t?void 0:t)||new Tu({enableLongStackTrace:cE(),shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),r}(o?o.ngZone:void 0,{ngZoneEventCoalescing:o&&o.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:o&&o.ngZoneRunCoalescing||!1}),T=[{provide:Tu,useValue:y}];return y.run(()=>{const P=hs.create({providers:T,parent:this.injector,name:r.moduleType.name}),H=r.create(P),re=H.injector.get(Sn,null);if(!re)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const ue=y.onError.subscribe({next:Ie=>{re.handleError(Ie)}});H.onDestroy(()=>{dE(this._modules,H),ue.unsubscribe()})}),function(t,n,r){try{const o=r();return wy(o)?o.catch(u=>{throw n.runOutsideAngular(()=>t.handleError(u)),u}):o}catch(o){throw n.runOutsideAngular(()=>t.handleError(o)),o}}(re,y,()=>{const ue=H.injector.get(Gf);return ue.runInitializers(),ue.donePromise.then(()=>(wv(H.injector.get(r_,Vy)||Vy),this._moduleDoBootstrap(H),H))})})}bootstrapModule(r,o=[]){const u=bw({},o);return function(t,n,r){const o=new zv(r);return Promise.resolve(o)}(0,0,r).then(l=>this.bootstrapModuleFactory(l,u))}_moduleDoBootstrap(r){const o=r.injector.get(om);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(u=>o.bootstrap(u));else{if(!r.instance.ngDoBootstrap)throw new Error(`The module ${Ne(r.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);r.instance.ngDoBootstrap(o)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(r){return new(r||t)(vs(hs))},t.\u0275prov=Mn({token:t,factory:t.\u0275fac}),t})();function bw(t,n){return Array.isArray(n)?n.reduce(bw,t):Object.assign(Object.assign({},t),n)}let om=(()=>{class t{constructor(r,o,u,l,f){this._zone=r,this._injector=o,this._exceptionHandler=u,this._componentFactoryResolver=l,this._initStatus=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new _.y(P=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{P.next(this._stable),P.complete()})}),T=new _.y(P=>{let H;this._zone.runOutsideAngular(()=>{H=this._zone.onStable.subscribe(()=>{Tu.assertNotInAngularZone(),oE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,P.next(!0))})})});const re=this._zone.onUnstable.subscribe(()=>{Tu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{P.next(!1)}))});return()=>{H.unsubscribe(),re.unsubscribe()}});this.isStable=function(...t){let n=Number.POSITIVE_INFINITY,r=null,o=t[t.length-1];return(0,I.K)(o)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof o&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof _.y?t[0]:(0,K.J)(n)((0,Ae.n)(t,r))}(y,T.pipe(t=>(0,J.x)()(function(t,n){return function(o){let u;u="function"==typeof t?t:function(){return t};const l=Object.create(o,Qe.N);return l.source=o,l.subjectFactory=u,l}}(fe)(t))))}bootstrap(r,o){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let u;u=r instanceof U0?r:this._componentFactoryResolver.resolveComponentFactory(r),this.componentTypes.push(u.componentType);const l=function(t){return t.isBoundToModule}(u)?void 0:this._injector.get(Qd),y=u.create(hs.NULL,[],o||u.selector,l),T=y.location.nativeElement,P=y.injector.get(fw,null),H=P&&y.injector.get(pw);return P&&H&&H.registerApplication(T,P),y.onDestroy(()=>{this.detachView(y.hostView),dE(this.components,y),H&&H.unregisterApplication(T)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(r))}finally{this._runningTick=!1}}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;dE(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(aw,[]).concat(this._bootstrapListeners).forEach(u=>u(r))}ngOnDestroy(){this._views.slice().forEach(r=>r.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(r){return new(r||t)(vs(Tu),vs(hs),vs(Sn),vs(Ff),vs(Gf))},t.\u0275prov=Mn({token:t,factory:t.\u0275fac}),t})();function dE(t,n){const r=t.indexOf(n);r>-1&&t.splice(r,1)}class CS{}class TS{}const DS={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let SS=(()=>{class t{constructor(r,o){this._compiler=r,this._config=o||DS}load(r){return this.loadAndCompile(r)}loadAndCompile(r){let[o,u]=r.split("#");return void 0===u&&(u="default"),N(8255)(o).then(l=>l[u]).then(l=>Tw(l,o,u)).then(l=>this._compiler.compileModuleAsync(l))}loadFactory(r){let[o,u]=r.split("#"),l="NgFactory";return void 0===u&&(u="default",l=""),N(8255)(this._config.factoryPathPrefix+o+this._config.factoryPathSuffix).then(f=>f[u+l]).then(f=>Tw(f,o,u))}}return t.\u0275fac=function(r){return new(r||t)(vs(sm),vs(TS,8))},t.\u0275prov=Mn({token:t,factory:t.\u0275fac}),t})();function Tw(t,n,r){if(!t)throw new Error(`Cannot find '${r}' in '${n}'`);return t}const kS=function(t){return null},LS=_w(null,"core",[{provide:ow,useValue:"unknown"},{provide:Ew,deps:[hs]},{provide:pw,deps:[]},{provide:uw,deps:[]}]),$S=[{provide:om,useClass:om,deps:[Tu,hs,Sn,Ff,Gf]},{provide:HT,deps:[Tu],useFactory:function(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(r){n.push(r)}}},{provide:Gf,useClass:Gf,deps:[[new Ga,rE]]},{provide:sm,useClass:sm,deps:[]},qD,{provide:zy,useFactory:function(){return LI},deps:[]},{provide:Wy,useFactory:function(){return VI},deps:[]},{provide:r_,useFactory:function(t){return wv(t=t||"undefined"!=typeof $localize&&$localize.locale||Vy),t},deps:[[new Ha(r_),new Ga,new ru]]},{provide:lw,useValue:"USD"}];let GS=(()=>{class t{constructor(r){}}return t.\u0275fac=function(r){return new(r||t)(vs(om))},t.\u0275mod=Pi({type:t}),t.\u0275inj=Yn({providers:$S}),t})()},4953:($t,ze,N)=>{"use strict";N.d(ze,{nm:()=>vr});var _=N(8704);N(639),N(2329);var Re=N(8239),tt=N(8026),rt=N(3910),Lt=N(3854),jt=N(5422);const ne=new Map,oe={activated:!1,tokenObservers:[]},_e={initialized:!1,enabled:!1};function me(ke){return ne.get(ke)||oe}function de(ke,Ve){ne.set(ke,Ve)}function Je(){return _e}class Nn{constructor(Ve,nt,It,Pt,ln){if(this.operation=Ve,this.retryPolicy=nt,this.getWaitDuration=It,this.lowerBound=Pt,this.upperBound=ln,this.pending=null,this.nextErrorWaitInterval=Pt,Pt>ln)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ve){var nt=this;return(0,Re.Z)(function*(){nt.stop();try{nt.pending=new Lt.BH,yield(ke=nt.getNextRun(Ve),new Promise(Ve=>{setTimeout(Ve,ke)})),nt.pending.resolve(),yield nt.pending.promise,nt.pending=new Lt.BH,yield nt.operation(),nt.pending.resolve(),yield nt.pending.promise,nt.process(!0).catch(()=>{})}catch(It){nt.retryPolicy(It)?nt.process(!1).catch(()=>{}):nt.stop()}var ke})()}getNextRun(Ve){if(Ve)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const nt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),nt}}}const xn=new Lt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Dn(ke){if(!me(ke).activated)throw xn.create("use-before-activation",{appName:ke.name})}function zn(ke,Ve){return $r.apply(this,arguments)}function $r(){return($r=(0,Re.Z)(function*({url:ke,body:Ve},nt){const It={"Content-Type":"application/json"},Pt=nt.getImmediate({optional:!0});Pt&&(It["X-Firebase-Client"]=Pt.getPlatformInfoString());const ln={method:"POST",body:JSON.stringify(Ve),headers:It};let or,ii;try{or=yield fetch(ke,ln)}catch(vi){throw xn.create("fetch-network-error",{originalErrorMessage:vi.message})}if(200!==or.status)throw xn.create("fetch-status-error",{httpStatus:or.status});try{ii=yield or.json()}catch(vi){throw xn.create("fetch-parse-error",{originalErrorMessage:vi.message})}const kn=ii.ttl.match(/^([\d.]+)(s)$/);if(!kn||!kn[2]||isNaN(Number(kn[1])))throw xn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${ii.ttl}`});const Ui=1e3*Number(kn[1]),fi=Date.now();return{token:ii.attestationToken,expireTimeMillis:fi+Ui,issuedAtTimeMillis:fi}})).apply(this,arguments)}function Hr(ke,Ve){const{projectId:nt,appId:It,apiKey:Pt}=ke.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${nt}/apps/${It}:exchangeDebugToken?key=${Pt}`,body:{debug_token:Ve}}}const ur="firebase-app-check-store";let qt=null;function Kt(){return qt||(qt=new Promise((ke,Ve)=>{try{const nt=indexedDB.open("firebase-app-check-database",1);nt.onsuccess=It=>{ke(It.target.result)},nt.onerror=It=>{var Pt;Ve(xn.create("storage-open",{originalErrorMessage:null===(Pt=It.target.error)||void 0===Pt?void 0:Pt.message}))},nt.onupgradeneeded=It=>{const Pt=It.target.result;switch(It.oldVersion){case 0:Pt.createObjectStore(ur,{keyPath:"compositeKey"})}}}catch(nt){Ve(xn.create("storage-open",{originalErrorMessage:nt.message}))}}),qt)}function bn(){return(bn=(0,Re.Z)(function*(ke,Ve){const It=(yield Kt()).transaction(ur,"readwrite"),ln=It.objectStore(ur).put({compositeKey:ke,value:Ve});return new Promise((or,ii)=>{ln.onsuccess=kn=>{or()},It.onerror=kn=>{var Ui;ii(xn.create("storage-set",{originalErrorMessage:null===(Ui=kn.target.error)||void 0===Ui?void 0:Ui.message}))}})})).apply(this,arguments)}const lr=new jt.Yd("@firebase/app-check");function Nr(ke,Ve){return(0,Lt.hl)()?function(ke,Ve){return function(ke,Ve){return bn.apply(this,arguments)}(function(ke){return`${ke.options.appId}-${ke.name}`}(ke),Ve)}(ke,Ve).catch(nt=>{lr.warn(`Failed to write token to IndexedDB. Error: ${nt}`)}):Promise.resolve()}function Te(){return Je().enabled}function Se(){return mt.apply(this,arguments)}function mt(){return(mt=(0,Re.Z)(function*(){const ke=Je();if(ke.enabled&&ke.token)return ke.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ct={error:"UNKNOWN_ERROR"};function un(ke){return Lt.US.encodeString(JSON.stringify(ke),!1)}function nr(ke){return cr.apply(this,arguments)}function cr(){return(cr=(0,Re.Z)(function*(ke,Ve=!1){const nt=ke.app;Dn(nt);const It=me(nt);let ln,Pt=It.token;if(!Pt){const kn=yield It.cachedTokenPromise;kn&&ci(kn)&&(Pt=kn)}if(!Ve&&Pt&&ci(Pt))return{token:Pt.token};let ii,or=!1;if(Te()){It.exchangeTokenPromise||(It.exchangeTokenPromise=zn(Hr(nt,yield Se()),ke.platformLoggerProvider).then(Ui=>(It.exchangeTokenPromise=void 0,Ui)),or=!0);const kn=yield It.exchangeTokenPromise;return yield Nr(nt,kn),de(nt,Object.assign(Object.assign({},It),{token:kn})),{token:kn.token}}try{It.exchangeTokenPromise||(It.exchangeTokenPromise=It.provider.getToken().then(kn=>(It.exchangeTokenPromise=void 0,kn)),or=!0),Pt=yield It.exchangeTokenPromise}catch(kn){"appCheck/throttled"===kn.code?lr.warn(kn.message):lr.error(kn),ln=kn}return Pt?(ii={token:Pt.token},de(nt,Object.assign(Object.assign({},It),{token:Pt})),yield Nr(nt,Pt)):ii=kr(ln),or&&Jn(nt,ii),ii})).apply(this,arguments)}function Zr(ke,Ve){const nt=me(ke),It=nt.tokenObservers.filter(Pt=>Pt.next!==Ve);0===It.length&&nt.tokenRefresher&&nt.tokenRefresher.isRunning()&&nt.tokenRefresher.stop(),de(ke,Object.assign(Object.assign({},nt),{tokenObservers:It}))}function jn(ke){const{app:Ve}=ke,nt=me(Ve);let It=nt.tokenRefresher;It||(It=function(ke){const{app:Ve}=ke;return new Nn((0,Re.Z)(function*(){let It;if(It=me(Ve).token?yield nr(ke,!0):yield nr(ke),It.error)throw It.error}),()=>!0,()=>{const nt=me(Ve);if(nt.token){let It=nt.token.issuedAtTimeMillis+.5*(nt.token.expireTimeMillis-nt.token.issuedAtTimeMillis)+3e5;return It=Math.min(It,nt.token.expireTimeMillis-3e5),Math.max(0,It-Date.now())}return 0},3e4,96e4)}(ke),de(Ve,Object.assign(Object.assign({},nt),{tokenRefresher:It}))),!It.isRunning()&&nt.isTokenAutoRefreshEnabled&&It.start()}function Jn(ke,Ve){const nt=me(ke).tokenObservers;for(const It of nt)try{"EXTERNAL"===It.type&&null!=Ve.error?It.error(Ve.error):It.next(Ve)}catch(Pt){}}function ci(ke){return ke.expireTimeMillis-Date.now()>0}function kr(ke){return{token:un(Ct),error:ke}}class wi{constructor(Ve,nt){this.app=Ve,this.platformLoggerProvider=nt}_delete(){const{tokenObservers:Ve}=me(this.app);for(const nt of Ve)Zr(this.app,nt.next);return Promise.resolve()}}const cn="app-check-internal";(0,tt._registerComponent)(new rt.wA("app-check",ke=>function(ke,Ve){return new wi(ke,Ve)}(ke.getProvider("app").getImmediate(),ke.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ke,Ve,nt)=>{ke.getProvider(cn).initialize()})),(0,tt._registerComponent)(new rt.wA(cn,ke=>function(ke){return{getToken:Ve=>nr(ke,Ve),addTokenListener:Ve=>function(ke,Ve,nt,It){const{app:Pt}=ke,ln=me(Pt),or={next:nt,error:It,type:Ve};if(de(Pt,Object.assign(Object.assign({},ln),{tokenObservers:[...ln.tokenObservers,or]})),ln.token&&ci(ln.token)){const ii=ln.token;Promise.resolve().then(()=>{nt({token:ii.token}),jn(ke)}).catch(()=>{})}ln.cachedTokenPromise.then(()=>jn(ke))}(ke,"INTERNAL",Ve),removeTokenListener:Ve=>Zr(ke.app,Ve)}}(ke.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,tt.registerVersion)("@firebase/app-check","0.5.2");class vr{constructor(){return(0,_.vb)("app-check")}}"undefined"!=typeof window&&window},8778:($t,ze,N)=>{"use strict";N.d(ze,{zQ:()=>ur,rT:()=>Mn,f7:()=>Yn,L6:()=>$r,_Q:()=>bi,lh:()=>Hr,Qv:()=>zn,nw:()=>ar});var _=N(639),I=N(1827),K=N(2669),Ae=N(9753);const Ee=(0,Ae.d)(qt=>function(){qt(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Pe=N(8208),Ge=N(776);let Qe=(()=>{class qt extends I.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(at){const dt=new we(this,this);return dt.operator=at,dt}_throwIfClosed(){if(this.closed)throw new Ee}next(at){(0,Ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const dt=this.observers.slice();for(const dn of dt)dn.next(at)}})}error(at){(0,Ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=at;const{observers:dt}=this;for(;dt.length;)dt.shift().error(at)}})}complete(){(0,Ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:at}=this;for(;at.length;)at.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var at;return(null===(at=this.observers)||void 0===at?void 0:at.length)>0}_trySubscribe(at){return this._throwIfClosed(),super._trySubscribe(at)}_subscribe(at){return this._throwIfClosed(),this._checkFinalizedStatuses(at),this._innerSubscribe(at)}_innerSubscribe(at){const{hasError:dt,isStopped:dn,observers:mn}=this;return dt||dn?K.Lc:(mn.push(at),new K.w0(()=>(0,Pe.P)(mn,at)))}_checkFinalizedStatuses(at){const{hasError:dt,thrownError:dn,isStopped:mn}=this;dt?at.error(dn):mn&&at.complete()}asObservable(){const at=new I.y;return at.source=this,at}}return qt.create=(Kt,at)=>new we(Kt,at),qt})();class we extends Qe{constructor(Kt,at){super(),this.destination=Kt,this.source=at}next(Kt){var at,dt;null===(dt=null===(at=this.destination)||void 0===at?void 0:at.next)||void 0===dt||dt.call(at,Kt)}error(Kt){var at,dt;null===(dt=null===(at=this.destination)||void 0===at?void 0:at.error)||void 0===dt||dt.call(at,Kt)}complete(){var Kt,at;null===(at=null===(Kt=this.destination)||void 0===Kt?void 0:Kt.complete)||void 0===at||at.call(Kt)}_subscribe(Kt){var at,dt;return null!==(dt=null===(at=this.source)||void 0===at?void 0:at.subscribe(Kt))&&void 0!==dt?dt:K.Lc}}var X=N(2253),J=N(3413);const fe=new I.y(qt=>qt.complete());var ft=N(7375),Ne=N(1179),Me=N(4323),We=N(1373);class je extends Qe{constructor(Kt=1/0,at=1/0,dt=We.l){super(),this._bufferSize=Kt,this._windowTime=at,this._timestampProvider=dt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=at===1/0,this._bufferSize=Math.max(1,Kt),this._windowTime=Math.max(1,at)}next(Kt){const{isStopped:at,_buffer:dt,_infiniteTimeWindow:dn,_timestampProvider:mn,_windowTime:Mt}=this;at||(dt.push(Kt),!dn&&dt.push(mn.now()+Mt)),this._trimBuffer(),super.next(Kt)}_subscribe(Kt){this._throwIfClosed(),this._trimBuffer();const at=this._innerSubscribe(Kt),{_infiniteTimeWindow:dt,_buffer:dn}=this,mn=dn.slice();for(let Mt=0;Mt<mn.length&&!Kt.closed;Mt+=dt?1:2)Kt.next(mn[Mt]);return this._checkFinalizedStatuses(Kt),at}_trimBuffer(){const{_bufferSize:Kt,_timestampProvider:at,_buffer:dt,_infiniteTimeWindow:dn}=this,mn=(dn?1:2)*Kt;if(Kt<1/0&&mn<dt.length&&dt.splice(0,dt.length-mn),!dn){const Mt=at.now();let bn=0;for(let Ht=1;Ht<dt.length&&dt[Ht]<=Mt;Ht+=2)bn=Ht;bn&&dt.splice(0,bn+1)}}}var Re=N(3201),tt=N(1894);function rt(qt){return qt<=0?()=>fe:(0,Re.e)((Kt,at)=>{let dt=0;Kt.subscribe(new tt.Q(at,dn=>{++dt<=qt&&(at.next(dn),qt<=dt&&at.complete())}))})}var Lt=N(3704);function ne(qt,Kt,...at){return!0===Kt?(qt(),null):!1===Kt?null:Kt(...at).pipe(rt(1)).subscribe(()=>qt())}function oe(qt,Kt,at){var dt,dn;let mn,Mt=!1;return qt&&"object"==typeof qt?(mn=null!==(dt=qt.bufferSize)&&void 0!==dt?dt:1/0,Kt=null!==(dn=qt.windowTime)&&void 0!==dn?dn:1/0,Mt=!!qt.refCount,at=qt.scheduler):mn=null!=qt?qt:1/0,function(qt={}){const{connector:Kt=(()=>new Qe),resetOnError:at=!0,resetOnComplete:dt=!0,resetOnRefCountZero:dn=!0}=qt;return mn=>{let Mt=null,bn=null,Ht=null,Yt=0,Ar=!1,lr=!1;const Zn=()=>{null==bn||bn.unsubscribe(),bn=null},dr=()=>{Zn(),Mt=Ht=null,Ar=lr=!1},Nr=()=>{const _r=Mt;dr(),null==_r||_r.unsubscribe()};return(0,Re.e)((_r,ve)=>{Yt++,!lr&&!Ar&&Zn();const Te=Ht=null!=Ht?Ht:Kt();ve.add(()=>{Yt--,0===Yt&&!lr&&!Ar&&(bn=ne(Nr,dn))}),Te.subscribe(ve),Mt||(Mt=new Lt.Hp({next:Se=>Te.next(Se),error:Se=>{lr=!0,Zn(),bn=ne(dr,at,Se),Te.error(Se)},complete:()=>{Ar=!0,Zn(),bn=ne(dr,dt),Te.complete()}}),(0,Ne.D)(_r).subscribe(Mt))})(mn)}}({connector:()=>new je(mn,Kt,at),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Mt})}const _e=(0,Ae.d)(qt=>function(){qt(this),this.name="EmptyError",this.message="no elements in sequence"});var me=N(1971);function de(qt){return(0,Re.e)((Kt,at)=>{let dt=!1;Kt.subscribe(new tt.Q(at,dn=>{dt=!0,at.next(dn)},()=>{dt||at.next(qt),at.complete()}))})}function Je(qt=ye){return(0,Re.e)((Kt,at)=>{let dt=!1;Kt.subscribe(new tt.Q(at,dn=>{dt=!0,at.next(dn)},()=>dt?at.complete():at.error(qt())))})}function ye(){return new _e}var it=N(576),Bt=N(1926),At=N(6361);function an(qt,Kt){return(0,At.m)(Kt)?(0,Bt.w)(()=>qt,Kt):(0,Bt.w)(()=>qt)}var Nn=N(8341),vn=N(6885),Kn=N(8127),xn=N(8704),En=N(8939),Dn=N(8583),St=N(4953);N(7841);const zn=new _.OlP("angularfire2.auth.use-emulator"),$r=new _.OlP("angularfire2.auth.settings"),bi=new _.OlP("angularfire2.auth.tenant-id"),Mn=new _.OlP("angularfire2.auth.langugage-code"),Hr=new _.OlP("angularfire2.auth.use-device-language"),Yn=new _.OlP("angularfire.auth.persistence"),ar=(qt,Kt,at,dt,dn,mn,Mt,bn)=>(0,En.cc)(`${qt.name}.auth`,"AngularFireAuth",qt.name,()=>{const Ht=Kt.runOutsideAngular(()=>qt.auth());if(at&&Ht.useEmulator(...at),dt&&(Ht.tenantId=dt),Ht.languageCode=dn,mn&&Ht.useDeviceLanguage(),Mt)for(const[Yt,Ar]of Object.entries(Mt))Ht.settings[Yt]=Ar;return bn&&Ht.setPersistence(bn),Ht},[at,dt,dn,mn,Mt,bn]);let ur=(()=>{class qt{constructor(at,dt,dn,mn,Mt,bn,Ht,Yt,Ar,lr,Zn,dr){const Nr=new Qe,_r=(0,Me.of)(void 0).pipe((0,Nn.Q)(Mt.outsideAngular),(0,Bt.w)(()=>mn.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,4691)))),(0,vn.U)(()=>(0,En.on)(at,mn,dt)),(0,vn.U)(ve=>ar(ve,mn,bn,Yt,Ar,lr,Ht,Zn)),oe({bufferSize:1,refCount:!1}));if((0,Dn.PM)(dn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Me.of)(null);else{_r.pipe(function(qt,Kt){const at=arguments.length>=2;return dt=>dt.pipe(qt?(0,me.h)((dn,mn)=>qt(dn,mn,dt)):it.y,rt(1),at?de(Kt):Je(()=>new _e))}()).subscribe();const Te=_r.pipe((0,Bt.w)(Ye=>Ye.getRedirectResult().then(Ct=>Ct,()=>null)),xn.iC,oe({bufferSize:1,refCount:!1})),Se=_r.pipe((0,Bt.w)(Ye=>new I.y(Ct=>({unsubscribe:mn.runOutsideAngular(()=>Ye.onAuthStateChanged(un=>Ct.next(un),un=>Ct.error(un),()=>Ct.complete()))})))),mt=_r.pipe((0,Bt.w)(Ye=>new I.y(Ct=>({unsubscribe:mn.runOutsideAngular(()=>Ye.onIdTokenChanged(un=>Ct.next(un),un=>Ct.error(un),()=>Ct.complete()))}))));this.authState=Te.pipe(an(Se),(0,Kn.R)(Mt.outsideAngular),(0,Nn.Q)(Mt.insideAngular)),this.user=Te.pipe(an(mt),(0,Kn.R)(Mt.outsideAngular),(0,Nn.Q)(Mt.insideAngular)),this.idToken=this.user.pipe((0,Bt.w)(Ye=>Ye?(0,Ne.D)(Ye.getIdToken()):(0,Me.of)(null))),this.idTokenResult=this.user.pipe((0,Bt.w)(Ye=>Ye?(0,Ne.D)(Ye.getIdTokenResult()):(0,Me.of)(null))),this.credential=function(...qt){const Kt=(0,ft.yG)(qt),at=(0,ft._6)(qt,1/0),dt=qt;return dt.length?1===dt.length?(0,J.Xf)(dt[0]):(0,X.J)(at)((0,Ne.D)(dt,Kt)):fe}(Te,Nr,this.authState.pipe((0,me.h)(Ye=>!Ye))).pipe((0,vn.U)(Ye=>(null==Ye?void 0:Ye.user)?Ye:null),(0,Kn.R)(Mt.outsideAngular),(0,Nn.Q)(Mt.insideAngular))}return(0,En.pX)(this,_r,mn,{spy:{apply:(ve,Te,Se)=>{(ve.startsWith("signIn")||ve.startsWith("createUser"))&&Se.then(mt=>Nr.next(mt))}}})}}return qt.\u0275fac=function(at){return new(at||qt)(_.LFG(En.Dh),_.LFG(En.xv,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(xn.HU),_.LFG(zn,8),_.LFG($r,8),_.LFG(bi,8),_.LFG(Mn,8),_.LFG(Hr,8),_.LFG(Yn,8),_.LFG(St.nm,8))},qt.\u0275prov=_.Yz7({token:qt,factory:qt.\u0275fac,providedIn:"any"}),qt})()},743:($t,ze,N)=>{"use strict";N.d(ze,{ST:()=>Ly,yb:()=>_v});var _=N(639),I=N(4346),K=N(1827),Ae=N(1179),Ee=N(4323),Pe=N(8704),Ge=N(2253),we=N(7375);function X(...s){return(0,Ge.J)(1)((0,Ae.D)(s,(0,we.yG)(s)))}var J=N(3201);function fe(...s){const e=(0,we.yG)(s);return(0,J.e)((i,a)=>{(e?X(s,i,e):X(s,i)).subscribe(a)})}var Fe=N(1894);function Ue(){return(0,J.e)((s,e)=>{let i,a=!1;s.subscribe(new Fe.Q(e,c=>{const g=i;i=c,a&&e.next([g,c]),a=!0}))})}function ft(s,e,i,a,c){return(g,C)=>{let F=i,W=e,ae=0;g.subscribe(new Fe.Q(C,be=>{const Ze=ae++;W=F?s(W,be,Ze):(F=!0,be),a&&C.next(W)},c&&(()=>{F&&C.next(W),C.complete()})))}}function Ne(s,e){return(0,J.e)(ft(s,e,arguments.length>=2,!0))}var Ke=N(576);function We(s,e){return s===e}var it,je=N(6885),Re=N(1971),tt=N(8939),rt=N(8583),jt=(N(4691),N(3394)),ne=N(8239),oe=N(8026),_e=N(3910),me=N(5422),de=N(3854),Je="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ye={},on=on||{},Bt=Je||self;function At(){}function an(s){var e=typeof s;return"array"==(e="object"!=e?e:s?Array.isArray(s)?"array":e:"null")||"object"==e&&"number"==typeof s.length}function Nn(s){var e=typeof s;return"object"==e&&null!=s||"function"==e}var Kn="closure_uid_"+(1e9*Math.random()>>>0),xn=0;function En(s,e,i){return s.call.apply(s.bind,arguments)}function Dn(s,e,i){if(!s)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,a),s.apply(e,c)}}return function(){return s.apply(e,arguments)}}function St(s,e,i){return(St=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?En:Dn).apply(null,arguments)}function pr(s,e){var i=Array.prototype.slice.call(arguments,1);return function(){var a=i.slice();return a.push.apply(a,arguments),s.apply(this,a)}}function rn(s,e){function i(){}i.prototype=e.prototype,s.Z=e.prototype,s.prototype=new i,s.prototype.constructor=s,s.Vb=function(a,c,g){for(var C=Array(arguments.length-2),F=2;F<arguments.length;F++)C[F-2]=arguments[F];return e.prototype[c].apply(a,C)}}function zn(){this.s=this.s,this.o=this.o}var bi={};zn.prototype.s=!1,zn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var s=function(s){return Object.prototype.hasOwnProperty.call(s,Kn)&&s[Kn]||(s[Kn]=++xn)}(this);delete bi[s]}},zn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Mn=Array.prototype.indexOf?function(s,e){return Array.prototype.indexOf.call(s,e,void 0)}:function(s,e){if("string"==typeof s)return"string"!=typeof e||1!=e.length?-1:s.indexOf(e,0);for(let i=0;i<s.length;i++)if(i in s&&s[i]===e)return i;return-1},Hr=Array.prototype.forEach?function(s,e,i){Array.prototype.forEach.call(s,e,i)}:function(s,e,i){const a=s.length,c="string"==typeof s?s.split(""):s;for(let g=0;g<a;g++)g in c&&e.call(i,c[g],g,s)};function ar(s){return Array.prototype.concat.apply([],arguments)}function ur(s){const e=s.length;if(0<e){const i=Array(e);for(let a=0;a<e;a++)i[a]=s[a];return i}return[]}function yr(s){return/^[\s\xa0]*$/.test(s)}var dt,qt=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function Kt(s,e){return-1!=s.indexOf(e)}function at(s,e){return s<e?-1:s>e?1:0}e:{var dn=Bt.navigator;if(dn){var mn=dn.userAgent;if(mn){dt=mn;break e}}dt=""}function Mt(s,e,i){for(const a in s)e.call(i,s[a],a,s)}function bn(s){const e={};for(const i in s)e[i]=s[i];return e}var Ht="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yt(s,e){let i,a;for(let c=1;c<arguments.length;c++){for(i in a=arguments[c],a)s[i]=a[i];for(let g=0;g<Ht.length;g++)i=Ht[g],Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i])}}function Ar(s){return Ar[" "](s),s}Ar[" "]=At;var mt,s,Zn=Kt(dt,"Opera"),dr=Kt(dt,"Trident")||Kt(dt,"MSIE"),Nr=Kt(dt,"Edge"),_r=Nr||dr,ve=Kt(dt,"Gecko")&&!(Kt(dt.toLowerCase(),"webkit")&&!Kt(dt,"Edge"))&&!(Kt(dt,"Trident")||Kt(dt,"MSIE"))&&!Kt(dt,"Edge"),Te=Kt(dt.toLowerCase(),"webkit")&&!Kt(dt,"Edge");function Se(){var s=Bt.document;return s?s.documentMode:void 0}e:{var Ye="",Ct=(s=dt,ve?/rv:([^\);]+)(\)|;)/.exec(s):Nr?/Edge\/([\d\.]+)/.exec(s):dr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):Te?/WebKit\/(\S+)/.exec(s):Zn?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(Ct&&(Ye=Ct?Ct[1]:""),dr){var un=Se();if(null!=un&&un>parseFloat(Ye)){mt=String(un);break e}}mt=Ye}var nr={};function cr(){return e=nr,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let s=0;const e=qt(String(mt)).split("."),i=qt("9").split("."),a=Math.max(e.length,i.length);for(let C=0;0==s&&C<a;C++){var c=e[C]||"",g=i[C]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],0==c[0].length&&0==g[0].length)break;s=at(0==c[1].length?0:parseInt(c[1],10),0==g[1].length?0:parseInt(g[1],10))||at(0==c[2].length,0==g[2].length)||at(c[2],g[2]),c=c[3],g=g[3]}while(0==s)}return 0<=s}();var e}var jn=Bt.document&&dr&&(Se()||parseInt(mt,10))||void 0,sr=function(){if(!Bt.addEventListener||!Object.defineProperty)return!1;var s=!1,e=Object.defineProperty({},"passive",{get:function(){s=!0}});try{Bt.addEventListener("test",At,e),Bt.removeEventListener("test",At,e)}catch(i){}return s}();function Jn(s,e){this.type=s,this.g=this.target=e,this.defaultPrevented=!1}function ci(s,e){if(Jn.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var i=this.type=s.type,a=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=e,e=s.relatedTarget){if(ve){e:{try{Ar(e.nodeName);var c=!0;break e}catch(g){}c=!1}c||(e=null)}}else"mouseover"==i?e=s.fromElement:"mouseout"==i&&(e=s.toElement);this.relatedTarget=e,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:kr[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&ci.Z.h.call(this)}}Jn.prototype.h=function(){this.defaultPrevented=!0},rn(ci,Jn);var kr={2:"touch",3:"pen",4:"mouse"};ci.prototype.h=function(){ci.Z.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var wi="closure_listenable_"+(1e6*Math.random()|0),qi=0;function Ki(s,e,i,a,c){this.listener=s,this.proxy=null,this.src=e,this.type=i,this.capture=!!a,this.ia=c,this.key=++qi,this.ca=this.fa=!1}function Si(s){s.ca=!0,s.listener=null,s.proxy=null,s.src=null,s.ia=null}function In(s){this.src=s,this.g={},this.h=0}function xr(s,e){var i=e.type;if(i in s.g){var g,a=s.g[i],c=Mn(a,e);(g=0<=c)&&Array.prototype.splice.call(a,c,1),g&&(Si(e),0==s.g[i].length&&(delete s.g[i],s.h--))}}function Cr(s,e,i,a){for(var c=0;c<s.length;++c){var g=s[c];if(!g.ca&&g.listener==e&&g.capture==!!i&&g.ia==a)return c}return-1}In.prototype.add=function(s,e,i,a,c){var g=s.toString();(s=this.g[g])||(s=this.g[g]=[],this.h++);var C=Cr(s,e,a,c);return-1<C?(e=s[C],i||(e.fa=!1)):((e=new Ki(e,this.src,g,!!a,c)).fa=i,s.push(e)),e};var Pi="closure_lm_"+(1e6*Math.random()|0),Ci={};function zr(s,e,i,a,c){if(a&&a.once)return Xn(s,e,i,a,c);if(Array.isArray(e)){for(var g=0;g<e.length;g++)zr(s,e[g],i,a,c);return null}return i=Pn(i),s&&s[wi]?s.N(e,i,Nn(a)?!!a.capture:!!a,c):ui(s,e,i,!1,a,c)}function ui(s,e,i,a,c,g){if(!e)throw Error("Invalid event type");var C=Nn(c)?!!c.capture:!!c,F=er(s);if(F||(s[Pi]=F=new In(s)),(i=F.add(e,i,a,C,g)).proxy)return i;if(a=function(){var e=Zi;return function s(i){return e.call(s.src,s.listener,i)}}(),i.proxy=a,a.src=s,a.listener=i,s.addEventListener)sr||(c=C),void 0===c&&(c=!1),s.addEventListener(e.toString(),a,c);else if(s.attachEvent)s.attachEvent(Vr(e.toString()),a);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(a)}return i}function Xn(s,e,i,a,c){if(Array.isArray(e)){for(var g=0;g<e.length;g++)Xn(s,e[g],i,a,c);return null}return i=Pn(i),s&&s[wi]?s.O(e,i,Nn(a)?!!a.capture:!!a,c):ui(s,e,i,!0,a,c)}function ri(s,e,i,a,c){if(Array.isArray(e))for(var g=0;g<e.length;g++)ri(s,e[g],i,a,c);else a=Nn(a)?!!a.capture:!!a,i=Pn(i),s&&s[wi]?(s=s.i,(e=String(e).toString())in s.g&&-1<(i=Cr(g=s.g[e],i,a,c))&&(Si(g[i]),Array.prototype.splice.call(g,i,1),0==g.length&&(delete s.g[e],s.h--))):s&&(s=er(s))&&(e=s.g[e.toString()],s=-1,e&&(s=Cr(e,i,a,c)),(i=-1<s?e[s]:null)&&rr(i))}function rr(s){if("number"!=typeof s&&s&&!s.ca){var e=s.src;if(e&&e[wi])xr(e.i,s);else{var i=s.type,a=s.proxy;e.removeEventListener?e.removeEventListener(i,a,s.capture):e.detachEvent?e.detachEvent(Vr(i),a):e.addListener&&e.removeListener&&e.removeListener(a),(i=er(e))?(xr(i,s),0==i.h&&(i.src=null,e[Pi]=null)):Si(s)}}}function Vr(s){return s in Ci?Ci[s]:Ci[s]="on"+s}function Zi(s,e){if(s.ca)s=!0;else{e=new ci(e,this);var i=s.listener,a=s.ia||s.src;s.fa&&rr(s),s=i.call(a,e)}return s}function er(s){return(s=s[Pi])instanceof In?s:null}var Gt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pn(s){return"function"==typeof s?s:(s[Gt]||(s[Gt]=function(e){return s.handleEvent(e)}),s[Gt])}function wn(){zn.call(this),this.i=new In(this),this.P=this,this.I=null}function Oe(s,e){var i,a=s.I;if(a)for(i=[];a;a=a.I)i.push(a);if(s=s.P,a=e.type||e,"string"==typeof e)e=new Jn(e,s);else if(e instanceof Jn)e.target=e.target||s;else{var c=e;Yt(e=new Jn(a,s),c)}if(c=!0,i)for(var g=i.length-1;0<=g;g--){var C=e.g=i[g];c=xe(C,a,!0,e)&&c}if(c=xe(C=e.g=s,a,!0,e)&&c,c=xe(C,a,!1,e)&&c,i)for(g=0;g<i.length;g++)c=xe(C=e.g=i[g],a,!1,e)&&c}function xe(s,e,i,a){if(!(e=s.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,g=0;g<e.length;++g){var C=e[g];if(C&&!C.ca&&C.capture==i){var F=C.listener,W=C.ia||C.src;C.fa&&xr(s.i,C),c=!1!==F.call(W,a)&&c}}return c&&!a.defaultPrevented}rn(wn,zn),wn.prototype[wi]=!0,wn.prototype.removeEventListener=function(s,e,i,a){ri(this,s,e,i,a)},wn.prototype.M=function(){if(wn.Z.M.call(this),this.i){var e,s=this.i;for(e in s.g){for(var i=s.g[e],a=0;a<i.length;a++)Si(i[a]);delete s.g[e],s.h--}}this.I=null},wn.prototype.N=function(s,e,i,a){return this.i.add(String(s),e,!1,i,a)},wn.prototype.O=function(s,e,i,a){return this.i.add(String(s),e,!0,i,a)};var le=Bt.JSON.stringify;function Xe(){var s=Ir;let e=null;return s.g&&(e=s.g,s.g=s.g.next,s.g||(s.h=null),e.next=null),e}var Cn,fn=new class{constructor(s,e){this.i=s,this.j=e,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}(()=>new An,s=>s.reset());class An{constructor(){this.next=this.g=this.h=null}set(e,i){this.h=e,this.g=i,this.next=null}reset(){this.next=this.g=this.h=null}}function cn(s){Bt.setTimeout(()=>{throw s},0)}function Wn(s,e){Cn||function(){var s=Bt.Promise.resolve(void 0);Cn=function(){s.then(as)}}(),vr||(Cn(),vr=!0),Ir.add(s,e)}var vr=!1,Ir=new class{constructor(){this.h=this.g=null}add(e,i){const a=fn.get();a.set(e,i),this.h?this.h.next=a:this.g=a,this.h=a}};function as(){for(var s;s=Xe();){try{s.h.call(s.g)}catch(i){cn(i)}var e=fn;e.j(s),100>e.h&&(e.h++,s.next=e.g,e.g=s)}vr=!1}function Rr(s,e){wn.call(this),this.h=s||1,this.g=e||Bt,this.j=St(this.kb,this),this.l=Date.now()}function Jr(s){s.da=!1,s.S&&(s.g.clearTimeout(s.S),s.S=null)}function Tr(s,e,i){if("function"==typeof s)i&&(s=St(s,i));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=St(s.handleEvent,s)}return 2147483647<Number(e)?-1:Bt.setTimeout(s,e||0)}function ws(s){s.g=Tr(()=>{s.g=null,s.i&&(s.i=!1,ws(s))},s.j);const e=s.h;s.h=null,s.m.apply(null,e)}rn(Rr,wn),(it=Rr.prototype).da=!1,it.S=null,it.kb=function(){if(this.da){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-s):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Oe(this,"tick"),this.da&&(Jr(this),this.start()))}},it.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},it.M=function(){Rr.Z.M.call(this),Jr(this),delete this.g};class yi extends zn{constructor(e,i){super(),this.m=e,this.j=i,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ws(this)}M(){super.M(),this.g&&(Bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _i(s){zn.call(this),this.h=s,this.g={}}rn(_i,zn);var ps=[];function Xr(s,e,i,a){Array.isArray(i)||(i&&(ps[0]=i.toString()),i=ps);for(var c=0;c<i.length;c++){var g=zr(e,i[c],a||s.handleEvent,!1,s.h||s);if(!g)break;s.g[g.key]=g}}function Ni(s){Mt(s.g,function(e,i){this.g.hasOwnProperty(i)&&rr(e)},s),s.g={}}function ei(){this.g=!0}function hi(s,e,i,a){s.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(s,e){if(!s.g)return e;if(!e)return null;try{var i=JSON.parse(e);if(i)for(s=0;s<i.length;s++)if(Array.isArray(i[s])){var a=i[s];if(!(2>a.length)){var c=a[1];if(Array.isArray(c)&&!(1>c.length)){var g=c[0];if("noop"!=g&&"stop"!=g&&"close"!=g)for(var C=1;C<c.length;C++)c[C]=""}}}return le(i)}catch(F){return e}}(s,i)+(a?" "+a:"")})}_i.prototype.M=function(){_i.Z.M.call(this),Ni(this)},_i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ei.prototype.Aa=function(){this.g=!1},ei.prototype.info=function(){};var nt={},It=null;function Pt(){return It=It||new wn}function ln(s){Jn.call(this,nt.Ma,s)}function or(s){const e=Pt();Oe(e,new ln(e,s))}function ii(s,e){Jn.call(this,nt.STAT_EVENT,s),this.stat=e}function kn(s){const e=Pt();Oe(e,new ii(e,s))}function Ui(s,e){Jn.call(this,nt.Na,s),this.size=e}function fi(s,e){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return Bt.setTimeout(function(){s()},e)}nt.Ma="serverreachability",rn(ln,Jn),nt.STAT_EVENT="statevent",rn(ii,Jn),nt.Na="timingevent",rn(Ui,Jn);var vi={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ps={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function gs(){}function Gs(){}gs.prototype.h=null;var ms,Yr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Yi(){Jn.call(this,"d")}function Bi(){Jn.call(this,"c")}function Ns(){}function Rs(s,e,i,a){this.l=s,this.j=e,this.m=i,this.X=a||1,this.V=new _i(this),this.P=Qi,this.W=new Rr(s=_r?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new zo}function zo(){this.i=null,this.g="",this.h=!1}rn(Yi,Jn),rn(Bi,Jn),rn(Ns,gs),Ns.prototype.g=function(){return new XMLHttpRequest},Ns.prototype.i=function(){return{}},ms=new Ns;var Qi=45e3,oo={},ki={};function pi(s,e,i){s.K=1,s.v=Rn(k(e)),s.s=i,s.U=!0,ks(s,null)}function ks(s,e){s.F=Date.now(),xs(s),s.A=k(s.v);var i=s.A,a=s.X;Array.isArray(a)||(a=[String(a)]),se(i.h,"t",a),s.C=0,i=s.l.H,s.h=new zo,s.g=uo(s.l,i?e:null,!s.s),0<s.O&&(s.L=new yi(St(s.Ia,s,s.g),s.O)),Xr(s.V,s.g,"readystatechange",s.gb),e=s.H?bn(s.H):{},s.s?(s.u||(s.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.s,e)):(s.u="GET",s.g.ea(s.A,s.u,null,e)),or(1),function(s,e,i,a,c,g){s.info(function(){if(s.g)if(g)for(var C="",F=g.split("&"),W=0;W<F.length;W++){var ae=F[W].split("=");if(1<ae.length){var be=ae[0];ae=ae[1];var Ze=be.split("_");C=2<=Ze.length&&"type"==Ze[1]?C+(be+"=")+ae+"&":C+(be+"=redacted&")}}else C=null;else C=g;return"XMLHTTP REQ ("+a+") [attempt "+c+"]: "+e+"\n"+i+"\n"+C})}(s.j,s.u,s.A,s.m,s.X,s.s)}function Ji(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Ba}function Ai(s,e,i){let c,a=!0;for(;!s.I&&s.C<i.length;){if(c=fo(s,i),c==ki){4==e&&(s.o=4,kn(14),a=!1),hi(s.j,s.m,null,"[Incomplete Response]");break}if(c==oo){s.o=4,kn(15),hi(s.j,s.m,i,"[Invalid Chunk]"),a=!1;break}hi(s.j,s.m,c,null),zs(s,c)}Ji(s)&&c!=ki&&c!=oo&&(s.h.g="",s.C=0),4!=e||0!=i.length||s.h.h||(s.o=1,kn(16),a=!1),s.i=s.i&&a,a?0<i.length&&!s.aa&&(s.aa=!0,(e=s.l).g==s&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),qs(e),e.L=!0,kn(11))):(hi(s.j,s.m,i,"[Invalid Chunked Response]"),ys(s),Ms(s))}function fo(s,e){var i=s.C,a=e.indexOf("\n",i);return-1==a?ki:(i=Number(e.substring(i,a)),isNaN(i)?oo:(a+=1)+i>e.length?ki:(e=e.substr(a,i),s.C=a+i,e))}function xs(s){s.Y=Date.now()+s.P,ji(s,s.P)}function ji(s,e){if(null!=s.B)throw Error("WatchDog timer not null");s.B=fi(St(s.eb,s),e)}function Is(s){s.B&&(Bt.clearTimeout(s.B),s.B=null)}function Ms(s){0==s.l.G||s.I||Da(s.l,s)}function ys(s){Is(s);var e=s.L;e&&"function"==typeof e.na&&e.na(),s.L=null,Jr(s.W),Ni(s.V),s.g&&(e=s.g,s.g=null,e.abort(),e.na())}function zs(s,e){try{var i=s.l;if(0!=i.G&&(i.g==s||Xt(i.i,s)))if(i.I=s.N,!s.J&&Xt(i.i,s)&&3==i.G){try{var a=i.Ca.g.parse(e)}catch(ae){a=null}if(Array.isArray(a)&&3==a.length){var c=a;if(0==c[0])e:if(i.u)i.ta=c[1],0<i.ta-i.U&&37500>c[2]&&i.N&&0==i.A&&!i.v&&(i.v=fi(St(i.ab,i),6e3));else{if(i.g){if(!(i.g.F+3e3<s.F))break e;Vs(i),ra(i)}ka(i),kn(18)}if(1>=ct(i.i)&&i.ka){try{i.ka()}catch(ae){}i.ka=void 0}}else qo(i,11)}else if((s.J||i.g==s)&&Vs(i),!yr(e))for(c=i.Ca.g.parse(e),e=0;e<c.length;e++){let ae=c[e];if(i.U=ae[0],ae=ae[1],2==i.G)if("c"==ae[0]){i.J=ae[1],i.la=ae[2];const be=ae[3];null!=be&&(i.ma=be,i.h.info("VER="+i.ma));const Ze=ae[4];null!=Ze&&(i.za=Ze,i.h.info("SVER="+i.za));const wt=ae[5];null!=wt&&"number"==typeof wt&&0<wt&&(i.K=a=1.5*wt,i.h.info("backChannelRequestTimeoutMs_="+a)),a=i;const Nt=s.g;if(Nt){const nn=Nt.g?Nt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nn){var g=a.i;!g.g&&(Kt(nn,"spdy")||Kt(nn,"quic")||Kt(nn,"h2"))&&(g.j=g.l,g.g=new Set,g.h&&(Lr(g,g.h),g.h=null))}if(a.D){const Vn=Nt.g?Nt.g.getResponseHeader("X-HTTP-Session-Id"):null;Vn&&(a.sa=Vn,Tt(a.F,a.D,Vn))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-s.F,i.h.info("Handshake RTT: "+i.O+"ms"));var C=s;if((a=i).oa=ls(a,a.H?a.la:null,a.W),C.J){Hn(a.i,C);var F=C,W=a.K;W&&F.setTimeout(W),F.B&&(Is(F),xs(F)),a.g=C}else Ja(a);0<i.l.length&&gi(i)}else"stop"!=ae[0]&&"close"!=ae[0]||qo(i,7);else 3==i.G&&("stop"==ae[0]||"close"==ae[0]?"stop"==ae[0]?qo(i,7):Ta(i):"noop"!=ae[0]&&i.j&&i.j.wa(ae),i.A=0)}or(4)}catch(ae){}}function V(s,e){if(s.forEach&&"function"==typeof s.forEach)s.forEach(e,void 0);else if(an(s)||"string"==typeof s)Hr(s,e,void 0);else{if(s.T&&"function"==typeof s.T)var i=s.T();else if(s.R&&"function"==typeof s.R)i=void 0;else if(an(s)||"string"==typeof s){i=[];for(var a=s.length,c=0;c<a;c++)i.push(c)}else for(c in i=[],a=0,s)i[a++]=c;c=(a=function(s){if(s.R&&"function"==typeof s.R)return s.R();if("string"==typeof s)return s.split("");if(an(s)){for(var e=[],i=s.length,a=0;a<i;a++)e.push(s[a]);return e}for(a in e=[],i=0,s)e[i++]=s[a];return e}(s)).length;for(var g=0;g<c;g++)e.call(void 0,a[g],i&&i[g],s)}}function q(s,e){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var a=0;a<i;a+=2)this.set(arguments[a],arguments[a+1])}else if(s)if(s instanceof q)for(i=s.T(),a=0;a<i.length;a++)this.set(i[a],s.get(i[a]));else for(a in s)this.set(a,s[a])}function U(s){if(s.i!=s.g.length){for(var e=0,i=0;e<s.g.length;){var a=s.g[e];te(s.h,a)&&(s.g[i++]=a),e++}s.g.length=i}if(s.i!=s.g.length){var c={};for(i=e=0;e<s.g.length;)te(c,a=s.g[e])||(s.g[i++]=a,c[a]=1),e++;s.g.length=i}}function te(s,e){return Object.prototype.hasOwnProperty.call(s,e)}(it=Rs.prototype).setTimeout=function(s){this.P=s},it.gb=function(s){s=s.target;const e=this.L;e&&3==ao(s)?e.l():this.Ia(s)},it.Ia=function(s){try{if(s==this.g)e:{const be=ao(this.g);var e=this.g.Da();const Ze=this.g.ba();if(!(3>be)&&(3!=be||_r||this.g&&(this.h.h||this.g.ga()||Su(this.g)))){this.I||4!=be||7==e||or(8==e||0>=Ze?3:2),Is(this);var i=this.g.ba();this.N=i;t:if(Ji(this)){var a=Su(this.g);s="";var c=a.length,g=4==ao(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ys(this),Ms(this);var C="";break t}this.h.i=new Bt.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,s+=this.h.i.decode(a[e],{stream:g&&e==c-1});a.splice(0,c),this.h.g+=s,this.C=0,C=this.h.g}else C=this.g.ga();if(this.i=200==i,function(s,e,i,a,c,g,C){s.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+c+"]: "+e+"\n"+i+"\n"+g+" "+C})}(this.j,this.u,this.A,this.m,this.X,be,i),this.i){if(this.$&&!this.J){t:{if(this.g){var F,W=this.g;if((F=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yr(F)){var ae=F;break t}}ae=null}if(!(i=ae)){this.i=!1,this.o=3,kn(12),ys(this),Ms(this);break e}hi(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,zs(this,i)}this.U?(Ai(this,be,C),_r&&this.i&&3==be&&(Xr(this.V,this.W,"tick",this.fb),this.W.start())):(hi(this.j,this.m,C,null),zs(this,C)),4==be&&ys(this),this.i&&!this.I&&(4==be?Da(this.l,this):(this.i=!1,xs(this)))}else 400==i&&0<C.indexOf("Unknown SID")?(this.o=3,kn(12)):(this.o=0,kn(13)),ys(this),Ms(this)}}}catch(be){}},it.fb=function(){if(this.g){var s=ao(this.g),e=this.g.ga();this.C<e.length&&(Is(this),Ai(this,s,e),this.i&&4!=s&&xs(this))}},it.cancel=function(){this.I=!0,ys(this)},it.eb=function(){this.B=null;const s=Date.now();0<=s-this.Y?(function(s,e){s.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(or(3),kn(17)),ys(this),this.o=2,Ms(this)):ji(this,this.Y-s)},(it=q.prototype).R=function(){U(this);for(var s=[],e=0;e<this.g.length;e++)s.push(this.h[this.g[e]]);return s},it.T=function(){return U(this),this.g.concat()},it.get=function(s,e){return te(this.h,s)?this.h[s]:e},it.set=function(s,e){te(this.h,s)||(this.i++,this.g.push(s)),this.h[s]=e},it.forEach=function(s,e){for(var i=this.T(),a=0;a<i.length;a++){var c=i[a],g=this.get(c);s.call(e,g,c,this)}};var De=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dt(s,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,s instanceof Dt){this.g=void 0!==e?e:s.g,x(this,s.j),this.s=s.s,A(this,s.i),Z(this,s.m),this.l=s.l,e=s.h;var i=new $i;i.i=e.i,e.g&&(i.g=new q(e.g),i.h=e.h),st(this,i),this.o=s.o}else s&&(i=String(s).match(De))?(this.g=!!e,x(this,i[1]||"",!0),this.s=Or(i[2]||""),A(this,i[3]||"",!0),Z(this,i[4]),this.l=Or(i[5]||"",!0),st(this,i[6]||"",!0),this.o=Or(i[7]||"")):(this.g=!!e,this.h=new $i(null,this.g))}function k(s){return new Dt(s)}function x(s,e,i){s.j=i?Or(e,!0):e,s.j&&(s.j=s.j.replace(/:$/,""))}function A(s,e,i){s.i=i?Or(e,!0):e}function Z(s,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);s.m=e}else s.m=null}function st(s,e,i){e instanceof $i?(s.h=e,function(s,e){e&&!s.j&&(Ws(s),s.i=null,s.g.forEach(function(i,a){var c=a.toLowerCase();a!=c&&($(this,a),se(this,c,i))},s)),s.j=e}(s.h,s.g)):(i||(e=Fr(e,Xi)),s.h=new $i(e,s.g))}function Tt(s,e,i){s.h.set(e,i)}function Rn(s){return Tt(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function Or(s,e){return s?e?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Fr(s,e,i){return"string"==typeof s?(s=encodeURI(s).replace(e,Fi),i&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function Fi(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}Dt.prototype.toString=function(){var s=[],e=this.j;e&&s.push(Fr(e,us,!0),":");var i=this.i;return(i||"file"==e)&&(s.push("//"),(e=this.s)&&s.push(Fr(e,us,!0),"@"),s.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&s.push(":",String(i))),(i=this.l)&&(this.i&&"/"!=i.charAt(0)&&s.push("/"),s.push(Fr(i,"/"==i.charAt(0)?bo:Pr,!0))),(i=this.h.toString())&&s.push("?",i),(i=this.o)&&s.push("#",Fr(i,wo)),s.join("")};var us=/[#\/\?@]/g,Pr=/[#\?:]/g,bo=/[#\?]/g,Xi=/[#\?@]/g,wo=/#/g;function $i(s,e){this.h=this.g=null,this.i=s||null,this.j=!!e}function Ws(s){s.g||(s.g=new q,s.h=0,s.i&&function(s,e){if(s){s=s.split("&");for(var i=0;i<s.length;i++){var a=s[i].indexOf("="),c=null;if(0<=a){var g=s[i].substring(0,a);c=s[i].substring(a+1)}else g=s[i];e(g,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(s.i,function(e,i){s.add(decodeURIComponent(e.replace(/\+/g," ")),i)}))}function $(s,e){Ws(s),e=he(s,e),te(s.g.h,e)&&(s.i=null,s.h-=s.g.get(e).length,te((s=s.g).h,e)&&(delete s.h[e],s.i--,s.g.length>2*s.i&&U(s)))}function L(s,e){return Ws(s),e=he(s,e),te(s.g.h,e)}function se(s,e,i){$(s,e),0<i.length&&(s.i=null,s.g.set(he(s,e),ur(i)),s.h+=i.length)}function he(s,e){return e=String(e),s.j&&(e=e.toLowerCase()),e}function Ot(s){this.l=s||gn,s=Bt.PerformanceNavigationTiming?0<(s=Bt.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(Bt.g&&Bt.g.Ea&&Bt.g.Ea()&&Bt.g.Ea().Zb),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(it=$i.prototype).add=function(s,e){Ws(this),this.i=null,s=he(this,s);var i=this.g.get(s);return i||this.g.set(s,i=[]),i.push(e),this.h+=1,this},it.forEach=function(s,e){Ws(this),this.g.forEach(function(i,a){Hr(i,function(c){s.call(e,c,a,this)},this)},this)},it.T=function(){Ws(this);for(var s=this.g.R(),e=this.g.T(),i=[],a=0;a<e.length;a++)for(var c=s[a],g=0;g<c.length;g++)i.push(e[a]);return i},it.R=function(s){Ws(this);var e=[];if("string"==typeof s)L(this,s)&&(e=ar(e,this.g.get(he(this,s))));else{s=this.g.R();for(var i=0;i<s.length;i++)e=ar(e,s[i])}return e},it.set=function(s,e){return Ws(this),this.i=null,L(this,s=he(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[e]),this.h+=1,this},it.get=function(s,e){return s&&0<(s=this.R(s)).length?String(s[0]):e},it.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var s=[],e=this.g.T(),i=0;i<e.length;i++){var a=e[i],c=encodeURIComponent(String(a));a=this.R(a);for(var g=0;g<a.length;g++){var C=c;""!==a[g]&&(C+="="+encodeURIComponent(String(a[g]))),s.push(C)}}return this.i=s.join("&")};var gn=10;function sn(s){return!!s.h||!!s.g&&s.g.size>=s.j}function ct(s){return s.h?1:s.g?s.g.size:0}function Xt(s,e){return s.h?s.h==e:!!s.g&&s.g.has(e)}function Lr(s,e){s.g?s.g.add(e):s.h=e}function Hn(s,e){s.h&&s.h==e?s.h=null:s.g&&s.g.has(e)&&s.g.delete(e)}function si(s){if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){let e=s.i;for(const i of s.g.values())e=e.concat(i.D);return e}return ur(s.i)}function Ur(){}function Qr(){this.g=new Ur}function Gr(s,e,i){const a=i||"";try{V(s,function(c,g){let C=c;Nn(c)&&(C=le(c)),e.push(a+g+"="+encodeURIComponent(C))})}catch(c){throw e.push(a+"type="+encodeURIComponent("_badmap")),c}}function Gi(s,e,i,a,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(a)}catch(g){}}function Ii(s){this.l=s.$b||null,this.j=s.ib||!1}function Br(s,e){wn.call(this),this.D=s,this.u=e,this.m=void 0,this.readyState=Os,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ot.prototype.cancel=function(){if(this.i=si(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const s of this.g.values())s.cancel();this.g.clear()}},Ur.prototype.stringify=function(s){return Bt.JSON.stringify(s,void 0)},Ur.prototype.parse=function(s){return Bt.JSON.parse(s,void 0)},rn(Ii,gs),Ii.prototype.g=function(){return new Br(this.l,this.j)},Ii.prototype.i=function(s){return function(){return s}}({}),rn(Br,wn);var Os=0;function ti(s){s.j.read().then(s.Sa.bind(s)).catch(s.ha.bind(s))}function zi(s){s.readyState=4,s.l=null,s.j=null,s.A=null,Wi(s)}function Wi(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(it=Br.prototype).open=function(s,e){if(this.readyState!=Os)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=e,this.readyState=1,Wi(this)},it.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(e.body=s),(this.D||Bt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},it.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,zi(this)),this.readyState=Os},it.Va=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,Wi(this)),this.g&&(this.readyState=3,Wi(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Bt.ReadableStream&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ti(this)}else s.text().then(this.Ua.bind(this),this.ha.bind(this))},it.Sa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var e=s.value?s.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!s.done}))&&(this.response=this.responseText+=e)}s.done?zi(this):Wi(this),3==this.readyState&&ti(this)}},it.Ua=function(s){this.g&&(this.response=this.responseText=s,zi(this))},it.Ta=function(s){this.g&&(this.response=s,zi(this))},it.ha=function(){this.g&&zi(this)},it.setRequestHeader=function(s,e){this.v.append(s,e)},it.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},it.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],e=this.h.entries();for(var i=e.next();!i.done;)s.push((i=i.value)[0]+": "+i[1]),i=e.next();return s.join("\r\n")},Object.defineProperty(Br.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var po=Bt.JSON.parse;function qr(s){wn.call(this),this.headers=new q,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Co,this.K=this.L=!1}rn(qr,wn);var Co="",ba=/^https?$/i,Du=["POST","PUT"];function na(s){return"content-type"==s.toLowerCase()}function Io(s,e){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=e,s.m=5,Wo(s),Ro(s)}function Wo(s){s.D||(s.D=!0,Oe(s,"complete"),Oe(s,"error"))}function Ao(s){if(s.h&&void 0!==on&&(!s.C[1]||4!=ao(s)||2!=s.ba()))if(s.v&&4==ao(s))Tr(s.Fa,0,s);else if(Oe(s,"readystatechange"),4==ao(s)){s.h=!1;try{const F=s.ba();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var i;if(!(i=e)){var a;if(a=0===F){var c=String(s.H).match(De)[1]||null;if(!c&&Bt.self&&Bt.self.location){var g=Bt.self.location.protocol;c=g.substr(0,g.length-1)}a=!ba.test(c?c.toLowerCase():"")}i=a}if(i)Oe(s,"complete"),Oe(s,"success");else{s.m=6;try{var C=2<ao(s)?s.g.statusText:""}catch(W){C=""}s.j=C+" ["+s.ba()+"]",Wo(s)}}finally{Ro(s)}}}function Ro(s,e){if(s.g){wa(s);const i=s.g,a=s.C[0]?At:null;s.g=null,s.C=null,e||Oe(s,"ready");try{i.onreadystatechange=a}catch(c){}}}function wa(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(Bt.clearTimeout(s.A),s.A=null)}function ao(s){return s.g?s.g.readyState:0}function Su(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case Co:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ca(s,e,i){e:{for(a in i){var a=!1;break e}a=!0}a||(i=function(s){let e="";return Mt(s,function(i,a){e+=a,e+=":",e+=i,e+="\r\n"}),e}(i),"string"==typeof s?null!=i&&encodeURIComponent(String(i)):Tt(s,e,i))}function Ia(s,e,i){return i&&i.internalChannelParams&&i.internalChannelParams[s]||e}function Na(s){this.za=0,this.l=[],this.h=new ei,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ia("failFast",!1,s),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ia("baseRetryDelayMs",5e3,s),this.$a=Ia("retryDelaySeedMs",1e4,s),this.Ya=Ia("forwardChannelMaxRetries",2,s),this.ra=Ia("forwardChannelRequestTimeoutMs",2e4,s),this.qa=s&&s.xmlHttpFactory||void 0,this.Ba=s&&s.Yb||!1,this.K=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.J="",this.i=new Ot(s&&s.concurrentRequestLimit),this.Ca=new Qr,this.ja=s&&s.fastHandshake||!1,this.Ra=s&&s.Wb||!1,s&&s.Aa&&this.h.Aa(),s&&s.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&s&&s.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!s||!1!==s.Xb}function Ta(s){if(Ei(s),3==s.G){var e=s.V++,i=k(s.F);Tt(i,"SID",s.J),Tt(i,"RID",e),Tt(i,"TYPE","terminate"),ia(s,i),(e=new Rs(s,s.h,e,void 0)).K=2,e.v=Rn(k(i)),i=!1,Bt.navigator&&Bt.navigator.sendBeacon&&(i=Bt.navigator.sendBeacon(e.v.toString(),"")),!i&&Bt.Image&&((new Image).src=e.v,i=!0),i||(e.g=uo(e.l,null),e.g.ea(e.v)),e.F=Date.now(),xs(e)}Ks(s)}function ra(s){s.g&&(qs(s),s.g.cancel(),s.g=null)}function Ei(s){ra(s),s.u&&(Bt.clearTimeout(s.u),s.u=null),Vs(s),s.i.cancel(),s.m&&("number"==typeof s.m&&Bt.clearTimeout(s.m),s.m=null)}function Ls(s,e){s.l.push(new class{constructor(s,e){this.h=s,this.g=e}}(s.Za++,e)),3==s.G&&gi(s)}function gi(s){sn(s.i)||s.m||(s.m=!0,Wn(s.Ha,s),s.C=0)}function es(s,e){var i;i=e?e.m:s.V++;const a=k(s.F);Tt(a,"SID",s.J),Tt(a,"RID",i),Tt(a,"AID",s.U),ia(s,a),s.o&&s.s&&Ca(a,s.o,s.s),i=new Rs(s,s.h,i,s.C+1),null===s.o&&(i.H=s.s),e&&(s.l=e.D.concat(s.l)),e=sa(s,i,1e3),i.setTimeout(Math.round(.5*s.ra)+Math.round(.5*s.ra*Math.random())),Lr(s.i,i),pi(i,a,e)}function ia(s,e){s.j&&V({},function(i,a){Tt(e,a,i)})}function sa(s,e,i){i=Math.min(s.l.length,i);var a=s.j?St(s.j.Oa,s.j,s):null;e:{var c=s.l;let g=-1;for(;;){const C=["count="+i];-1==g?0<i?(g=c[0].h,C.push("ofs="+g)):g=0:C.push("ofs="+g);let F=!0;for(let W=0;W<i;W++){let ae=c[W].h;const be=c[W].g;if(ae-=g,0>ae)g=Math.max(0,c[W].h-100),F=!1;else try{Gr(be,C,"req"+ae+"_")}catch(Ze){a&&a(be)}}if(F){a=C.join("&");break e}}}return s=s.l.splice(0,i),e.D=s,a}function Ja(s){s.g||s.u||(s.Y=1,Wn(s.Ga,s),s.A=0)}function ka(s){return!(s.g||s.u||3<=s.A||(s.Y++,s.u=fi(St(s.Ga,s),Xa(s,s.A)),s.A++,0))}function qs(s){null!=s.B&&(Bt.clearTimeout(s.B),s.B=null)}function xo(s){s.g=new Rs(s,s.h,"rpc",s.Y),null===s.o&&(s.g.H=s.s),s.g.O=0;var e=k(s.oa);Tt(e,"RID","rpc"),Tt(e,"SID",s.J),Tt(e,"CI",s.N?"0":"1"),Tt(e,"AID",s.U),ia(s,e),Tt(e,"TYPE","xmlhttp"),s.o&&s.s&&Ca(e,s.o,s.s),s.K&&s.g.setTimeout(s.K);var i=s.g;s=s.la,i.K=1,i.v=Rn(k(e)),i.s=null,i.U=!0,ks(i,s)}function Vs(s){null!=s.v&&(Bt.clearTimeout(s.v),s.v=null)}function Da(s,e){var i=null;if(s.g==e){Vs(s),qs(s),s.g=null;var a=2}else{if(!Xt(s.i,e))return;i=e.D,Hn(s.i,e),a=1}if(s.I=e.N,0!=s.G)if(e.i)if(1==a){i=e.s?e.s.length:0,e=Date.now()-e.F;var c=s.C;Oe(a=Pt(),new Ui(a,i,e,c)),gi(s)}else Ja(s);else if(3==(c=e.o)||0==c&&0<s.I||!(1==a&&function(s,e){return!(ct(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.l=e.D.concat(s.l),0):1==s.G||2==s.G||s.C>=(s.Xa?0:s.Ya)||(s.m=fi(St(s.Ha,s,e),Xa(s,s.C)),s.C++,0)))}(s,e)||2==a&&ka(s)))switch(i&&0<i.length&&(e=s.i,e.i=e.i.concat(i)),c){case 1:qo(s,5);break;case 4:qo(s,10);break;case 3:qo(s,6);break;default:qo(s,2)}}function Xa(s,e){let i=s.Pa+Math.floor(Math.random()*s.$a);return s.j||(i*=2),i*e}function qo(s,e){if(s.h.info("Error code "+e),2==e){var i=null;s.j&&(i=null);var a=St(s.jb,s);i||(i=new Dt("//www.google.com/images/cleardot.gif"),Bt.location&&"http"==Bt.location.protocol||x(i,"https"),Rn(i)),function(s,e){const i=new ei;if(Bt.Image){const a=new Image;a.onload=pr(Gi,i,a,"TestLoadImage: loaded",!0,e),a.onerror=pr(Gi,i,a,"TestLoadImage: error",!1,e),a.onabort=pr(Gi,i,a,"TestLoadImage: abort",!1,e),a.ontimeout=pr(Gi,i,a,"TestLoadImage: timeout",!1,e),Bt.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=s}else e(!1)}(i.toString(),a)}else kn(2);s.G=0,s.j&&s.j.va(e),Ks(s),Ei(s)}function Ks(s){s.G=0,s.I=-1,s.j&&((0!=si(s.i).length||0!=s.l.length)&&(s.i.i.length=0,ur(s.l),s.l.length=0),s.j.ua())}function ls(s,e,i){let a=function(s){return s instanceof Dt?k(s):new Dt(s,void 0)}(i);if(""!=a.i)e&&A(a,e+"."+a.i),Z(a,a.m);else{const c=Bt.location;a=function(s,e,i,a){var c=new Dt(null,void 0);return s&&x(c,s),e&&A(c,e),i&&Z(c,i),a&&(c.l=a),c}(c.protocol,e?e+"."+c.hostname:c.hostname,+c.port,i)}return s.aa&&Mt(s.aa,function(c,g){Tt(a,g,c)}),i=s.sa,(e=s.D)&&i&&Tt(a,e,i),Tt(a,"VER",s.ma),ia(s,a),a}function uo(s,e,i){if(e&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new qr(i&&s.Ba&&!s.qa?new Ii({ib:!0}):s.qa)).L=s.H,e}function Au(){}function Mo(){if(dr&&!(10<=Number(jn)))throw Error("Environmental error: no available transport.")}function Li(s,e){wn.call(this),this.g=new Na(e),this.l=s,this.h=e&&e.messageUrlParams||null,s=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(s?s["X-WebChannel-Content-Type"]=e.messageContentType:s={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(s?s["X-WebChannel-Client-Profile"]=e.ya:s={"X-WebChannel-Client-Profile":e.ya}),this.g.P=s,(s=e&&e.httpHeadersOverwriteParam)&&!yr(s)&&(this.g.o=s),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yr(e)&&(this.g.D=e,null!==(s=this.h)&&e in s&&e in(s=this.h)&&delete s[e]),this.j=new Oo(this)}function Fa(s){Yi.call(this);var e=s.__sm__;if(e){e:{for(const i in e){s=i;break e}s=void 0}(this.i=s)&&(s=this.i,e=null!==e&&s in e?e[s]:void 0),this.data=e}else this.data=s}function Ti(){Bi.call(this),this.status=1}function Oo(s){this.g=s}(it=qr.prototype).ea=function(s,e,i,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);e=e?e.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ms.g(),this.C=function(s){return s.h||(s.h=s.i())}(this.u?this.u:ms),this.g.onreadystatechange=St(this.Fa,this);try{this.F=!0,this.g.open(e,String(s),!0),this.F=!1}catch(g){return void Io(this,g)}s=i||"";const c=new q(this.headers);a&&V(a,function(g,C){c.set(C,g)}),a=function(s){e:{var e=na;const i=s.length,a="string"==typeof s?s.split(""):s;for(let c=0;c<i;c++)if(c in a&&e.call(void 0,a[c],c,s)){e=c;break e}e=-1}return 0>e?null:"string"==typeof s?s.charAt(e):s[e]}(c.T()),i=Bt.FormData&&s instanceof Bt.FormData,!(0<=Mn(Du,e))||a||i||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),c.forEach(function(g,C){this.g.setRequestHeader(C,g)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{wa(this),0<this.B&&((this.K=function(s){return dr&&cr()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=St(this.pa,this)):this.A=Tr(this.pa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(g){Io(this,g)}},it.pa=function(){void 0!==on&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Oe(this,"timeout"),this.abort(8))},it.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,Oe(this,"complete"),Oe(this,"abort"),Ro(this))},it.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ro(this,!0)),qr.Z.M.call(this)},it.Fa=function(){this.s||(this.F||this.v||this.l?Ao(this):this.cb())},it.cb=function(){Ao(this)},it.ba=function(){try{return 2<ao(this)?this.g.status:-1}catch(s){return-1}},it.ga=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},it.Qa=function(s){if(this.g){var e=this.g.responseText;return s&&0==e.indexOf(s)&&(e=e.substring(s.length)),po(e)}},it.Da=function(){return this.m},it.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(it=Na.prototype).ma=8,it.G=1,it.hb=function(s){try{this.h.info("Origin Trials invoked: "+s)}catch(e){}},it.Ha=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.V=Math.floor(1e5*Math.random()),s=this.V++;const c=new Rs(this,this.h,s,void 0);let g=this.s;if(this.P&&(g?(g=bn(g),Yt(g,this.P)):g=this.P),null===this.o&&(c.H=g),this.ja)e:{for(var e=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(e+=a)){e=i;break e}if(4096===e||i===this.l.length-1){e=i+1;break e}}e=1e3}else e=1e3;e=sa(this,c,e),Tt(i=k(this.F),"RID",s),Tt(i,"CVER",22),this.D&&Tt(i,"X-HTTP-Session-Id",this.D),ia(this,i),this.o&&g&&Ca(i,this.o,g),Lr(this.i,c),this.Ra&&Tt(i,"TYPE","init"),this.ja?(Tt(i,"$req",e),Tt(i,"SID","null"),c.$=!0,pi(c,i,null)):pi(c,i,e),this.G=2}}else 3==this.G&&(s?es(this,s):0==this.l.length||sn(this.i)||es(this))},it.Ga=function(){if(this.u=null,xo(this),this.$&&!(this.L||null==this.g||0>=this.O)){var s=2*this.O;this.h.info("BP detection timer enabled: "+s),this.B=fi(St(this.bb,this),s)}},it.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,kn(10),ra(this),xo(this))},it.ab=function(){null!=this.v&&(this.v=null,ra(this),ka(this),kn(19))},it.jb=function(s){s?(this.h.info("Successfully pinged google.com"),kn(2)):(this.h.info("Failed to ping google.com"),kn(1))},(it=Au.prototype).xa=function(){},it.wa=function(){},it.va=function(){},it.ua=function(){},it.Oa=function(){},Mo.prototype.g=function(s,e){return new Li(s,e)},rn(Li,wn),Li.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var s=this.g,e=this.l,i=this.h||void 0;s.Wa&&(s.h.info("Origin Trials enabled."),Wn(St(s.hb,s,e))),kn(0),s.W=e,s.aa=i||{},s.N=s.X,s.F=ls(s,null,s.W),gi(s)},Li.prototype.close=function(){Ta(this.g)},Li.prototype.u=function(s){if("string"==typeof s){var e={};e.__data__=s,Ls(this.g,e)}else this.v?((e={}).__data__=le(s),Ls(this.g,e)):Ls(this.g,s)},Li.prototype.M=function(){this.g.j=null,delete this.j,Ta(this.g),delete this.g,Li.Z.M.call(this)},rn(Fa,Yi),rn(Ti,Bi),rn(Oo,Au),Oo.prototype.xa=function(){Oe(this.g,"a")},Oo.prototype.wa=function(s){Oe(this.g,new Fa(s))},Oo.prototype.va=function(s){Oe(this.g,new Ti(s))},Oo.prototype.ua=function(){Oe(this.g,"b")},Mo.prototype.createWebChannel=Mo.prototype.g,Li.prototype.send=Li.prototype.u,Li.prototype.open=Li.prototype.m,Li.prototype.close=Li.prototype.close,vi.NO_ERROR=0,vi.TIMEOUT=8,vi.HTTP_ERROR=6,Ps.COMPLETE="complete",Gs.EventType=Yr,Yr.OPEN="a",Yr.CLOSE="b",Yr.ERROR="c",Yr.MESSAGE="d",wn.prototype.listen=wn.prototype.N,qr.prototype.listenOnce=qr.prototype.O,qr.prototype.getLastError=qr.prototype.La,qr.prototype.getLastErrorCode=qr.prototype.Da,qr.prototype.getStatus=qr.prototype.ba,qr.prototype.getResponseJson=qr.prototype.Qa,qr.prototype.getResponseText=qr.prototype.ga,qr.prototype.send=qr.prototype.ea;var Po=ye.createWebChannelTransport=function(){return new Mo},Ko=ye.getStatEventTarget=function(){return Pt()},Zo=ye.ErrorCode=vi,La=ye.EventType=Ps,Va=ye.Event=nt,Sa=ye.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},O=ye.FetchXmlHttpFactory=Ii,p=ye.WebChannel=Gs,m=ye.XhrIo=qr;const S="@firebase/firestore";class z{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}z.UNAUTHENTICATED=new z(null),z.GOOGLE_CREDENTIALS=new z("google-credentials-uid"),z.FIRST_PARTY=new z("first-party-uid"),z.MOCK_USER=new z("mock-user");let ee="9.5.0";const ge=new me.Yd("@firebase/firestore");function Ce(){return ge.logLevel}function Be(s,...e){if(ge.logLevel<=me.in.DEBUG){const i=e.map(Fn);ge.debug(`Firestore (${ee}): ${s}`,...i)}}function kt(s,...e){if(ge.logLevel<=me.in.ERROR){const i=e.map(Fn);ge.error(`Firestore (${ee}): ${s}`,...i)}}function hn(s,...e){if(ge.logLevel<=me.in.WARN){const i=e.map(Fn);ge.warn(`Firestore (${ee}): ${s}`,...i)}}function Fn(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(i){return s}}function Wt(s="Unexpected state"){const e=`FIRESTORE (${ee}) INTERNAL ASSERTION FAILED: `+s;throw kt(e),new Error(e)}function Vt(s,e){s||Wt()}function Rt(s,e){return s}const lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class bt extends Error{constructor(e,i){super(i),this.code=e,this.message=i,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Er{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}class Ri{constructor(e,i){this.user=i,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class Yo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(z.UNAUTHENTICATED))}shutdown(){}}class Us{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class ts{constructor(e){this.t=e,this.currentUser=z.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){var a=this;let c=this.i;const g=ae=>this.i!==c?(c=this.i,i(ae)):Promise.resolve();let C=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),C.resolve(),C=new Er,e.enqueueRetryable(()=>g(this.currentUser))};const F=()=>{const ae=C;e.enqueueRetryable((0,ne.Z)(function*(){yield ae.promise,yield g(a.currentUser)}))},W=ae=>{Be("FirebaseCredentialsProvider","Auth detected"),this.auth=ae,this.auth.addAuthTokenListener(this.o),F()};this.t.onInit(ae=>W(ae)),setTimeout(()=>{if(!this.auth){const ae=this.t.getImmediate({optional:!0});ae?W(ae):(Be("FirebaseCredentialsProvider","Auth not yet detected"),C.resolve(),C=new Er)}},0),F()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(Be("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Vt("string"==typeof a.accessToken),new Ri(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Vt(null===e||"string"==typeof e),new z(e)}}class Ts{constructor(e,i,a){this.h=e,this.l=i,this.m=a,this.type="FirstParty",this.user=z.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},i=this.h.auth.getAuthHeaderValueForFirstParty([]);return i&&(e.Authorization=i),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class Zs{constructor(e,i,a){this.h=e,this.l=i,this.m=a}getToken(){return Promise.resolve(new Ts(this.h,this.l,this.m))}start(e,i){e.enqueueRetryable(()=>i(z.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mi{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.g(a),this.p=a=>i.writeSequenceNumber(a))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function eu(s){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}mi.T=-1;class lo{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const c=eu(40);for(let g=0;g<c.length;++g)a.length<20&&c[g]<i&&(a+=e.charAt(c[g]%e.length))}return a}}function Qn(s,e){return s<e?-1:s>e?1:0}function co(s,e,i){return s.length===e.length&&s.every((a,c)=>i(a,e[c]))}function oa(s){return s+"\0"}class en{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new bt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new bt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new bt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new bt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return en.fromMillis(Date.now())}static fromDate(e){return en.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*i));return new en(i,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qn(this.nanoseconds,e.nanoseconds):Qn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class zt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new zt(e)}static min(){return new zt(new en(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Un(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function tr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function xi(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class D{constructor(e,i,a){void 0===i?i=0:i>e.length&&Wt(),void 0===a?a=e.length-i:a>e.length-i&&Wt(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return 0===D.comparator(this,e)}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof D?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let c=0;c<a;c++){const g=e.get(c),C=i.get(c);if(g<C)return-1;if(g>C)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class E extends D{construct(e,i,a){return new E(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new bt(lt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(c=>c.length>0))}return new E(i)}static emptyPath(){return new E([])}}const v=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class R extends D{construct(e,i,a){return new R(e,i,a)}static isValidIdentifier(e){return v.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),R.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new R(["__name__"])}static fromServerFormat(e){const i=[];let a="",c=0;const g=()=>{if(0===a.length)throw new bt(lt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let C=!1;for(;c<e.length;){const F=e[c];if("\\"===F){if(c+1===e.length)throw new bt(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const W=e[c+1];if("\\"!==W&&"."!==W&&"`"!==W)throw new bt(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=W,c+=2}else"`"===F?(C=!C,c++):"."!==F||C?(a+=F,c++):(g(),c++)}if(g(),C)throw new bt(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new R(i)}static emptyPath(){return new R([])}}class j{constructor(e){this.fields=e,e.sort(R.comparator)}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return co(this.fields,e.fields,(i,a)=>i.isEqual(a))}}class ce{constructor(e){this.binaryString=e}static fromBase64String(e){const i=atob(e);return new ce(i)}static fromUint8Array(e){const i=function(a){let c="";for(let g=0;g<a.length;++g)c+=String.fromCharCode(a[g]);return c}(e);return new ce(i)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ce.EMPTY_BYTE_STRING=new ce("");const Le=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yt(s){if(Vt(!!s),"string"==typeof s){let e=0;const i=Le.exec(s);if(Vt(!!i),i[1]){let c=i[1];c=(c+"000000000").substr(0,9),e=Number(c)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Zt(s.seconds),nanos:Zt(s.nanos)}}function Zt(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function gr(s){return"string"==typeof s?ce.fromBase64String(s):ce.fromUint8Array(s)}function Bn(s){var e,i;return"server_timestamp"===(null===(i=((null===(e=null==s?void 0:s.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function oi(s){const e=s.mapValue.fields.__previous_value__;return Bn(e)?oi(e):e}function hr(s){const e=yt(s.mapValue.fields.__local_write_time__.timestampValue);return new en(e.seconds,e.nanos)}function ns(s){return null==s}function ho(s){return 0===s&&1/s==-1/0}function No(s){return"number"==typeof s&&Number.isInteger(s)&&!ho(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}class Tn{constructor(e){this.path=e}static fromPath(e){return new Tn(E.fromString(e))}static fromName(e){return new Tn(E.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===E.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,i){return E.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Tn(new E(e.slice()))}}function rs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Bn(s)?4:10:Wt()}function cs(s,e){const i=rs(s);if(i!==rs(e))return!1;switch(i){case 0:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return hr(s).isEqual(hr(e));case 3:return function(a,c){if("string"==typeof a.timestampValue&&"string"==typeof c.timestampValue&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const g=yt(a.timestampValue),C=yt(c.timestampValue);return g.seconds===C.seconds&&g.nanos===C.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return c=e,gr(s.bytesValue).isEqual(gr(c.bytesValue));case 7:return s.referenceValue===e.referenceValue;case 8:return function(a,c){return Zt(a.geoPointValue.latitude)===Zt(c.geoPointValue.latitude)&&Zt(a.geoPointValue.longitude)===Zt(c.geoPointValue.longitude)}(s,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return Zt(a.integerValue)===Zt(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const g=Zt(a.doubleValue),C=Zt(c.doubleValue);return g===C?ho(g)===ho(C):isNaN(g)&&isNaN(C)}return!1}(s,e);case 9:return co(s.arrayValue.values||[],e.arrayValue.values||[],cs);case 10:return function(a,c){const g=a.mapValue.fields||{},C=c.mapValue.fields||{};if(Un(g)!==Un(C))return!1;for(const F in g)if(g.hasOwnProperty(F)&&(void 0===C[F]||!cs(g[F],C[F])))return!1;return!0}(s,e);default:return Wt()}var c}function ai(s,e){return void 0!==(s.values||[]).find(i=>cs(i,e))}function aa(s,e){const i=rs(s),a=rs(e);if(i!==a)return Qn(i,a);switch(i){case 0:return 0;case 1:return Qn(s.booleanValue,e.booleanValue);case 2:return function(c,g){const C=Zt(c.integerValue||c.doubleValue),F=Zt(g.integerValue||g.doubleValue);return C<F?-1:C>F?1:C===F?0:isNaN(C)?isNaN(F)?0:-1:1}(s,e);case 3:return tu(s.timestampValue,e.timestampValue);case 4:return tu(hr(s),hr(e));case 5:return Qn(s.stringValue,e.stringValue);case 6:return function(c,g){const C=gr(c),F=gr(g);return C.compareTo(F)}(s.bytesValue,e.bytesValue);case 7:return function(c,g){const C=c.split("/"),F=g.split("/");for(let W=0;W<C.length&&W<F.length;W++){const ae=Qn(C[W],F[W]);if(0!==ae)return ae}return Qn(C.length,F.length)}(s.referenceValue,e.referenceValue);case 8:return function(c,g){const C=Qn(Zt(c.latitude),Zt(g.latitude));return 0!==C?C:Qn(Zt(c.longitude),Zt(g.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return function(c,g){const C=c.values||[],F=g.values||[];for(let W=0;W<C.length&&W<F.length;++W){const ae=aa(C[W],F[W]);if(ae)return ae}return Qn(C.length,F.length)}(s.arrayValue,e.arrayValue);case 10:return function(c,g){const C=c.fields||{},F=Object.keys(C),W=g.fields||{},ae=Object.keys(W);F.sort(),ae.sort();for(let be=0;be<F.length&&be<ae.length;++be){const Ze=Qn(F[be],ae[be]);if(0!==Ze)return Ze;const wt=aa(C[F[be]],W[ae[be]]);if(0!==wt)return wt}return Qn(F.length,ae.length)}(s.mapValue,e.mapValue);default:throw Wt()}}function tu(s,e){if("string"==typeof s&&"string"==typeof e&&s.length===e.length)return Qn(s,e);const i=yt(s),a=yt(e),c=Qn(i.seconds,a.seconds);return 0!==c?c:Qn(i.nanos,a.nanos)}function Ru(s){return mc(s)}function mc(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(a){const c=yt(a);return`time(${c.seconds},${c.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?gr(s.bytesValue).toBase64():"referenceValue"in s?Tn.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(e=s.geoPointValue).latitude},${e.longitude})`:"arrayValue"in s?function(a){let c="[",g=!0;for(const C of a.values||[])g?g=!1:c+=",",c+=mc(C);return c+"]"}(s.arrayValue):"mapValue"in s?function(a){const c=Object.keys(a.fields||{}).sort();let g="{",C=!0;for(const F of c)C?C=!1:g+=",",g+=`${F}:${mc(a.fields[F])}`;return g+"}"}(s.mapValue):Wt();var e}function Ys(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Qo(s){return!!s&&"integerValue"in s}function Ua(s){return!!s&&"arrayValue"in s}function ua(s){return!!s&&"nullValue"in s}function mo(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Aa(s){return!!s&&"mapValue"in s}function Hu(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return tr(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Hu(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Hu(s.arrayValue.values[i]);return e}return Object.assign({},s)}class Qs{constructor(e){this.value=e}static empty(){return new Qs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Aa(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hu(i)}setAll(e){let i=R.emptyPath(),a={},c=[];e.forEach((C,F)=>{if(!i.isImmediateParentOf(F)){const W=this.getFieldsMap(i);this.applyChanges(W,a,c),a={},c=[],i=F.popLast()}C?a[F.lastSegment()]=Hu(C):c.push(F.lastSegment())});const g=this.getFieldsMap(i);this.applyChanges(g,a,c)}delete(e){const i=this.field(e.popLast());Aa(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return cs(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let c=i.mapValue.fields[e.get(a)];Aa(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=c),i=c}return i.mapValue.fields}applyChanges(e,i,a){tr(i,(c,g)=>e[c]=g);for(const c of a)delete e[c]}clone(){return new Qs(Hu(this.value))}}function Ra(s){const e=[];return tr(s.fields,(i,a)=>{const c=new R([i]);if(Aa(a)){const g=Ra(a.mapValue).fields;if(0===g.length)e.push(c);else for(const C of g)e.push(c.child(C))}else e.push(c)}),new j(e)}class Mi{constructor(e,i,a,c,g){this.key=e,this.documentType=i,this.version=a,this.data=c,this.documentState=g}static newInvalidDocument(e){return new Mi(e,0,zt.min(),Qs.empty(),0)}static newFoundDocument(e,i,a){return new Mi(e,1,i,a,0)}static newNoDocument(e,i){return new Mi(e,2,i,Qs.empty(),0)}static newUnknownDocument(e,i){return new Mi(e,3,i,Qs.empty(),2)}convertToFoundDocument(e,i){return this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Mi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Mi(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class la{constructor(e,i=null,a=[],c=[],g=null,C=null,F=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=c,this.limit=g,this.startAt=C,this.endAt=F,this.A=null}}function yo(s,e=null,i=[],a=[],c=null,g=null,C=null){return new la(s,e,i,a,c,g,C)}function nu(s){const e=Rt(s);if(null===e.A){let i=e.path.canonicalString();null!==e.collectionGroup&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>function(s){return s.field.canonicalString()+s.op.toString()+Ru(s.value)}(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>{return(c=a).field.canonicalString()+c.dir;var c}).join(","),ns(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=jr(e.startAt)),e.endAt&&(i+="|ub:",i+=jr(e.endAt)),e.A=i}return e.A}function jl(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let c=0;c<s.orderBy.length;c++)if(!ko(s.orderBy[c],e.orderBy[c]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let c=0;c<s.filters.length;c++)if((i=s.filters[c]).op!==(a=e.filters[c]).op||!i.field.isEqual(a.field)||!cs(i.value,a.value))return!1;var i,a;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!ja(s.startAt,e.startAt)&&ja(s.endAt,e.endAt)}function Gu(s){return Tn.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}class Js extends class{}{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?"in"===i||"not-in"===i?this.R(e,i,a):new B(e,i,a):"array-contains"===i?new _t(e,a):"in"===i?new Ft(e,a):"not-in"===i?new _n(e,a):"array-contains-any"===i?new tn(e,a):new Js(e,i,a)}static R(e,i,a){return"in"===i?new Q(e,a):new pe(e,a)}matches(e){const i=e.data.field(this.field);return"!="===this.op?null!==i&&this.P(aa(i,this.value)):null!==i&&rs(this.value)===rs(i)&&this.P(aa(i,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Wt()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class B extends Js{constructor(e,i,a){super(e,i,a),this.key=Tn.fromName(a.referenceValue)}matches(e){const i=Tn.comparator(e.key,this.key);return this.P(i)}}class Q extends Js{constructor(e,i){super(e,"in",i),this.keys=et(0,i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class pe extends Js{constructor(e,i){super(e,"not-in",i),this.keys=et(0,i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function et(s,e){var i;return((null===(i=e.arrayValue)||void 0===i?void 0:i.values)||[]).map(a=>Tn.fromName(a.referenceValue))}class _t extends Js{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ua(i)&&ai(i.arrayValue,this.value)}}class Ft extends Js{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return null!==i&&ai(this.value.arrayValue,i)}}class _n extends Js{constructor(e,i){super(e,"not-in",i)}matches(e){if(ai(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return null!==i&&!ai(this.value.arrayValue,i)}}class tn extends Js{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ua(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>ai(this.value.arrayValue,a))}}class qn{constructor(e,i){this.position=e,this.before=i}}function jr(s){return`${s.before?"b":"a"}:${s.position.map(e=>Ru(e)).join(",")}`}class _s{constructor(e,i="asc"){this.field=e,this.dir=i}}function ko(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}function Ds(s,e,i){let a=0;for(let c=0;c<s.position.length;c++){const g=e[c],C=s.position[c];if(a=g.field.isKeyField()?Tn.comparator(Tn.fromName(C.referenceValue),i.key):aa(C,i.data.field(g.field)),"desc"===g.dir&&(a*=-1),0!==a)break}return s.before?a<=0:a<0}function ja(s,e){if(null===s)return null===e;if(null===e||s.before!==e.before||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!cs(s.position[i],e.position[i]))return!1;return!0}class Jo{constructor(e,i=null,a=[],c=[],g=null,C="F",F=null,W=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=c,this.limit=g,this.limitType=C,this.startAt=F,this.endAt=W,this.V=null,this.S=null}}function $a(s,e,i,a,c,g,C,F){return new Jo(s,e,i,a,c,g,C,F)}function Bs(s){return new Jo(s)}function Xs(s){return!ns(s.limit)&&"F"===s.limitType}function zu(s){return!ns(s.limit)&&"L"===s.limitType}function vs(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function yc(s){for(const e of s.filters)if(e.v())return e.field;return null}function _c(s){return null!==s.collectionGroup}function ca(s){const e=Rt(s);if(null===e.V){e.V=[];const i=yc(e),a=vs(e);if(null!==i&&null===a)i.isKeyField()||e.V.push(new _s(i)),e.V.push(new _s(R.keyField(),"asc"));else{let c=!1;for(const g of e.explicitOrderBy)e.V.push(g),g.field.isKeyField()&&(c=!0);if(!c){const g=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new _s(R.keyField(),g))}}}return e.V}function _o(s){const e=Rt(s);if(!e.S)if("F"===e.limitType)e.S=yo(e.path,e.collectionGroup,ca(e),e.filters,e.limit,e.startAt,e.endAt);else{const i=[];for(const g of ca(e))i.push(new _s(g.field,"desc"===g.dir?"asc":"desc"));const a=e.endAt?new qn(e.endAt.position,!e.endAt.before):null,c=e.startAt?new qn(e.startAt.position,!e.startAt.before):null;e.S=yo(e.path,e.collectionGroup,i,e.filters,e.limit,a,c)}return e.S}function nd(s,e,i){return new Jo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function dl(s,e){return jl(_o(s),_o(e))&&s.limitType===e.limitType}function hl(s){return`${nu(_o(s))}|lt:${s.limitType}`}function nh(s){return`Query(target=${function(s){let e=s.path.canonicalString();return null!==s.collectionGroup&&(e+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(e+=`, filters: [${s.filters.map(i=>{return`${(a=i).field.canonicalString()} ${a.op} ${Ru(a.value)}`;var a}).join(", ")}]`),ns(s.limit)||(e+=", limit: "+s.limit),s.orderBy.length>0&&(e+=`, orderBy: [${s.orderBy.map(i=>{return`${(a=i).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),s.startAt&&(e+=", startAt: "+jr(s.startAt)),s.endAt&&(e+=", endAt: "+jr(s.endAt)),`Target(${e})`}(_o(s))}; limitType=${s.limitType})`}function Ha(s,e){return e.isFoundDocument()&&function(i,a){const c=a.key.path;return null!==i.collectionGroup?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):Tn.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(s,e)&&function(i,a){for(const c of i.explicitOrderBy)if(!c.field.isKeyField()&&null===a.data.field(c.field))return!1;return!0}(s,e)&&function(i,a){for(const c of i.filters)if(!c.matches(a))return!1;return!0}(s,e)&&(a=e,!((i=s).startAt&&!Ds(i.startAt,ca(i),a)||i.endAt&&Ds(i.endAt,ca(i),a)));var i,a}function Ga(s){return(e,i)=>{let a=!1;for(const c of ca(s)){const g=vc(c,e,i);if(0!==g)return g;a=a||c.field.isKeyField()}return 0}}function vc(s,e,i){const a=s.field.isKeyField()?Tn.comparator(e.key,i.key):function(c,g,C){const F=g.data.field(c),W=C.data.field(c);return null!==F&&null!==W?aa(F,W):Wt()}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Wt()}}function ru(s,e){if(s.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ho(e)?"-0":e}}function rh(s){return{integerValue:""+s}}function rd(s,e){return No(e)?rh(e):ru(s,e)}class fl{constructor(){this._=void 0}}function pl(s,e,i){return s instanceof gl?function(a,c){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&(g.fields.__previous_value__=c),{mapValue:g}}(i,e):s instanceof da?ml(s,e):s instanceof xu?Yf(s,e):function(a,c){const g=sh(a,c),C=oh(g)+oh(a.C);return Qo(g)&&Qo(a.C)?rh(C):ru(a.N,C)}(s,e)}function ih(s,e,i){return s instanceof da?ml(s,e):s instanceof xu?Yf(s,e):i}function sh(s,e){return s instanceof Wu?Qo(i=e)||(a=i)&&"doubleValue"in a?e:{integerValue:0}:null;var a,i}class gl extends fl{}class da extends fl{constructor(e){super(),this.elements=e}}function ml(s,e){const i=Qf(e);for(const a of s.elements)i.some(c=>cs(c,a))||i.push(a);return{arrayValue:{values:i}}}class xu extends fl{constructor(e){super(),this.elements=e}}function Yf(s,e){let i=Qf(e);for(const a of s.elements)i=i.filter(c=>!cs(c,a));return{arrayValue:{values:i}}}class Wu extends fl{constructor(e,i){super(),this.N=e,this.C=i}}function oh(s){return Zt(s.integerValue||s.doubleValue)}function Qf(s){return Ua(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class qu{constructor(e,i){this.field=e,this.transform=i}}class id{constructor(e,i){this.version=e,this.transformResults=i}}class ds{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ds}static exists(e){return new ds(void 0,e)}static updateTime(e){return new ds(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ku(s,e){return void 0!==s.updateTime?e.isFoundDocument()&&e.version.isEqual(s.updateTime):void 0===s.exists||s.exists===e.isFoundDocument()}class iu{}function sd(s,e,i){s instanceof _l?function(a,c,g){const C=a.value.clone(),F=Fo(a.fieldTransforms,c,g.transformResults);C.setAll(F),c.convertToFoundDocument(g.version,C).setHasCommittedMutations()}(s,e,i):s instanceof su?function(a,c,g){if(!Ku(a.precondition,c))return void c.convertToUnknownDocument(g.version);const C=Fo(a.fieldTransforms,c,g.transformResults),F=c.data;F.setAll(ah(a)),F.setAll(C),c.convertToFoundDocument(g.version,F).setHasCommittedMutations()}(s,e,i):e.convertToNoDocument(i.version).setHasCommittedMutations()}function od(s,e,i){var c;s instanceof _l?function(a,c,g){if(!Ku(a.precondition,c))return;const C=a.value.clone(),F=uh(a.fieldTransforms,g,c);C.setAll(F),c.convertToFoundDocument(Ec(c),C).setHasLocalMutations()}(s,e,i):s instanceof su?function(a,c,g){if(!Ku(a.precondition,c))return;const C=uh(a.fieldTransforms,g,c),F=c.data;F.setAll(ah(a)),F.setAll(C),c.convertToFoundDocument(Ec(c),F).setHasLocalMutations()}(s,e,i):Ku(s.precondition,c=e)&&c.convertToNoDocument(zt.min())}function Xf(s,e){let i=null;for(const a of s.fieldTransforms){const c=e.data.field(a.field),g=sh(a.transform,c||null);null!=g&&(null==i&&(i=Qs.empty()),i.set(a.field,g))}return i||null}function yl(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(i=s.fieldTransforms)&&void 0===a||i&&a&&co(i,a,(c,g)=>function(s,e){return s.field.isEqual(e.field)&&(a=e.transform,(i=s.transform)instanceof da&&a instanceof da||i instanceof xu&&a instanceof xu?co(i.elements,a.elements,cs):i instanceof Wu&&a instanceof Wu?cs(i.C,a.C):i instanceof gl&&a instanceof gl);var i,a}(c,g))))&&(0===s.type?s.value.isEqual(e.value):1!==s.type||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask));var i,a}function Ec(s){return s.isFoundDocument()?s.version:zt.min()}class _l extends iu{constructor(e,i,a,c=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=c,this.type=0}}class su extends iu{constructor(e,i,a,c,g=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=c,this.fieldTransforms=g,this.type=1}}function ah(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function Fo(s,e,i){const a=new Map;Vt(s.length===i.length);for(let c=0;c<i.length;c++){const g=s[c],C=g.transform,F=e.data.field(g.field);a.set(g.field,ih(C,F,i[c]))}return a}function uh(s,e,i){const a=new Map;for(const c of s){const g=c.transform,C=i.data.field(c.field);a.set(c.field,pl(g,C,e))}return a}class $l extends iu{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}}class Hl extends iu{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}}class ep{constructor(e){this.count=e}}var Es,br;function Zu(s){switch(s){default:return Wt();case lt.CANCELLED:case lt.UNKNOWN:case lt.DEADLINE_EXCEEDED:case lt.RESOURCE_EXHAUSTED:case lt.INTERNAL:case lt.UNAVAILABLE:case lt.UNAUTHENTICATED:return!1;case lt.INVALID_ARGUMENT:case lt.NOT_FOUND:case lt.ALREADY_EXISTS:case lt.PERMISSION_DENIED:case lt.FAILED_PRECONDITION:case lt.ABORTED:case lt.OUT_OF_RANGE:case lt.UNIMPLEMENTED:case lt.DATA_LOSS:return!0}}function Gl(s){if(void 0===s)return kt("GRPC error has no .code"),lt.UNKNOWN;switch(s){case Es.OK:return lt.OK;case Es.CANCELLED:return lt.CANCELLED;case Es.UNKNOWN:return lt.UNKNOWN;case Es.DEADLINE_EXCEEDED:return lt.DEADLINE_EXCEEDED;case Es.RESOURCE_EXHAUSTED:return lt.RESOURCE_EXHAUSTED;case Es.INTERNAL:return lt.INTERNAL;case Es.UNAVAILABLE:return lt.UNAVAILABLE;case Es.UNAUTHENTICATED:return lt.UNAUTHENTICATED;case Es.INVALID_ARGUMENT:return lt.INVALID_ARGUMENT;case Es.NOT_FOUND:return lt.NOT_FOUND;case Es.ALREADY_EXISTS:return lt.ALREADY_EXISTS;case Es.PERMISSION_DENIED:return lt.PERMISSION_DENIED;case Es.FAILED_PRECONDITION:return lt.FAILED_PRECONDITION;case Es.ABORTED:return lt.ABORTED;case Es.OUT_OF_RANGE:return lt.OUT_OF_RANGE;case Es.UNIMPLEMENTED:return lt.UNIMPLEMENTED;case Es.DATA_LOSS:return lt.DATA_LOSS;default:return Wt()}}(br=Es||(Es={}))[br.OK=0]="OK",br[br.CANCELLED=1]="CANCELLED",br[br.UNKNOWN=2]="UNKNOWN",br[br.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",br[br.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",br[br.NOT_FOUND=5]="NOT_FOUND",br[br.ALREADY_EXISTS=6]="ALREADY_EXISTS",br[br.PERMISSION_DENIED=7]="PERMISSION_DENIED",br[br.UNAUTHENTICATED=16]="UNAUTHENTICATED",br[br.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",br[br.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",br[br.ABORTED=10]="ABORTED",br[br.OUT_OF_RANGE=11]="OUT_OF_RANGE",br[br.UNIMPLEMENTED=12]="UNIMPLEMENTED",br[br.INTERNAL=13]="INTERNAL",br[br.UNAVAILABLE=14]="UNAVAILABLE",br[br.DATA_LOSS=15]="DATA_LOSS";class js{constructor(e,i){this.comparator=e,this.root=i||$s.EMPTY}insert(e,i){return new js(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,$s.BLACK,null,null))}remove(e){return new js(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$s.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(0===a)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const c=this.comparator(e,a.key);if(0===c)return i+a.left.size;c<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bc(this.root,e,this.comparator,!0)}}class bc{constructor(e,i,a,c){this.isReverse=c,this.nodeStack=[];let g=1;for(;!e.isEmpty();)if(g=i?a(e.key,i):1,c&&(g*=-1),g<0)e=this.isReverse?e.left:e.right;else{if(0===g){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $s{constructor(e,i,a,c,g){this.key=e,this.value=i,this.color=null!=a?a:$s.RED,this.left=null!=c?c:$s.EMPTY,this.right=null!=g?g:$s.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,c,g){return new $s(null!=e?e:this.key,null!=i?i:this.value,null!=a?a:this.color,null!=c?c:this.left,null!=g?g:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let c=this;const g=a(e,c.key);return c=g<0?c.copy(null,null,null,c.left.insert(e,i,a),null):0===g?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(e,i,a)),c.fixUp()}removeMin(){if(this.left.isEmpty())return $s.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,c=this;if(i(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,i),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===i(e,c.key)){if(c.right.isEmpty())return $s.EMPTY;a=c.right.min(),c=c.copy(a.key,a.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,i))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$s.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Wt();const e=this.left.check();if(e!==this.right.check())throw Wt();return e+(this.isRed()?0:1)}}$s.EMPTY=null,$s.RED=!0,$s.BLACK=!1,$s.EMPTY=new class{constructor(){this.size=0}get key(){throw Wt()}get value(){throw Wt()}get color(){throw Wt()}get left(){throw Wt()}get right(){throw Wt()}copy(s,e,i,a,c){return this}insert(s,e,i){return new $s(s,e)}remove(s,e){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bs{constructor(e){this.comparator=e,this.data=new js(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const c=a.getNext();if(this.comparator(c.key,e[1])>=0)return;i(c.key)}}forEachWhile(e,i){let a;for(a=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new lh(this.data.getIterator())}getIteratorFrom(e){return new lh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof bs)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const c=i.getNext().key,g=a.getNext().key;if(0!==this.comparator(c,g))return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new bs(this.comparator);return i.data=e,i}}class lh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const ch=new js(Tn.comparator);function ha(){return ch}const tp=new js(Tn.comparator);function wc(){return tp}const ad=new js(Tn.comparator);function np(){return ad}const rp=new bs(Tn.comparator);function Kr(...s){let e=rp;for(const i of s)e=e.add(i);return e}const Cc=new bs(Qn);function Xo(){return Cc}class ou{constructor(e,i,a,c,g){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=c,this.resolvedLimboDocuments=g}static createSynthesizedRemoteEventForCurrentChange(e,i){const a=new Map;return a.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,i)),new ou(zt.min(),a,Xo(),ha(),Kr())}}class au{constructor(e,i,a,c,g){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=c,this.removedDocuments=g}static createSynthesizedTargetChangeForCurrentChange(e,i){return new au(ce.EMPTY_BYTE_STRING,i,Kr(),Kr(),Kr())}}class zl{constructor(e,i,a,c){this.k=e,this.removedTargetIds=i,this.key=a,this.$=c}}class ud{constructor(e,i){this.targetId=e,this.O=i}}class ip{constructor(e,i,a=ce.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=c}}class dh{constructor(){this.F=0,this.M=Tc(),this.L=ce.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=Kr(),i=Kr(),a=Kr();return this.M.forEach((c,g)=>{switch(g){case 0:e=e.add(c);break;case 2:i=i.add(c);break;case 1:a=a.add(c);break;default:Wt()}}),new au(this.L,this.B,e,i,a)}G(){this.U=!1,this.M=Tc()}H(e,i){this.U=!0,this.M=this.M.insert(e,i)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class hm{constructor(e){this.tt=e,this.et=new Map,this.nt=ha(),this.st=Ic(),this.it=new bs(Qn)}rt(e){for(const i of e.k)e.$&&e.$.isFoundDocument()?this.ot(i,e.$):this.ct(i,e.key,e.$);for(const i of e.removedTargetIds)this.ct(i,e.key,e.$)}at(e){this.forEachTarget(e,i=>{const a=this.ut(i);switch(e.state){case 0:this.ht(i)&&a.j(e.resumeToken);break;case 1:a.X(),a.q||a.G(),a.j(e.resumeToken);break;case 2:a.X(),a.q||this.removeTarget(i);break;case 3:this.ht(i)&&(a.Z(),a.j(e.resumeToken));break;case 4:this.ht(i)&&(this.lt(i),a.j(e.resumeToken));break;default:Wt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.et.forEach((a,c)=>{this.ht(c)&&i(c)})}ft(e){const i=e.targetId,a=e.O.count,c=this.dt(i);if(c){const g=c.target;if(Gu(g))if(0===a){const C=new Tn(g.path);this.ct(i,C,Mi.newNoDocument(C,zt.min()))}else Vt(1===a);else this.wt(i)!==a&&(this.lt(i),this.it=this.it.add(i))}}_t(e){const i=new Map;this.et.forEach((g,C)=>{const F=this.dt(C);if(F){if(g.current&&Gu(F.target)){const W=new Tn(F.target.path);null!==this.nt.get(W)||this.gt(C,W)||this.ct(C,W,Mi.newNoDocument(W,e))}g.K&&(i.set(C,g.W()),g.G())}});let a=Kr();this.st.forEach((g,C)=>{let F=!0;C.forEachWhile(W=>{const ae=this.dt(W);return!ae||2===ae.purpose||(F=!1,!1)}),F&&(a=a.add(g))});const c=new ou(e,i,this.it,this.nt,a);return this.nt=ha(),this.st=Ic(),this.it=new bs(Qn),c}ot(e,i){if(!this.ht(e))return;const a=this.gt(e,i.key)?2:0;this.ut(e).H(i.key,a),this.nt=this.nt.insert(i.key,i),this.st=this.st.insert(i.key,this.yt(i.key).add(e))}ct(e,i,a){if(!this.ht(e))return;const c=this.ut(e);this.gt(e,i)?c.H(i,1):c.J(i),this.st=this.st.insert(i,this.yt(i).delete(e)),a&&(this.nt=this.nt.insert(i,a))}removeTarget(e){this.et.delete(e)}wt(e){const i=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let i=this.et.get(e);return i||(i=new dh,this.et.set(e,i)),i}yt(e){let i=this.st.get(e);return i||(i=new bs(Qn),this.st=this.st.insert(e,i)),i}ht(e){const i=null!==this.dt(e);return i||Be("WatchChangeAggregator","Detected inactive target",e),i}dt(e){const i=this.et.get(e);return i&&i.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new dh),this.tt.getRemoteKeysForTarget(e).forEach(i=>{this.ct(e,i,null)})}gt(e,i){return this.tt.getRemoteKeysForTarget(e).has(i)}}function Ic(){return new js(Tn.comparator)}function Tc(){return new js(Tn.comparator)}const ld={asc:"ASCENDING",desc:"DESCENDING"},cd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class fm{constructor(e,i){this.databaseId=e,this.D=i}}function Yu(s,e){return s.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hh(s,e){return s.D?e.toBase64():e.toUint8Array()}function sp(s,e){return Yu(s,e.toTimestamp())}function eo(s){return Vt(!!s),zt.fromTimestamp(function(e){const i=yt(e);return new en(i.seconds,i.nanos)}(s))}function dd(s,e){return(i=s,new E(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function Dc(s){const e=E.fromString(s);return Vt(pd(e)),e}function za(s,e){return dd(s.databaseId,e.path)}function ea(s,e){const i=Dc(e);if(i.get(1)!==s.databaseId.projectId)throw new bt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new bt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new Tn(To(i))}function vl(s,e){return dd(s.databaseId,e)}function fh(s){const e=Dc(s);return 4===e.length?E.emptyPath():To(e)}function Di(s){return new E(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function To(s){return Vt(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function El(s,e,i){return{name:za(s,e),fields:i.value.mapValue.fields}}function Wl(s,e,i){const a=ea(s,e.name),c=eo(e.updateTime),g=new Qs({mapValue:{fields:e.fields}}),C=Mi.newFoundDocument(a,c,g);return i&&C.setHasCommittedMutations(),i?C.setHasCommittedMutations():C}function bl(s,e){let i;if(e instanceof _l)i={update:El(s,e.key,e.value)};else if(e instanceof $l)i={delete:za(s,e.key)};else if(e instanceof su)i={update:El(s,e.key,e.data),updateMask:fd(e.fieldMask)};else{if(!(e instanceof Hl))return Wt();i={verify:za(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(c,g){const C=g.transform;if(C instanceof gl)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof da)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof xu)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof Wu)return{fieldPath:g.field.canonicalString(),increment:C.C};throw Wt()}(0,a))),e.precondition.isNone||(i.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:sp(s,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Wt()),i;var c}function gh(s,e){const i=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?ds.updateTime(eo(c.updateTime)):void 0!==c.exists?ds.exists(c.exists):ds.none():ds.none(),a=e.updateTransforms?e.updateTransforms.map(c=>function(g,C){let F=null;"setToServerValue"in C?(Vt("REQUEST_TIME"===C.setToServerValue),F=new gl):"appendMissingElements"in C?F=new da(C.appendMissingElements.values||[]):"removeAllFromArray"in C?F=new xu(C.removeAllFromArray.values||[]):"increment"in C?F=new Wu(g,C.increment):Wt();const W=R.fromServerFormat(C.fieldPath);return new qu(W,F)}(s,c)):[];var c;if(e.update){const c=ea(s,e.update.name),g=new Qs({mapValue:{fields:e.update.fields}});if(e.updateMask){const C=new j((e.updateMask.fieldPaths||[]).map(ae=>R.fromServerFormat(ae)));return new su(c,g,C,i,a)}return new _l(c,g,i,a)}if(e.delete){const c=ea(s,e.delete);return new $l(c,i)}if(e.verify){const c=ea(s,e.verify);return new Hl(c,i)}return Wt()}function yh(s,e){return{documents:[vl(s,e.path)]}}function Mu(s,e){const i={structuredQuery:{}},a=e.path;null!==e.collectionGroup?(i.parent=vl(s,a),i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i.parent=vl(s,a.popLast()),i.structuredQuery.from=[{collectionId:a.lastSegment()}]);const c=function(F){if(0===F.length)return;const W=F.map(ae=>function(be){if("=="===be.op){if(mo(be.value))return{unaryFilter:{field:fa(be.field),op:"IS_NAN"}};if(ua(be.value))return{unaryFilter:{field:fa(be.field),op:"IS_NULL"}}}else if("!="===be.op){if(mo(be.value))return{unaryFilter:{field:fa(be.field),op:"IS_NOT_NAN"}};if(ua(be.value))return{unaryFilter:{field:fa(be.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fa(be.field),op:to(be.op),value:be.value}}}(ae));return 1===W.length?W[0]:{compositeFilter:{op:"AND",filters:W}}}(e.filters);c&&(i.structuredQuery.where=c);const g=function(F){if(0!==F.length)return F.map(W=>{return{field:fa((ae=W).field),direction:Do(ae.dir)};var ae})}(e.orderBy);g&&(i.structuredQuery.orderBy=g);const C=(W=e.limit,s.D||ns(W)?W:{value:W});var W;return null!==C&&(i.structuredQuery.limit=C),e.startAt&&(i.structuredQuery.startAt=Sc(e.startAt)),e.endAt&&(i.structuredQuery.endAt=Sc(e.endAt)),i}function _h(s){let e=fh(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let c=null;if(a>0){Vt(1===a);const be=i.from[0];be.allDescendants?c=be.collectionId:e=e.child(be.collectionId)}let g=[];i.where&&(g=vo(i.where));let C=[];i.orderBy&&(C=i.orderBy.map(be=>{return new _s(Ou((Ze=be).field),function(wt){switch(wt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ze.direction));var Ze}));let F=null;i.limit&&(F=function(be){let Ze;return Ze="object"==typeof be?be.value:be,ns(Ze)?null:Ze}(i.limit));let W=null;i.startAt&&(W=Ac(i.startAt));let ae=null;return i.endAt&&(ae=Ac(i.endAt)),$a(e,c,C,g,F,"F",W,ae)}function vo(s){return s?void 0!==s.unaryFilter?[Kl(s)]:void 0!==s.fieldFilter?[uu(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(e=>vo(e)).reduce((e,i)=>e.concat(i)):Wt():[]}function Sc(s){return{before:s.before,values:s.position}}function Ac(s){return new qn(s.values||[],!!s.before)}function Do(s){return ld[s]}function to(s){return cd[s]}function fa(s){return{fieldPath:s.canonicalString()}}function Ou(s){return R.fromServerFormat(s.fieldPath)}function uu(s){return Js.create(Ou(s.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Wt()}}(s.fieldFilter.op),s.fieldFilter.value)}function Kl(s){switch(s.unaryFilter.op){case"IS_NAN":const e=Ou(s.unaryFilter.field);return Js.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=Ou(s.unaryFilter.field);return Js.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ou(s.unaryFilter.field);return Js.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ou(s.unaryFilter.field);return Js.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Wt()}}function fd(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function pd(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function Lo(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=gd(e)),e=op(s.get(i),e);return gd(e)}function op(s,e){let i=e;const a=s.length;for(let c=0;c<a;c++){const g=s.charAt(c);switch(g){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=g}}return i}function gd(s){return s+"\x01\x01"}function lu(s){const e=s.length;if(Vt(e>=2),2===e)return Vt("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),E.emptyPath();const i=e-2,a=[];let c="";for(let g=0;g<e;){const C=s.indexOf("\x01",g);switch((C<0||C>i)&&Wt(),s.charAt(C+1)){case"\x01":const F=s.substring(g,C);let W;0===c.length?W=F:(c+=F,W=c,c=""),a.push(W);break;case"\x10":c+=s.substring(g,C),c+="\0";break;case"\x11":c+=s.substring(g,C+1);break;default:Wt()}g=C+2}return new E(a)}class ap{constructor(e,i){this.seconds=e,this.nanoseconds=i}}class b{constructor(e,i,a){this.ownerId=e,this.allowTabSynchronization=i,this.leaseTimestampMs=a}}b.store="owner",b.key="owner";class d{constructor(e,i,a){this.userId=e,this.lastAcknowledgedBatchId=i,this.lastStreamToken=a}}d.store="mutationQueues",d.keyPath="userId";class h{constructor(e,i,a,c,g){this.userId=e,this.batchId=i,this.localWriteTimeMs=a,this.baseMutations=c,this.mutations=g}}h.store="mutations",h.keyPath="batchId",h.userMutationsIndex="userMutationsIndex",h.userMutationsKeyPath=["userId","batchId"];class w{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,i){return[e,Lo(i)]}static key(e,i,a){return[e,Lo(i),a]}}w.store="documentMutations",w.PLACEHOLDER=new w;class G{constructor(e,i){this.path=e,this.readTime=i}}class ie{constructor(e,i){this.path=e,this.version=i}}class $e{constructor(e,i,a,c,g,C){this.unknownDocument=e,this.noDocument=i,this.document=a,this.hasCommittedMutations=c,this.readTime=g,this.parentPath=C}}$e.store="remoteDocuments",$e.readTimeIndex="readTimeIndex",$e.readTimeIndexPath="readTime",$e.collectionReadTimeIndex="collectionReadTimeIndex",$e.collectionReadTimeIndexPath=["parentPath","readTime"];class vt{constructor(e){this.byteSize=e}}vt.store="remoteDocumentGlobal",vt.key="remoteDocumentGlobalKey";class Jt{constructor(e,i,a,c,g,C,F){this.targetId=e,this.canonicalId=i,this.readTime=a,this.resumeToken=c,this.lastListenSequenceNumber=g,this.lastLimboFreeSnapshotVersion=C,this.query=F}}Jt.store="targets",Jt.keyPath="targetId",Jt.queryTargetsIndexName="queryTargetsIndex",Jt.queryTargetsKeyPath=["canonicalId","targetId"];class pn{constructor(e,i,a){this.targetId=e,this.path=i,this.sequenceNumber=a}}pn.store="targetDocuments",pn.keyPath=["targetId","path"],pn.documentTargetsIndex="documentTargetsIndex",pn.documentTargetsKeyPath=["path","targetId"];class Sn{constructor(e,i,a,c){this.highestTargetId=e,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=a,this.targetCount=c}}Sn.key="targetGlobalKey",Sn.store="targetGlobal";class On{constructor(e,i){this.collectionId=e,this.parent=i}}On.store="collectionParents",On.keyPath=["collectionId","parent"];class Oi{constructor(e,i,a,c){this.clientId=e,this.updateTimeMs=i,this.networkEnabled=a,this.inForeground=c}}Oi.store="clientMetadata",Oi.keyPath="clientId";class Eo{constructor(e,i,a){this.bundleId=e,this.createTime=i,this.version=a}}Eo.store="bundles",Eo.keyPath="bundleId";class cu{constructor(e,i,a){this.name=e,this.readTime=i,this.bundledQuery=a}}cu.store="namedQueries",cu.keyPath="name";const vh=[d.store,h.store,w.store,$e.store,Jt.store,b.store,Sn.store,pn.store,Oi.store,vt.store,On.store,Eo.store,cu.store],Qu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Vo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ut{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Ut((a,c)=>{this.nextCallback=g=>{this.wrapSuccess(e,g).next(a,c)},this.catchCallback=g=>{this.wrapFailure(i,g).next(a,c)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Ut?i:Ut.resolve(i)}catch(i){return Ut.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Ut.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Ut.reject(i)}static resolve(e){return new Ut((i,a)=>{i(e)})}static reject(e){return new Ut((i,a)=>{a(e)})}static waitFor(e){return new Ut((i,a)=>{let c=0,g=0,C=!1;e.forEach(F=>{++c,F.next(()=>{++g,C&&g===c&&i()},W=>a(W))}),C=!0,g===c&&i()})}static or(e){let i=Ut.resolve(!1);for(const a of e)i=i.next(c=>c?Ut.resolve(c):a());return i}static forEach(e,i){const a=[];return e.forEach((c,g)=>{a.push(i.call(this,c,g))}),this.waitFor(a)}}class wl{constructor(e,i){this.action=e,this.transaction=i,this.aborted=!1,this.Et=new Er,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{i.error?this.Et.reject(new Cl(e,i.error)):this.Et.resolve()},this.transaction.onerror=a=>{const c=Il(a.target.error);this.Et.reject(new Cl(e,c))}}static open(e,i,a,c){try{return new wl(i,e.transaction(c,a))}catch(g){throw new Cl(i,g)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(Be("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const i=this.transaction.objectStore(e);return new up(i)}}class pa{constructor(e,i,a){this.name=e,this.version=i,this.At=a,12.2===pa.Rt((0,de.z$)())&&kt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Be("SimpleDb","Removing database:",e),hu(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,de.hl)())return!1;if(pa.Pt())return!0;const e=(0,de.z$)(),i=pa.Rt(e),a=0<i&&i<10,c=pa.vt(e),g=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||g)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,i){return e.store(i)}static Rt(e){const i=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static vt(e){const i=e.match(/Android ([\d.]+)/i),a=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(a)}Dt(e){var i=this;return(0,ne.Z)(function*(){return i.db||(Be("SimpleDb","Opening database:",i.name),i.db=yield new Promise((a,c)=>{const g=indexedDB.open(i.name,i.version);g.onsuccess=C=>{a(C.target.result)},g.onblocked=()=>{c(new Cl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},g.onerror=C=>{const F=C.target.error;c("VersionError"===F.name?new bt(lt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===F.name?new bt(lt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+F):new Cl(e,F))},g.onupgradeneeded=C=>{Be("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',C.oldVersion),i.At.Ct(C.target.result,g.transaction,C.oldVersion,i.version).next(()=>{Be("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.Nt&&(i.db.onversionchange=a=>i.Nt(a)),i.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=i=>e(i))}runTransaction(e,i,a,c){var g=this;return(0,ne.Z)(function*(){const C="readonly"===i;let F=0;for(;;){++F;try{g.db=yield g.Dt(e);const W=wl.open(g.db,e,C?"readonly":"readwrite",a),ae=c(W).catch(be=>(W.abort(be),Ut.reject(be))).toPromise();return ae.catch(()=>{}),yield W.It,ae}catch(W){const ae="FirebaseError"!==W.name&&F<3;if(Be("SimpleDb","Transaction failed with error:",W.message,"Retrying:",ae),g.close(),!ae)return Promise.reject(W)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class md{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return hu(this.kt.delete())}}class Cl extends bt{constructor(e,i){super(lt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function du(s){return"IndexedDbTransactionError"===s.name}class up{constructor(e){this.store=e}put(e,i){let a;return void 0!==i?(Be("SimpleDb","PUT",this.store.name,e,i),a=this.store.put(i,e)):(Be("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),hu(a)}add(e){return Be("SimpleDb","ADD",this.store.name,e,e),hu(this.store.add(e))}get(e){return hu(this.store.get(e)).next(i=>(void 0===i&&(i=null),Be("SimpleDb","GET",this.store.name,e,i),i))}delete(e){return Be("SimpleDb","DELETE",this.store.name,e),hu(this.store.delete(e))}count(){return Be("SimpleDb","COUNT",this.store.name),hu(this.store.count())}Lt(e,i){const a=this.cursor(this.options(e,i)),c=[];return this.Bt(a,(g,C)=>{c.push(C)}).next(()=>c)}Ut(e,i){Be("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,i);a.qt=!1;const c=this.cursor(a);return this.Bt(c,(g,C,F)=>F.delete())}Kt(e,i){let a;i?a=e:(a={},i=e);const c=this.cursor(a);return this.Bt(c,i)}jt(e){const i=this.cursor({});return new Ut((a,c)=>{i.onerror=g=>{const C=Il(g.target.error);c(C)},i.onsuccess=g=>{const C=g.target.result;C?e(C.primaryKey,C.value).next(F=>{F?C.continue():a()}):a()}})}Bt(e,i){const a=[];return new Ut((c,g)=>{e.onerror=C=>{g(C.target.error)},e.onsuccess=C=>{const F=C.target.result;if(!F)return void c();const W=new md(F),ae=i(F.primaryKey,F.value,W);if(ae instanceof Ut){const be=ae.catch(Ze=>(W.done(),Ut.reject(Ze)));a.push(be)}W.isDone?c():null===W.Ft?F.continue():F.continue(W.Ft)}}).next(()=>Ut.waitFor(a))}options(e,i){let a;return void 0!==e&&("string"==typeof e?a=e:i=e),{index:a,range:i}}cursor(e){let i="next";if(e.reverse&&(i="prev"),e.index){const a=this.store.index(e.index);return e.qt?a.openKeyCursor(e.range,i):a.openCursor(e.range,i)}return this.store.openCursor(e.range,i)}}function hu(s){return new Ut((e,i)=>{s.onsuccess=a=>{e(a.target.result)},s.onerror=a=>{const c=Il(a.target.error);i(c)}})}let Eh=!1;function Il(s){const e=pa.Rt((0,de.z$)());if(e>=12.2&&e<13){const i="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(i)>=0){const a=new bt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Eh||(Eh=!0,setTimeout(()=>{throw a},0)),a}}return s}class fu extends Vo{constructor(e,i){super(),this.Qt=e,this.currentSequenceNumber=i}}function xa(s,e){const i=Rt(s);return pa.St(i.Qt,e)}class pm{constructor(e,i,a,c){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=c}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let c=0;c<this.mutations.length;c++){const g=this.mutations[c];g.key.isEqual(e.key)&&sd(g,e,a[c])}}applyToLocalView(e){for(const i of this.baseMutations)i.key.isEqual(e.key)&&od(i,e,this.localWriteTime);for(const i of this.mutations)i.key.isEqual(e.key)&&od(i,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(i=>{const a=e.get(i.key),c=a;this.applyToLocalView(c),a.isValidDocument()||c.convertToNoDocument(zt.min())})}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Kr())}isEqual(e){return this.batchId===e.batchId&&co(this.mutations,e.mutations,(i,a)=>yl(i,a))&&co(this.baseMutations,e.baseMutations,(i,a)=>yl(i,a))}}class bh{constructor(e,i,a,c){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=c}static from(e,i,a){Vt(e.mutations.length===a.length);let c=np();const g=e.mutations;for(let C=0;C<g.length;C++)c=c.insert(g[C].key,a[C].version);return new bh(e,i,a,c)}}class Zl{constructor(e,i,a,c,g=zt.min(),C=zt.min(),F=ce.EMPTY_BYTE_STRING){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=c,this.snapshotVersion=g,this.lastLimboFreeSnapshotVersion=C,this.resumeToken=F}withSequenceNumber(e){return new Zl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,i){return new Zl(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class pu{constructor(e){this.Wt=e}}function yd(s,e){if(e.document)return Wl(s.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const i=Tn.fromSegments(e.noDocument.path),a=Yl(e.noDocument.readTime),c=Mi.newNoDocument(i,a);return e.hasCommittedMutations?c.setHasCommittedMutations():c}if(e.unknownDocument){const i=Tn.fromSegments(e.unknownDocument.path),a=Yl(e.unknownDocument.version);return Mi.newUnknownDocument(i,a)}return Wt()}function wh(s,e,i){const a=lp(i),c=e.key.path.popLast().toArray();if(e.isFoundDocument()){const g={name:za(F=s.Wt,(W=e).key),fields:W.data.value.mapValue.fields,updateTime:Yu(F,W.version.toTimestamp())};return new $e(null,null,g,e.hasCommittedMutations,a,c)}var F,W;if(e.isNoDocument()){const g=e.key.path.toArray(),C=Pu(e.version),F=e.hasCommittedMutations;return new $e(null,new G(g,C),null,F,a,c)}if(e.isUnknownDocument()){const g=e.key.path.toArray(),C=Pu(e.version);return new $e(new ie(g,C),null,null,!0,a,c)}return Wt()}function lp(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function cp(s){const e=new en(s[0],s[1]);return zt.fromTimestamp(e)}function Pu(s){const e=s.toTimestamp();return new ap(e.seconds,e.nanoseconds)}function Yl(s){const e=new en(s.seconds,s.nanoseconds);return zt.fromTimestamp(e)}function Ql(s,e){const i=(e.baseMutations||[]).map(g=>gh(s.Wt,g));for(let g=0;g<e.mutations.length-1;++g){const C=e.mutations[g];g+1<e.mutations.length&&void 0!==e.mutations[g+1].transform&&(C.updateTransforms=e.mutations[g+1].transform.fieldTransforms,e.mutations.splice(g+1,1),++g)}const a=e.mutations.map(g=>gh(s.Wt,g)),c=en.fromMillis(e.localWriteTimeMs);return new pm(e.batchId,c,i,a)}function Jl(s){const e=Yl(s.readTime),i=void 0!==s.lastLimboFreeSnapshotVersion?Yl(s.lastLimboFreeSnapshotVersion):zt.min();let a;var c;return void 0!==s.query.documents?(Vt(1===(c=s.query).documents.length),a=_o(Bs(fh(c.documents[0])))):a=_o(_h(s.query)),new Zl(a,s.targetId,0,s.lastListenSequenceNumber,e,i,ce.fromBase64String(s.resumeToken))}function Ch(s,e){const i=Pu(e.snapshotVersion),a=Pu(e.lastLimboFreeSnapshotVersion);let c;c=Gu(e.target)?yh(s.Wt,e.target):Mu(s.Wt,e.target);const g=e.resumeToken.toBase64();return new Jt(e.targetId,nu(e.target),i,g,e.sequenceNumber,a,c)}function Ih(s){const e=_h({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?nd(e,e.limit,"L"):e}class ME{getBundleMetadata(e,i){return Xl(e).get(i).next(a=>{if(a)return{id:(c=a).bundleId,createTime:Yl(c.createTime),version:c.version};var c})}saveBundleMetadata(e,i){return Xl(e).put({bundleId:(a=i).id,createTime:Pu(eo(a.createTime)),version:a.version});var a}getNamedQuery(e,i){return Th(e).get(i).next(a=>{if(a)return{name:(c=a).name,query:Ih(c.bundledQuery),readTime:Yl(c.readTime)};var c})}saveNamedQuery(e,i){return Th(e).put({name:(a=i).name,readTime:Pu(eo(a.readTime)),bundledQuery:a.bundledQuery});var a}}function Xl(s){return xa(s,Eo.store)}function Th(s){return xa(s,cu.store)}class gm{constructor(){this.Gt=new dp}addToCollectionParentIndex(e,i){return this.Gt.add(i),Ut.resolve()}getCollectionParents(e,i){return Ut.resolve(this.Gt.getEntries(i))}}class dp{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),c=this.index[i]||new bs(E.comparator),g=!c.has(a);return this.index[i]=c.add(a),g}has(e){const i=e.lastSegment(),a=e.popLast(),c=this.index[i];return c&&c.has(a)}getEntries(e){return(this.index[e]||new bs(E.comparator)).toArray()}}class hp{constructor(){this.zt=new dp}addToCollectionParentIndex(e,i){if(!this.zt.has(i)){const a=i.lastSegment(),c=i.popLast();e.addOnCommittedListener(()=>{this.zt.add(i)});const g={collectionId:a,parent:Lo(c)};return mm(e).put(g)}return Ut.resolve()}getCollectionParents(e,i){const a=[],c=IDBKeyRange.bound([i,""],[oa(i),""],!1,!0);return mm(e).Lt(c).next(g=>{for(const C of g){if(C.collectionId!==i)break;a.push(lu(C.parent))}return a})}}function mm(s){return xa(s,On.store)}const ym={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ga{constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new ga(e,ga.DEFAULT_COLLECTION_PERCENTILE,ga.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function _m(s,e,i){const a=s.store(h.store),c=s.store(w.store),g=[],C=IDBKeyRange.only(i.batchId);let F=0;const W=a.Kt({range:C},(be,Ze,wt)=>(F++,wt.delete()));g.push(W.next(()=>{Vt(1===F)}));const ae=[];for(const be of i.mutations){const Ze=w.key(e,be.key.path,i.batchId);g.push(c.delete(Ze)),ae.push(be.key)}return Ut.waitFor(g).next(()=>ae)}function Dh(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw Wt();e=s.noDocument}return JSON.stringify(e).length}ga.DEFAULT_COLLECTION_PERCENTILE=10,ga.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ga.DEFAULT=new ga(41943040,ga.DEFAULT_COLLECTION_PERCENTILE,ga.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ga.DISABLED=new ga(-1,0,0);class fp{constructor(e,i,a,c){this.userId=e,this.N=i,this.Ht=a,this.referenceDelegate=c,this.Jt={}}static Yt(e,i,a,c){Vt(""!==e.uid);const g=e.isAuthenticated()?e.uid:"";return new fp(g,i,a,c)}checkEmpty(e){let i=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Nu(e).Kt({index:h.userMutationsIndex,range:a},(c,g,C)=>{i=!1,C.done()}).next(()=>i)}addMutationBatch(e,i,a,c){const g=ec(e),C=Nu(e);return C.add({}).next(F=>{Vt("number"==typeof F);const W=new pm(F,i,a,c),ae=function(wt,Nt,nn){const Vn=nn.baseMutations.map(As=>bl(wt.Wt,As)),Dr=nn.mutations.map(As=>bl(wt.Wt,As));return new h(Nt,nn.batchId,nn.localWriteTime.toMillis(),Vn,Dr)}(this.N,this.userId,W),be=[];let Ze=new bs((wt,Nt)=>Qn(wt.canonicalString(),Nt.canonicalString()));for(const wt of c){const Nt=w.key(this.userId,wt.key.path,F);Ze=Ze.add(wt.key.path.popLast()),be.push(C.put(ae)),be.push(g.put(Nt,w.PLACEHOLDER))}return Ze.forEach(wt=>{be.push(this.Ht.addToCollectionParentIndex(e,wt))}),e.addOnCommittedListener(()=>{this.Jt[F]=W.keys()}),Ut.waitFor(be).next(()=>W)})}lookupMutationBatch(e,i){return Nu(e).get(i).next(a=>a?(Vt(a.userId===this.userId),Ql(this.N,a)):null)}Xt(e,i){return this.Jt[i]?Ut.resolve(this.Jt[i]):this.lookupMutationBatch(e,i).next(a=>{if(a){const c=a.keys();return this.Jt[i]=c,c}return null})}getNextMutationBatchAfterBatchId(e,i){const a=i+1,c=IDBKeyRange.lowerBound([this.userId,a]);let g=null;return Nu(e).Kt({index:h.userMutationsIndex,range:c},(C,F,W)=>{F.userId===this.userId&&(Vt(F.batchId>=a),g=Ql(this.N,F)),W.done()}).next(()=>g)}getHighestUnacknowledgedBatchId(e){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return Nu(e).Kt({index:h.userMutationsIndex,range:i,reverse:!0},(c,g,C)=>{a=g.batchId,C.done()}).next(()=>a)}getAllMutationBatches(e){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Nu(e).Lt(h.userMutationsIndex,i).next(a=>a.map(c=>Ql(this.N,c)))}getAllMutationBatchesAffectingDocumentKey(e,i){const a=w.prefixForPath(this.userId,i.path),c=IDBKeyRange.lowerBound(a),g=[];return ec(e).Kt({range:c},(C,F,W)=>{const[ae,be,Ze]=C,wt=lu(be);if(ae===this.userId&&i.path.isEqual(wt))return Nu(e).get(Ze).next(Nt=>{if(!Nt)throw Wt();Vt(Nt.userId===this.userId),g.push(Ql(this.N,Nt))});W.done()}).next(()=>g)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new bs(Qn);const c=[];return i.forEach(g=>{const C=w.prefixForPath(this.userId,g.path),F=IDBKeyRange.lowerBound(C),W=ec(e).Kt({range:F},(ae,be,Ze)=>{const[wt,Nt,nn]=ae,Vn=lu(Nt);wt===this.userId&&g.path.isEqual(Vn)?a=a.add(nn):Ze.done()});c.push(W)}),Ut.waitFor(c).next(()=>this.Zt(e,a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,c=a.length+1,g=w.prefixForPath(this.userId,a),C=IDBKeyRange.lowerBound(g);let F=new bs(Qn);return ec(e).Kt({range:C},(W,ae,be)=>{const[Ze,wt,Nt]=W,nn=lu(wt);Ze===this.userId&&a.isPrefixOf(nn)?nn.length===c&&(F=F.add(Nt)):be.done()}).next(()=>this.Zt(e,F))}Zt(e,i){const a=[],c=[];return i.forEach(g=>{c.push(Nu(e).get(g).next(C=>{if(null===C)throw Wt();Vt(C.userId===this.userId),a.push(Ql(this.N,C))}))}),Ut.waitFor(c).next(()=>a)}removeMutationBatch(e,i){return _m(e.Qt,this.userId,i).next(a=>(e.addOnCommittedListener(()=>{this.te(i.batchId)}),Ut.forEach(a,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(i=>{if(!i)return Ut.resolve();const a=IDBKeyRange.lowerBound(w.prefixForUser(this.userId)),c=[];return ec(e).Kt({range:a},(g,C,F)=>{if(g[0]===this.userId){const W=lu(g[1]);c.push(W)}else F.done()}).next(()=>{Vt(0===c.length)})})}containsKey(e,i){return pp(e,this.userId,i)}ee(e){return Sh(e).get(this.userId).next(i=>i||new d(this.userId,-1,""))}}function pp(s,e,i){const a=w.prefixForPath(e,i.path),c=a[1],g=IDBKeyRange.lowerBound(a);let C=!1;return ec(s).Kt({range:g,qt:!0},(F,W,ae)=>{const[be,Ze,wt]=F;be===e&&Ze===c&&(C=!0),ae.done()}).next(()=>C)}function Nu(s){return xa(s,h.store)}function ec(s){return xa(s,w.store)}function Sh(s){return xa(s,d.store)}class tc{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new tc(0)}static ie(){return new tc(-1)}}class p_{constructor(e,i){this.referenceDelegate=e,this.N=i}allocateTargetId(e){return this.re(e).next(i=>{const a=new tc(i.highestTargetId);return i.highestTargetId=a.next(),this.oe(e,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(i=>zt.fromTimestamp(new en(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(e,i,a){return this.re(e).next(c=>(c.highestListenSequenceNumber=i,a&&(c.lastRemoteSnapshotVersion=a.toTimestamp()),i>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=i),this.oe(e,c)))}addTargetData(e,i){return this.ce(e,i).next(()=>this.re(e).next(a=>(a.targetCount+=1,this.ae(i,a),this.oe(e,a))))}updateTargetData(e,i){return this.ce(e,i)}removeTargetData(e,i){return this.removeMatchingKeysForTargetId(e,i.targetId).next(()=>nc(e).delete(i.targetId)).next(()=>this.re(e)).next(a=>(Vt(a.targetCount>0),a.targetCount-=1,this.oe(e,a)))}removeTargets(e,i,a){let c=0;const g=[];return nc(e).Kt((C,F)=>{const W=Jl(F);W.sequenceNumber<=i&&null===a.get(W.targetId)&&(c++,g.push(this.removeTargetData(e,W)))}).next(()=>Ut.waitFor(g)).next(()=>c)}forEachTarget(e,i){return nc(e).Kt((a,c)=>{const g=Jl(c);i(g)})}re(e){return gp(e).get(Sn.key).next(i=>(Vt(null!==i),i))}oe(e,i){return gp(e).put(Sn.key,i)}ce(e,i){return nc(e).put(Ch(this.N,i))}ae(e,i){let a=!1;return e.targetId>i.highestTargetId&&(i.highestTargetId=e.targetId,a=!0),e.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.re(e).next(i=>i.targetCount)}getTargetData(e,i){const a=nu(i),c=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let g=null;return nc(e).Kt({range:c,index:Jt.queryTargetsIndexName},(C,F,W)=>{const ae=Jl(F);jl(i,ae.target)&&(g=ae,W.done())}).next(()=>g)}addMatchingKeys(e,i,a){const c=[],g=ma(e);return i.forEach(C=>{const F=Lo(C.path);c.push(g.put(new pn(a,F))),c.push(this.referenceDelegate.addReference(e,a,C))}),Ut.waitFor(c)}removeMatchingKeys(e,i,a){const c=ma(e);return Ut.forEach(i,g=>{const C=Lo(g.path);return Ut.waitFor([c.delete([a,C]),this.referenceDelegate.removeReference(e,a,g)])})}removeMatchingKeysForTargetId(e,i){const a=ma(e),c=IDBKeyRange.bound([i],[i+1],!1,!0);return a.delete(c)}getMatchingKeysForTargetId(e,i){const a=IDBKeyRange.bound([i],[i+1],!1,!0),c=ma(e);let g=Kr();return c.Kt({range:a,qt:!0},(C,F,W)=>{const ae=lu(C[1]),be=new Tn(ae);g=g.add(be)}).next(()=>g)}containsKey(e,i){const a=Lo(i.path),c=IDBKeyRange.bound([a],[oa(a)],!1,!0);let g=0;return ma(e).Kt({index:pn.documentTargetsIndex,qt:!0,range:c},([C,F],W,ae)=>{0!==C&&(g++,ae.done())}).next(()=>g>0)}Tt(e,i){return nc(e).get(i).next(a=>a?Jl(a):null)}}function nc(s){return xa(s,Jt.store)}function gp(s){return xa(s,Sn.store)}function ma(s){return xa(s,pn.store)}function Tl(s){return Ah.apply(this,arguments)}function Ah(){return(Ah=(0,ne.Z)(function*(s){if(s.code!==lt.FAILED_PRECONDITION||s.message!==Qu)throw s;Be("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function vm([s,e],[i,a]){const c=Qn(s,i);return 0===c?Qn(e,a):c}class Rh{constructor(e){this.ue=e,this.buffer=new bs(vm),this.he=0}le(){return++this.he}fe(e){const i=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();vm(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class g_{constructor(e,i){this.garbageCollector=e,this.asyncQueue=i,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var i=this;const a=this.de?3e5:6e4;Be("LruGarbageCollector",`Garbage collection scheduled in ${a}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",a,(0,ne.Z)(function*(){i.we=null,i.de=!0;try{yield e.collectGarbage(i.garbageCollector)}catch(c){du(c)?Be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c):yield Tl(c)}yield i._e(e)}))}}class Em{constructor(e,i){this.me=e,this.params=i}calculateTargetCount(e,i){return this.me.ge(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(0===i)return Ut.resolve(mi.T);const a=new Rh(i);return this.me.forEachTarget(e,c=>a.fe(c.sequenceNumber)).next(()=>this.me.ye(e,c=>a.fe(c))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.me.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.me.removeOrphanedDocuments(e,i)}collect(e,i){return-1===this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),Ut.resolve(ym)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ym):this.pe(e,i))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,i){let a,c,g,C,F,W,ae;const be=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ze=>(Ze>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ze}`),c=this.params.maximumSequenceNumbersToCollect):c=Ze,C=Date.now(),this.nthSequenceNumber(e,c))).next(Ze=>(a=Ze,F=Date.now(),this.removeTargets(e,a,i))).next(Ze=>(g=Ze,W=Date.now(),this.removeOrphanedDocuments(e,a))).next(Ze=>(ae=Date.now(),Ce()<=me.in.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${C-be}ms\n\tDetermined least recently used ${c} in `+(F-C)+`ms\n\tRemoved ${g} targets in `+(W-F)+`ms\n\tRemoved ${Ze} documents in `+(ae-W)+`ms\nTotal Duration: ${ae-be}ms`),Ut.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:g,documentsRemoved:Ze})))}}class bm{constructor(e,i){this.db=e,this.garbageCollector=new Em(this,i)}ge(e){const i=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(a=>i.next(c=>a+c))}Te(e){let i=0;return this.ye(e,a=>{i++}).next(()=>i)}forEachTarget(e,i){return this.db.getTargetCache().forEachTarget(e,i)}ye(e,i){return this.Ee(e,(a,c)=>i(c))}addReference(e,i,a){return _d(e,a)}removeReference(e,i,a){return _d(e,a)}removeTargets(e,i,a){return this.db.getTargetCache().removeTargets(e,i,a)}markPotentiallyOrphaned(e,i){return _d(e,i)}Ie(e,i){return function(a,c){let g=!1;return Sh(a).jt(C=>pp(a,C,c).next(F=>(F&&(g=!0),Ut.resolve(!F)))).next(()=>g)}(e,i)}removeOrphanedDocuments(e,i){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let g=0;return this.Ee(e,(C,F)=>{if(F<=i){const W=this.Ie(e,C).next(ae=>{if(!ae)return g++,a.getEntry(e,C).next(()=>(a.removeEntry(C),ma(e).delete([0,Lo(C.path)])))});c.push(W)}}).next(()=>Ut.waitFor(c)).next(()=>a.apply(e)).next(()=>g)}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,i){return _d(e,i)}Ee(e,i){const a=ma(e);let c,g=mi.T;return a.Kt({index:pn.documentTargetsIndex},([C,F],{path:W,sequenceNumber:ae})=>{0===C?(g!==mi.T&&i(new Tn(lu(c)),g),g=ae,c=W):g=mi.T}).next(()=>{g!==mi.T&&i(new Tn(lu(c)),g)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function _d(s,e){return ma(s).put((a=s.currentSequenceNumber,new pn(0,Lo(e.path),a)));var a}class Dl{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={}}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(void 0!==a)for(const[c,g]of a)if(this.equalsFn(c,e))return g}has(e){return void 0!==this.get(e)}set(e,i){const a=this.mapKeyFn(e),c=this.inner[a];if(void 0!==c){for(let g=0;g<c.length;g++)if(this.equalsFn(c[g][0],e))return void(c[g]=[e,i]);c.push([e,i])}else this.inner[a]=[[e,i]]}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(void 0===a)return!1;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return 1===a.length?delete this.inner[i]:a.splice(c,1),!0;return!1}forEach(e){tr(this.inner,(i,a)=>{for(const[c,g]of a)e(c,g)})}isEmpty(){return xi(this.inner)}}class mp{constructor(){this.changes=new Dl(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}getReadTime(e){const i=this.changes.get(e);return i?i.readTime:zt.min()}addEntry(e,i){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:i})}removeEntry(e,i=null){this.assertNotApplied(),this.changes.set(e,{document:Mi.newInvalidDocument(e),readTime:i})}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return void 0!==a?Ut.resolve(a.document):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xh{constructor(e,i){this.N=e,this.Ht=i}addEntry(e,i,a){return ku(e).put(vd(i),a)}removeEntry(e,i){const a=ku(e),c=vd(i);return a.delete(c)}updateMetadata(e,i){return this.getMetadata(e).next(a=>(a.byteSize+=i,this.Ae(e,a)))}getEntry(e,i){return ku(e).get(vd(i)).next(a=>this.Re(i,a))}be(e,i){return ku(e).get(vd(i)).next(a=>({document:this.Re(i,a),size:Dh(a)}))}getEntries(e,i){let a=ha();return this.Pe(e,i,(c,g)=>{const C=this.Re(c,g);a=a.insert(c,C)}).next(()=>a)}ve(e,i){let a=ha(),c=new js(Tn.comparator);return this.Pe(e,i,(g,C)=>{const F=this.Re(g,C);a=a.insert(g,F),c=c.insert(g,Dh(C))}).next(()=>({documents:a,Ve:c}))}Pe(e,i,a){if(i.isEmpty())return Ut.resolve();const c=IDBKeyRange.bound(i.first().path.toArray(),i.last().path.toArray()),g=i.getIterator();let C=g.getNext();return ku(e).Kt({range:c},(F,W,ae)=>{const be=Tn.fromSegments(F);for(;C&&Tn.comparator(C,be)<0;)a(C,null),C=g.getNext();C&&C.isEqual(be)&&(a(C,W),C=g.hasNext()?g.getNext():null),C?ae.Mt(C.path.toArray()):ae.done()}).next(()=>{for(;C;)a(C,null),C=g.hasNext()?g.getNext():null})}getDocumentsMatchingQuery(e,i,a){let c=ha();const g=i.path.length+1,C={};if(a.isEqual(zt.min())){const F=i.path.toArray();C.range=IDBKeyRange.lowerBound(F)}else{const F=i.path.toArray(),W=lp(a);C.range=IDBKeyRange.lowerBound([F,W],!0),C.index=$e.collectionReadTimeIndex}return ku(e).Kt(C,(F,W,ae)=>{if(F.length!==g)return;const be=yd(this.N,W);i.path.isPrefixOf(be.key.path)?Ha(i,be)&&(c=c.insert(be.key,be)):ae.done()}).next(()=>c)}newChangeBuffer(e){return new Mh(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(i=>i.byteSize)}getMetadata(e){return yp(e).get(vt.key).next(i=>(Vt(!!i),i))}Ae(e,i){return yp(e).put(vt.key,i)}Re(e,i){if(i){const a=yd(this.N,i);if(!a.isNoDocument()||!a.version.isEqual(zt.min()))return a}return Mi.newInvalidDocument(e)}}class Mh extends mp{constructor(e,i){super(),this.Se=e,this.trackRemovals=i,this.De=new Dl(a=>a.toString(),(a,c)=>a.isEqual(c))}applyChanges(e){const i=[];let a=0,c=new bs((g,C)=>Qn(g.canonicalString(),C.canonicalString()));return this.changes.forEach((g,C)=>{const F=this.De.get(g);if(C.document.isValidDocument()){const W=wh(this.Se.N,C.document,this.getReadTime(g));c=c.add(g.path.popLast()),a+=Dh(W)-F,i.push(this.Se.addEntry(e,g,W))}else if(a-=F,this.trackRemovals){const W=wh(this.Se.N,Mi.newNoDocument(g,zt.min()),this.getReadTime(g));i.push(this.Se.addEntry(e,g,W))}else i.push(this.Se.removeEntry(e,g))}),c.forEach(g=>{i.push(this.Se.Ht.addToCollectionParentIndex(e,g))}),i.push(this.Se.updateMetadata(e,a)),Ut.waitFor(i)}getFromCache(e,i){return this.Se.be(e,i).next(a=>(this.De.set(i,a.size),a.document))}getAllFromCache(e,i){return this.Se.ve(e,i).next(({documents:a,Ve:c})=>(c.forEach((g,C)=>{this.De.set(g,C)}),a))}}function yp(s){return xa(s,vt.store)}function ku(s){return xa(s,$e.store)}function vd(s){return s.path.toArray()}class _p{constructor(e){this.N=e}Ct(e,i,a,c){Vt(a<c&&a>=0&&c<=11);const g=new wl("createOrUpgrade",i);var F;a<1&&c>=1&&(e.createObjectStore(b.store),(F=e).createObjectStore(d.store,{keyPath:d.keyPath}),F.createObjectStore(h.store,{keyPath:h.keyPath,autoIncrement:!0}).createIndex(h.userMutationsIndex,h.userMutationsKeyPath,{unique:!0}),F.createObjectStore(w.store),Rc(e),function(F){F.createObjectStore($e.store)}(e));let C=Ut.resolve();return a<3&&c>=3&&(0!==a&&(function(F){F.deleteObjectStore(pn.store),F.deleteObjectStore(Jt.store),F.deleteObjectStore(Sn.store)}(e),Rc(e)),C=C.next(()=>function(F){const W=F.store(Sn.store),ae=new Sn(0,0,zt.min().toTimestamp(),0);return W.put(Sn.key,ae)}(g))),a<4&&c>=4&&(0!==a&&(C=C.next(()=>function(F,W){return W.store(h.store).Lt().next(ae=>{F.deleteObjectStore(h.store),F.createObjectStore(h.store,{keyPath:h.keyPath,autoIncrement:!0}).createIndex(h.userMutationsIndex,h.userMutationsKeyPath,{unique:!0});const be=W.store(h.store),Ze=ae.map(wt=>be.put(wt));return Ut.waitFor(Ze)})}(e,g))),C=C.next(()=>{!function(F){F.createObjectStore(Oi.store,{keyPath:Oi.keyPath})}(e)})),a<5&&c>=5&&(C=C.next(()=>this.Ce(g))),a<6&&c>=6&&(C=C.next(()=>(function(F){F.createObjectStore(vt.store)}(e),this.Ne(g)))),a<7&&c>=7&&(C=C.next(()=>this.xe(g))),a<8&&c>=8&&(C=C.next(()=>this.ke(e,g))),a<9&&c>=9&&(C=C.next(()=>{(function(F){F.objectStoreNames.contains("remoteDocumentChanges")&&F.deleteObjectStore("remoteDocumentChanges")})(e),function(F){const W=F.objectStore($e.store);W.createIndex($e.readTimeIndex,$e.readTimeIndexPath,{unique:!1}),W.createIndex($e.collectionReadTimeIndex,$e.collectionReadTimeIndexPath,{unique:!1})}(i)})),a<10&&c>=10&&(C=C.next(()=>this.$e(g))),a<11&&c>=11&&(C=C.next(()=>{(function(F){F.createObjectStore(Eo.store,{keyPath:Eo.keyPath})})(e),function(F){F.createObjectStore(cu.store,{keyPath:cu.keyPath})}(e)})),C}Ne(e){let i=0;return e.store($e.store).Kt((a,c)=>{i+=Dh(c)}).next(()=>{const a=new vt(i);return e.store(vt.store).put(vt.key,a)})}Ce(e){const i=e.store(d.store),a=e.store(h.store);return i.Lt().next(c=>Ut.forEach(c,g=>{const C=IDBKeyRange.bound([g.userId,-1],[g.userId,g.lastAcknowledgedBatchId]);return a.Lt(h.userMutationsIndex,C).next(F=>Ut.forEach(F,W=>{Vt(W.userId===g.userId);const ae=Ql(this.N,W);return _m(e,g.userId,ae).next(()=>{})}))}))}xe(e){const i=e.store(pn.store),a=e.store($e.store);return e.store(Sn.store).get(Sn.key).next(c=>{const g=[];return a.Kt((C,F)=>{const W=new E(C),ae=[0,Lo(W)];g.push(i.get(ae).next(be=>be?Ut.resolve():i.put(new pn(0,Lo(W),c.highestListenSequenceNumber))))}).next(()=>Ut.waitFor(g))})}ke(e,i){e.createObjectStore(On.store,{keyPath:On.keyPath});const a=i.store(On.store),c=new dp,g=C=>{if(c.add(C)){const F=C.lastSegment(),W=C.popLast();return a.put({collectionId:F,parent:Lo(W)})}};return i.store($e.store).Kt({qt:!0},(C,F)=>{const W=new E(C);return g(W.popLast())}).next(()=>i.store(w.store).Kt({qt:!0},([C,F,W],ae)=>{const be=lu(F);return g(be.popLast())}))}$e(e){const i=e.store(Jt.store);return i.Kt((a,c)=>{const g=Jl(c),C=Ch(this.N,g);return i.put(C)})}}function Rc(s){s.createObjectStore(pn.store,{keyPath:pn.keyPath}).createIndex(pn.documentTargetsIndex,pn.documentTargetsKeyPath,{unique:!0}),s.createObjectStore(Jt.store,{keyPath:Jt.keyPath}).createIndex(Jt.queryTargetsIndexName,Jt.queryTargetsKeyPath,{unique:!0}),s.createObjectStore(Sn.store)}const vp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Oh{constructor(e,i,a,c,g,C,F,W,ae,be){if(this.allowTabSynchronization=e,this.persistenceKey=i,this.clientId=a,this.Oe=g,this.window=C,this.document=F,this.Fe=ae,this.Me=be,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=Ze=>Promise.resolve(),!Oh.bt())throw new bt(lt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bm(this,c),this.We=i+"main",this.N=new pu(W),this.Ge=new pa(this.We,11,new _p(this.N)),this.ze=new p_(this.referenceDelegate,this.N),this.Ht=new hp,this.He=new xh(this.N,this.Ht),this.Je=new ME,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===be&&kt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new bt(lt.FAILED_PRECONDITION,vp);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new mi(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var i=this;return this.Qe=function(){var a=(0,ne.Z)(function*(c){if(i.started)return e(c)});return function(c){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var i=(0,ne.Z)(function*(a){null===a.newVersion&&(yield e())});return function(a){return i.apply(this,arguments)}}())}setNetworkEnabled(e){var i=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,ne.Z)(function*(){i.started&&(yield i.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ph(e).put(new Oi(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(i=>{i||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(i=>this.isPrimary&&!i?this.on(e).next(()=>!1):!!i&&this.cn(e).next(()=>!0))).catch(e=>{if(du(e))return Be("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return Ed(e).get(b.key).next(i=>Ut.resolve(this.an(i)))}un(e){return Ph(e).delete(this.clientId)}hn(){var e=this;return(0,ne.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const i=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const c=xa(a,Oi.store);return c.Lt().next(g=>{const C=e.fn(g,18e5),F=g.filter(W=>-1===C.indexOf(W));return Ut.forEach(F,W=>c.delete(W.clientId)).next(()=>F)})}).catch(()=>[]);if(e.Ye)for(const a of i)e.Ye.removeItem(e.dn(a.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}an(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Ut.resolve(!0):Ed(e).get(b.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)){if(this.an(i)&&this.networkEnabled)return!0;if(!this.an(i)){if(!i.allowTabSynchronization)throw new bt(lt.FAILED_PRECONDITION,vp);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ph(e).Lt().next(a=>void 0===this.fn(a,5e3).find(c=>{if(this.clientId!==c.clientId){const C=!this.inForeground&&c.inForeground,F=this.networkEnabled===c.networkEnabled;if(!this.networkEnabled&&c.networkEnabled||C&&F)return!0}return!1}))}).next(i=>(this.isPrimary!==i&&Be("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var e=this;return(0,ne.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[b.store,Oi.store],i=>{const a=new fu(i,mi.T);return e.on(a).next(()=>e.un(a))}),e.Ge.close(),e.yn()})()}fn(e,i){return e.filter(a=>this.ln(a.updateTimeMs,i)&&!this.wn(a.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>Ph(e).Lt().next(i=>this.fn(i,18e5).map(a=>a.clientId)))}get started(){return this.Be}getMutationQueue(e){return fp.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,i,a){let g;return Be("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===i?"readonly":"readwrite",vh,C=>(g=new fu(C,this.Le?this.Le.next():mi.T),"readwrite-primary"===i?this.sn(g).next(F=>!!F||this.rn(g)).next(F=>{if(!F)throw kt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new bt(lt.FAILED_PRECONDITION,Qu);return a(g)}).next(F=>this.cn(g).next(()=>F)):this.Tn(g).next(()=>a(g)))).then(C=>(g.raiseOnCommittedEvent(),C))}Tn(e){return Ed(e).get(b.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)&&!this.an(i)&&!(this.Me||this.allowTabSynchronization&&i.allowTabSynchronization))throw new bt(lt.FAILED_PRECONDITION,vp)})}cn(e){const i=new b(this.clientId,this.allowTabSynchronization,Date.now());return Ed(e).put(b.key,i)}static bt(){return pa.bt()}on(e){const i=Ed(e);return i.get(b.key).next(a=>this.an(a)?(Be("IndexedDbPersistence","Releasing primary lease."),i.delete(b.key)):Ut.resolve())}ln(e,i){const a=Date.now();return!(e<a-i||e>a&&(kt(`Detected an update time that is in the future: ${e} > ${a}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,de.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var i;try{const a=null!==(null===(i=this.Ye)||void 0===i?void 0:i.getItem(this.dn(e)));return Be("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return kt("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){kt("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ed(s){return xa(s,b.store)}function Ph(s){return xa(s,Oi.store)}function Nh(s,e){let i=s.projectId;return s.isDefaultDatabase||(i+="."+s.database),"firestore/"+e+"/"+i+"/"}class Ep{constructor(e,i){this.progress=e,this.En=i}}class bp{constructor(e,i,a){this.He=e,this.In=i,this.Ht=a}An(e,i){return this.In.getAllMutationBatchesAffectingDocumentKey(e,i).next(a=>this.Rn(e,i,a))}Rn(e,i,a){return this.He.getEntry(e,i).next(c=>{for(const g of a)g.applyToLocalView(c);return c})}bn(e,i){e.forEach((a,c)=>{for(const g of i)g.applyToLocalView(c)})}Pn(e,i){return this.He.getEntries(e,i).next(a=>this.vn(e,a).next(()=>a))}vn(e,i){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,i).next(a=>this.bn(i,a))}getDocumentsMatchingQuery(e,i,a){return Tn.isDocumentKey((c=i).path)&&null===c.collectionGroup&&0===c.filters.length?this.Vn(e,i.path):_c(i)?this.Sn(e,i,a):this.Dn(e,i,a);var c}Vn(e,i){return this.An(e,new Tn(i)).next(a=>{let c=wc();return a.isFoundDocument()&&(c=c.insert(a.key,a)),c})}Sn(e,i,a){const c=i.collectionGroup;let g=wc();return this.Ht.getCollectionParents(e,c).next(C=>Ut.forEach(C,F=>{const W=(ae=i,be=F.child(c),new Jo(be,null,ae.explicitOrderBy.slice(),ae.filters.slice(),ae.limit,ae.limitType,ae.startAt,ae.endAt));var ae,be;return this.Dn(e,W,a).next(ae=>{ae.forEach((be,Ze)=>{g=g.insert(be,Ze)})})}).next(()=>g))}Dn(e,i,a){let c,g;return this.He.getDocumentsMatchingQuery(e,i,a).next(C=>(c=C,this.In.getAllMutationBatchesAffectingQuery(e,i))).next(C=>(g=C,this.Cn(e,g,c).next(F=>{c=F;for(const W of g)for(const ae of W.mutations){const be=ae.key;let Ze=c.get(be);null==Ze&&(Ze=Mi.newInvalidDocument(be),c=c.insert(be,Ze)),od(ae,Ze,W.localWriteTime),Ze.isFoundDocument()||(c=c.remove(be))}}))).next(()=>(c.forEach((C,F)=>{Ha(i,F)||(c=c.remove(C))}),c))}Cn(e,i,a){let c=Kr();for(const C of i)for(const F of C.mutations)F instanceof su&&null===a.get(F.key)&&(c=c.add(F.key));let g=a;return this.He.getEntries(e,c).next(C=>(C.forEach((F,W)=>{W.isFoundDocument()&&(g=g.insert(F,W))}),g))}}class wm{constructor(e,i,a,c){this.targetId=e,this.fromCache=i,this.Nn=a,this.xn=c}static kn(e,i){let a=Kr(),c=Kr();for(const g of i.docChanges)switch(g.type){case 0:a=a.add(g.doc.key);break;case 1:c=c.add(g.doc.key)}return new wm(e,i.fromCache,a,c)}}class wp{$n(e){this.On=e}getDocumentsMatchingQuery(e,i,a,c){return 0===(g=i).filters.length&&null===g.limit&&null==g.startAt&&null==g.endAt&&(0===g.explicitOrderBy.length||1===g.explicitOrderBy.length&&g.explicitOrderBy[0].field.isKeyField())||a.isEqual(zt.min())?this.Fn(e,i):this.On.Pn(e,c).next(g=>{const C=this.Mn(i,g);return(Xs(i)||zu(i))&&this.Ln(i.limitType,C,c,a)?this.Fn(e,i):(Ce()<=me.in.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),nh(i)),this.On.getDocumentsMatchingQuery(e,i,a).next(F=>(C.forEach(W=>{F=F.insert(W.key,W)}),F)))});var g}Mn(e,i){let a=new bs(Ga(e));return i.forEach((c,g)=>{Ha(e,g)&&(a=a.add(g))}),a}Ln(e,i,a,c){if(a.size!==i.size)return!0;const g="F"===e?i.last():i.first();return!!g&&(g.hasPendingWrites||g.version.compareTo(c)>0)}Fn(e,i){return Ce()<=me.in.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",nh(i)),this.On.getDocumentsMatchingQuery(e,i,zt.min())}}class m_{constructor(e,i,a,c){this.persistence=e,this.Bn=i,this.N=c,this.Un=new js(Qn),this.qn=new Dl(g=>nu(g),jl),this.Kn=zt.min(),this.In=e.getMutationQueue(a),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new bp(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Un))}}function Cp(s,e,i,a){return new m_(s,e,i,a)}function Cm(s,e){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,ne.Z)(function*(s,e){const i=Rt(s);let a=i.In,c=i.Qn;const g=yield i.persistence.runTransaction("Handle user change","readonly",C=>{let F;return i.In.getAllMutationBatches(C).next(W=>(F=W,a=i.persistence.getMutationQueue(e),c=new bp(i.jn,a,i.persistence.getIndexManager()),a.getAllMutationBatches(C))).next(W=>{const ae=[],be=[];let Ze=Kr();for(const wt of F){ae.push(wt.batchId);for(const Nt of wt.mutations)Ze=Ze.add(Nt.key)}for(const wt of W){be.push(wt.batchId);for(const Nt of wt.mutations)Ze=Ze.add(Nt.key)}return c.Pn(C,Ze).next(wt=>({Wn:wt,removedBatchIds:ae,addedBatchIds:be}))})});return i.In=a,i.Qn=c,i.Bn.$n(i.Qn),g})).apply(this,arguments)}function gu(s,e){const i=Rt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const c=e.batch.keys(),g=i.jn.newChangeBuffer({trackRemovals:!0});return function(C,F,W,ae){const be=W.batch,Ze=be.keys();let wt=Ut.resolve();return Ze.forEach(Nt=>{wt=wt.next(()=>ae.getEntry(F,Nt)).next(nn=>{const Vn=W.docVersions.get(Nt);Vt(null!==Vn),nn.version.compareTo(Vn)<0&&(be.applyToRemoteDocument(nn,W),nn.isValidDocument()&&ae.addEntry(nn,W.commitVersion))})}),wt.next(()=>C.In.removeMutationBatch(F,be))}(i,a,e,g).next(()=>g.apply(a)).next(()=>i.In.performConsistencyCheck(a)).next(()=>i.Qn.Pn(a,c))})}function Im(s){const e=Rt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.ze.getLastRemoteSnapshotVersion(i))}function Tm(s,e){const i=Rt(s),a=e.snapshotVersion;let c=i.Un;return i.persistence.runTransaction("Apply remote event","readwrite-primary",g=>{const C=i.jn.newChangeBuffer({trackRemovals:!0});c=i.Un;const F=[];e.targetChanges.forEach((ae,be)=>{const Ze=c.get(be);if(!Ze)return;F.push(i.ze.removeMatchingKeys(g,ae.removedDocuments,be).next(()=>i.ze.addMatchingKeys(g,ae.addedDocuments,be)));const wt=ae.resumeToken;if(wt.approximateByteSize()>0){const Nt=Ze.withResumeToken(wt,a).withSequenceNumber(g.currentSequenceNumber);c=c.insert(be,Nt),nn=Ze,Dr=ae,Vt((Vn=Nt).resumeToken.approximateByteSize()>0),(0===nn.resumeToken.approximateByteSize()||Vn.snapshotVersion.toMicroseconds()-nn.snapshotVersion.toMicroseconds()>=3e8||Dr.addedDocuments.size+Dr.modifiedDocuments.size+Dr.removedDocuments.size>0)&&F.push(i.ze.updateTargetData(g,Nt))}var nn,Vn,Dr});let W=ha();if(e.documentUpdates.forEach((ae,be)=>{e.resolvedLimboDocuments.has(ae)&&F.push(i.persistence.referenceDelegate.updateLimboDocument(g,ae))}),F.push(Dm(g,C,e.documentUpdates,a,void 0).next(ae=>{W=ae})),!a.isEqual(zt.min())){const ae=i.ze.getLastRemoteSnapshotVersion(g).next(be=>i.ze.setTargetsMetadata(g,g.currentSequenceNumber,a));F.push(ae)}return Ut.waitFor(F).next(()=>C.apply(g)).next(()=>i.Qn.vn(g,W)).next(()=>W)}).then(g=>(i.Un=c,g))}function Dm(s,e,i,a,c){let g=Kr();return i.forEach(C=>g=g.add(C)),e.getEntries(s,g).next(C=>{let F=ha();return i.forEach((W,ae)=>{const be=C.get(W),Ze=(null==c?void 0:c.get(W))||a;ae.isNoDocument()&&ae.version.isEqual(zt.min())?(e.removeEntry(W,Ze),F=F.insert(W,ae)):!be.isValidDocument()||ae.version.compareTo(be.version)>0||0===ae.version.compareTo(be.version)&&be.hasPendingWrites?(e.addEntry(ae,Ze),F=F.insert(W,ae)):Be("LocalStore","Ignoring outdated watch update for ",W,". Current version:",be.version," Watch version:",ae.version)}),F})}function y_(s,e){const i=Rt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),i.In.getNextMutationBatchAfterBatchId(a,e)))}function xc(s,e){const i=Rt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let c;return i.ze.getTargetData(a,e).next(g=>g?(c=g,Ut.resolve(c)):i.ze.allocateTargetId(a).next(C=>(c=new Zl(e,C,0,a.currentSequenceNumber),i.ze.addTargetData(a,c).next(()=>c))))}).then(a=>{const c=i.Un.get(a.targetId);return(null===c||a.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(i.Un=i.Un.insert(a.targetId,a),i.qn.set(e,a.targetId)),a})}function Mc(s,e,i){return kh.apply(this,arguments)}function kh(){return(kh=(0,ne.Z)(function*(s,e,i){const a=Rt(s),c=a.Un.get(e),g=i?"readwrite":"readwrite-primary";try{i||(yield a.persistence.runTransaction("Release target",g,C=>a.persistence.referenceDelegate.removeTarget(C,c)))}catch(C){if(!du(C))throw C;Be("LocalStore",`Failed to update sequence numbers for target ${e}: ${C}`)}a.Un=a.Un.remove(e),a.qn.delete(c.target)})).apply(this,arguments)}function Fh(s,e,i){const a=Rt(s);let c=zt.min(),g=Kr();return a.persistence.runTransaction("Execute query","readonly",C=>function(F,W,ae){const be=Rt(F),Ze=be.qn.get(ae);return void 0!==Ze?Ut.resolve(be.Un.get(Ze)):be.ze.getTargetData(W,ae)}(a,C,_o(e)).next(F=>{if(F)return c=F.lastLimboFreeSnapshotVersion,a.ze.getMatchingKeysForTargetId(C,F.targetId).next(W=>{g=W})}).next(()=>a.Bn.getDocumentsMatchingQuery(C,e,i?c:zt.min(),i?g:Kr())).next(F=>({documents:F,Gn:g})))}function Sm(s,e){const i=Rt(s),a=Rt(i.ze),c=i.Un.get(e);return c?Promise.resolve(c.target):i.persistence.runTransaction("Get target data","readonly",g=>a.Tt(g,e).next(C=>C?C.target:null))}function Am(s){const e=Rt(s);return e.persistence.runTransaction("Get new document changes","readonly",i=>function(a,c,g){const C=Rt(a);let F=ha(),W=lp(g);const ae=ku(c),be=IDBKeyRange.lowerBound(W,!0);return ae.Kt({index:$e.readTimeIndex,range:be},(Ze,wt)=>{const Nt=yd(C.N,wt);F=F.insert(Nt.key,Nt),W=wt.readTime}).next(()=>({En:F,readTime:cp(W)}))}(e.jn,i,e.Kn)).then(({En:i,readTime:a})=>(e.Kn=a,i))}function Lh(){return(Lh=(0,ne.Z)(function*(s){const e=Rt(s);return e.persistence.runTransaction("Synchronize last document change read time","readonly",i=>function(a){const c=ku(a);let g=zt.min();return c.Kt({index:$e.readTimeIndex,reverse:!0},(C,F,W)=>{F.readTime&&(g=cp(F.readTime)),W.done()}).next(()=>g)}(i)).then(i=>{e.Kn=i})})).apply(this,arguments)}function Oc(){return(Oc=(0,ne.Z)(function*(s,e,i,a){const c=Rt(s);let g=Kr(),C=ha(),F=np();for(const be of i){const Ze=e.zn(be.metadata.name);be.document&&(g=g.add(Ze)),C=C.insert(Ze,e.Hn(be)),F=F.insert(Ze,e.Jn(be.metadata.readTime))}const W=c.jn.newChangeBuffer({trackRemovals:!0}),ae=yield xc(c,(be=a,_o(Bs(E.fromString(`__bundle__/docs/${be}`)))));var be;return c.persistence.runTransaction("Apply bundle documents","readwrite",be=>Dm(be,W,C,zt.min(),F).next(Ze=>(W.apply(be),Ze)).next(Ze=>c.ze.removeMatchingKeysForTargetId(be,ae.targetId).next(()=>c.ze.addMatchingKeys(be,g,ae.targetId)).next(()=>c.Qn.vn(be,Ze)).next(()=>Ze)))})).apply(this,arguments)}function mu(s,e){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,ne.Z)(function*(s,e,i=Kr()){const a=yield xc(s,_o(Ih(e.bundledQuery))),c=Rt(s);return c.persistence.runTransaction("Save named query","readwrite",g=>{const C=eo(e.readTime);if(a.snapshotVersion.compareTo(C)>=0)return c.Je.saveNamedQuery(g,e);const F=a.withResumeToken(ce.EMPTY_BYTE_STRING,C);return c.Un=c.Un.insert(F.targetId,F),c.ze.updateTargetData(g,F).next(()=>c.ze.removeMatchingKeysForTargetId(g,a.targetId)).next(()=>c.ze.addMatchingKeys(g,i,a.targetId)).next(()=>c.Je.saveNamedQuery(g,e))})})).apply(this,arguments)}class __{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,i){return Ut.resolve(this.Yn.get(i))}saveBundleMetadata(e,i){var a;return this.Yn.set(i.id,{id:(a=i).id,version:a.version,createTime:eo(a.createTime)}),Ut.resolve()}getNamedQuery(e,i){return Ut.resolve(this.Xn.get(i))}saveNamedQuery(e,i){return this.Xn.set(i.name,{name:(a=i).name,query:Ih(a.bundledQuery),readTime:eo(a.readTime)}),Ut.resolve();var a}}class bd{constructor(){this.Zn=new bs(is.ts),this.es=new bs(is.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,i){const a=new is(e,i);this.Zn=this.Zn.add(a),this.es=this.es.add(a)}ss(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.rs(new is(e,i))}os(e,i){e.forEach(a=>this.removeReference(a,i))}cs(e){const i=new Tn(new E([])),a=new is(i,e),c=new is(i,e+1),g=[];return this.es.forEachInRange([a,c],C=>{this.rs(C),g.push(C.key)}),g}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const i=new Tn(new E([])),a=new is(i,e),c=new is(i,e+1);let g=Kr();return this.es.forEachInRange([a,c],C=>{g=g.add(C.key)}),g}containsKey(e){const i=new is(e,0),a=this.Zn.firstAfterOrEqual(i);return null!==a&&e.isEqual(a.key)}}class is{constructor(e,i){this.key=e,this.ls=i}static ts(e,i){return Tn.comparator(e.key,i.key)||Qn(e.ls,i.ls)}static ns(e,i){return Qn(e.ls,i.ls)||Tn.comparator(e.key,i.key)}}class Tp{constructor(e,i){this.Ht=e,this.referenceDelegate=i,this.In=[],this.fs=1,this.ds=new bs(is.ts)}checkEmpty(e){return Ut.resolve(0===this.In.length)}addMutationBatch(e,i,a,c){const g=this.fs;this.fs++;const C=new pm(g,i,a,c);this.In.push(C);for(const F of c)this.ds=this.ds.add(new is(F.key,g)),this.Ht.addToCollectionParentIndex(e,F.key.path.popLast());return Ut.resolve(C)}lookupMutationBatch(e,i){return Ut.resolve(this.ws(i))}getNextMutationBatchAfterBatchId(e,i){const c=this._s(i+1),g=c<0?0:c;return Ut.resolve(this.In.length>g?this.In[g]:null)}getHighestUnacknowledgedBatchId(){return Ut.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Ut.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new is(i,0),c=new is(i,Number.POSITIVE_INFINITY),g=[];return this.ds.forEachInRange([a,c],C=>{const F=this.ws(C.ls);g.push(F)}),Ut.resolve(g)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new bs(Qn);return i.forEach(c=>{const g=new is(c,0),C=new is(c,Number.POSITIVE_INFINITY);this.ds.forEachInRange([g,C],F=>{a=a.add(F.ls)})}),Ut.resolve(this.gs(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,c=a.length+1;let g=a;Tn.isDocumentKey(g)||(g=g.child(""));const C=new is(new Tn(g),0);let F=new bs(Qn);return this.ds.forEachWhile(W=>{const ae=W.key.path;return!!a.isPrefixOf(ae)&&(ae.length===c&&(F=F.add(W.ls)),!0)},C),Ut.resolve(this.gs(F))}gs(e){const i=[];return e.forEach(a=>{const c=this.ws(a);null!==c&&i.push(c)}),i}removeMutationBatch(e,i){Vt(0===this.ys(i.batchId,"removed")),this.In.shift();let a=this.ds;return Ut.forEach(i.mutations,c=>{const g=new is(c.key,i.batchId);return a=a.delete(g),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.ds=a})}te(e){}containsKey(e,i){const a=new is(i,0),c=this.ds.firstAfterOrEqual(a);return Ut.resolve(i.isEqual(c&&c.key))}performConsistencyCheck(e){return Ut.resolve()}ys(e,i){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const i=this._s(e);return i<0||i>=this.In.length?null:this.In[i]}}class xm{constructor(e,i){this.Ht=e,this.ps=i,this.docs=new js(Tn.comparator),this.size=0}addEntry(e,i,a){const c=i.key,g=this.docs.get(c),C=g?g.size:0,F=this.ps(i);return this.docs=this.docs.insert(c,{document:i.clone(),size:F,readTime:a}),this.size+=F-C,this.Ht.addToCollectionParentIndex(e,c.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Ut.resolve(a?a.document.clone():Mi.newInvalidDocument(i))}getEntries(e,i){let a=ha();return i.forEach(c=>{const g=this.docs.get(c);a=a.insert(c,g?g.document.clone():Mi.newInvalidDocument(c))}),Ut.resolve(a)}getDocumentsMatchingQuery(e,i,a){let c=ha();const g=new Tn(i.path.child("")),C=this.docs.getIteratorFrom(g);for(;C.hasNext();){const{key:F,value:{document:W,readTime:ae}}=C.getNext();if(!i.path.isPrefixOf(F.path))break;ae.compareTo(a)<=0||Ha(i,W)&&(c=c.insert(W.key,W.clone()))}return Ut.resolve(c)}Ts(e,i){return Ut.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new Dp(this)}getSize(e){return Ut.resolve(this.size)}}class Dp extends mp{constructor(e){super(),this.Se=e}applyChanges(e){const i=[];return this.changes.forEach((a,c)=>{c.document.isValidDocument()?i.push(this.Se.addEntry(e,c.document,this.getReadTime(a))):this.Se.removeEntry(a)}),Ut.waitFor(i)}getFromCache(e,i){return this.Se.getEntry(e,i)}getAllFromCache(e,i){return this.Se.getEntries(e,i)}}class OE{constructor(e){this.persistence=e,this.Es=new Dl(i=>nu(i),jl),this.lastRemoteSnapshotVersion=zt.min(),this.highestTargetId=0,this.Is=0,this.As=new bd,this.targetCount=0,this.Rs=tc.se()}forEachTarget(e,i){return this.Es.forEach((a,c)=>i(c)),Ut.resolve()}getLastRemoteSnapshotVersion(e){return Ut.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ut.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Ut.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.Is&&(this.Is=i),Ut.resolve()}ce(e){this.Es.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Rs=new tc(i),this.highestTargetId=i),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,i){return this.ce(i),this.targetCount+=1,Ut.resolve()}updateTargetData(e,i){return this.ce(i),Ut.resolve()}removeTargetData(e,i){return this.Es.delete(i.target),this.As.cs(i.targetId),this.targetCount-=1,Ut.resolve()}removeTargets(e,i,a){let c=0;const g=[];return this.Es.forEach((C,F)=>{F.sequenceNumber<=i&&null===a.get(F.targetId)&&(this.Es.delete(C),g.push(this.removeMatchingKeysForTargetId(e,F.targetId)),c++)}),Ut.waitFor(g).next(()=>c)}getTargetCount(e){return Ut.resolve(this.targetCount)}getTargetData(e,i){const a=this.Es.get(i)||null;return Ut.resolve(a)}addMatchingKeys(e,i,a){return this.As.ss(i,a),Ut.resolve()}removeMatchingKeys(e,i,a){this.As.os(i,a);const c=this.persistence.referenceDelegate,g=[];return c&&i.forEach(C=>{g.push(c.markPotentiallyOrphaned(e,C))}),Ut.waitFor(g)}removeMatchingKeysForTargetId(e,i){return this.As.cs(i),Ut.resolve()}getMatchingKeysForTargetId(e,i){const a=this.As.hs(i);return Ut.resolve(a)}containsKey(e,i){return Ut.resolve(this.As.containsKey(i))}}class Mm{constructor(e,i){this.bs={},this.Le=new mi(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new OE(this),this.Ht=new gm,this.He=new xm(this.Ht,a=>this.referenceDelegate.Ps(a)),this.N=new pu(i),this.Je=new __(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let i=this.bs[e.toKey()];return i||(i=new Tp(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=i),i}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,i,a){Be("MemoryPersistence","Starting transaction:",e);const c=new PE(this.Le.next());return this.referenceDelegate.vs(),a(c).next(g=>this.referenceDelegate.Vs(c).next(()=>g)).toPromise().then(g=>(c.raiseOnCommittedEvent(),g))}Ss(e,i){return Ut.or(Object.values(this.bs).map(a=>()=>a.containsKey(e,i)))}}class PE extends Vo{constructor(e){super(),this.currentSequenceNumber=e}}class yu{constructor(e){this.persistence=e,this.Ds=new bd,this.Cs=null}static Ns(e){return new yu(e)}get xs(){if(this.Cs)return this.Cs;throw Wt()}addReference(e,i,a){return this.Ds.addReference(a,i),this.xs.delete(a.toString()),Ut.resolve()}removeReference(e,i,a){return this.Ds.removeReference(a,i),this.xs.add(a.toString()),Ut.resolve()}markPotentiallyOrphaned(e,i){return this.xs.add(i.toString()),Ut.resolve()}removeTarget(e,i){this.Ds.cs(i.targetId).forEach(c=>this.xs.add(c.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(c=>{c.forEach(g=>this.xs.add(g.toString()))}).next(()=>a.removeTargetData(e,i))}vs(){this.Cs=new Set}Vs(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ut.forEach(this.xs,a=>{const c=Tn.fromPath(a);return this.ks(e,c).next(g=>{g||i.removeEntry(c)})}).next(()=>(this.Cs=null,i.apply(e)))}updateLimboDocument(e,i){return this.ks(e,i).next(a=>{a?this.xs.delete(i.toString()):this.xs.add(i.toString())})}Ps(e){return 0}ks(e,i){return Ut.or([()=>Ut.resolve(this.Ds.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ss(e,i)])}}function wd(s,e){return`firestore_clients_${s}_${e}`}function Cd(s,e,i){let a=`firestore_mutations_${s}_${i}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function Id(s,e){return`firestore_targets_${s}_${e}`}class Sp{constructor(e,i,a,c){this.user=e,this.batchId=i,this.state=a,this.error=c}static $s(e,i,a){const c=JSON.parse(a);let g,C="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return C&&c.error&&(C="string"==typeof c.error.message&&"string"==typeof c.error.code,C&&(g=new bt(c.error.code,c.error.message))),C?new Sp(e,i,c.state,g):(kt("SharedClientState",`Failed to parse mutation state for ID '${i}': ${a}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Td{constructor(e,i,a){this.targetId=e,this.state=i,this.error=a}static $s(e,i){const a=JSON.parse(i);let c,g="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return g&&a.error&&(g="string"==typeof a.error.message&&"string"==typeof a.error.code,g&&(c=new bt(a.error.code,a.error.message))),g?new Td(e,a.state,c):(kt("SharedClientState",`Failed to parse target state for ID '${e}': ${i}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Dd{constructor(e,i){this.clientId=e,this.activeTargetIds=i}static $s(e,i){const a=JSON.parse(i);let c="object"==typeof a&&a.activeTargetIds instanceof Array,g=Xo();for(let C=0;c&&C<a.activeTargetIds.length;++C)c=No(a.activeTargetIds[C]),g=g.add(a.activeTargetIds[C]);return c?new Dd(e,g):(kt("SharedClientState",`Failed to parse client data for instance '${e}': ${i}`),null)}}class Om{constructor(e,i){this.clientId=e,this.onlineState=i}static $s(e){const i=JSON.parse(e);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new Om(i.clientId,i.onlineState):(kt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ap{constructor(){this.activeTargetIds=Xo()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pm{constructor(e,i,a,c,g){this.window=e,this.Oe=i,this.persistenceKey=a,this.Ls=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new js(Qn),this.started=!1,this.Ks=[];const C=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=g,this.js=wd(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new Ap),this.Ws=new RegExp(`^firestore_clients_${C}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${C}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${C}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(F){return`firestore_bundle_loaded_${F}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ne.Z)(function*(){const i=yield e.syncEngine.pn();for(const c of i){if(c===e.Ls)continue;const g=e.getItem(wd(e.persistenceKey,c));if(g){const C=Dd.$s(c,g);C&&(e.qs=e.qs.insert(C.clientId,C))}}e.Ys();const a=e.storage.getItem(e.Hs);if(a){const c=e.Xs(a);c&&e.Zs(c)}for(const c of e.Ks)e.Us(c);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let i=!1;return this.qs.forEach((a,c)=>{c.activeTargetIds.has(e)&&(i=!0)}),i}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,i,a){this.ei(e,i,a),this.ni(e)}addLocalQueryTarget(e){let i="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(Id(this.persistenceKey,e));if(a){const c=Td.$s(e,a);c&&(i=c.state)}}return this.si.Fs(e),this.Ys(),i}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Id(this.persistenceKey,e))}updateQueryState(e,i,a){this.ii(e,i,a)}handleUserChange(e,i,a){i.forEach(c=>{this.ni(c)}),this.currentUser=e,a.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const i=this.storage.getItem(e);return Be("SharedClientState","READ",e,i),i}setItem(e,i){Be("SharedClientState","SET",e,i),this.storage.setItem(e,i)}removeItem(e){Be("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var i=this;const a=e;if(a.storageArea===this.storage){if(Be("SharedClientState","EVENT",a.key,a.newValue),a.key===this.js)return void kt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,ne.Z)(function*(){if(i.started){if(null!==a.key)if(i.Ws.test(a.key)){if(null==a.newValue){const c=i.ci(a.key);return i.ai(c,null)}{const c=i.ui(a.key,a.newValue);if(c)return i.ai(c.clientId,c)}}else if(i.Gs.test(a.key)){if(null!==a.newValue){const c=i.hi(a.key,a.newValue);if(c)return i.li(c)}}else if(i.zs.test(a.key)){if(null!==a.newValue){const c=i.fi(a.key,a.newValue);if(c)return i.di(c)}}else if(a.key===i.Hs){if(null!==a.newValue){const c=i.Xs(a.newValue);if(c)return i.Zs(c)}}else if(a.key===i.Qs){const c=function(g){let C=mi.T;if(null!=g)try{const F=JSON.parse(g);Vt("number"==typeof F),C=F}catch(F){kt("SharedClientState","Failed to read sequence number from WebStorage",F)}return C}(a.newValue);c!==mi.T&&i.sequenceNumberHandler(c)}else if(a.key===i.Js)return i.syncEngine.wi()}else i.Ks.push(a)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,i,a){const c=new Sp(this.currentUser,e,i,a),g=Cd(this.persistenceKey,this.currentUser,e);this.setItem(g,c.Os())}ni(e){const i=Cd(this.persistenceKey,this.currentUser,e);this.removeItem(i)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,i,a){const c=Id(this.persistenceKey,e),g=new Td(e,i,a);this.setItem(c,g.Os())}oi(){this.setItem(this.Js,"value-not-used")}ci(e){const i=this.Ws.exec(e);return i?i[1]:null}ui(e,i){const a=this.ci(e);return Dd.$s(a,i)}hi(e,i){const a=this.Gs.exec(e),c=Number(a[1]);return Sp.$s(new z(void 0!==a[2]?a[2]:null),c,i)}fi(e,i){const a=this.zs.exec(e),c=Number(a[1]);return Td.$s(c,i)}Xs(e){return Om.$s(e)}li(e){var i=this;return(0,ne.Z)(function*(){if(e.user.uid===i.currentUser.uid)return i.syncEngine._i(e.batchId,e.state,e.error);Be("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ai(e,i){const a=i?this.qs.insert(e,i):this.qs.remove(e),c=this.ti(this.qs),g=this.ti(a),C=[],F=[];return g.forEach(W=>{c.has(W)||C.push(W)}),c.forEach(W=>{g.has(W)||F.push(W)}),this.syncEngine.gi(C,F).then(()=>{this.qs=a})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let i=Xo();return e.forEach((a,c)=>{i=i.unionWith(c.activeTargetIds)}),i}}class Rp{constructor(){this.yi=new Ap,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,i,a){this.pi[e]=i}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new Ap,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Nm{Ti(e){}shutdown(){}}class km{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const xp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class NE{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class kE extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,i,a,c){const g=this.Bi(e,i);Be("RestConnection","Sending: ",g,a);const C={};return this.Ui(C,c),this.qi(e,g,C,a).then(F=>(Be("RestConnection","Received: ",F),F),F=>{throw hn("RestConnection",`${e} failed with error: `,F,"url: ",g,"request:",a),F})}Ki(e,i,a,c){return this.Li(e,i,a,c)}Ui(e,i){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+ee,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i)for(const a in i.authHeaders)i.authHeaders.hasOwnProperty(a)&&(e[a]=i.authHeaders[a])}Bi(e,i){return`${this.Fi}/v1/${i}:${xp[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,i,a,c){return new Promise((g,C)=>{const F=new m;F.listenOnce(La.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case Zo.NO_ERROR:const ae=F.getResponseJson();Be("Connection","XHR received:",JSON.stringify(ae)),g(ae);break;case Zo.TIMEOUT:Be("Connection",'RPC "'+e+'" timed out'),C(new bt(lt.DEADLINE_EXCEEDED,"Request time out"));break;case Zo.HTTP_ERROR:const be=F.getStatus();if(Be("Connection",'RPC "'+e+'" failed with status:',be,"response text:",F.getResponseText()),be>0){const Ze=F.getResponseJson().error;if(Ze&&Ze.status&&Ze.message){const wt=function(Nt){const nn=Nt.toLowerCase().replace(/_/g,"-");return Object.values(lt).indexOf(nn)>=0?nn:lt.UNKNOWN}(Ze.status);C(new bt(wt,Ze.message))}else C(new bt(lt.UNKNOWN,"Server responded with status "+F.getStatus()))}else C(new bt(lt.UNAVAILABLE,"Connection failed."));break;default:Wt()}}finally{Be("Connection",'RPC "'+e+'" completed.')}});const W=JSON.stringify(c);F.send(i,"POST",W,a,15)})}ji(e,i){const a=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Po(),g=Ko(),C={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(C.xmlHttpFactory=new O({})),this.Ui(C.initMessageHeaders,i),(0,de.uI)()||(0,de.b$)()||(0,de.d)()||(0,de.w1)()||(0,de.Mn)()||(0,de.ru)()||(C.httpHeadersOverwriteParam="$httpHeaders");const F=a.join("");Be("Connection","Creating WebChannel: "+F,C);const W=c.createWebChannel(F,C);let ae=!1,be=!1;const Ze=new NE({vi:Nt=>{be?Be("Connection","Not sending because WebChannel is closed:",Nt):(ae||(Be("Connection","Opening WebChannel transport."),W.open(),ae=!0),Be("Connection","WebChannel sending:",Nt),W.send(Nt))},Vi:()=>W.close()}),wt=(Nt,nn,Vn)=>{Nt.listen(nn,Dr=>{try{Vn(Dr)}catch(As){setTimeout(()=>{throw As},0)}})};return wt(W,p.EventType.OPEN,()=>{be||Be("Connection","WebChannel transport opened.")}),wt(W,p.EventType.CLOSE,()=>{be||(be=!0,Be("Connection","WebChannel transport closed"),Ze.$i())}),wt(W,p.EventType.ERROR,Nt=>{be||(be=!0,hn("Connection","WebChannel transport errored:",Nt),Ze.$i(new bt(lt.UNAVAILABLE,"The operation could not be completed")))}),wt(W,p.EventType.MESSAGE,Nt=>{var nn;if(!be){const Vn=Nt.data[0];Vt(!!Vn);const Dr=Vn,As=Dr.error||(null===(nn=Dr[0])||void 0===nn?void 0:nn.error);if(As){Be("Connection","WebChannel received error:",As);const Ya=As.status;let Iu=function(Uu){const Zd=Es[Uu];if(void 0!==Zd)return Gl(Zd)}(Ya),Vu=As.message;void 0===Iu&&(Iu=lt.INTERNAL,Vu="Unknown error status: "+Ya+" with message "+As.message),be=!0,Ze.$i(new bt(Iu,Vu)),W.close()}else Be("Connection","WebChannel received:",Vn),Ze.Oi(Vn)}}),wt(g,Va.STAT_EVENT,Nt=>{Nt.stat===Sa.PROXY?Be("Connection","Detected buffering proxy"):Nt.stat===Sa.NOPROXY&&Be("Connection","Detected no buffering proxy")}),setTimeout(()=>{Ze.ki()},0),Ze}}function v_(){return"undefined"!=typeof window?window:null}function Mp(){return"undefined"!=typeof document?document:null}function Uh(s){return new fm(s,!0)}class Fm{constructor(e,i,a=1e3,c=1.5,g=6e4){this.Oe=e,this.timerId=i,this.Qi=a,this.Wi=c,this.Gi=g,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const i=Math.floor(this.zi+this.Zi()),a=Math.max(0,Date.now()-this.Ji),c=Math.max(0,i-a);c>0&&Be("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.zi} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,c,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class E_{constructor(e,i,a,c,g,C,F){this.Oe=e,this.er=a,this.nr=c,this.sr=g,this.credentialsProvider=C,this.listener=F,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new Fm(e,i)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}stop(){var e=this;return(0,ne.Z)(function*(){e.ur()&&(yield e.close(0))})()}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(e){this.gr(),this.stream.send(e)}_r(){var e=this;return(0,ne.Z)(function*(){if(e.hr())return e.close(0)})()}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,i){var a=this;return(0,ne.Z)(function*(){a.gr(),a.yr(),a.ar.cancel(),a.ir++,4!==e?a.ar.reset():i&&i.code===lt.RESOURCE_EXHAUSTED?(kt(i.toString()),kt("Using maximum backoff delay to prevent overloading the backend."),a.ar.Yi()):i&&i.code===lt.UNAUTHENTICATED&&3!==a.state&&a.credentialsProvider.invalidateToken(),null!==a.stream&&(a.pr(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.Ci(i)})()}pr(){}auth(){this.state=1;const e=this.Tr(this.ir),i=this.ir;this.credentialsProvider.getToken().then(a=>{this.ir===i&&this.Er(a)},a=>{e(()=>{const c=new bt(lt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.Ir(c)})})}Er(e){const i=this.Tr(this.ir);this.stream=this.Ar(e),this.stream.Si(()=>{i(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(a=>{i(()=>this.Ir(a))}),this.stream.onMessage(a=>{i(()=>this.onMessage(a))})}lr(){var e=this;this.state=5,this.ar.Xi((0,ne.Z)(function*(){e.state=0,e.start()}))}Ir(e){return Be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Tr(e){return i=>{this.Oe.enqueueAndForget(()=>this.ir===e?i():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FE extends E_{constructor(e,i,a,c,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,g),this.N=c}Ar(e){return this.sr.ji("Listen",e)}onMessage(e){this.ar.reset();const i=function(s,e){let i;if("targetChange"in e){const a="NO_CHANGE"===(W=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===W?1:"REMOVE"===W?2:"CURRENT"===W?3:"RESET"===W?4:Wt(),c=e.targetChange.targetIds||[],g=function(W,ae){return W.D?(Vt(void 0===ae||"string"==typeof ae),ce.fromBase64String(ae||"")):(Vt(void 0===ae||ae instanceof Uint8Array),ce.fromUint8Array(ae||new Uint8Array))}(s,e.targetChange.resumeToken),C=e.targetChange.cause,F=C&&function(W){const ae=void 0===W.code?lt.UNKNOWN:Gl(W.code);return new bt(ae,W.message||"")}(C);i=new ip(a,c,g,F||null)}else if("documentChange"in e){const a=e.documentChange,c=ea(s,a.document.name),g=eo(a.document.updateTime),C=new Qs({mapValue:{fields:a.document.fields}}),F=Mi.newFoundDocument(c,g,C);i=new zl(a.targetIds||[],a.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const a=e.documentDelete,c=ea(s,a.document),g=a.readTime?eo(a.readTime):zt.min(),C=Mi.newNoDocument(c,g);i=new zl([],a.removedTargetIds||[],C.key,C)}else if("documentRemove"in e){const a=e.documentRemove,c=ea(s,a.document);i=new zl([],a.removedTargetIds||[],c,null)}else{if(!("filter"in e))return Wt();{const a=e.filter,g=new ep(a.count||0);i=new ud(a.targetId,g)}}var W;return i}(this.N,e),a=function(c){if(!("targetChange"in c))return zt.min();const g=c.targetChange;return g.targetIds&&g.targetIds.length?zt.min():g.readTime?eo(g.readTime):zt.min()}(e);return this.listener.Rr(i,a)}br(e){const i={};i.database=Di(this.N),i.addTarget=function(c,g){let C;const F=g.target;return C=Gu(F)?{documents:yh(c,F)}:{query:Mu(c,F)},C.targetId=g.targetId,g.resumeToken.approximateByteSize()>0?C.resumeToken=hh(c,g.resumeToken):g.snapshotVersion.compareTo(zt.min())>0&&(C.readTime=Yu(c,g.snapshotVersion.toTimestamp())),C}(this.N,e);const a=function(s,e){const i=function(a,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Wt()}}(0,e.purpose);return null==i?null:{"goog-listen-tags":i}}(0,e);a&&(i.labels=a),this.mr(i)}Pr(e){const i={};i.database=Di(this.N),i.removeTarget=e,this.mr(i)}}class LE extends E_{constructor(e,i,a,c,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,g),this.N=c,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(e){return this.sr.ji("Write",e)}onMessage(e){if(Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.vr){this.ar.reset();const i=function(s,e){return s&&s.length>0?(Vt(void 0!==e),s.map(i=>function(a,c){let g=eo(a.updateTime?a.updateTime:c);return g.isEqual(zt.min())&&(g=eo(c)),new id(g,a.transformResults||[])}(i,e))):[]}(e.writeResults,e.commitTime),a=eo(e.commitTime);return this.listener.Dr(a,i)}return Vt(!e.writeResults||0===e.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const e={};e.database=Di(this.N),this.mr(e)}Sr(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>bl(this.N,a))};this.mr(i)}}class VE extends class{}{constructor(e,i,a){super(),this.credentials=e,this.sr=i,this.N=a,this.kr=!1}$r(){if(this.kr)throw new bt(lt.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,i,a){return this.$r(),this.credentials.getToken().then(c=>this.sr.Li(e,i,a,c)).catch(c=>{throw"FirebaseError"===c.name?(c.code===lt.UNAUTHENTICATED&&this.credentials.invalidateToken(),c):new bt(lt.UNKNOWN,c.toString())})}Ki(e,i,a){return this.$r(),this.credentials.getToken().then(c=>this.sr.Ki(e,i,a,c)).catch(c=>{throw"FirebaseError"===c.name?(c.code===lt.UNAUTHENTICATED&&this.credentials.invalidateToken(),c):new bt(lt.UNKNOWN,c.toString())})}terminate(){this.kr=!0}}class UE{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(e){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Br("Offline")))}set(e){this.Kr(),this.Or=0,"Online"===e&&(this.Mr=!1),this.Br(e)}Br(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Ur(e){const i=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(kt(i),this.Mr=!1):Be("OnlineStateTracker",i)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class Sl{constructor(e,i,a,c,g){var C=this;this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=g,this.zr.Ti(F=>{a.enqueueAndForget((0,ne.Z)(function*(){var W;oc(C)&&(Be("RemoteStore","Restarting streams for network reachability change."),yield(W=(0,ne.Z)(function*(ae){const be=Rt(ae);be.Wr.add(4),yield ic(be),be.Hr.set("Unknown"),be.Wr.delete(4),yield rc(be)}),function(ae){return W.apply(this,arguments)})(C))}))}),this.Hr=new UE(a,c)}}function rc(s){return Op.apply(this,arguments)}function Op(){return(Op=(0,ne.Z)(function*(s){if(oc(s))for(const e of s.Gr)yield e(!0)})).apply(this,arguments)}function ic(s){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,ne.Z)(function*(s){for(const e of s.Gr)yield e(!1)})).apply(this,arguments)}function Ad(s,e){const i=Rt(s);i.Qr.has(e.targetId)||(i.Qr.set(e.targetId,e),Np(i)?Bh(i):Fc(i).hr()&&Pp(i,e))}function sc(s,e){const i=Rt(s),a=Fc(i);i.Qr.delete(e),a.hr()&&Ju(i,e),0===i.Qr.size&&(a.hr()?a.wr():oc(i)&&i.Hr.set("Unknown"))}function Pp(s,e){s.Jr.Y(e.targetId),Fc(s).br(e)}function Ju(s,e){s.Jr.Y(e),Fc(s).Pr(e)}function Bh(s){s.Jr=new hm({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>s.Qr.get(e)||null}),Fc(s).start(),s.Hr.Lr()}function Np(s){return oc(s)&&!Fc(s).ur()&&s.Qr.size>0}function oc(s){return 0===Rt(s).Wr.size}function jh(s){s.Jr=void 0}function b_(s){return $h.apply(this,arguments)}function $h(){return($h=(0,ne.Z)(function*(s){s.Qr.forEach((e,i)=>{Pp(s,e)})})).apply(this,arguments)}function w_(s,e){return kp.apply(this,arguments)}function kp(){return(kp=(0,ne.Z)(function*(s,e){jh(s),Np(s)?(s.Hr.qr(e),Bh(s)):s.Hr.set("Unknown")})).apply(this,arguments)}function Rd(s,e,i){return Al.apply(this,arguments)}function Al(){return(Al=(0,ne.Z)(function*(s,e,i){if(s.Hr.set("Online"),e instanceof ip&&2===e.state&&e.cause)try{yield(a=(0,ne.Z)(function*(c,g){const C=g.cause;for(const F of g.targetIds)c.Qr.has(F)&&(yield c.remoteSyncer.rejectListen(F,C),c.Qr.delete(F),c.Jr.removeTarget(F))}),function(c,g){return a.apply(this,arguments)})(s,e)}catch(a){Be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield Pc(s,a)}else if(e instanceof zl?s.Jr.rt(e):e instanceof ud?s.Jr.ft(e):s.Jr.at(e),!i.isEqual(zt.min()))try{const a=yield Im(s.localStore);i.compareTo(a)>=0&&(yield function(c,g){const C=c.Jr._t(g);return C.targetChanges.forEach((F,W)=>{if(F.resumeToken.approximateByteSize()>0){const ae=c.Qr.get(W);ae&&c.Qr.set(W,ae.withResumeToken(F.resumeToken,g))}}),C.targetMismatches.forEach(F=>{const W=c.Qr.get(F);if(!W)return;c.Qr.set(F,W.withResumeToken(ce.EMPTY_BYTE_STRING,W.snapshotVersion)),Ju(c,F);const ae=new Zl(W.target,F,1,W.sequenceNumber);Pp(c,ae)}),c.remoteSyncer.applyRemoteEvent(C)}(s,i))}catch(a){Be("RemoteStore","Failed to raise snapshot:",a),yield Pc(s,a)}var a})).apply(this,arguments)}function Pc(s,e,i){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,ne.Z)(function*(s,e,i){if(!du(e))throw e;s.Wr.add(1),yield ic(s),s.Hr.set("Offline"),i||(i=()=>Im(s.localStore)),s.asyncQueue.enqueueRetryable((0,ne.Z)(function*(){Be("RemoteStore","Retrying IndexedDB access"),yield i(),s.Wr.delete(1),yield rc(s)}))})).apply(this,arguments)}function Nc(s,e){return e().catch(i=>Pc(s,i,e))}function _u(s){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,ne.Z)(function*(s){const e=Rt(s),i=no(e);let a=e.jr.length>0?e.jr[e.jr.length-1].batchId:-1;for(;Lm(e);)try{const c=yield y_(e.localStore,a);if(null===c){0===e.jr.length&&i.wr();break}a=c.batchId,Vm(e,c)}catch(c){yield Pc(e,c)}Hh(e)&&Gh(e)})).apply(this,arguments)}function Lm(s){return oc(s)&&s.jr.length<10}function Vm(s,e){s.jr.push(e);const i=no(s);i.hr()&&i.Vr&&i.Sr(e.mutations)}function Hh(s){return oc(s)&&!no(s).ur()&&s.jr.length>0}function Gh(s){no(s).start()}function Um(s){return kc.apply(this,arguments)}function kc(){return(kc=(0,ne.Z)(function*(s){no(s).Nr()})).apply(this,arguments)}function C_(s){return zh.apply(this,arguments)}function zh(){return(zh=(0,ne.Z)(function*(s){const e=no(s);for(const i of s.jr)e.Sr(i.mutations)})).apply(this,arguments)}function BE(s,e,i){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,ne.Z)(function*(s,e,i){const a=s.jr.shift(),c=bh.from(a,e,i);yield Nc(s,()=>s.remoteSyncer.applySuccessfulWrite(c)),yield _u(s)})).apply(this,arguments)}function Bm(s,e){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,ne.Z)(function*(s,e){var i;e&&no(s).Vr&&(yield(i=(0,ne.Z)(function*(a,c){if(Zu(g=c.code)&&g!==lt.ABORTED){const C=a.jr.shift();no(a).dr(),yield Nc(a,()=>a.remoteSyncer.rejectFailedWrite(C.batchId,c)),yield _u(a)}var g}),function(a,c){return i.apply(this,arguments)})(s,e)),Hh(s)&&Gh(s)})).apply(this,arguments)}function qh(s,e){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,ne.Z)(function*(s,e){const i=Rt(s);e?(i.Wr.delete(2),yield rc(i)):e||(i.Wr.add(2),yield ic(i),i.Hr.set("Unknown"))})).apply(this,arguments)}function Fc(s){return s.Yr||(s.Yr=function(e,i,a){const c=Rt(e);return c.$r(),new FE(i,c.sr,c.credentials,c.N,a)}(s.datastore,s.asyncQueue,{Si:b_.bind(null,s),Ci:w_.bind(null,s),Rr:Rd.bind(null,s)}),s.Gr.push(function(){var e=(0,ne.Z)(function*(i){i?(s.Yr.dr(),Np(s)?Bh(s):s.Hr.set("Unknown")):(yield s.Yr.stop(),jh(s))});return function(i){return e.apply(this,arguments)}}())),s.Yr}function no(s){return s.Xr||(s.Xr=function(e,i,a){const c=Rt(e);return c.$r(),new LE(i,c.sr,c.credentials,c.N,a)}(s.datastore,s.asyncQueue,{Si:Um.bind(null,s),Ci:Bm.bind(null,s),Cr:C_.bind(null,s),Dr:BE.bind(null,s)}),s.Gr.push(function(){var e=(0,ne.Z)(function*(i){i?(s.Xr.dr(),yield _u(s)):(yield s.Xr.stop(),s.jr.length>0&&(Be("RemoteStore",`Stopping write stream with ${s.jr.length} pending writes`),s.jr=[]))});return function(i){return e.apply(this,arguments)}}())),s.Xr}class Up{constructor(e,i,a,c,g){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=c,this.removalCallback=g,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(C=>{})}static createAndSchedule(e,i,a,c,g){const C=Date.now()+a,F=new Up(e,i,C,c,g);return F.start(a),F}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new bt(lt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lc(s,e){if(kt("AsyncQueue",`${e}: ${s}`),du(s))return new bt(lt.UNAVAILABLE,`${e}: ${s}`);throw s}class xd{constructor(e){this.comparator=e?(i,a)=>e(i,a)||Tn.comparator(i.key,a.key):(i,a)=>Tn.comparator(i.key,a.key),this.keyedMap=wc(),this.sortedSet=new js(this.comparator)}static emptySet(e){return new xd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof xd)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const c=i.getNext().key,g=a.getNext().key;if(!c.isEqual(g))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,i){const a=new xd;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class I_{constructor(){this.Zr=new js(Tn.comparator)}track(e){const i=e.doc.key,a=this.Zr.get(i);a?0!==e.type&&3===a.type?this.Zr=this.Zr.insert(i,e):3===e.type&&1!==a.type?this.Zr=this.Zr.insert(i,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.Zr=this.Zr.insert(i,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.Zr=this.Zr.insert(i,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.Zr=this.Zr.remove(i):1===e.type&&2===a.type?this.Zr=this.Zr.insert(i,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.Zr=this.Zr.insert(i,{type:2,doc:e.doc}):Wt():this.Zr=this.Zr.insert(i,e)}eo(){const e=[];return this.Zr.inorderTraversal((i,a)=>{e.push(a)}),e}}class ac{constructor(e,i,a,c,g,C,F,W){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=c,this.mutatedKeys=g,this.fromCache=C,this.syncStateChanged=F,this.excludesMetadataChanges=W}static fromInitialDocuments(e,i,a,c){const g=[];return i.forEach(C=>{g.push({type:0,doc:C})}),new ac(e,i,xd.emptySet(i),g,a,c,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let c=0;c<i.length;c++)if(i[c].type!==a[c].type||!i[c].doc.isEqual(a[c].doc))return!1;return!0}}class jE{constructor(){this.no=void 0,this.listeners=[]}}class T_{constructor(){this.queries=new Dl(e=>hl(e),dl),this.onlineState="Unknown",this.so=new Set}}function Md(s,e){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,ne.Z)(function*(s,e){const i=Rt(s),a=e.query;let c=!1,g=i.queries.get(a);if(g||(c=!0,g=new jE),c)try{g.no=yield i.onListen(a)}catch(C){const F=Lc(C,`Initialization of query '${nh(e.query)}' failed`);return void e.onError(F)}i.queries.set(a,g),g.listeners.push(e),e.io(i.onlineState),g.no&&e.ro(g.no)&&$p(i)})).apply(this,arguments)}function Bp(s,e){return jp.apply(this,arguments)}function jp(){return(jp=(0,ne.Z)(function*(s,e){const i=Rt(s),a=e.query;let c=!1;const g=i.queries.get(a);if(g){const C=g.listeners.indexOf(e);C>=0&&(g.listeners.splice(C,1),c=0===g.listeners.length)}if(c)return i.queries.delete(a),i.onUnlisten(a)})).apply(this,arguments)}function D_(s,e){const i=Rt(s);let a=!1;for(const c of e){const C=i.queries.get(c.query);if(C){for(const F of C.listeners)F.ro(c)&&(a=!0);C.no=c}}a&&$p(i)}function jm(s,e,i){const a=Rt(s),c=a.queries.get(e);if(c)for(const g of c.listeners)g.onError(i);a.queries.delete(e)}function $p(s){s.so.forEach(e=>{e.next()})}class Zh{constructor(e,i,a){this.query=e,this.oo=i,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=a||{}}ro(e){if(!this.options.includeMetadataChanges){const a=[];for(const c of e.docChanges)3!==c.type&&a.push(c);e=new ac(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let i=!1;return this.co?this.uo(e)&&(this.oo.next(e),i=!0):this.ho(e,this.onlineState)&&(this.lo(e),i=!0),this.ao=e,i}onError(e){this.oo.error(e)}io(e){this.onlineState=e;let i=!1;return this.ao&&!this.co&&this.ho(this.ao,e)&&(this.lo(this.ao),i=!0),i}ho(e,i){return!e.fromCache||!(this.options.fo&&"Offline"!==i||e.docs.isEmpty()&&"Offline"!==i)}uo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(e){e=ac.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.oo.next(e)}}class S_{constructor(e,i){this.payload=e,this.byteLength=i}wo(){return"metadata"in this.payload}}class $m{constructor(e){this.N=e}zn(e){return ea(this.N,e)}Hn(e){return e.metadata.exists?Wl(this.N,e.document,!1):Mi.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return eo(e)}}class Hm{constructor(e,i,a){this._o=e,this.localStore=i,this.N=a,this.queries=[],this.documents=[],this.progress=Hp(e)}mo(e){this.progress.bytesLoaded+=e.byteLength;let i=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++i):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++i),i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}yo(e){const i=new Map,a=new $m(this.N);for(const c of e)if(c.metadata.queries){const g=a.zn(c.metadata.name);for(const C of c.metadata.queries){const F=(i.get(C)||Kr()).add(g);i.set(C,F)}}return i}complete(){var e=this;return(0,ne.Z)(function*(){const i=yield function(s,e,i,a){return Oc.apply(this,arguments)}(e.localStore,new $m(e.N),e.documents,e._o.id),a=e.yo(e.documents);for(const c of e.queries)yield mu(e.localStore,c,a.get(c.name));return e.progress.taskState="Success",new Ep(Object.assign({},e.progress),i)})()}}function Hp(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class Gm{constructor(e){this.key=e}}class vu{constructor(e){this.key=e}}class Yh{constructor(e,i){this.query=e,this.po=i,this.To=null,this.current=!1,this.Eo=Kr(),this.mutatedKeys=Kr(),this.Io=Ga(e),this.Ao=new xd(this.Io)}get Ro(){return this.po}bo(e,i){const a=i?i.Po:new I_,c=i?i.Ao:this.Ao;let g=i?i.mutatedKeys:this.mutatedKeys,C=c,F=!1;const W=Xs(this.query)&&c.size===this.query.limit?c.last():null,ae=zu(this.query)&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((be,Ze)=>{const wt=c.get(be),Nt=Ha(this.query,Ze)?Ze:null,nn=!!wt&&this.mutatedKeys.has(wt.key),Vn=!!Nt&&(Nt.hasLocalMutations||this.mutatedKeys.has(Nt.key)&&Nt.hasCommittedMutations);let Dr=!1;wt&&Nt?wt.data.isEqual(Nt.data)?nn!==Vn&&(a.track({type:3,doc:Nt}),Dr=!0):this.vo(wt,Nt)||(a.track({type:2,doc:Nt}),Dr=!0,(W&&this.Io(Nt,W)>0||ae&&this.Io(Nt,ae)<0)&&(F=!0)):!wt&&Nt?(a.track({type:0,doc:Nt}),Dr=!0):wt&&!Nt&&(a.track({type:1,doc:wt}),Dr=!0,(W||ae)&&(F=!0)),Dr&&(Nt?(C=C.add(Nt),g=Vn?g.add(be):g.delete(be)):(C=C.delete(be),g=g.delete(be)))}),Xs(this.query)||zu(this.query))for(;C.size>this.query.limit;){const be=Xs(this.query)?C.last():C.first();C=C.delete(be.key),g=g.delete(be.key),a.track({type:1,doc:be})}return{Ao:C,Po:a,Ln:F,mutatedKeys:g}}vo(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a){const c=this.Ao;this.Ao=e.Ao,this.mutatedKeys=e.mutatedKeys;const g=e.Po.eo();g.sort((ae,be)=>function(Ze,wt){const Nt=nn=>{switch(nn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wt()}};return Nt(Ze)-Nt(wt)}(ae.type,be.type)||this.Io(ae.doc,be.doc)),this.Vo(a);const C=i?this.So():[],F=0===this.Eo.size&&this.current?1:0,W=F!==this.To;return this.To=F,0!==g.length||W?{snapshot:new ac(this.query,e.Ao,c,g,e.mutatedKeys,0===F,W,!1),Do:C}:{Do:C}}io(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new I_,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(e){return!this.po.has(e)&&!!this.Ao.has(e)&&!this.Ao.get(e).hasLocalMutations}Vo(e){e&&(e.addedDocuments.forEach(i=>this.po=this.po.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.po=this.po.delete(i)),this.current=e.current)}So(){if(!this.current)return[];const e=this.Eo;this.Eo=Kr(),this.Ao.forEach(a=>{this.Co(a.key)&&(this.Eo=this.Eo.add(a.key))});const i=[];return e.forEach(a=>{this.Eo.has(a)||i.push(new vu(a))}),this.Eo.forEach(a=>{e.has(a)||i.push(new Gm(a))}),i}No(e){this.po=e.Gn,this.Eo=Kr();const i=this.bo(e.documents);return this.applyChanges(i,!0)}xo(){return ac.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class A_{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class R_{constructor(e){this.key=e,this.ko=!1}}class $E{constructor(e,i,a,c,g,C){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=c,this.currentUser=g,this.maxConcurrentLimboResolutions=C,this.$o={},this.Oo=new Dl(F=>hl(F),dl),this.Fo=new Map,this.Mo=new Set,this.Lo=new js(Tn.comparator),this.Bo=new Map,this.Uo=new bd,this.qo={},this.Ko=new Map,this.jo=tc.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}function zm(s,e){return Gp.apply(this,arguments)}function Gp(){return(Gp=(0,ne.Z)(function*(s,e){const i=og(s);let a,c;const g=i.Oo.get(e);if(g)a=g.targetId,i.sharedClientState.addLocalQueryTarget(a),c=g.view.xo();else{const C=yield xc(i.localStore,_o(e)),F=i.sharedClientState.addLocalQueryTarget(C.targetId);a=C.targetId,c=yield zp(i,e,a,"current"===F),i.isPrimaryClient&&Ad(i.remoteStore,C)}return c})).apply(this,arguments)}function zp(s,e,i,a){return Wp.apply(this,arguments)}function Wp(){return(Wp=(0,ne.Z)(function*(s,e,i,a){s.Wo=(be,Ze,wt)=>{return(Nt=(0,ne.Z)(function*(nn,Vn,Dr,As){let Ya=Vn.view.bo(Dr);Ya.Ln&&(Ya=yield Fh(nn.localStore,Vn.query,!1).then(({documents:Uu})=>Vn.view.bo(Uu,Ya)));const Iu=As&&As.targetChanges.get(Vn.targetId),Vu=Vn.view.applyChanges(Ya,nn.isPrimaryClient,Iu);return Eu(nn,Vn.targetId,Vu.Do),Vu.snapshot}),function(nn,Vn,Dr,As){return Nt.apply(this,arguments)})(s,be,Ze,wt);var Nt};const c=yield Fh(s.localStore,e,!0),g=new Yh(e,c.Gn),C=g.bo(c.documents),F=au.createSynthesizedTargetChangeForCurrentChange(i,a&&"Offline"!==s.onlineState),W=g.applyChanges(C,s.isPrimaryClient,F);Eu(s,i,W.Do);const ae=new A_(e,i,g);return s.Oo.set(e,ae),s.Fo.has(i)?s.Fo.get(i).push(e):s.Fo.set(i,[e]),W.snapshot})).apply(this,arguments)}function qp(s,e){return Kp.apply(this,arguments)}function Kp(){return(Kp=(0,ne.Z)(function*(s,e){const i=Rt(s),a=i.Oo.get(e),c=i.Fo.get(a.targetId);if(c.length>1)return i.Fo.set(a.targetId,c.filter(g=>!dl(g,e))),void i.Oo.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||(yield Mc(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),sc(i.remoteStore,a.targetId),uc(i,a.targetId)}).catch(Tl))):(uc(i,a.targetId),yield Mc(i.localStore,a.targetId,!0))})).apply(this,arguments)}function Vc(){return(Vc=(0,ne.Z)(function*(s,e,i){const a=ag(s);try{const c=yield function(g,C){const F=Rt(g),W=en.now(),ae=C.reduce((Ze,wt)=>Ze.add(wt.key),Kr());let be;return F.persistence.runTransaction("Locally write mutations","readwrite",Ze=>F.Qn.Pn(Ze,ae).next(wt=>{be=wt;const Nt=[];for(const nn of C){const Vn=Xf(nn,be.get(nn.key));null!=Vn&&Nt.push(new su(nn.key,Vn,Ra(Vn.value.mapValue),ds.exists(!0)))}return F.In.addMutationBatch(Ze,W,Nt,C)})).then(Ze=>(Ze.applyToLocalDocumentSet(be),{batchId:Ze.batchId,changes:be}))}(a.localStore,e);a.sharedClientState.addPendingMutation(c.batchId),function(g,C,F){let W=g.qo[g.currentUser.toKey()];W||(W=new js(Qn)),W=W.insert(C,F),g.qo[g.currentUser.toKey()]=W}(a,c.batchId,i),yield Xu(a,c.changes),yield _u(a.remoteStore)}catch(c){const g=Lc(c,"Failed to persist write");i.reject(g)}})).apply(this,arguments)}function Qh(s,e){return Zp.apply(this,arguments)}function Zp(){return(Zp=(0,ne.Z)(function*(s,e){const i=Rt(s);try{const a=yield Tm(i.localStore,e);e.targetChanges.forEach((c,g)=>{const C=i.Bo.get(g);C&&(Vt(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?C.ko=!0:c.modifiedDocuments.size>0?Vt(C.ko):c.removedDocuments.size>0&&(Vt(C.ko),C.ko=!1))}),yield Xu(i,a,e)}catch(a){yield Tl(a)}})).apply(this,arguments)}function Jh(s,e,i){const a=Rt(s);if(a.isPrimaryClient&&0===i||!a.isPrimaryClient&&1===i){const c=[];a.Oo.forEach((g,C)=>{const F=C.view.io(e);F.snapshot&&c.push(F.snapshot)}),function(g,C){const F=Rt(g);F.onlineState=C;let W=!1;F.queries.forEach((ae,be)=>{for(const Ze of be.listeners)Ze.io(C)&&(W=!0)}),W&&$p(F)}(a.eventManager,e),c.length&&a.$o.Rr(c),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function Yp(s,e,i){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,ne.Z)(function*(s,e,i){const a=Rt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const c=a.Bo.get(e),g=c&&c.key;if(g){let C=new js(Tn.comparator);C=C.insert(g,Mi.newNoDocument(g,zt.min()));const F=Kr().add(g),W=new ou(zt.min(),new Map,new bs(Qn),C,F);yield Qh(a,W),a.Lo=a.Lo.remove(g),a.Bo.delete(e),eg(a)}else yield Mc(a.localStore,e,!1).then(()=>uc(a,e,i)).catch(Tl)})).apply(this,arguments)}function M_(s,e){return Qp.apply(this,arguments)}function Qp(){return(Qp=(0,ne.Z)(function*(s,e){const i=Rt(s),a=e.batch.batchId;try{const c=yield gu(i.localStore,e);nf(i,a,null),tf(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),yield Xu(i,c)}catch(c){yield Tl(c)}})).apply(this,arguments)}function Jp(s,e,i){return Wm.apply(this,arguments)}function Wm(){return(Wm=(0,ne.Z)(function*(s,e,i){const a=Rt(s);try{const c=yield function(g,C){const F=Rt(g);return F.persistence.runTransaction("Reject batch","readwrite-primary",W=>{let ae;return F.In.lookupMutationBatch(W,C).next(be=>(Vt(null!==be),ae=be.keys(),F.In.removeMutationBatch(W,be))).next(()=>F.In.performConsistencyCheck(W)).next(()=>F.Qn.Pn(W,ae))})}(a.localStore,e);nf(a,e,i),tf(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),yield Xu(a,c)}catch(c){yield Tl(c)}})).apply(this,arguments)}function ef(){return(ef=(0,ne.Z)(function*(s,e){const i=Rt(s);oc(i.remoteStore)||Be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(g){const C=Rt(g);return C.persistence.runTransaction("Get highest unacknowledged batch id","readonly",F=>C.In.getHighestUnacknowledgedBatchId(F))}(i.localStore);if(-1===a)return void e.resolve();const c=i.Ko.get(a)||[];c.push(e),i.Ko.set(a,c)}catch(a){const c=Lc(a,"Initialization of waitForPendingWrites() operation failed");e.reject(c)}})).apply(this,arguments)}function tf(s,e){(s.Ko.get(e)||[]).forEach(i=>{i.resolve()}),s.Ko.delete(e)}function nf(s,e,i){const a=Rt(s);let c=a.qo[a.currentUser.toKey()];if(c){const g=c.get(e);g&&(i?g.reject(i):g.resolve(),c=c.remove(e)),a.qo[a.currentUser.toKey()]=c}}function uc(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Fo.get(e))s.Oo.delete(a),i&&s.$o.Go(a,i);s.Fo.delete(e),s.isPrimaryClient&&s.Uo.cs(e).forEach(a=>{s.Uo.containsKey(a)||Xp(s,a)})}function Xp(s,e){s.Mo.delete(e.path.canonicalString());const i=s.Lo.get(e);null!==i&&(sc(s.remoteStore,i),s.Lo=s.Lo.remove(e),s.Bo.delete(i),eg(s))}function Eu(s,e,i){for(const a of i)a instanceof Gm?(s.Uo.addReference(a.key,e),rf(s,a)):a instanceof vu?(Be("SyncEngine","Document no longer in limbo: "+a.key),s.Uo.removeReference(a.key,e),s.Uo.containsKey(a.key)||Xp(s,a.key)):Wt()}function rf(s,e){const i=e.key,a=i.path.canonicalString();s.Lo.get(i)||s.Mo.has(a)||(Be("SyncEngine","New document in limbo: "+i),s.Mo.add(a),eg(s))}function eg(s){for(;s.Mo.size>0&&s.Lo.size<s.maxConcurrentLimboResolutions;){const e=s.Mo.values().next().value;s.Mo.delete(e);const i=new Tn(E.fromString(e)),a=s.jo.next();s.Bo.set(a,new R_(i)),s.Lo=s.Lo.insert(i,a),Ad(s.remoteStore,new Zl(_o(Bs(i.path)),a,2,mi.T))}}function Xu(s,e,i){return qm.apply(this,arguments)}function qm(){return(qm=(0,ne.Z)(function*(s,e,i){const a=Rt(s),c=[],g=[],C=[];var F;a.Oo.isEmpty()||(a.Oo.forEach((F,W)=>{C.push(a.Wo(W,e,i).then(ae=>{if(ae){a.isPrimaryClient&&a.sharedClientState.updateQueryState(W.targetId,ae.fromCache?"not-current":"current"),c.push(ae);const be=wm.kn(W.targetId,ae);g.push(be)}}))}),yield Promise.all(C),a.$o.Rr(c),yield(F=(0,ne.Z)(function*(W,ae){const be=Rt(W);try{yield be.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ze=>Ut.forEach(ae,wt=>Ut.forEach(wt.Nn,Nt=>be.persistence.referenceDelegate.addReference(Ze,wt.targetId,Nt)).next(()=>Ut.forEach(wt.xn,Nt=>be.persistence.referenceDelegate.removeReference(Ze,wt.targetId,Nt)))))}catch(Ze){if(!du(Ze))throw Ze;Be("LocalStore","Failed to update sequence numbers: "+Ze)}for(const Ze of ae){const wt=Ze.targetId;if(!Ze.fromCache){const Nt=be.Un.get(wt),Vn=Nt.withLastLimboFreeSnapshotVersion(Nt.snapshotVersion);be.Un=be.Un.insert(wt,Vn)}}}),function(W,ae){return F.apply(this,arguments)})(a.localStore,g))})).apply(this,arguments)}function Uc(s,e){return sf.apply(this,arguments)}function sf(){return(sf=(0,ne.Z)(function*(s,e){const i=Rt(s);if(!i.currentUser.isEqual(e)){Be("SyncEngine","User change. New user:",e.toKey());const a=yield Cm(i.localStore,e);i.currentUser=e,(c=i).Ko.forEach(C=>{C.forEach(F=>{F.reject(new bt(lt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Ko.clear(),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield Xu(i,a.Wn)}var c})).apply(this,arguments)}function Od(s,e){const i=Rt(s),a=i.Bo.get(e);if(a&&a.ko)return Kr().add(a.key);{let c=Kr();const g=i.Fo.get(e);if(!g)return c;for(const C of g){const F=i.Oo.get(C);c=c.unionWith(F.view.Ro)}return c}}function Pd(s,e){return tg.apply(this,arguments)}function tg(){return(tg=(0,ne.Z)(function*(s,e){const i=Rt(s),a=yield Fh(i.localStore,e.query,!0),c=e.view.No(a);return i.isPrimaryClient&&Eu(i,e.targetId,c.Do),c})).apply(this,arguments)}function ng(s){return af.apply(this,arguments)}function af(){return(af=(0,ne.Z)(function*(s){const e=Rt(s);return Am(e.localStore).then(i=>Xu(e,i))})).apply(this,arguments)}function P_(s,e,i,a){return uf.apply(this,arguments)}function uf(){return(uf=(0,ne.Z)(function*(s,e,i,a){const c=Rt(s),g=yield function(C,F){const W=Rt(C),ae=Rt(W.In);return W.persistence.runTransaction("Lookup mutation documents","readonly",be=>ae.Xt(be,F).next(Ze=>Ze?W.Qn.Pn(be,Ze):Ut.resolve(null)))}(c.localStore,e);var F;null!==g?("pending"===i?yield _u(c.remoteStore):"acknowledged"===i||"rejected"===i?(nf(c,e,a||null),tf(c,e),F=e,Rt(Rt(c.localStore).In).te(F)):Wt(),yield Xu(c,g)):Be("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Nd(){return(Nd=(0,ne.Z)(function*(s,e){const i=Rt(s);if(og(i),ag(i),!0===e&&!0!==i.Qo){const a=i.sharedClientState.getAllActiveQueryTargets(),c=yield Km(i,a.toArray());i.Qo=!0,yield qh(i.remoteStore,!0);for(const g of c)Ad(i.remoteStore,g)}else if(!1===e&&!1!==i.Qo){const a=[];let c=Promise.resolve();i.Fo.forEach((g,C)=>{i.sharedClientState.isLocalQueryTarget(C)?a.push(C):c=c.then(()=>(uc(i,C),Mc(i.localStore,C,!0))),sc(i.remoteStore,C)}),yield c,yield Km(i,a),function(g){const C=Rt(g);C.Bo.forEach((F,W)=>{sc(C.remoteStore,W)}),C.Uo.us(),C.Bo=new Map,C.Lo=new js(Tn.comparator)}(i),i.Qo=!1,yield qh(i.remoteStore,!1)}})).apply(this,arguments)}function Km(s,e,i){return rg.apply(this,arguments)}function rg(){return(rg=(0,ne.Z)(function*(s,e,i){const a=Rt(s),c=[],g=[];for(const C of e){let F;const W=a.Fo.get(C);if(W&&0!==W.length){F=yield xc(a.localStore,_o(W[0]));for(const ae of W){const be=a.Oo.get(ae),Ze=yield Pd(a,be);Ze.snapshot&&g.push(Ze.snapshot)}}else{const ae=yield Sm(a.localStore,C);F=yield xc(a.localStore,ae),yield zp(a,ig(ae),C,!1)}c.push(F)}return a.$o.Rr(g),c})).apply(this,arguments)}function ig(s){return $a(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function Bc(s){const e=Rt(s);return Rt(Rt(e.localStore).persistence).pn()}function Zm(s,e,i,a){return sg.apply(this,arguments)}function sg(){return(sg=(0,ne.Z)(function*(s,e,i,a){const c=Rt(s);if(c.Qo)Be("SyncEngine","Ignoring unexpected query state notification.");else if(c.Fo.has(e))switch(i){case"current":case"not-current":{const g=yield Am(c.localStore),C=ou.createSynthesizedRemoteEventForCurrentChange(e,"current"===i);yield Xu(c,g,C);break}case"rejected":yield Mc(c.localStore,e,!0),uc(c,e,a);break;default:Wt()}})).apply(this,arguments)}function k_(s,e,i){return xl.apply(this,arguments)}function xl(){return(xl=(0,ne.Z)(function*(s,e,i){const a=og(s);if(a.Qo){for(const c of e){if(a.Fo.has(c)){Be("SyncEngine","Adding an already active target "+c);continue}const g=yield Sm(a.localStore,c),C=yield xc(a.localStore,g);yield zp(a,ig(g),C.targetId,!1),Ad(a.remoteStore,C)}for(const c of i)a.Fo.has(c)&&(yield Mc(a.localStore,c,!1).then(()=>{sc(a.remoteStore,c),uc(a,c)}).catch(Tl))}})).apply(this,arguments)}function og(s){const e=Rt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Od.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yp.bind(null,e),e.$o.Rr=D_.bind(null,e.eventManager),e.$o.Go=jm.bind(null,e.eventManager),e}function ag(s){const e=Rt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=M_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Jp.bind(null,e),e}class Ym{constructor(){this.synchronizeTabs=!1}initialize(e){var i=this;return(0,ne.Z)(function*(){i.N=Uh(e.databaseInfo.databaseId),i.sharedClientState=i.Ho(e),i.persistence=i.Jo(e),yield i.persistence.start(),i.gcScheduler=i.Yo(e),i.localStore=i.Xo(e)})()}Yo(e){return null}Xo(e){return Cp(this.persistence,new wp,e.initialUser,this.N)}Jo(e){return new Mm(yu.Ns,this.N)}Ho(e){return new Rp}terminate(){var e=this;return(0,ne.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class L_ extends Ym{constructor(e,i,a){super(),this.Zo=e,this.cacheSizeBytes=i,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(e){var i=()=>super.initialize,a=this;return(0,ne.Z)(function*(){yield i().call(a,e),yield function(s){return Lh.apply(this,arguments)}(a.localStore),yield a.Zo.initialize(a,e),yield ag(a.Zo.syncEngine),yield _u(a.Zo.remoteStore),yield a.persistence.nn(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(a.localStore),Promise.resolve()))})()}Xo(e){return Cp(this.persistence,new wp,e.initialUser,this.N)}Yo(e){return new g_(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Jo(e){const i=Nh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?ga.withCacheSize(this.cacheSizeBytes):ga.DEFAULT;return new Oh(this.synchronizeTabs,i,e.clientId,a,e.asyncQueue,v_(),Mp(),this.N,this.sharedClientState,!!this.forceOwnership)}Ho(e){return new Rp}}class V_ extends L_{constructor(e,i){super(e,i,!1),this.Zo=e,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(e){var i=()=>super.initialize,a=this;return(0,ne.Z)(function*(){yield i().call(a,e);const c=a.Zo.syncEngine;a.sharedClientState instanceof Pm&&(a.sharedClientState.syncEngine={_i:P_.bind(null,c),mi:Zm.bind(null,c),gi:k_.bind(null,c),pn:Bc.bind(null,c),wi:ng.bind(null,c)},yield a.sharedClientState.start()),yield a.persistence.nn(function(){var g=(0,ne.Z)(function*(C){yield function(s,e){return Nd.apply(this,arguments)}(a.Zo.syncEngine,C),a.gcScheduler&&(C&&!a.gcScheduler.started?a.gcScheduler.start(a.localStore):C||a.gcScheduler.stop())});return function(C){return g.apply(this,arguments)}}())})()}Ho(e){const i=v_();if(!Pm.bt(i))throw new bt(lt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Nh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Pm(i,e.asyncQueue,a,e.clientId,e.initialUser)}}class lf{initialize(e,i){var a=this;return(0,ne.Z)(function*(){a.localStore||(a.localStore=e.localStore,a.sharedClientState=e.sharedClientState,a.datastore=a.createDatastore(i),a.remoteStore=a.createRemoteStore(i),a.eventManager=a.createEventManager(i),a.syncEngine=a.createSyncEngine(i,!e.synchronizeTabs),a.sharedClientState.onlineStateHandler=c=>Jh(a.syncEngine,c,1),a.remoteStore.remoteSyncer.handleCredentialChange=Uc.bind(null,a.syncEngine),yield qh(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(e){return new T_}createDatastore(e){const i=Uh(e.databaseInfo.databaseId),a=new kE(e.databaseInfo);return new VE(e.credentials,a,i)}createRemoteStore(e){return i=this.localStore,a=this.datastore,c=e.asyncQueue,g=F=>Jh(this.syncEngine,F,0),C=km.bt()?new km:new Nm,new Sl(i,a,c,g,C);var i,a,c,g,C}createSyncEngine(e,i){return function(a,c,g,C,F,W,ae){const be=new $E(a,c,g,C,F,W);return ae&&(be.Qo=!0),be}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){return(e=(0,ne.Z)(function*(i){const a=Rt(i);Be("RemoteStore","RemoteStore shutting down."),a.Wr.add(5),yield ic(a),a.zr.shutdown(),a.Hr.set("Unknown")}),function(i){return e.apply(this,arguments)})(this.remoteStore);var e}}function hs(s,e=10240){let i=0;return{read:()=>(0,ne.Z)(function*(){if(i<s.byteLength){const a={value:s.slice(i,i+e),done:!1};return i+=e,a}return{done:!0}})(),cancel:()=>(0,ne.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class jc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.tc(this.observer.next,e)}error(e){this.observer.error?this.tc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}ec(){this.muted=!0}tc(e,i){this.muted||setTimeout(()=>{this.muted||e(i)},0)}}class HE{constructor(e,i){this.nc=e,this.N=i,this.metadata=new Er,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then(a=>{a&&a.wo()?this.metadata.resolve(a.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.payload)}`))},a=>this.metadata.reject(a))}close(){return this.nc.cancel()}getMetadata(){var e=this;return(0,ne.Z)(function*(){return e.metadata.promise})()}zo(){var e=this;return(0,ne.Z)(function*(){return yield e.getMetadata(),e.ic()})()}ic(){var e=this;return(0,ne.Z)(function*(){const i=yield e.rc();if(null===i)return null;const a=e.sc.decode(i),c=Number(a);isNaN(c)&&e.oc(`length string (${a}) is not valid number`);const g=yield e.cc(c);return new S_(JSON.parse(g),i.length+c)})()}ac(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}rc(){var e=this;return(0,ne.Z)(function*(){for(;e.ac()<0&&!(yield e.uc()););if(0===e.buffer.length)return null;const i=e.ac();i<0&&e.oc("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,i);return e.buffer=e.buffer.slice(i),a})()}cc(e){var i=this;return(0,ne.Z)(function*(){for(;i.buffer.length<e;)(yield i.uc())&&i.oc("Reached the end of bundle when more is expected.");const a=i.sc.decode(i.buffer.slice(0,e));return i.buffer=i.buffer.slice(e),a})()}oc(e){throw this.nc.cancel(),new Error(`Invalid bundle format: ${e}`)}uc(){var e=this;return(0,ne.Z)(function*(){const i=yield e.nc.read();if(!i.done){const a=new Uint8Array(e.buffer.length+i.value.length);a.set(e.buffer),a.set(i.value,e.buffer.length),e.buffer=a}return i.done})()}}class el{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var i=this;return(0,ne.Z)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw new bt(lt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(c=(0,ne.Z)(function*(g,C){const F=Rt(g),W=Di(F.N)+"/documents",ae={documents:C.map(Nt=>za(F.N,Nt))},be=yield F.Ki("BatchGetDocuments",W,ae),Ze=new Map;be.forEach(Nt=>{const nn=function(s,e){return"found"in e?function(i,a){Vt(!!a.found);const c=ea(i,a.found.name),g=eo(a.found.updateTime),C=new Qs({mapValue:{fields:a.found.fields}});return Mi.newFoundDocument(c,g,C)}(s,e):"missing"in e?function(i,a){Vt(!!a.missing),Vt(!!a.readTime);const c=ea(i,a.missing),g=eo(a.readTime);return Mi.newNoDocument(c,g)}(s,e):Wt()}(F.N,Nt);Ze.set(nn.key.toString(),nn)});const wt=[];return C.forEach(Nt=>{const nn=Ze.get(Nt.toString());Vt(!!nn),wt.push(nn)}),wt}),function(g,C){return c.apply(this,arguments)})(i.datastore,e);var c;return a.forEach(c=>i.recordVersion(c)),a})()}set(e,i){this.write(i.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,i){try{this.write(i.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new $l(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ne.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const i=e.readVersions;var a;e.mutations.forEach(a=>{i.delete(a.key.toString())}),i.forEach((a,c)=>{const g=Tn.fromPath(c);e.mutations.push(new Hl(g,e.precondition(g)))}),yield(a=(0,ne.Z)(function*(c,g){const C=Rt(c),F=Di(C.N)+"/documents",W={writes:g.map(ae=>bl(C.N,ae))};yield C.Li("Commit",F,W)}),function(c,g){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let i;if(e.isFoundDocument())i=e.version;else{if(!e.isNoDocument())throw Wt();i=zt.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!i.isEqual(a))throw new bt(lt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),i)}precondition(e){const i=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&i?ds.updateTime(i):ds.none()}preconditionForUpdate(e){const i=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&i){if(i.isEqual(zt.min()))throw new bt(lt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ds.updateTime(i)}return ds.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ug{constructor(e,i,a,c){this.asyncQueue=e,this.datastore=i,this.updateFunction=a,this.deferred=c,this.hc=5,this.ar=new Fm(this.asyncQueue,"transaction_retry")}run(){this.hc-=1,this.lc()}lc(){var e=this;this.ar.Xi((0,ne.Z)(function*(){const i=new el(e.datastore),a=e.fc(i);a&&a.then(c=>{e.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{e.deferred.resolve(c)}).catch(g=>{e.dc(g)}))}).catch(c=>{e.dc(c)})}))}fc(e){try{const i=this.updateFunction(e);return!ns(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}dc(e){this.hc>0&&this.wc(e)?(this.hc-=1,this.asyncQueue.enqueueAndForget(()=>(this.lc(),Promise.resolve()))):this.deferred.reject(e)}wc(e){if("FirebaseError"===e.name){const i=e.code;return"aborted"===i||"failed-precondition"===i||!Zu(i)}return!1}}class lg{constructor(e,i,a){var c=this;this.credentials=e,this.asyncQueue=i,this.databaseInfo=a,this.user=z.UNAUTHENTICATED,this.clientId=lo.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(i,function(){var g=(0,ne.Z)(function*(C){Be("FirestoreClient","Received user=",C.uid),yield c.credentialListener(C),c.user=C});return function(C){return g.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,ne.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new bt(lt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const i=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ne.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),i.resolve()}catch(a){const c=Lc(a,"Failed to shutdown persistence");i.reject(c)}})),i.promise}}function U_(s,e){return cg.apply(this,arguments)}function cg(){return(cg=(0,ne.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const i=yield s.getConfiguration();yield e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(function(){var c=(0,ne.Z)(function*(g){a.isEqual(g)||(yield Cm(e.localStore,g),a=g)});return function(g){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=e})).apply(this,arguments)}function Qm(s,e){return cf.apply(this,arguments)}function cf(){return(cf=(0,ne.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress();const i=yield df(s);Be("FirestoreClient","Initializing OnlineComponentProvider");const a=yield s.getConfiguration();yield e.initialize(i,a),s.setCredentialChangeListener(c=>{return(g=(0,ne.Z)(function*(C,F){const W=Rt(C);W.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const ae=oc(W);W.Wr.add(3),yield ic(W),ae&&W.Hr.set("Unknown"),yield W.remoteSyncer.handleCredentialChange(F),W.Wr.delete(3),yield rc(W)}),function(C,F){return g.apply(this,arguments)})(e.remoteStore,c);var g}),s.onlineComponents=e})).apply(this,arguments)}function df(s){return hf.apply(this,arguments)}function hf(){return(hf=(0,ne.Z)(function*(s){return s.offlineComponents||(Be("FirestoreClient","Using default OfflineComponentProvider"),yield U_(s,new Ym)),s.offlineComponents})).apply(this,arguments)}function kd(s){return dg.apply(this,arguments)}function dg(){return(dg=(0,ne.Z)(function*(s){return s.onlineComponents||(Be("FirestoreClient","Using default OnlineComponentProvider"),yield Qm(s,new lf)),s.onlineComponents})).apply(this,arguments)}function Jm(s){return df(s).then(e=>e.persistence)}function lc(s){return df(s).then(e=>e.localStore)}function ff(s){return kd(s).then(e=>e.remoteStore)}function pf(s){return kd(s).then(e=>e.syncEngine)}function cc(s){return gf.apply(this,arguments)}function gf(){return(gf=(0,ne.Z)(function*(s){const e=yield kd(s),i=e.eventManager;return i.onListen=zm.bind(null,e.syncEngine),i.onUnlisten=qp.bind(null,e.syncEngine),i})).apply(this,arguments)}function ey(s,e,i={}){const a=new Er;return s.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return function(c,g,C,F,W){const ae=new jc({next:Ze=>{g.enqueueAndForget(()=>Bp(c,be));const wt=Ze.docs.has(C);!wt&&Ze.fromCache?W.reject(new bt(lt.UNAVAILABLE,"Failed to get document because the client is offline.")):wt&&Ze.fromCache&&F&&"server"===F.source?W.reject(new bt(lt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):W.resolve(Ze)},error:Ze=>W.reject(Ze)}),be=new Zh(Bs(C.path),ae,{includeMetadataChanges:!0,fo:!0});return Md(c,be)}(yield cc(s),s.asyncQueue,e,i,a)})),a.promise}function hg(s,e,i={}){const a=new Er;return s.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return function(c,g,C,F,W){const ae=new jc({next:Ze=>{g.enqueueAndForget(()=>Bp(c,be)),Ze.fromCache&&"server"===F.source?W.reject(new bt(lt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):W.resolve(Ze)},error:Ze=>W.reject(Ze)}),be=new Zh(C,ae,{includeMetadataChanges:!0,fo:!0});return Md(c,be)}(yield cc(s),s.asyncQueue,e,i,a)})),a.promise}class zE{constructor(e,i,a,c,g,C,F,W){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=c,this.ssl=g,this.forceLongPolling=C,this.autoDetectLongPolling=F,this.useFetchStreams=W}}class Fd{constructor(e,i){this.projectId=e,this.database=i||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Fd&&e.projectId===this.projectId&&e.database===this.database}}const mf=new Map;function fg(s,e,i){if(!i)throw new bt(lt.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function pg(s,e,i,a){if(!0===e&&!0===a)throw new bt(lt.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function gg(s){if(!Tn.isDocumentKey(s))throw new bt(lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function z_(s){if(Tn.isDocumentKey(s))throw new bt(lt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function ya(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const e=(i=s).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof s?"a function":Wt()}function li(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new bt(lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ya(s);throw new bt(lt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function W_(s,e){if(e<=0)throw new bt(lt.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}class q_{constructor(e){var i;if(void 0===e.host){if(void 0!==e.ssl)throw new bt(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(i=e.ssl)||void 0===i||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new bt(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,pg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $c{constructor(e,i){this._credentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q_({}),this._settingsFrozen=!1,e instanceof Fd?this._databaseId=e:(this._app=e,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new bt(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fd(a.options.projectId)}(e))}get app(){if(!this._app)throw new bt(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new bt(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q_(e),void 0!==e.credentials&&(this._credentials=function(i){if(!i)return new Yo;switch(i.type){case"gapi":const a=i.client;return Vt(!("object"!=typeof a||null===a||!a.auth||!a.auth.getAuthHeaderValueForFirstParty)),new Zs(a,i.sessionIndex||"0",i.iamToken||null);case"provider":return i.client;default:throw new bt(lt.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=mf.get(e);i&&(Be("ComponentProvider","Removing Datastore"),mf.delete(e),i.terminate())}(this),Promise.resolve()}}class ss{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ss(this.firestore,e,this._key)}}class Uo{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Uo(this.firestore,e,this._query)}}class tl extends Uo{constructor(e,i,a){super(e,i,Bs(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ss(this.firestore,null,new Tn(e))}withConverter(e){return new tl(this.firestore,e,this._path)}}function mg(s,e,...i){if(s=(0,de.m9)(s),fg("collection","path",e),s instanceof $c){const a=E.fromString(e,...i);return z_(a),new tl(s,null,a)}{if(!(s instanceof ss||s instanceof tl))throw new bt(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(E.fromString(e,...i));return z_(a),new tl(s.firestore,null,a)}}function yf(s,e,...i){if(s=(0,de.m9)(s),1===arguments.length&&(e=lo.I()),fg("doc","path",e),s instanceof $c){const a=E.fromString(e,...i);return gg(a),new ss(s,null,new Tn(a))}{if(!(s instanceof ss||s instanceof tl))throw new bt(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(E.fromString(e,...i));return gg(a),new ss(s.firestore,s instanceof tl?s.converter:null,new Tn(a))}}function _f(s,e){return s=(0,de.m9)(s),e=(0,de.m9)(e),(s instanceof ss||s instanceof tl)&&(e instanceof ss||e instanceof tl)&&s.firestore===e.firestore&&s.path===e.path&&s.converter===e.converter}function ry(s,e){return s=(0,de.m9)(s),e=(0,de.m9)(e),s instanceof Uo&&e instanceof Uo&&s.firestore===e.firestore&&dl(s._query,e._query)&&s.converter===e.converter}class K_{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new Fm(this,"async_queue_retry"),this.Rc=()=>{const i=Mp();i&&Be("AsyncQueue","Visibility state changed to "+i.visibilityState),this.ar.tr()};const e=Mp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.bc(),this.Pc(e)}enterRestrictedMode(e){if(!this.gc){this.gc=!0,this.Ic=e||!1;const i=Mp();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Rc)}}enqueue(e){if(this.bc(),this.gc)return new Promise(()=>{});const i=new Er;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.mc.push(e),this.vc()))}vc(){var e=this;return(0,ne.Z)(function*(){if(0!==e.mc.length){try{yield e.mc[0](),e.mc.shift(),e.ar.reset()}catch(i){if(!du(i))throw i;Be("AsyncQueue","Operation failed with retryable error: "+i)}e.mc.length>0&&e.ar.Xi(()=>e.vc())}})()}Pc(e){const i=this._c.then(()=>(this.Ec=!0,e().catch(a=>{throw this.Tc=a,this.Ec=!1,kt("INTERNAL UNHANDLED ERROR: ",function(g){let C=g.message||"";return g.stack&&(C=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),C}(a)),a}).then(a=>(this.Ec=!1,a))));return this._c=i,i}enqueueAfterDelay(e,i,a){this.bc(),this.Ac.indexOf(e)>-1&&(i=0);const c=Up.createAndSchedule(this,e,i,a,g=>this.Vc(g));return this.yc.push(c),c}bc(){this.Tc&&Wt()}verifyOperationInProgress(){}Sc(){var e=this;return(0,ne.Z)(function*(){let i;do{i=e._c,yield i}while(i!==e._c)})()}Dc(e){for(const i of this.yc)if(i.timerId===e)return!0;return!1}Cc(e){return this.Sc().then(()=>{this.yc.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.yc)if(i.skipDelay(),"all"!==e&&i.timerId===e)break;return this.Sc()})}Nc(e){this.Ac.push(e)}Vc(e){const i=this.yc.indexOf(e);this.yc.splice(i,1)}}function _g(s){return function(e,i){if("object"!=typeof e||null===e)return!1;const a=e;for(const c of["next","error","complete"])if(c in a&&"function"==typeof a[c])return!0;return!1}(s)}class Z_{constructor(){this._progressObserver={},this._taskCompletionResolver=new Er,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,i,a){this._progressObserver={next:e,error:i,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,i){return this._taskCompletionResolver.promise.then(e,i)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ss extends $c{constructor(e,i){super(e,i),this.type="firestore",this._queue=new K_,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Wa(this),this._firestoreClient.terminate()}}function ro(s){return s._firestoreClient||Wa(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function Wa(s){var e;const i=s._freezeSettings(),a=(g=(null===(e=s._app)||void 0===e?void 0:e.options.appId)||"",new zE(s._databaseId,g,s._persistenceKey,(F=i).host,F.ssl,F.experimentalForceLongPolling,F.experimentalAutoDetectLongPolling,F.useFetchStreams));var g,F;s._firestoreClient=new lg(s._credentials,s._queue,a)}function iy(s,e,i){const a=new Er;return s.asyncQueue.enqueue((0,ne.Z)(function*(){try{yield U_(s,i),yield Qm(s,e),a.resolve()}catch(c){if(!("FirebaseError"===(g=c).name?g.code===lt.FAILED_PRECONDITION||g.code===lt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&g instanceof DOMException)||22===g.code||20===g.code||11===g.code))throw c;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),a.reject(c)}var g})).then(()=>a.promise)}function Ef(s){if(s._initialized||s._terminated)throw new bt(lt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class _a{constructor(...e){for(let i=0;i<e.length;++i)if(0===e[i].length)throw new bt(lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new R(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ta(ce.fromBase64String(e))}catch(i){throw new bt(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ta(ce.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ka{constructor(e){this._methodName=e}}class nl{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new bt(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new bt(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qn(this._lat,e._lat)||Qn(this._long,e._long)}}const Gc=/^__.*__$/;class zc{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return null!==this.fieldMask?new su(e,this.data,this.fieldMask,i,this.fieldTransforms):new _l(e,this.data,i,this.fieldTransforms)}}class dc{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new su(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function hc(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wt()}}class jd{constructor(e,i,a,c,g,C){this.settings=e,this.databaseId=i,this.N=a,this.ignoreUndefinedProperties=c,void 0===g&&this.xc(),this.fieldTransforms=g||[],this.fieldMask=C||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(e){return new jd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(e){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(e),c=this.$c({path:a,Fc:!1});return c.Mc(e),c}Lc(e){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(e),c=this.$c({path:a,Fc:!1});return c.xc(),c}Bc(e){return this.$c({path:void 0,Fc:!0})}Uc(e){return Tf(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(e){return void 0!==this.fieldMask.find(i=>e.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>e.isPrefixOf(i.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Mc(this.path.get(e))}Mc(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(hc(this.kc)&&Gc.test(e))throw this.Uc('Document fields cannot begin and end with "__"')}}class sy{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.N=a||Uh(e)}jc(e,i,a,c=!1){return new jd({kc:e,methodName:i,Kc:a,path:R.emptyPath(),Fc:!1,qc:c},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Ml(s){const e=s._freezeSettings(),i=Uh(s._databaseId);return new sy(s._databaseId,!!e.ignoreUndefinedProperties,i)}function $d(s,e,i,a,c,g={}){const C=s.jc(g.merge||g.mergeFields?2:0,e,i,c);Ig("Data must be an object, but it was:",C,a);const F=uy(a,C);let W,ae;if(g.merge)W=new j(C.fieldMask),ae=C.fieldTransforms;else if(g.mergeFields){const be=[];for(const Ze of g.mergeFields){const wt=Cf(e,Ze,i);if(!C.contains(wt))throw new bt(lt.INVALID_ARGUMENT,`Field '${wt}' is specified in your field mask but missing from your input data.`);ly(be,wt)||be.push(wt)}W=new j(be),ae=C.fieldTransforms.filter(Ze=>W.covers(Ze.field))}else W=null,ae=C.fieldTransforms;return new zc(new Qs(F),W,ae)}class Wc extends Ka{_toFieldTransform(e){if(2!==e.kc)throw e.Uc(1===e.kc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wc}}function bg(s,e,i){return new jd({kc:3,Kc:e.settings.Kc,methodName:s._methodName,Fc:i},e.databaseId,e.N,e.ignoreUndefinedProperties)}class bf extends Ka{_toFieldTransform(e){return new qu(e.path,new gl)}isEqual(e){return e instanceof bf}}class oy extends Ka{constructor(e,i){super(e),this.Qc=i}_toFieldTransform(e){const i=bg(this,e,!0),a=this.Qc.map(g=>Ol(g,i)),c=new da(a);return new qu(e.path,c)}isEqual(e){return this===e}}class ay extends Ka{constructor(e,i){super(e),this.Qc=i}_toFieldTransform(e){const i=bg(this,e,!0),a=this.Qc.map(g=>Ol(g,i)),c=new xu(a);return new qu(e.path,c)}isEqual(e){return this===e}}class J_ extends Ka{constructor(e,i){super(e),this.Wc=i}_toFieldTransform(e){const i=new Wu(e.N,rd(e.N,this.Wc));return new qu(e.path,i)}isEqual(e){return this===e}}function wf(s,e,i,a){const c=s.jc(1,e,i);Ig("Data must be an object, but it was:",c,a);const g=[],C=Qs.empty();tr(a,(W,ae)=>{const be=If(e,W,i);ae=(0,de.m9)(ae);const Ze=c.Lc(be);if(ae instanceof Wc)g.push(be);else{const wt=Ol(ae,Ze);null!=wt&&(g.push(be),C.set(be,wt))}});const F=new j(g);return new dc(C,F,c.fieldTransforms)}function wg(s,e,i,a,c,g){const C=s.jc(1,e,i),F=[Cf(e,a,i)],W=[c];if(g.length%2!=0)throw new bt(lt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let wt=0;wt<g.length;wt+=2)F.push(Cf(e,g[wt])),W.push(g[wt+1]);const ae=[],be=Qs.empty();for(let wt=F.length-1;wt>=0;--wt)if(!ly(ae,F[wt])){const Nt=F[wt];let nn=W[wt];nn=(0,de.m9)(nn);const Vn=C.Lc(Nt);if(nn instanceof Wc)ae.push(Nt);else{const Dr=Ol(nn,Vn);null!=Dr&&(ae.push(Nt),be.set(Nt,Dr))}}const Ze=new j(ae);return new dc(be,Ze,C.fieldTransforms)}function Cg(s,e,i,a=!1){return Ol(i,s.jc(a?4:3,e))}function Ol(s,e){if(X_(s=(0,de.m9)(s)))return Ig("Unsupported field value:",e,s),uy(s,e);if(s instanceof Ka)return function(i,a){if(!hc(a.kc))throw a.Uc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Uc(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(s,e),null;if(void 0===s&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Fc&&4!==e.kc)throw e.Uc("Nested arrays are not supported");return function(i,a){const c=[];let g=0;for(const C of i){let F=Ol(C,a.Bc(g));null==F&&(F={nullValue:"NULL_VALUE"}),c.push(F),g++}return{arrayValue:{values:c}}}(s,e)}return function(i,a){if(null===(i=(0,de.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return rd(a.N,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const c=en.fromDate(i);return{timestampValue:Yu(a.N,c)}}if(i instanceof en){const c=new en(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Yu(a.N,c)}}if(i instanceof nl)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ta)return{bytesValue:hh(a.N,i._byteString)};if(i instanceof ss){const c=a.databaseId,g=i.firestore._databaseId;if(!g.isEqual(c))throw a.Uc(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:dd(i.firestore._databaseId||a.databaseId,i._key.path)}}throw a.Uc(`Unsupported field value: ${ya(i)}`)}(s,e)}function uy(s,e){const i={};return xi(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tr(s,(a,c)=>{const g=Ol(c,e.Oc(a));null!=g&&(i[a]=g)}),{mapValue:{fields:i}}}function X_(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof en||s instanceof nl||s instanceof ta||s instanceof ss||s instanceof Ka)}function Ig(s,e,i){if(!X_(i)||"object"!=typeof(a=i)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=ya(i);throw e.Uc("an object"===a?s+" a custom object":s+" "+a)}var a}function Cf(s,e,i){if((e=(0,de.m9)(e))instanceof _a)return e._internalPath;if("string"==typeof e)return If(s,e);throw Tf("Field path arguments must be of type string or FieldPath.",s,!1,void 0,i)}const ev=new RegExp("[~\\*/\\[\\]]");function If(s,e,i){if(e.search(ev)>=0)throw Tf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new _a(...e.split("."))._internalPath}catch(a){throw Tf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Tf(s,e,i,a,c){const g=a&&!a.isEmpty(),C=void 0!==c;let F=`Function ${e}() called with invalid data`;i&&(F+=" (via `toFirestore()`)"),F+=". ";let W="";return(g||C)&&(W+=" (found",g&&(W+=` in field ${a}`),C&&(W+=` in document ${c}`),W+=")"),new bt(lt.INVALID_ARGUMENT,F+s+W)}function ly(s,e){return s.some(i=>i.isEqual(e))}class Df{constructor(e,i,a,c,g){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=c,this._converter=g}get id(){return this._key.path.lastSegment()}get ref(){return new ss(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new tv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Hd("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i)}}}class tv extends Df{data(){return super.data()}}function Hd(s,e){return"string"==typeof e?If(s,e):e instanceof _a?e._internalPath:e._delegate._internalPath}class qc{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pl extends Df{constructor(e,i,a,c,g,C){super(e,i,a,c,C),this._firestore=e,this._firestoreImpl=e,this.metadata=g}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Sf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Hd("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Sf extends Pl{data(e={}){return super.data(e)}}class Nl{constructor(e,i,a,c){this._firestore=e,this._userDataWriter=i,this._snapshot=c,this.metadata=new qc(c.hasPendingWrites,c.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Sf(this._firestore,this._userDataWriter,a.key,a,new qc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new bt(lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let g=0;return a._snapshot.docChanges.map(C=>({type:"added",doc:new Sf(a._firestore,a._userDataWriter,C.doc.key,C.doc,new qc(a._snapshot.mutatedKeys.has(C.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:g++}))}{let g=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(C=>c||3!==C.type).map(C=>{const F=new Sf(a._firestore,a._userDataWriter,C.doc.key,C.doc,new qc(a._snapshot.mutatedKeys.has(C.doc.key),a._snapshot.fromCache),a.query.converter);let W=-1,ae=-1;return 0!==C.type&&(W=g.indexOf(C.doc.key),g=g.delete(C.doc.key)),1!==C.type&&(g=g.add(C.doc),ae=g.indexOf(C.doc.key)),{type:WE(C.type),doc:F,oldIndex:W,newIndex:ae}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function WE(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wt()}}function cy(s,e){return s instanceof Pl&&e instanceof Pl?s._firestore===e._firestore&&s._key.isEqual(e._key)&&(null===s._document?null===e._document:s._document.isEqual(e._document))&&s._converter===e._converter:s instanceof Nl&&e instanceof Nl&&s._firestore===e._firestore&&ry(s.query,e.query)&&s.metadata.isEqual(e.metadata)&&s._snapshot.isEqual(e._snapshot)}function dy(s){if(zu(s)&&0===s.explicitOrderBy.length)throw new bt(lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fc{}function Lu(s,...e){for(const i of e)s=i._apply(s);return s}class nv extends fc{constructor(e,i,a){super(),this.Gc=e,this.zc=i,this.Hc=a,this.type="where"}_apply(e){const i=Ml(e.firestore),a=function(c,g,C,F,W,ae,be){let Ze;if(W.isKeyField()){if("array-contains"===ae||"array-contains-any"===ae)throw new bt(lt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ae}' queries on FieldPath.documentId().`);if("in"===ae||"not-in"===ae){Dg(be,ae);const Nt=[];for(const nn of be)Nt.push(my(F,c,nn));Ze={arrayValue:{values:Nt}}}else Ze=my(F,c,be)}else"in"!==ae&&"not-in"!==ae&&"array-contains-any"!==ae||Dg(be,ae),Ze=Cg(C,"where",be,"in"===ae||"not-in"===ae);const wt=Js.create(W,ae,Ze);return function(Nt,nn){if(nn.v()){const Dr=yc(Nt);if(null!==Dr&&!Dr.isEqual(nn.field))throw new bt(lt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Dr.toString()}' and '${nn.field.toString()}'`);const As=vs(Nt);null!==As&&yy(0,nn.field,As)}const Vn=function(Dr,As){for(const Ya of Dr.filters)if(As.indexOf(Ya.op)>=0)return Ya.op;return null}(Nt,function(Dr){switch(Dr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(nn.op));if(null!==Vn)throw new bt(lt.INVALID_ARGUMENT,Vn===nn.op?`Invalid query. You cannot use more than one '${nn.op.toString()}' filter.`:`Invalid query. You cannot use '${nn.op.toString()}' filters with '${Vn.toString()}' filters.`)}(c,wt),wt}(e._query,0,i,e.firestore._databaseId,this.Gc,this.zc,this.Hc);return new Uo(e.firestore,e.converter,function(c,g){const C=c.filters.concat([g]);return new Jo(c.path,c.collectionGroup,c.explicitOrderBy.slice(),C,c.limit,c.limitType,c.startAt,c.endAt)}(e._query,a))}}class KE extends fc{constructor(e,i){super(),this.Gc=e,this.Jc=i,this.type="orderBy"}_apply(e){const i=function(a,c,g){if(null!==a.startAt)throw new bt(lt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new bt(lt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const C=new _s(c,g);return function(F,W){if(null===vs(F)){const ae=yc(F);null!==ae&&yy(0,ae,W.field)}}(a,C),C}(e._query,this.Gc,this.Jc);return new Uo(e.firestore,e.converter,function(a,c){const g=a.explicitOrderBy.concat([c]);return new Jo(a.path,a.collectionGroup,g,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,i))}}class hy extends fc{constructor(e,i,a){super(),this.type=e,this.Yc=i,this.Xc=a}_apply(e){return new Uo(e.firestore,e.converter,nd(e._query,this.Yc,this.Xc))}}class py extends fc{constructor(e,i,a){super(),this.type=e,this.Zc=i,this.ta=a}_apply(e){const i=Gd(e,this.type,this.Zc,this.ta);return new Uo(e.firestore,e.converter,(c=i,new Jo((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,c,a.endAt)));var a,c}}class Tg extends fc{constructor(e,i,a){super(),this.type=e,this.Zc=i,this.ta=a}_apply(e){const i=Gd(e,this.type,this.Zc,this.ta);return new Uo(e.firestore,e.converter,(c=i,new Jo((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,c)));var a,c}}function Gd(s,e,i,a){if(i[0]=(0,de.m9)(i[0]),i[0]instanceof Df)return function(c,g,C,F,W){if(!F)throw new bt(lt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${C}().`);const ae=[];for(const be of ca(c))if(be.field.isKeyField())ae.push(Ys(g,F.key));else{const Ze=F.data.field(be.field);if(Bn(Ze))throw new bt(lt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+be.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ze){const wt=be.field.canonicalString();throw new bt(lt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${wt}' (used as the orderBy) does not exist.`)}ae.push(Ze)}return new qn(ae,W)}(s._query,s.firestore._databaseId,e,i[0]._document,a);{const c=Ml(s.firestore);return function(g,C,F,W,ae,be){const Ze=g.explicitOrderBy;if(ae.length>Ze.length)throw new bt(lt.INVALID_ARGUMENT,`Too many arguments provided to ${W}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const wt=[];for(let Nt=0;Nt<ae.length;Nt++){const nn=ae[Nt];if(Ze[Nt].field.isKeyField()){if("string"!=typeof nn)throw new bt(lt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${W}(), but got a ${typeof nn}`);if(!_c(g)&&-1!==nn.indexOf("/"))throw new bt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${W}() must be a plain document ID, but '${nn}' contains a slash.`);const Vn=g.path.child(E.fromString(nn));if(!Tn.isDocumentKey(Vn))throw new bt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${W}() must result in a valid document path, but '${Vn}' is not because it contains an odd number of segments.`);const Dr=new Tn(Vn);wt.push(Ys(C,Dr))}else{const Vn=Cg(F,W,nn);wt.push(Vn)}}return new qn(wt,be)}(s._query,s.firestore._databaseId,c,e,i,a)}}function my(s,e,i){if("string"==typeof(i=(0,de.m9)(i))){if(""===i)throw new bt(lt.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!_c(e)&&-1!==i.indexOf("/"))throw new bt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(E.fromString(i));if(!Tn.isDocumentKey(a))throw new bt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Ys(s,new Tn(a))}if(i instanceof ss)return Ys(s,i._key);throw new bt(lt.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${ya(i)}.`)}function Dg(s,e){if(!Array.isArray(s)||0===s.length)throw new bt(lt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(s.length>10)throw new bt(lt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function yy(s,e,i){if(!i.isEqual(e))throw new bt(lt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class Sg{convertValue(e,i="none"){switch(rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 10:return this.convertObject(e.mapValue,i);default:throw Wt()}}convertObject(e,i){const a={};return tr(e.fields,(c,g)=>{a[c]=this.convertValue(g,i)}),a}convertGeoPoint(e){return new nl(Zt(e.latitude),Zt(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=oi(e);return null==a?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(hr(e));default:return null}}convertTimestamp(e){const i=yt(e);return new en(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=E.fromString(e);Vt(pd(a));const c=new Fd(a.get(1),a.get(3)),g=new Tn(a.popFirst(5));return c.isEqual(i)||kt(`Document ${g} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),g}}function Af(s,e,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,a}class sv extends Sg{constructor(e){super(),this.firestore=e}convertBytes(e){return new ta(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new ss(this.firestore,null,i)}}class _y{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Ml(e)}set(e,i,a){this._verifyNotCommitted();const c=rl(e,this._firestore),g=Af(c.converter,i,a),C=$d(this._dataReader,"WriteBatch.set",c._key,g,null!==c.converter,a);return this._mutations.push(C.toMutation(c._key,ds.none())),this}update(e,i,a,...c){this._verifyNotCommitted();const g=rl(e,this._firestore);let C;return C="string"==typeof(i=(0,de.m9)(i))||i instanceof _a?wg(this._dataReader,"WriteBatch.update",g._key,i,a,c):wf(this._dataReader,"WriteBatch.update",g._key,i),this._mutations.push(C.toMutation(g._key,ds.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=rl(e,this._firestore);return this._mutations=this._mutations.concat(new $l(i._key,ds.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new bt(lt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rl(s,e){if((s=(0,de.m9)(s)).firestore!==e)throw new bt(lt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class kl extends Sg{constructor(e){super(),this.firestore=e}convertBytes(e){return new ta(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new ss(this.firestore,null,i)}}function uv(s,e,i){s=li(s,ss);const a=li(s.firestore,Ss),c=Af(s.converter,e,i);return Fl(a,[$d(Ml(a),"setDoc",s._key,c,null!==s.converter,i).toMutation(s._key,ds.none())])}function Zc(s,e,i,...a){s=li(s,ss);const c=li(s.firestore,Ss),g=Ml(c);let C;return C="string"==typeof(e=(0,de.m9)(e))||e instanceof _a?wg(g,"updateDoc",s._key,e,i,a):wf(g,"updateDoc",s._key,e),Fl(c,[C.toMutation(s._key,ds.exists(!0))])}function Rf(s,...e){var i,a,c;s=(0,de.m9)(s);let g={includeMetadataChanges:!1},C=0;"object"!=typeof e[C]||_g(e[C])||(g=e[C],C++);const F={includeMetadataChanges:g.includeMetadataChanges};if(_g(e[C])){const Ze=e[C];e[C]=null===(i=Ze.next)||void 0===i?void 0:i.bind(Ze),e[C+1]=null===(a=Ze.error)||void 0===a?void 0:a.bind(Ze),e[C+2]=null===(c=Ze.complete)||void 0===c?void 0:c.bind(Ze)}let W,ae,be;if(s instanceof ss)ae=li(s.firestore,Ss),be=Bs(s._key.path),W={next:Ze=>{e[C]&&e[C](zd(ae,s,Ze))},error:e[C+1],complete:e[C+2]};else{const Ze=li(s,Uo);ae=li(Ze.firestore,Ss),be=Ze._query;const wt=new kl(ae);W={next:Nt=>{e[C]&&e[C](new Nl(ae,wt,Ze,Nt))},error:e[C+1],complete:e[C+2]},dy(s._query)}return function(Ze,wt,Nt,nn){const Vn=new jc(nn),Dr=new Zh(wt,Vn,Nt);return Ze.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return Md(yield cc(Ze),Dr)})),()=>{Vn.ec(),Ze.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return Bp(yield cc(Ze),Dr)}))}}(ro(ae),be,F,W)}function Fl(s,e){return function(i,a){const c=new Er;return i.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return function(s,e,i){return Vc.apply(this,arguments)}(yield pf(i),a,c)})),c.promise}(ro(s),e)}function zd(s,e,i){const a=i.docs.get(e._key),c=new kl(s);return new Pl(s,c,e._key,a,new qc(i.hasPendingWrites,i.fromCache),e.converter)}class Ey extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=Ml(e)}get(e){const i=rl(e,this._firestore),a=new sv(this._firestore);return this._transaction.lookup([i._key]).then(c=>{if(!c||1!==c.length)return Wt();const g=c[0];if(g.isFoundDocument())return new Df(this._firestore,a,g.key,g,i.converter);if(g.isNoDocument())return new Df(this._firestore,a,i._key,null,i.converter);throw Wt()})}set(e,i,a){const c=rl(e,this._firestore),g=Af(c.converter,i,a),C=$d(this._dataReader,"Transaction.set",c._key,g,null!==c.converter,a);return this._transaction.set(c._key,C),this}update(e,i,a,...c){const g=rl(e,this._firestore);let C;return C="string"==typeof(i=(0,de.m9)(i))||i instanceof _a?wg(this._dataReader,"Transaction.update",g._key,i,a,c):wf(this._dataReader,"Transaction.update",g._key,i),this._transaction.update(g._key,C),this}delete(e){const i=rl(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,i){super(e,i),this._firestore=e}get(e){const i=rl(e,this._firestore),a=new kl(this._firestore);return super.get(e).then(c=>new Pl(this._firestore,a,i._key,c._document,new qc(!1,!1),i.converter))}}function Wd(s,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new bt("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return e}function Ng(){if("undefined"==typeof Uint8Array)throw new bt("unimplemented","Uint8Arrays are not available in this environment.")}function Iy(){if("undefined"==typeof atob)throw new bt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(s,e=!0){ee=oe.SDK_VERSION,(0,oe._registerComponent)(new _e.wA("firestore",(i,{options:a})=>{const c=i.getProvider("app").getImmediate(),g=new Ss(c,new ts(i.getProvider("auth-internal")));return a=Object.assign({useFetchStreams:e},a),g._setSettings(a),g},"PUBLIC")),(0,oe.registerVersion)(S,"3.3.1",s),(0,oe.registerVersion)(S,"3.3.1","esm2017")}();class Yc{constructor(e){this._delegate=e}static fromBase64String(e){return Iy(),new Yc(ta.fromBase64String(e))}static fromUint8Array(e){return Ng(),new Yc(ta.fromUint8Array(e))}toBase64(){return Iy(),this._delegate.toBase64()}toUint8Array(){return Ng(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function xf(s){return function(s,e){if("object"!=typeof s||null===s)return!1;const i=s;for(const a of["next","error","complete"])if(a in i&&"function"==typeof i[a])return!0;return!1}(s)}class Ty{enableIndexedDbPersistence(e,i){return function(s,e){Ef(s=li(s,Ss));const i=ro(s),a=s._freezeSettings(),c=new lf;return iy(i,c,new L_(c,a.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(e){return function(s){Ef(s=li(s,Ss));const e=ro(s),i=s._freezeSettings(),a=new lf;return iy(e,a,new V_(a,i.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(s){if(s._initialized&&!s._terminated)throw new bt(lt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Er;return s._queue.enqueueAndForgetEvenWhileRestricted((0,ne.Z)(function*(){try{yield(i=(0,ne.Z)(function*(a){if(!pa.bt())return Promise.resolve();const c=a+"main";yield pa.delete(c)}),function(a){return i.apply(this,arguments)})(Nh(s._databaseId,s._persistenceKey)),e.resolve()}catch(i){e.reject(i)}var i})),e.promise}(e._delegate)}}class Dy{constructor(e,i,a){this._delegate=i,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},e instanceof Fd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const i=this._delegate._getSettings();!e.merge&&i.host!==e.host&&hn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},i),e)).merge,this._delegate._setSettings(e)}useEmulator(e,i,a={}){!function(s,e,i,a={}){var c;const g=(s=li(s,$c))._getSettings();if("firestore.googleapis.com"!==g.host&&g.host!==e&&hn("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},g),{host:`${e}:${i}`,ssl:!1})),a.mockUserToken){let C,F;if("string"==typeof a.mockUserToken)C=a.mockUserToken,F=z.MOCK_USER;else{C=(0,de.Sg)(a.mockUserToken,null===(c=s._app)||void 0===c?void 0:c.options.projectId);const W=a.mockUserToken.sub||a.mockUserToken.user_id;if(!W)throw new bt(lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new z(W)}s._credentials=new Us(new Ri(C,F))}}(this._delegate,e,i,a)}enableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,ne.Z)(function*(){const e=yield Jm(s),i=yield ff(s);return e.setNetworkEnabled(!0),function(a){const c=Rt(a);return c.Wr.delete(0),rc(c)}(i)}))}(ro(s=li(s,Ss)))}(this._delegate)}disableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,ne.Z)(function*(){const e=yield Jm(s),i=yield ff(s);return e.setNetworkEnabled(!1),(a=(0,ne.Z)(function*(c){const g=Rt(c);g.Wr.add(0),yield ic(g),g.Hr.set("Offline")}),function(c){return a.apply(this,arguments)})(i);var a}))}(ro(s=li(s,Ss)))}(this._delegate)}enablePersistence(e){let i=!1,a=!1;return e&&(i=!!e.synchronizeTabs,a=!!e.experimentalForceOwningTab,pg("synchronizeTabs",i,"experimentalForceOwningTab",a)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(s){return function(e){const i=new Er;return e.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return function(s,e){return ef.apply(this,arguments)}(yield pf(e),i)})),i.promise}(ro(s=li(s,Ss)))}(this._delegate)}onSnapshotsInSync(e){return function(s,e){return function(s,e){const i=new jc(e);return s.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return a=yield cc(s),c=i,Rt(a).so.add(c),void c.next();var a,c})),()=>{i.ec(),s.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return a=yield cc(s),c=i,void Rt(a).so.delete(c);var a,c}))}}(ro(s=li(s,Ss)),_g(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new bt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Xc(this,mg(this._delegate,e))}catch(i){throw jo(i,"collection()","Firestore.collection()")}}doc(e){try{return new Ma(this,yf(this._delegate,e))}catch(i){throw jo(i,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new $o(this,function(s,e){if(s=li(s,$c),fg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new bt(lt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Uo(s,null,(i=e,new Jo(E.emptyPath(),i)));var i}(this._delegate,e))}catch(i){throw jo(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(s,e){return function(s,e){const i=new Er;return s.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){const a=yield(c=s,kd(c).then(g=>g.datastore));var c;new ug(s.asyncQueue,a,e,i).run()})),i.promise}(ro(s=li(s,Ss)),i=>e(new Ey(s,i)))}(this._delegate,i=>e(new Mf(this,i)))}batch(){return ro(this._delegate),new Of(new _y(this._delegate,e=>Fl(this._delegate,e)))}loadBundle(e){return function(s,e){const i=ro(s=li(s,Ss)),a=new Z_;return function(s,e,i,a){const c=function(g,C){let F;return F="string"==typeof g?(new TextEncoder).encode(g):g,W=function(W,ae){if(W instanceof Uint8Array)return hs(W,void 0);if(W instanceof ArrayBuffer)return hs(new Uint8Array(W),void 0);if(W instanceof ReadableStream)return W.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(F),new HE(W,C);var W}(i,Uh(e));s.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){!function(s,e,i){const a=Rt(s);var c;(c=(0,ne.Z)(function*(g,C,F){try{const W=yield C.getMetadata();if(yield function(wt,Nt){const nn=Rt(wt),Vn=eo(Nt.createTime);return nn.persistence.runTransaction("hasNewerBundle","readonly",Dr=>nn.Je.getBundleMetadata(Dr,Nt.id)).then(Dr=>!!Dr&&Dr.createTime.compareTo(Vn)>=0)}(g.localStore,W))return yield C.close(),void F._completeWith((wt=W,{taskState:"Success",documentsLoaded:wt.totalDocuments,bytesLoaded:wt.totalBytes,totalDocuments:wt.totalDocuments,totalBytes:wt.totalBytes}));F._updateProgress(Hp(W));const ae=new Hm(W,g.localStore,C.N);let be=yield C.zo();for(;be;){const wt=yield ae.mo(be);wt&&F._updateProgress(wt),be=yield C.zo()}const Ze=yield ae.complete();yield Xu(g,Ze.En,void 0),yield function(wt,Nt){const nn=Rt(wt);return nn.persistence.runTransaction("Save bundle","readwrite",Vn=>nn.Je.saveBundleMetadata(Vn,Nt))}(g.localStore,W),F._completeWith(Ze.progress)}catch(W){hn("SyncEngine",`Loading bundle failed with ${W}`),F._failWith(W)}var wt}),function(g,C,F){return c.apply(this,arguments)})(a,e,i).then(()=>{a.sharedClientState.notifyBundleLoaded()})}(yield pf(s),c,a)}))}(i,s._databaseId,e,a),a}(this._delegate,e)}namedQuery(e){return function(s,e){return function(s,e){return s.asyncQueue.enqueue((0,ne.Z)(function*(){return function(i,a){const c=Rt(i);return c.persistence.runTransaction("Get named query","readonly",g=>c.Je.getNamedQuery(g,a))}(yield lc(s),e)}))}(ro(s=li(s,Ss)),e).then(i=>i?new Uo(s,null,i.query):null)}(this._delegate,e).then(i=>i?new $o(this,i):null)}}class qd extends Sg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yc(new ta(e))}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return Ma.forKey(i,this.firestore,null)}}class Mf{constructor(e,i){this._firestore=e,this._delegate=i,this._userDataWriter=new qd(e)}get(e){const i=Vl(e);return this._delegate.get(i).then(a=>new Qc(this._firestore,new Pl(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,i.converter)))}set(e,i,a){const c=Vl(e);return a?(Wd("Transaction.set",a),this._delegate.set(c,i,a)):this._delegate.set(c,i),this}update(e,i,a,...c){const g=Vl(e);return 2===arguments.length?this._delegate.update(g,i):this._delegate.update(g,i,a,...c),this}delete(e){const i=Vl(e);return this._delegate.delete(i),this}}class Of{constructor(e){this._delegate=e}set(e,i,a){const c=Vl(e);return a?(Wd("WriteBatch.set",a),this._delegate.set(c,i,a)):this._delegate.set(c,i),this}update(e,i,a,...c){const g=Vl(e);return 2===arguments.length?this._delegate.update(g,i):this._delegate.update(g,i,a,...c),this}delete(e){const i=Vl(e);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class Ll{constructor(e,i,a){this._firestore=e,this._userDataWriter=i,this._delegate=a}fromFirestore(e,i){const a=new Sf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Jc(this._firestore,a),null!=i?i:{})}toFirestore(e,i){return i?this._delegate.toFirestore(e,i):this._delegate.toFirestore(e)}static getInstance(e,i){const a=Ll.INSTANCES;let c=a.get(e);c||(c=new WeakMap,a.set(e,c));let g=c.get(i);return g||(g=new Ll(e,new qd(e),i),c.set(i,g)),g}}Ll.INSTANCES=new WeakMap;class Ma{constructor(e,i){this.firestore=e,this._delegate=i,this._userDataWriter=new qd(e)}static forPath(e,i,a){if(e.length%2!=0)throw new bt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ma(i,new ss(i._delegate,a,new Tn(e)))}static forKey(e,i,a){return new Ma(i,new ss(i._delegate,a,e))}get id(){return this._delegate.id}get parent(){return new Xc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Xc(this.firestore,mg(this._delegate,e))}catch(i){throw jo(i,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,de.m9)(e))instanceof ss&&_f(this._delegate,e)}set(e,i){i=Wd("DocumentReference.set",i);try{return i?uv(this._delegate,e,i):uv(this._delegate,e)}catch(a){throw jo(a,"setDoc()","DocumentReference.set()")}}update(e,i,...a){try{return 1===arguments.length?Zc(this._delegate,e):Zc(this._delegate,e,i,...a)}catch(c){throw jo(c,"updateDoc()","DocumentReference.update()")}}delete(){return function(s){return Fl(li(s.firestore,Ss),[new $l(s._key,ds.none())])}(this._delegate)}onSnapshot(...e){const i=Fg(e),a=Lg(e,c=>new Qc(this.firestore,new Pl(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return Rf(this._delegate,i,a)}get(e){let i;return i="cache"===(null==e?void 0:e.source)?function(s){s=li(s,ss);const e=li(s.firestore,Ss),i=ro(e),a=new kl(e);return function(s,e){const i=new Er;return s.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return(a=(0,ne.Z)(function*(c,g,C){try{const F=yield function(W,ae){const be=Rt(W);return be.persistence.runTransaction("read document","readonly",Ze=>be.Qn.An(Ze,ae))}(c,g);F.isFoundDocument()?C.resolve(F):F.isNoDocument()?C.resolve(null):C.reject(new bt(lt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(F){const W=Lc(F,`Failed to get document '${g} from cache`);C.reject(W)}}),function(c,g,C){return a.apply(this,arguments)})(yield lc(s),e,i);var a})),i.promise}(i,s._key).then(c=>new Pl(e,a,s._key,c,new qc(null!==c&&c.hasLocalMutations,!0),s.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(s){s=li(s,ss);const e=li(s.firestore,Ss);return ey(ro(e),s._key,{source:"server"}).then(i=>zd(e,s,i))}(this._delegate):function(s){s=li(s,ss);const e=li(s.firestore,Ss);return ey(ro(e),s._key).then(i=>zd(e,s,i))}(this._delegate),i.then(a=>new Qc(this.firestore,new Pl(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(e){return new Ma(this.firestore,this._delegate.withConverter(e?Ll.getInstance(this.firestore,e):null))}}function jo(s,e,i){return s.message=s.message.replace(e,i),s}function Fg(s){for(const e of s)if("object"==typeof e&&!xf(e))return e;return{}}function Lg(s,e){var i,a;let c;return c=xf(s[0])?s[0]:xf(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:g=>{c.next&&c.next(e(g))},error:null===(i=c.error)||void 0===i?void 0:i.bind(c),complete:null===(a=c.complete)||void 0===a?void 0:a.bind(c)}}class Qc{constructor(e,i){this._firestore=e,this._delegate=i}get ref(){return new Ma(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,i){return this._delegate.get(e,i)}isEqual(e){return cy(this._delegate,e._delegate)}}class Jc extends Qc{data(e){const i=this._delegate.data(e);return function(s,e){s||Wt()}(void 0!==i),i}}class $o{constructor(e,i){this.firestore=e,this._delegate=i,this._userDataWriter=new qd(e)}where(e,i,a){try{return new $o(this.firestore,Lu(this._delegate,function(s,e,i){const a=e,c=Hd("where",s);return new nv(c,a,i)}(e,i,a)))}catch(c){throw jo(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,i){try{return new $o(this.firestore,Lu(this._delegate,function(s,e="asc"){const i=e,a=Hd("orderBy",s);return new KE(a,i)}(e,i)))}catch(a){throw jo(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new $o(this.firestore,Lu(this._delegate,function(s){return W_("limit",s),new hy("limit",s,"F")}(e)))}catch(i){throw jo(i,"limit()","Query.limit()")}}limitToLast(e){try{return new $o(this.firestore,Lu(this._delegate,function(s){return W_("limitToLast",s),new hy("limitToLast",s,"L")}(e)))}catch(i){throw jo(i,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new $o(this.firestore,Lu(this._delegate,function(...s){return new py("startAt",s,!0)}(...e)))}catch(i){throw jo(i,"startAt()","Query.startAt()")}}startAfter(...e){try{return new $o(this.firestore,Lu(this._delegate,function(...s){return new py("startAfter",s,!1)}(...e)))}catch(i){throw jo(i,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new $o(this.firestore,Lu(this._delegate,function(...s){return new Tg("endBefore",s,!0)}(...e)))}catch(i){throw jo(i,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new $o(this.firestore,Lu(this._delegate,function(...s){return new Tg("endAt",s,!1)}(...e)))}catch(i){throw jo(i,"endAt()","Query.endAt()")}}isEqual(e){return ry(this._delegate,e._delegate)}get(e){let i;return i="cache"===(null==e?void 0:e.source)?function(s){s=li(s,Uo);const e=li(s.firestore,Ss),i=ro(e),a=new kl(e);return function(s,e){const i=new Er;return s.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return(a=(0,ne.Z)(function*(c,g,C){try{const F=yield Fh(c,g,!0),W=new Yh(g,F.Gn),ae=W.bo(F.documents),be=W.applyChanges(ae,!1);C.resolve(be.snapshot)}catch(F){const W=Lc(F,`Failed to execute query '${g} against cache`);C.reject(W)}}),function(c,g,C){return a.apply(this,arguments)})(yield lc(s),e,i);var a})),i.promise}(i,s._query).then(c=>new Nl(e,a,s,c))}(this._delegate):"server"===(null==e?void 0:e.source)?function(s){s=li(s,Uo);const e=li(s.firestore,Ss),i=ro(e),a=new kl(e);return hg(i,s._query,{source:"server"}).then(c=>new Nl(e,a,s,c))}(this._delegate):function(s){s=li(s,Uo);const e=li(s.firestore,Ss),i=ro(e),a=new kl(e);return dy(s._query),hg(i,s._query).then(c=>new Nl(e,a,s,c))}(this._delegate),i.then(a=>new Vg(this.firestore,new Nl(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...e){const i=Fg(e),a=Lg(e,c=>new Vg(this.firestore,new Nl(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return Rf(this._delegate,i,a)}withConverter(e){return new $o(this.firestore,this._delegate.withConverter(e?Ll.getInstance(this.firestore,e):null))}}class XE{constructor(e,i){this._firestore=e,this._delegate=i}get type(){return this._delegate.type}get doc(){return new Jc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Vg{constructor(e,i){this._firestore=e,this._delegate=i}get query(){return new $o(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Jc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(i=>new XE(this._firestore,i))}forEach(e,i){this._delegate.forEach(a=>{e.call(i,new Jc(this._firestore,a))})}isEqual(e){return cy(this._delegate,e._delegate)}}class Xc extends $o{constructor(e,i){super(e,i),this.firestore=e,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ma(this.firestore,e):null}doc(e){try{return new Ma(this.firestore,void 0===e?yf(this._delegate):yf(this._delegate,e))}catch(i){throw jo(i,"doc()","CollectionReference.doc()")}}add(e){return function(s,e){const i=li(s.firestore,Ss),a=yf(s),c=Af(s.converter,e);return Fl(i,[$d(Ml(s.firestore),"addDoc",a._key,c,null!==s.converter,{}).toMutation(a._key,ds.exists(!1))]).then(()=>a)}(this._delegate,e).then(i=>new Ma(this.firestore,i))}isEqual(e){return _f(this._delegate,e._delegate)}withConverter(e){return new Xc(this.firestore,this._delegate.withConverter(e?Ll.getInstance(this.firestore,e):null))}}function Vl(s){return li(s,ss)}class Ug{constructor(...e){this._delegate=new _a(...e)}static documentId(){return new Ug(R.keyField().canonicalString())}isEqual(e){return(e=(0,de.m9)(e))instanceof _a&&this._delegate._internalPath.isEqual(e._internalPath)}}class fs{constructor(e){this._delegate=e}static serverTimestamp(){const e=new bf("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new fs(e)}static delete(){const e=new Wc("deleteField");return e._methodName="FieldValue.delete",new fs(e)}static arrayUnion(...e){const i=function(...s){return new oy("arrayUnion",s)}(...e);return i._methodName="FieldValue.arrayUnion",new fs(i)}static arrayRemove(...e){const i=function(...s){return new ay("arrayRemove",s)}(...e);return i._methodName="FieldValue.arrayRemove",new fs(i)}static increment(e){const i=function(s){return new J_("increment",s)}(e);return i._methodName="FieldValue.increment",new fs(i)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Ay={Firestore:Dy,GeoPoint:nl,Timestamp:en,Blob:Yc,Transaction:Mf,WriteBatch:Of,DocumentReference:Ma,DocumentSnapshot:Qc,Query:$o,QueryDocumentSnapshot:Jc,QuerySnapshot:Vg,CollectionReference:Xc,FieldPath:Ug,FieldValue:fs,setLogLevel:function(s){!function(s){ge.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};!function(s){(function(s,e){s.INTERNAL.registerComponent(new _e.wA("firestore-compat",i=>((e,i)=>new Dy(e,i,new Ty))(i.getProvider("app-compat").getImmediate(),i.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Ay)))})(s),s.registerVersion("@firebase/firestore-compat","0.1.8")}(jt.Z);var il=N(8778),gv=N(4953),Ry=N(7841);function pc(s,e){return function(s,e=I.z){return new K.y(i=>{let a;return null!=e?e.schedule(()=>{a=s.onSnapshot({includeMetadataChanges:!0},i)}):a=s.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=a&&a()}})}(s,e)}function Bg(s,e){return pc(s,e).pipe((0,je.U)(i=>({payload:i,type:"query"})))}function Kd(s,e){return Bg(s,e).pipe(fe(void 0),Ue(),(0,je.U)(([i,a])=>{const c=a.payload.docChanges(),g=c.map(C=>({type:C.type,payload:C}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((C,F)=>{const W=c.find(be=>be.doc.ref.isEqual(C.ref)),ae=null==i?void 0:i.payload.docs.find(be=>be.ref.isEqual(C.ref));W&&JSON.stringify(W.doc.metadata)===JSON.stringify(C.metadata)||!W&&ae&&JSON.stringify(ae.metadata)===JSON.stringify(C.metadata)||g.push({type:"modified",payload:{oldIndex:F,newIndex:F,type:"modified",doc:C}})}),g}))}function My(s,e,i){return Kd(s,i).pipe(Ne((a,c)=>function(s,e,i){return e.forEach(a=>{i.indexOf(a.type)>-1&&(s=function(s,e){switch(e.type){case"added":if(!s[e.newIndex]||!s[e.newIndex].doc.ref.isEqual(e.doc.ref))return Py(s,e.newIndex,0,e);break;case"modified":if(null==s[e.oldIndex]||s[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const i=s.slice();return i.splice(e.oldIndex,1),i.splice(e.newIndex,0,e),i}return Py(s,e.newIndex,1,e)}break;case"removed":if(s[e.oldIndex]&&s[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Py(s,e.oldIndex,1)}return s}(s,a))}),s}(a,c.map(g=>g.payload),e),[]),function(s,e=Ke.y){return s=null!=s?s:We,(0,J.e)((i,a)=>{let c,g=!0;i.subscribe(new Fe.Q(a,C=>{const F=e(C);(g||!s(c,F))&&(g=!1,c=F,a.next(C))}))})}(),(0,je.U)(a=>a.map(c=>({type:c.type,payload:c}))))}function Py(s,e,i,...a){const c=s.slice();return c.splice(e,i,...a),c}function Pf(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}class bu{constructor(e,i,a){this.ref=e,this.query=i,this.afs=a}stateChanges(e){let i=Kd(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(i=i.pipe((0,je.U)(a=>a.filter(c=>e.indexOf(c.type)>-1)))),i.pipe(fe(void 0),Ue(),(0,Re.h)(([a,c])=>c.length>0||!a),(0,je.U)(([a,c])=>c),Pe.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ne((i,a)=>[...i,...a],[]))}snapshotChanges(e){const i=Pf(e);return My(this.query,i,this.afs.schedulers.outsideAngular).pipe(Pe.iC)}valueChanges(e={}){return Bg(this.query,this.afs.schedulers.outsideAngular).pipe((0,je.U)(i=>i.payload.docs.map(a=>e.idField?Object.assign(Object.assign({},a.data()),{[e.idField]:a.id}):a.data())),Pe.iC)}get(e){return(0,Ae.D)(this.query.get(e)).pipe(Pe.iC)}add(e){return this.ref.add(e)}doc(e){return new ky(this.ref.doc(e),this.afs)}}class ky{constructor(e,i){this.ref=e,this.afs=i}set(e,i){return this.ref.set(e,i)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,i){const a=this.ref.collection(e),{ref:c,query:g}=jg(a,i);return new bu(c,g,this.afs)}snapshotChanges(){return function(s,e){return pc(s,e).pipe(fe(void 0),Ue(),(0,je.U)(([i,a])=>a.exists?(null==i?void 0:i.exists)?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Pe.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,je.U)(({payload:i})=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data()))}get(e){return(0,Ae.D)(this.ref.get(e)).pipe(Pe.iC)}}class yv{constructor(e,i){this.query=e,this.afs=i}stateChanges(e){return e&&0!==e.length?Kd(this.query,this.afs.schedulers.outsideAngular).pipe((0,je.U)(i=>i.filter(a=>e.indexOf(a.type)>-1)),(0,Re.h)(i=>i.length>0),Pe.iC):Kd(this.query,this.afs.schedulers.outsideAngular).pipe(Pe.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ne((i,a)=>[...i,...a],[]))}snapshotChanges(e){const i=Pf(e);return My(this.query,i,this.afs.schedulers.outsideAngular).pipe(Pe.iC)}valueChanges(e={}){return Bg(this.query,this.afs.schedulers.outsideAngular).pipe((0,je.U)(a=>a.payload.docs.map(c=>e.idField?Object.assign({[e.idField]:c.id},c.data()):c.data())),Pe.iC)}get(e){return(0,Ae.D)(this.query.get(e)).pipe(Pe.iC)}}const wu=new _.OlP("angularfire2.enableFirestorePersistence"),Za=new _.OlP("angularfire2.firestore.persistenceSettings"),Cu=new _.OlP("angularfire2.firestore.settings"),Fy=new _.OlP("angularfire2.firestore.use-emulator");function jg(s,e=(i=>i)){return{query:e(s),ref:s}}let Ly=(()=>{class s{constructor(i,a,c,g,C,F,W,ae,be,Ze,wt,Nt,nn,Vn,Dr,As,Ya){this.schedulers=W;const Iu=(0,tt.on)(i,F,a),Vu=be;Ze&&(0,il.nw)(Iu,F,wt,nn,Vn,Dr,Nt,As),[this.firestore,this.persistenceEnabled$]=(0,tt.cc)(`${Iu.name}.firestore`,"AngularFirestore",Iu.name,()=>{const Uu=F.runOutsideAngular(()=>Iu.firestore());if(g&&Uu.settings(g),Vu&&Uu.useEmulator(...Vu),c&&!(0,rt.PM)(C)){const Zd=()=>{try{return(0,Ae.D)(Uu.enablePersistence(ae||void 0).then(()=>!0,()=>!1))}catch(vv){return"undefined"!=typeof console&&console.warn(vv),(0,Ee.of)(!1)}};return[Uu,F.runOutsideAngular(Zd)]}return[Uu,(0,Ee.of)(!1)]},[g,Vu,c])}collection(i,a){let c;c="string"==typeof i?this.firestore.collection(i):i;const{ref:g,query:C}=jg(c,a),F=this.schedulers.ngZone.run(()=>g);return new bu(F,C,this)}collectionGroup(i,a){const c=a||(C=>C),g=this.firestore.collectionGroup(i);return new yv(c(g),this)}doc(i){let a;a="string"==typeof i?this.firestore.doc(i):i;const c=this.schedulers.ngZone.run(()=>a);return new ky(c,this)}createId(){return this.firestore.collection("_").doc().id}}return s.\u0275fac=function(i){return new(i||s)(_.LFG(tt.Dh),_.LFG(tt.xv,8),_.LFG(wu,8),_.LFG(Cu,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(Pe.HU),_.LFG(Za,8),_.LFG(Fy,8),_.LFG(il.zQ,8),_.LFG(il.Qv,8),_.LFG(il.L6,8),_.LFG(il._Q,8),_.LFG(il.rT,8),_.LFG(il.lh,8),_.LFG(il.f7,8),_.LFG(gv.nm,8))},s.\u0275prov=_.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),_v=(()=>{class s{constructor(){Ry.Z.registerVersion("angularfire",Pe.q4.full,"fst-compat")}static enablePersistence(i){return{ngModule:s,providers:[{provide:wu,useValue:!0},{provide:Za,useValue:i}]}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=_.oAB({type:s}),s.\u0275inj=_.cJS({providers:[Ly]}),s})()},3936:($t,ze,N)=>{"use strict";N.d(ze,{Q1:()=>Xi,TE:()=>Ws});var _=N(1827),I=N(4323),K=N(1179),Ae=N(4346),Ee=N(3201),Pe=N(1894),Qe=N(6885),we=N(1926),X=N(8704),J=N(639),fe=N(8939),Fe=N(3394),Ue=N(8239),ft=N(8026),Ne=N(3854),Ke=N(3910);const Me="firebasestorage.googleapis.com",We="storageBucket";class tt extends Ne.ZR{constructor(L,se){super(rt(L),`Firebase Storage: ${se} (${rt(L)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,tt.prototype)}_codeEquals(L){return rt(L)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(L){this.customData.serverResponse=L,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function rt($){return"storage/"+$}function Lt(){return new tt("unknown","An unknown error occurred, please check the error payload for server response.")}function Je(){return new tt("canceled","User canceled the upload/download.")}function Bt(){return new tt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Nn($){return new tt("invalid-argument",$)}function vn(){return new tt("app-deleted","The Firebase app was deleted.")}function Kn($){return new tt("invalid-root-operation","The operation '"+$+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function xn($,L){return new tt("invalid-format","String does not match format '"+$+"': "+L)}function En($){throw new tt("internal-error","Internal error: "+$)}class Dn{constructor(L,se){this.bucket=L,this.path_=se}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const L=encodeURIComponent;return"/b/"+L(this.bucket)+"/o/"+L(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(L,se){let he;try{he=Dn.makeFromUrl(L,se)}catch(He){return new Dn(L,"")}if(""===he.path)return he;throw new tt("invalid-default-bucket","Invalid default bucket '"+L+"'.")}static makeFromUrl(L,se){let he=null;const He="([A-Za-z0-9.\\-_]+)",gn=new RegExp("^gs://"+He+"(/(.*))?$","i");function ct(Br){Br.path_=decodeURIComponent(Br.path)}const Lr=se.replace(/[.]/g,"\\."),Ii=[{regex:gn,indices:{bucket:1,path:3},postModify:function(Br){"/"===Br.path.charAt(Br.path.length-1)&&(Br.path_=Br.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Lr}/v[A-Za-z0-9_]+/b/${He}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:ct},{regex:new RegExp(`^https?://${se===Me?"(?:storage.googleapis.com|storage.cloud.google.com)":se}/${He}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:ct}];for(let Br=0;Br<Ii.length;Br++){const Os=Ii[Br],ti=Os.regex.exec(L);if(ti){let Wi=ti[Os.indices.path];Wi||(Wi=""),he=new Dn(ti[Os.indices.bucket],Wi),Os.postModify(he);break}}if(null==he)throw new tt("invalid-url","Invalid URL '"+L+"'.");return he}}class St{constructor(L){this.promise_=Promise.reject(L)}getPromise(){return this.promise_}cancel(L=!1){}}function Mn($){return"string"==typeof $||$ instanceof String}function Hr($){return Yn()&&$ instanceof Blob}function Yn(){return"undefined"!=typeof Blob}function ar($,L,se,he){if(he<L)throw Nn(`Invalid value for '${$}'. Expected ${L} or greater.`);if(he>se)throw Nn(`Invalid value for '${$}'. Expected ${se} or less.`)}function ur($,L,se){let he=L;return null==se&&(he=`https://${L}`),`${se}://${he}/v0${$}`}function yr($){const L=encodeURIComponent;let se="?";for(const he in $)$.hasOwnProperty(he)&&(se=se+(L(he)+"=")+L($[he])+"&");return se=se.slice(0,-1),se}var qt=(()=>{return($=qt||(qt={}))[$.NO_ERROR=0]="NO_ERROR",$[$.NETWORK_ERROR=1]="NETWORK_ERROR",$[$.ABORT=2]="ABORT",qt;var $})();class Kt{constructor(L,se,he,He,ht,Ot,gn,sn,ct,Xt,Lr){this.url_=L,this.method_=se,this.headers_=he,this.body_=He,this.successCodes_=ht,this.additionalRetryCodes_=Ot,this.callback_=gn,this.errorCallback_=sn,this.timeout_=ct,this.progressCallback_=Xt,this.connectionFactory_=Lr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Hn,si)=>{this.resolve_=Hn,this.reject_=si,this.start_()})}start_(){const se=(he,He)=>{const ht=this.resolve_,Ot=this.reject_,gn=He.connection;if(He.wasSuccessCode)try{const sn=this.callback_(gn,gn.getResponse());void 0!==sn?ht(sn):ht()}catch(sn){Ot(sn)}else if(null!==gn){const sn=Lt();sn.serverResponse=gn.getErrorText(),Ot(this.errorCallback_?this.errorCallback_(gn,sn):sn)}else Ot(He.canceled?this.appDelete_?vn():Je():new tt("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?se(0,new at(!1,null,!0)):this.backoffId_=function($,L,se){let he=1,He=null,ht=null,Ot=!1,gn=0;function sn(){return 2===gn}let ct=!1;function Xt(...Gr){ct||(ct=!0,L.apply(null,Gr))}function Lr(Gr){He=setTimeout(()=>{He=null,$(si,sn())},Gr)}function Hn(){ht&&clearTimeout(ht)}function si(Gr,...Hi){if(ct)return void Hn();if(Gr)return Hn(),void Xt.call(null,Gr,...Hi);if(sn()||Ot)return Hn(),void Xt.call(null,Gr,...Hi);let Ii;he<64&&(he*=2),1===gn?(gn=2,Ii=0):Ii=1e3*(he+Math.random()),Lr(Ii)}let Ur=!1;function Qr(Gr){Ur||(Ur=!0,Hn(),!ct&&(null!==He?(Gr||(gn=2),clearTimeout(He),Lr(0)):Gr||(gn=1)))}return Lr(0),ht=setTimeout(()=>{Ot=!0,Qr(!0)},se),Qr}((he,He)=>{if(He)return void he(!1,new at(!1,null,!0));const ht=this.connectionFactory_();this.pendingConnection_=ht;const Ot=gn=>{null!==this.progressCallback_&&this.progressCallback_(gn.loaded,gn.lengthComputable?gn.total:-1)};null!==this.progressCallback_&&ht.addUploadProgressListener(Ot),ht.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&ht.removeUploadProgressListener(Ot),this.pendingConnection_=null;const gn=ht.getErrorCode()===qt.NO_ERROR,sn=ht.getStatus();if(!gn||this.isRetryStatusCode_(sn)){const Xt=ht.getErrorCode()===qt.ABORT;return void he(!1,new at(!1,null,Xt))}const ct=-1!==this.successCodes_.indexOf(sn);he(!0,new at(ct,ht))})},se,this.timeout_)}getPromise(){return this.promise_}cancel(L){this.canceled_=!0,this.appDelete_=L||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(L){const se=L>=500&&L<600,He=-1!==[408,429].indexOf(L),ht=-1!==this.additionalRetryCodes_.indexOf(L);return se||He||ht}}class at{constructor(L,se,he){this.wasSuccessCode=L,this.connection=se,this.canceled=!!he}}function Yt(...$){const L="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==L){const se=new L;for(let he=0;he<$.length;he++)se.append($[he]);return se.getBlob()}if(Yn())return new Blob($);throw new tt("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Zn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class dr{constructor(L,se){this.data=L,this.contentType=se||null}}function Nr($,L){switch($){case Zn.RAW:return new dr(_r(L));case Zn.BASE64:case Zn.BASE64URL:return new dr(Te($,L));case Zn.DATA_URL:return new dr(function($){const L=new Se($);return L.base64?Te(Zn.BASE64,L.rest):function($){let L;try{L=decodeURIComponent($)}catch(se){throw xn(Zn.DATA_URL,"Malformed data URL.")}return _r(L)}(L.rest)}(L),function($){return new Se($).contentType}(L))}throw Lt()}function _r($){const L=[];for(let se=0;se<$.length;se++){let he=$.charCodeAt(se);he<=127?L.push(he):he<=2047?L.push(192|he>>6,128|63&he):55296==(64512&he)?se<$.length-1&&56320==(64512&$.charCodeAt(se+1))?(he=65536|(1023&he)<<10|1023&$.charCodeAt(++se),L.push(240|he>>18,128|he>>12&63,128|he>>6&63,128|63&he)):L.push(239,191,189):56320==(64512&he)?L.push(239,191,189):L.push(224|he>>12,128|he>>6&63,128|63&he)}return new Uint8Array(L)}function Te($,L){switch($){case Zn.BASE64:{const He=-1!==L.indexOf("-"),ht=-1!==L.indexOf("_");if(He||ht)throw xn($,"Invalid character '"+(He?"-":"_")+"' found: is it base64url encoded?");break}case Zn.BASE64URL:{const He=-1!==L.indexOf("+"),ht=-1!==L.indexOf("/");if(He||ht)throw xn($,"Invalid character '"+(He?"+":"/")+"' found: is it base64 encoded?");L=L.replace(/-/g,"+").replace(/_/g,"/");break}}let se;try{se=function($){return atob($)}(L)}catch(He){throw xn($,"Invalid character found")}const he=new Uint8Array(se.length);for(let He=0;He<se.length;He++)he[He]=se.charCodeAt(He);return he}class Se{constructor(L){this.base64=!1,this.contentType=null;const se=L.match(/^data:([^,]+)?,/);if(null===se)throw xn(Zn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const he=se[1]||null;null!=he&&(this.base64=function($,L){return $.length>=L.length&&$.substring($.length-L.length)===L}(he,";base64"),this.contentType=this.base64?he.substring(0,he.length-";base64".length):he),this.rest=L.substring(L.indexOf(",")+1)}}class un{constructor(L,se){let he=0,He="";Hr(L)?(this.data_=L,he=L.size,He=L.type):L instanceof ArrayBuffer?(se?this.data_=new Uint8Array(L):(this.data_=new Uint8Array(L.byteLength),this.data_.set(new Uint8Array(L))),he=this.data_.length):L instanceof Uint8Array&&(se?this.data_=L:(this.data_=new Uint8Array(L.length),this.data_.set(L)),he=L.length),this.size_=he,this.type_=He}size(){return this.size_}type(){return this.type_}slice(L,se){if(Hr(this.data_)){const He=function($,L,se){return $.webkitSlice?$.webkitSlice(L,se):$.mozSlice?$.mozSlice(L,se):$.slice?$.slice(L,se):null}(this.data_,L,se);return null===He?null:new un(He)}{const he=new Uint8Array(this.data_.buffer,L,se-L);return new un(he,!0)}}static getBlob(...L){if(Yn()){const se=L.map(he=>he instanceof un?he.data_:he);return new un(Yt.apply(null,se))}{const se=L.map(Ot=>Mn(Ot)?Nr(Zn.RAW,Ot).data:Ot.data_);let he=0;se.forEach(Ot=>{he+=Ot.byteLength});const He=new Uint8Array(he);let ht=0;return se.forEach(Ot=>{for(let gn=0;gn<Ot.length;gn++)He[ht++]=Ot[gn]}),new un(He,!0)}}uploadData(){return this.data_}}function nr($){let L;try{L=JSON.parse($)}catch(se){return null}return function($){return"object"==typeof $&&!Array.isArray($)}(L)?L:null}function Zr($){const L=$.lastIndexOf("/",$.length-2);return-1===L?$:$.slice(L+1)}function jn($,L){return L}class sr{constructor(L,se,he,He){this.server=L,this.local=se||L,this.writable=!!he,this.xform=He||jn}}let Jn=null;function kr(){if(Jn)return Jn;const $=[];$.push(new sr("bucket")),$.push(new sr("generation")),$.push(new sr("metageneration")),$.push(new sr("name","fullPath",!0));const se=new sr("name");se.xform=function(ht,Ot){return function($){return!Mn($)||$.length<2?$:Zr($)}(Ot)},$.push(se);const He=new sr("size");return He.xform=function(ht,Ot){return void 0!==Ot?Number(Ot):Ot},$.push(He),$.push(new sr("timeCreated")),$.push(new sr("updated")),$.push(new sr("md5Hash",null,!0)),$.push(new sr("cacheControl",null,!0)),$.push(new sr("contentDisposition",null,!0)),$.push(new sr("contentEncoding",null,!0)),$.push(new sr("contentLanguage",null,!0)),$.push(new sr("contentType",null,!0)),$.push(new sr("metadata","customMetadata",!0)),Jn=$,Jn}function Ki($,L,se){const he=nr(L);return null===he?null:function($,L,se){const he={type:"file"},He=se.length;for(let ht=0;ht<He;ht++){const Ot=se[ht];he[Ot.local]=Ot.xform(he,L[Ot.server])}return function($,L){Object.defineProperty($,"ref",{get:function(){const ht=new Dn($.bucket,$.fullPath);return L._makeStorageReference(ht)}})}(he,$),he}($,he,se)}function In($,L){const se={},he=L.length;for(let He=0;He<he;He++){const ht=L[He];ht.writable&&(se[ht.server]=$[ht.local])}return JSON.stringify(se)}const xr="prefixes";class zr{constructor(L,se,he,He){this.url=L,this.method=se,this.handler=he,this.timeout=He,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ui($){if(!$)throw Lt()}function os($,L){return function(he,He){const ht=Ki($,He,L);return ui(null!==ht),ht}}function rr($){return function(se,he){let He;return He=401===se.getStatus()?se.getErrorText().includes("Firebase App Check token is invalid")?new tt("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new tt("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===se.getStatus()?function($){return new tt("quota-exceeded","Quota for bucket '"+$+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}($.bucket):403===se.getStatus()?function($){return new tt("unauthorized","User does not have permission to access '"+$+"'.")}($.path):he,He.serverResponse=he.serverResponse,He}}function Vr($){const L=rr($);return function(he,He){let ht=L(he,He);return 404===he.getStatus()&&(ht=function($){return new tt("object-not-found","Object '"+$+"' does not exist.")}($.path)),ht.serverResponse=He.serverResponse,ht}}function Zi($,L,se){const He=ur(L.fullServerUrl(),$.host,$._protocol),Ot=$.maxOperationRetryTime,gn=new zr(He,"GET",os($,se),Ot);return gn.errorHandler=Vr(L),gn}function er($,L,se,he,He){const ht={};ht.prefix=L.isRoot?"":L.path+"/",se&&se.length>0&&(ht.delimiter=se),he&&(ht.pageToken=he),He&&(ht.maxResults=He);const gn=ur(L.bucketOnlyServerUrl(),$.host,$._protocol),ct=$.maxOperationRetryTime,Xt=new zr(gn,"GET",function($,L){return function(he,He){const ht=function($,L,se){const he=nr(se);return null===he?null:function($,L,se){const he={prefixes:[],items:[],nextPageToken:se.nextPageToken};if(se[xr])for(const He of se[xr]){const ht=He.replace(/\/$/,""),Ot=$._makeStorageReference(new Dn(L,ht));he.prefixes.push(Ot)}if(se.items)for(const He of se.items){const ht=$._makeStorageReference(new Dn(L,He.name));he.items.push(ht)}return he}($,L,he)}($,L,He);return ui(null!==ht),ht}}($,L.bucket),ct);return Xt.urlParams=ht,Xt.errorHandler=rr(L),Xt}function le($,L,se){const he=Object.assign({},se);return he.fullPath=$.path,he.size=L.size(),he.contentType||(he.contentType=function($,L){return L&&L.type()||"application/octet-stream"}(0,L)),he}class gt{constructor(L,se,he,He){this.current=L,this.total=se,this.finalized=!!he,this.metadata=He||null}}function fn($,L){let se=null;try{se=$.getResponseHeader("X-Goog-Upload-Status")}catch(He){ui(!1)}return ui(!!se&&-1!==(L||["active"]).indexOf(se)),se}const di={STATE_CHANGED:"state_changed"},vr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ir($){switch($){case"running":case"pausing":case"canceling":return vr.RUNNING;case"paused":return vr.PAUSED;case"success":return vr.SUCCESS;case"canceled":return vr.CANCELED;case"error":default:return vr.ERROR}}class as{constructor(L,se,he){if("function"==typeof L||null!=se||null!=he)this.next=L,this.error=null!=se?se:void 0,this.complete=null!=he?he:void 0;else{const ht=L;this.next=ht.next,this.error=ht.error,this.complete=ht.complete}}}function Rr($){return(...L)=>{Promise.resolve().then(()=>$(...L))}}class ws extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qt.NO_ERROR,this.sendPromise_=new Promise(L=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qt.ABORT,L()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qt.NETWORK_ERROR,L()}),this.xhr_.addEventListener("load",()=>{L()})})}send(L,se,he,He){if(this.sent_)throw En("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(se,L,!0),void 0!==He)for(const ht in He)He.hasOwnProperty(ht)&&this.xhr_.setRequestHeader(ht,He[ht].toString());return void 0!==he?this.xhr_.send(he):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw En("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw En("cannot .getStatus() before sending");try{return this.xhr_.status}catch(L){return-1}}getResponse(){if(!this.sent_)throw En("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw En("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(L){return this.xhr_.getResponseHeader(L)}addUploadProgressListener(L){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",L)}removeUploadProgressListener(L){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",L)}}{initXhr(){this.xhr_.responseType="text"}}function yi(){return new ws}class ei{constructor(L,se,he=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=L,this._blob=se,this._metadata=he,this._mappings=kr(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=He=>{this._request=void 0,this._chunkMultiplier=1,He._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=He,this._transition("error"))},this._metadataErrorHandler=He=>{this._request=void 0,He._codeEquals("canceled")?this.completeTransitions_():(this._error=He,this._transition("error"))},this._promise=new Promise((He,ht)=>{this._resolve=He,this._reject=ht,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const L=this._transferred;return se=>this._updateProgress(L+se)}_shouldDoResumable(L){return L.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(L){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([se,he])=>{switch(this._state){case"running":L(se,he);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((L,se)=>{const he=function($,L,se,he,He){const ht=L.bucketOnlyServerUrl(),Ot=le(L,he,He),gn={name:Ot.fullPath},sn=ur(ht,$.host,$._protocol),Xt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${he.size()}`,"X-Goog-Upload-Header-Content-Type":Ot.contentType,"Content-Type":"application/json; charset=utf-8"},Lr=In(Ot,se),Ur=new zr(sn,"POST",function(Qr){let Gr;fn(Qr);try{Gr=Qr.getResponseHeader("X-Goog-Upload-URL")}catch(Hi){ui(!1)}return ui(Mn(Gr)),Gr},$.maxUploadRetryTime);return Ur.urlParams=gn,Ur.headers=Xt,Ur.body=Lr,Ur.errorHandler=rr(L),Ur}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),He=this._ref.storage._makeRequest(he,yi,L,se);this._request=He,He.getPromise().then(ht=>{this._request=void 0,this._uploadUrl=ht,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const L=this._uploadUrl;this._resolveToken((se,he)=>{const He=function($,L,se,he){const sn=new zr(se,"POST",function(ct){const Xt=fn(ct,["active","final"]);let Lr=null;try{Lr=ct.getResponseHeader("X-Goog-Upload-Size-Received")}catch(si){ui(!1)}Lr||ui(!1);const Hn=Number(Lr);return ui(!isNaN(Hn)),new gt(Hn,he.size(),"final"===Xt)},$.maxUploadRetryTime);return sn.headers={"X-Goog-Upload-Command":"query"},sn.errorHandler=rr(L),sn}(this._ref.storage,this._ref._location,L,this._blob),ht=this._ref.storage._makeRequest(He,yi,se,he);this._request=ht,ht.getPromise().then(Ot=>{Ot=Ot,this._request=void 0,this._updateProgress(Ot.current),this._needToFetchStatus=!1,Ot.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const L=262144*this._chunkMultiplier,se=new gt(this._transferred,this._blob.size()),he=this._uploadUrl;this._resolveToken((He,ht)=>{let Ot;try{Ot=function($,L,se,he,He,ht,Ot,gn){const sn=new gt(0,0);if(Ot?(sn.current=Ot.current,sn.total=Ot.total):(sn.current=0,sn.total=he.size()),he.size()!==sn.total)throw new tt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const ct=sn.total-sn.current;let Xt=ct;He>0&&(Xt=Math.min(Xt,He));const Lr=sn.current,Ur={"X-Goog-Upload-Command":Xt===ct?"upload, finalize":"upload","X-Goog-Upload-Offset":`${sn.current}`},Qr=he.slice(Lr,Lr+Xt);if(null===Qr)throw Bt();const Ii=new zr(se,"POST",function(Br,Os){const ti=fn(Br,["active","final"]),zi=sn.current+Xt,Wi=he.size();let po;return po="final"===ti?os(L,ht)(Br,Os):null,new gt(zi,Wi,"final"===ti,po)},L.maxUploadRetryTime);return Ii.headers=Ur,Ii.body=Qr.uploadData(),Ii.progressCallback=gn||null,Ii.errorHandler=rr($),Ii}(this._ref._location,this._ref.storage,he,this._blob,L,this._mappings,se,this._makeProgressCallback())}catch(sn){return this._error=sn,void this._transition("error")}const gn=this._ref.storage._makeRequest(Ot,yi,He,ht);this._request=gn,gn.getPromise().then(sn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(sn.current),sn.finalized?(this._metadata=sn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((L,se)=>{const he=Zi(this._ref.storage,this._ref._location,this._mappings),He=this._ref.storage._makeRequest(he,yi,L,se);this._request=He,He.getPromise().then(ht=>{this._request=void 0,this._metadata=ht,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((L,se)=>{const he=function($,L,se,he,He){const ht=L.bucketOnlyServerUrl(),Ot={"X-Goog-Upload-Protocol":"multipart"},sn=function(){let Ii="";for(let Br=0;Br<2;Br++)Ii+=Math.random().toString().slice(2);return Ii}();Ot["Content-Type"]="multipart/related; boundary="+sn;const ct=le(L,he,He),Xt=In(ct,se),si=un.getBlob("--"+sn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Xt+"\r\n--"+sn+"\r\nContent-Type: "+ct.contentType+"\r\n\r\n",he,"\r\n--"+sn+"--");if(null===si)throw Bt();const Ur={name:ct.fullPath},Qr=ur(ht,$.host,$._protocol),Hi=$.maxUploadRetryTime,Gi=new zr(Qr,"POST",os($,se),Hi);return Gi.urlParams=Ur,Gi.headers=Ot,Gi.body=si.uploadData(),Gi.errorHandler=rr(L),Gi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),He=this._ref.storage._makeRequest(he,yi,L,se);this._request=He,He.getPromise().then(ht=>{this._request=void 0,this._metadata=ht,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(L){const se=this._transferred;this._transferred=L,this._transferred!==se&&this._notifyObservers()}_transition(L){if(this._state!==L)switch(L){case"canceling":case"pausing":this._state=L,void 0!==this._request&&this._request.cancel();break;case"running":const se="paused"===this._state;this._state=L,se&&(this._notifyObservers(),this._start());break;case"paused":this._state=L,this._notifyObservers();break;case"canceled":this._error=Je(),this._state=L,this._notifyObservers();break;case"error":case"success":this._state=L,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const L=Ir(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:L,metadata:this._metadata,task:this,ref:this._ref}}on(L,se,he,He){const ht=new as(se||void 0,he||void 0,He||void 0);return this._addObserver(ht),()=>{this._removeObserver(ht)}}then(L,se){return this._promise.then(L,se)}catch(L){return this.then(null,L)}_addObserver(L){this._observers.push(L),this._notifyObserver(L)}_removeObserver(L){const se=this._observers.indexOf(L);-1!==se&&this._observers.splice(se,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(se=>{this._notifyObserver(se)})}_finishPromise(){if(void 0!==this._resolve){let L=!0;switch(Ir(this._state)){case vr.SUCCESS:Rr(this._resolve.bind(null,this.snapshot))();break;case vr.CANCELED:case vr.ERROR:Rr(this._reject.bind(null,this._error))();break;default:L=!1}L&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(L){switch(Ir(this._state)){case vr.RUNNING:case vr.PAUSED:L.next&&Rr(L.next.bind(L,this.snapshot))();break;case vr.SUCCESS:L.complete&&Rr(L.complete.bind(L))();break;case vr.CANCELED:case vr.ERROR:L.error&&Rr(L.error.bind(L,this._error))();break;default:L.error&&Rr(L.error.bind(L,this._error))()}}resume(){const L="paused"===this._state||"pausing"===this._state;return L&&this._transition("running"),L}pause(){const L="running"===this._state;return L&&this._transition("pausing"),L}cancel(){const L="running"===this._state||"pausing"===this._state;return L&&this._transition("canceling"),L}}class $n{constructor(L,se){this._service=L,this._location=se instanceof Dn?se:Dn.makeFromUrl(se,L.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(L,se){return new $n(L,se)}get root(){const L=new Dn(this._location.bucket,"");return this._newRef(this._service,L)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Zr(this._location.path)}get storage(){return this._service}get parent(){const L=function($){if(0===$.length)return null;const L=$.lastIndexOf("/");return-1===L?"":$.slice(0,L)}(this._location.path);if(null===L)return null;const se=new Dn(this._location.bucket,L);return new $n(this._service,se)}_throwIfRoot(L){if(""===this._location.path)throw Kn(L)}}function Pt($,L,se){return ln.apply(this,arguments)}function ln(){return(ln=(0,Ue.Z)(function*($,L,se){const He=yield or($,{pageToken:se});L.prefixes.push(...He.prefixes),L.items.push(...He.items),null!=He.nextPageToken&&(yield Pt($,L,He.nextPageToken))})).apply(this,arguments)}function or($,L){null!=L&&"number"==typeof L.maxResults&&ar("options.maxResults",1,1e3,L.maxResults);const se=L||{},he=er($.storage,$._location,"/",se.pageToken,se.maxResults);return $.storage.makeRequestWithTokens(he,yi)}function Ui($){$._throwIfRoot("getDownloadURL");const L=function($,L,se){const He=ur(L.fullServerUrl(),$.host,$._protocol),Ot=$.maxOperationRetryTime,gn=new zr(He,"GET",function($,L){return function(he,He){const ht=Ki($,He,L);return ui(null!==ht),function($,L,se,he){const He=nr(L);if(null===He||!Mn(He.downloadTokens))return null;const ht=He.downloadTokens;if(0===ht.length)return null;const Ot=encodeURIComponent;return ht.split(",").map(ct=>{const Lr=$.fullPath;return ur("/b/"+Ot($.bucket)+"/o/"+Ot(Lr),se,he)+yr({alt:"media",token:ct})})[0]}(ht,He,$.host,$._protocol)}}($,se),Ot);return gn.errorHandler=Vr(L),gn}($.storage,$._location,kr());return $.storage.makeRequestWithTokens(L,yi).then(se=>{if(null===se)throw new tt("no-download-url","The given file does not have any download URLs.");return se})}function vi($,L){const se=function($,L){const se=L.split("/").filter(he=>he.length>0).join("/");return 0===$.length?se:$+"/"+se}($._location.path,L),he=new Dn($._location.bucket,se);return new $n($.storage,he)}function Cs($,L){if($ instanceof Bi){const se=$;if(null==se._bucket)throw new tt("no-default-bucket","No default bucket found. Did you set the '"+We+"' property when initializing the app?");const he=new $n(se,se._bucket);return null!=L?Cs(he,L):he}return void 0!==L?vi($,L):$}function Gs($,L){if(L&&function($){return/^[A-Za-z]+:\/\//.test($)}(L)){if($ instanceof Bi)return function($,L){return new $n($,L)}($,L);throw Nn("To use ref(service, url), the first argument must be a Storage instance.")}return Cs($,L)}function Yr($,L){const se=null==L?void 0:L[We];return null==se?null:Dn.makeFromBucketSpec(se,$)}class Bi{constructor(L,se,he,He,ht){this.app=L,this._authProvider=se,this._appCheckProvider=he,this._url=He,this._firebaseVersion=ht,this._bucket=null,this._host=Me,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=He?Dn.makeFromBucketSpec(He,this._host):Yr(this._host,this.app.options)}get host(){return this._host}set host(L){this._host=L,this._bucket=null!=this._url?Dn.makeFromBucketSpec(this._url,L):Yr(L,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(L){ar("time",0,Number.POSITIVE_INFINITY,L),this._maxUploadRetryTime=L}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(L){ar("time",0,Number.POSITIVE_INFINITY,L),this._maxOperationRetryTime=L}_getAuthToken(){var L=this;return(0,Ue.Z)(function*(){if(L._overrideAuthToken)return L._overrideAuthToken;const se=L._authProvider.getImmediate({optional:!0});if(se){const he=yield se.getToken();if(null!==he)return he.accessToken}return null})()}_getAppCheckToken(){var L=this;return(0,Ue.Z)(function*(){const se=L._appCheckProvider.getImmediate({optional:!0});return se?(yield se.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(L=>L.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(L){return new $n(this,L)}_makeRequest(L,se,he,He){if(this._deleted)return new St(vn());{const ht=function($,L,se,he,He,ht){const Ot=yr($.urlParams),gn=$.url+Ot,sn=Object.assign({},$.headers);return function($,L){L&&($["X-Firebase-GMPID"]=L)}(sn,L),function($,L){null!==L&&L.length>0&&($.Authorization="Firebase "+L)}(sn,se),function($,L){$["X-Firebase-Storage-Version"]="webjs/"+(null!=L?L:"AppManager")}(sn,ht),function($,L){null!==L&&($["X-Firebase-AppCheck"]=L)}(sn,he),new Kt(gn,$.method,sn,$.body,$.successCodes,$.additionalRetryCodes,$.handler,$.errorHandler,$.timeout,$.progressCallback,He)}(L,this._appId,he,He,se,this._firebaseVersion);return this._requests.add(ht),ht.getPromise().then(()=>this._requests.delete(ht),()=>this._requests.delete(ht)),ht}}makeRequestWithTokens(L,se){var he=this;return(0,Ue.Z)(function*(){const[He,ht]=yield Promise.all([he._getAuthToken(),he._getAppCheckToken()]);return he._makeRequest(L,se,He,ht).getPromise()})()}}const ms="@firebase/storage";function ji($,L){return Gs($=(0,Ne.m9)($),L)}(0,ft._registerComponent)(new Ke.wA("storage",function($,{instanceIdentifier:L}){const se=$.getProvider("app").getImmediate(),he=$.getProvider("auth-internal"),He=$.getProvider("app-check-internal");return new Bi(se,he,He,L,ft.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,ft.registerVersion)(ms,"0.9.0",""),(0,ft.registerVersion)(ms,"0.9.0","esm2017");class U{constructor(L,se,he){this._delegate=L,this.task=se,this.ref=he}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class te{constructor(L,se){this._delegate=L,this._ref=se,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new U(this._delegate.snapshot,this,this._ref)}then(L,se){return this._delegate.then(he=>{if(L)return L(new U(he,this,this._ref))},se)}on(L,se,he,He){let ht;return se&&(ht="function"==typeof se?Ot=>se(new U(Ot,this,this._ref)):{next:se.next?Ot=>se.next(new U(Ot,this,this._ref)):void 0,complete:se.complete||void 0,error:se.error||void 0}),this._delegate.on(L,ht,he||void 0,He||void 0)}}class De{constructor(L,se){this._delegate=L,this._service=se}get prefixes(){return this._delegate.prefixes.map(L=>new pt(L,this._service))}get items(){return this._delegate.items.map(L=>new pt(L,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class pt{constructor(L,se){this._delegate=L,this.storage=se}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(L){const se=function($,L){return vi($,L)}(this._delegate,L);return new pt(se,this.storage)}get root(){return new pt(this._delegate.root,this.storage)}get parent(){const L=this._delegate.parent;return null==L?null:new pt(L,this.storage)}put(L,se){return this._throwIfRoot("put"),new te(function($,L,se){return function($,L,se){return $._throwIfRoot("uploadBytesResumable"),new ei($,new un(L),se)}($=(0,Ne.m9)($),L,se)}(this._delegate,L,se),this)}putString(L,se=Zn.RAW,he){this._throwIfRoot("putString");const He=Nr(se,L),ht=Object.assign({},he);return null==ht.contentType&&null!=He.contentType&&(ht.contentType=He.contentType),new te(new ei(this._delegate,new un(He.data,!0),ht),this)}listAll(){return($=this._delegate,function($){const L={prefixes:[],items:[]};return Pt($,L).then(()=>L)}($=(0,Ne.m9)($))).then(L=>new De(L,this.storage));var $}list(L){return function($,L){return or($=(0,Ne.m9)($),L)}(this._delegate,L||void 0).then(se=>new De(se,this.storage))}getMetadata(){return function($){$._throwIfRoot("getMetadata");const L=Zi($.storage,$._location,kr());return $.storage.makeRequestWithTokens(L,yi)}((0,Ne.m9)(this._delegate))}updateMetadata(L){return function($,L){return function($,L){$._throwIfRoot("updateMetadata");const se=function($,L,se,he){const ht=ur(L.fullServerUrl(),$.host,$._protocol),gn=In(se,he),ct=$.maxOperationRetryTime,Xt=new zr(ht,"PATCH",os($,he),ct);return Xt.headers={"Content-Type":"application/json; charset=utf-8"},Xt.body=gn,Xt.errorHandler=Vr(L),Xt}($.storage,$._location,L,kr());return $.storage.makeRequestWithTokens(se,yi)}($=(0,Ne.m9)($),L)}(this._delegate,L)}getDownloadURL(){return Ui((0,Ne.m9)(this._delegate))}delete(){return this._throwIfRoot("delete"),function($){$._throwIfRoot("deleteObject");const L=function($,L){const he=ur(L.fullServerUrl(),$.host,$._protocol),gn=new zr(he,"DELETE",function(sn,ct){},$.maxOperationRetryTime);return gn.successCodes=[200,204],gn.errorHandler=Vr(L),gn}($.storage,$._location);return $.storage.makeRequestWithTokens(L,yi)}((0,Ne.m9)(this._delegate))}_throwIfRoot(L){if(""===this._delegate._location.path)throw Kn(L)}}class Dt{constructor(L,se){this.app=L,this._delegate=se}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(L){if(k(L))throw Nn("ref() expected a child path but got a URL, use refFromURL instead.");return new pt(ji(this._delegate,L),this)}refFromURL(L){if(!k(L))throw Nn("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Dn.makeFromUrl(L,this._delegate.host)}catch(se){throw Nn("refFromUrl() expected a valid full URL but got an invalid one.")}return new pt(ji(this._delegate,L),this)}setMaxUploadRetryTime(L){this._delegate.maxUploadRetryTime=L}setMaxOperationRetryTime(L){this._delegate.maxOperationRetryTime=L}useEmulator(L,se,he={}){!function($,L,se,he={}){!function($,L,se,he={}){$.host=`${L}:${se}`,$._protocol="http";const{mockUserToken:He}=he;He&&($._overrideAuthToken="string"==typeof He?He:(0,Ne.Sg)(He,$.app.options.projectId))}($,L,se,he)}(this._delegate,L,se,he)}}function k($){return/^[A-Za-z]+:\/\//.test($)}function st($,{instanceIdentifier:L}){const se=$.getProvider("app-compat").getImmediate(),he=$.getProvider("storage").getImmediate({identifier:L});return new Dt(se,he)}!function($){const L={TaskState:vr,TaskEvent:di,StringFormat:Zn,Storage:Dt,Reference:pt};$.INTERNAL.registerComponent(new Ke.wA("storage-compat",st,"PUBLIC").setServiceProps(L).setMultipleInstances(!0)),$.registerVersion("@firebase/storage-compat","0.1.8")}(Fe.Z);var Rn=N(4953),Mr=N(7841);function Or($){const L=function($){return new _.y(L=>{const se=Ot=>L.next(Ot);se($.snapshot);const ht=$.on("state_changed",se);return $.then(Ot=>{se(Ot),L.complete()},Ot=>{se($.snapshot),(Ot=>{L.error(Ot)})(Ot)}),function(){ht()}}).pipe(function($,L=Ae.z){return(0,Ee.e)((se,he)=>{let He=null,ht=null,Ot=null;const gn=()=>{if(He){He.unsubscribe(),He=null;const ct=ht;ht=null,he.next(ct)}};function sn(){const ct=Ot+$,Xt=L.now();if(Xt<ct)return He=this.schedule(void 0,ct-Xt),void he.add(He);gn()}se.subscribe(new Pe.Q(he,ct=>{ht=ct,Ot=L.now(),He||(He=L.schedule(sn,$),he.add(He))},()=>{gn(),he.complete()},void 0,()=>{ht=He=null}))})}(0))}($);return{task:$,then:$.then.bind($),catch:$.catch.bind($),pause:$.pause.bind($),cancel:$.cancel.bind($),resume:$.resume.bind($),snapshotChanges:()=>L,percentageChanges:()=>L.pipe((0,Qe.U)(se=>se.bytesTransferred/se.totalBytes*100))}}function Fr($){return{getDownloadURL:()=>(0,I.of)(void 0).pipe(X.fc,(0,we.w)(()=>$.getDownloadURL()),X.iC),getMetadata:()=>(0,I.of)(void 0).pipe(X.fc,(0,we.w)(()=>$.getMetadata()),X.iC),delete:()=>(0,K.D)($.delete()),child:L=>Fr($.child(L)),updateMetadata:L=>(0,K.D)($.updateMetadata(L)),put:(L,se)=>Or($.put(L,se)),putString:(L,se,he)=>Or($.putString(L,se,he)),list:L=>(0,K.D)($.list(L)),listAll:()=>(0,K.D)($.listAll())}}const Fi=new J.OlP("angularfire2.storageBucket"),us=new J.OlP("angularfire2.storage.maxUploadRetryTime"),Pr=new J.OlP("angularfire2.storage.maxOperationRetryTime"),bo=new J.OlP("angularfire2.storage.use-emulator");let Xi=(()=>{class ${constructor(se,he,He,ht,Ot,gn,sn,ct,Xt,Lr){const Hn=(0,fe.on)(se,Ot,he);this.storage=(0,fe.cc)(`${Hn.name}.storage.${He}`,"AngularFireStorage",Hn.name,()=>{const si=Ot.runOutsideAngular(()=>Hn.storage(He||void 0)),Ur=Xt;return Ur&&si.useEmulator(...Ur),sn&&si.setMaxUploadRetryTime(sn),ct&&si.setMaxOperationRetryTime(ct),si},[sn,ct])}ref(se){return Fr(this.storage.ref(se))}refFromURL(se){return Fr(this.storage.refFromURL(se))}upload(se,he,He){return Fr(this.storage.ref(se)).put(he,He)}}return $.\u0275fac=function(se){return new(se||$)(J.LFG(fe.Dh),J.LFG(fe.xv,8),J.LFG(Fi,8),J.LFG(J.Lbi),J.LFG(J.R0b),J.LFG(X.HU),J.LFG(us,8),J.LFG(Pr,8),J.LFG(bo,8),J.LFG(Rn.nm,8))},$.\u0275prov=J.Yz7({token:$,factory:$.\u0275fac,providedIn:"any"}),$})(),$i=(()=>{class ${}return $.\u0275fac=function(se){return new(se||$)},$.\u0275mod=J.oAB({type:$}),$.\u0275inj=J.cJS({}),$})(),Ws=(()=>{class ${constructor(){Mr.Z.registerVersion("angularfire",X.q4.full,"gcs-compat")}}return $.\u0275fac=function(se){return new(se||$)},$.\u0275mod=J.oAB({type:$}),$.\u0275inj=J.cJS({providers:[Xi],imports:[$i]}),$})()},8939:($t,ze,N)=>{"use strict";N.d(ze,{hO:()=>Fe,xv:()=>we,Dh:()=>Qe,GT:()=>Pe,cc:()=>Ue,on:()=>X,pX:()=>Ee});var _=N(639),I=N(7841),K=N(8704);$t=N.hmd($t);const Ae=["ngOnDestroy"],Ee=(Me,We,je,Re={})=>new Proxy(Me,{get:(tt,rt)=>je.runOutsideAngular(()=>{var Lt;if(Me[rt])return(null===(Lt=null==Re?void 0:Re.spy)||void 0===Lt?void 0:Lt.get)&&Re.spy.get(rt,Me[rt]),Me[rt];if(Ae.indexOf(rt)>-1)return()=>{};const jt=We.toPromise().then(ne=>{const oe=ne&&ne[rt];return"function"==typeof oe?oe.bind(ne):oe&&oe.then?oe.then(_e=>je.run(()=>_e)):je.run(()=>oe)});return new Proxy(()=>{},{get:(ne,oe)=>jt[oe],apply:(ne,oe,_e)=>jt.then(me=>{var de;const Je=me&&me(..._e);return(null===(de=null==Re?void 0:Re.spy)||void 0===de?void 0:de.apply)&&Re.spy.apply(rt,_e,Je),Je})})})}),Pe=(Me,We)=>{We.forEach(je=>{Object.getOwnPropertyNames(je.prototype||je).forEach(Re=>{Object.defineProperty(Me.prototype,Re,Object.getOwnPropertyDescriptor(je.prototype||je,Re))})})};class Ge{constructor(We){return We}}const Qe=new _.OlP("angularfire2.app.options"),we=new _.OlP("angularfire2.app.name");function X(Me,We,je){const tt="object"==typeof je&&je||{};tt.name=tt.name||"string"==typeof je&&je||"[DEFAULT]";const Lt=I.Z.apps.filter(jt=>jt&&jt.name===tt.name)[0]||We.runOutsideAngular(()=>I.Z.initializeApp(Me,tt));try{JSON.stringify(Me)!==JSON.stringify(Lt.options)&&J("error",`${Lt.name} Firebase App already initialized with different options${$t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(jt){}return new Ge(Lt)}const J=(Me,...We)=>{(0,_.X6Q)()&&"undefined"!=typeof console&&console[Me](...We)},fe={provide:Ge,useFactory:X,deps:[Qe,_.R0b,[new _.FiY,we]]};let Fe=(()=>{class Me{constructor(je){I.Z.registerVersion("angularfire",K.q4.full,"core"),I.Z.registerVersion("angularfire",K.q4.full,"app-compat"),I.Z.registerVersion("angular",_.q4F.full,je.toString())}static initializeApp(je,Re){return{ngModule:Me,providers:[{provide:Qe,useValue:je},{provide:we,useValue:Re}]}}}return Me.\u0275fac=function(je){return new(je||Me)(_.LFG(_.Lbi))},Me.\u0275mod=_.oAB({type:Me}),Me.\u0275inj=_.cJS({providers:[fe]}),Me})();function Ue(Me,We,je,Re,tt){const[,rt,Lt]=globalThis.\u0275AngularfireInstanceCache.find(jt=>jt[0]===Me)||[];if(rt)return function(Me,We){try{return Me.toString()===We.toString()}catch(je){return Me===We}}(tt,Lt)||(Ke("error",`${We} was already initialized on the ${je} Firebase App with different settings.${Ne?" You may need to reload as Firebase is not HMR aware.":""}`),Ke("warn",{is:tt,was:Lt})),rt;{const jt=Re();return globalThis.\u0275AngularfireInstanceCache.push([Me,jt,tt]),jt}}const Ne=!!$t.hot,Ke=(Me,...We)=>{(0,_.X6Q)()&&"undefined"!=typeof console&&console[Me](...We)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8704:($t,ze,N)=>{"use strict";N.d(ze,{q4:()=>No,iC:()=>Ba,fc:()=>yo,HU:()=>Qs,vb:()=>ua,JM:()=>Ua});var _=N(639),I=N(2329),K=N(8239),Ae=N(8026),Ee=N(3854),Pe=N(3910),Ge=N(5422),Qe=N(6676);const we="@firebase/installations",X="0.5.4",fe=`w:${X}`,Fe="FIS_v2",We=new Ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function je(M){return M instanceof Ee.ZR&&M.code.includes("request-failed")}function Re({projectId:M}){return`https://firebaseinstallations.googleapis.com/v1/projects/${M}/installations`}function tt(M){return{token:M.token,requestStatus:2,expiresIn:me(M.expiresIn),creationTime:Date.now()}}function rt(M,B){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,K.Z)(function*(M,B){const pe=(yield B.json()).error;return We.create("request-failed",{requestName:M,serverCode:pe.code,serverMessage:pe.message,serverStatus:pe.status})})).apply(this,arguments)}function jt({apiKey:M}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M})}function ne(M,{refreshToken:B}){const Q=jt(M);return Q.append("Authorization",function(M){return`${Fe} ${M}`}(B)),Q}function oe(M){return _e.apply(this,arguments)}function _e(){return(_e=(0,K.Z)(function*(M){const B=yield M();return B.status>=500&&B.status<600?M():B})).apply(this,arguments)}function me(M){return Number(M.replace("s","000"))}function Je(M,B){return ye.apply(this,arguments)}function ye(){return(ye=(0,K.Z)(function*(M,{fid:B}){const Q=Re(M),_t={method:"POST",headers:jt(M),body:JSON.stringify({fid:B,authVersion:Fe,appId:M.appId,sdkVersion:fe})},Ft=yield oe(()=>fetch(Q,_t));if(Ft.ok){const _n=yield Ft.json();return{fid:_n.fid||B,registrationStatus:2,refreshToken:_n.refreshToken,authToken:tt(_n.authToken)}}throw yield rt("Create Installation",Ft)})).apply(this,arguments)}function it(M){return new Promise(B=>{setTimeout(B,M)})}const Bt=/^[cdef][\w-]{21}$/;function an(){try{const M=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(M),M[0]=112+M[0]%16;const Q=function(M){return function(M){return btoa(String.fromCharCode(...M)).replace(/\+/g,"-").replace(/\//g,"_")}(M).substr(0,22)}(M);return Bt.test(Q)?Q:""}catch(M){return""}}function vn(M){return`${M.appName}!${M.appId}`}const Kn=new Map;function xn(M,B){const Q=vn(M);St(Q,B),function(M,B){const Q=(!rn&&"BroadcastChannel"in self&&(rn=new BroadcastChannel("[Firebase] FID Change"),rn.onmessage=M=>{St(M.data.key,M.data.fid)}),rn);Q&&Q.postMessage({key:M,fid:B}),0===Kn.size&&rn&&(rn.close(),rn=null)}(Q,B)}function St(M,B){const Q=Kn.get(M);if(Q)for(const pe of Q)pe(B)}let rn=null;const Hr="firebase-installations-store";let Yn=null;function ar(){return Yn||(Yn=(0,Qe.openDb)("firebase-installations-database",1,M=>{switch(M.oldVersion){case 0:M.createObjectStore(Hr)}})),Yn}function ur(M,B){return yr.apply(this,arguments)}function yr(){return(yr=(0,K.Z)(function*(M,B){const Q=vn(M),et=(yield ar()).transaction(Hr,"readwrite"),_t=et.objectStore(Hr),Ft=yield _t.get(Q);return yield _t.put(B,Q),yield et.complete,(!Ft||Ft.fid!==B.fid)&&xn(M,B.fid),B})).apply(this,arguments)}function qt(M){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,K.Z)(function*(M){const B=vn(M),pe=(yield ar()).transaction(Hr,"readwrite");yield pe.objectStore(Hr).delete(B),yield pe.complete})).apply(this,arguments)}function at(M,B){return dt.apply(this,arguments)}function dt(){return(dt=(0,K.Z)(function*(M,B){const Q=vn(M),et=(yield ar()).transaction(Hr,"readwrite"),_t=et.objectStore(Hr),Ft=yield _t.get(Q),_n=B(Ft);return void 0===_n?yield _t.delete(Q):yield _t.put(_n,Q),yield et.complete,_n&&(!Ft||Ft.fid!==_n.fid)&&xn(M,_n.fid),_n})).apply(this,arguments)}function dn(M){return mn.apply(this,arguments)}function mn(){return(mn=(0,K.Z)(function*(M){let B;const Q=yield at(M,pe=>{const et=Mt(pe),_t=bn(M,et);return B=_t.registrationPromise,_t.installationEntry});return""===Q.fid?{installationEntry:yield B}:{installationEntry:Q,registrationPromise:B}})).apply(this,arguments)}function Mt(M){return dr(M||{fid:an(),registrationStatus:0})}function bn(M,B){if(0===B.registrationStatus){if(!navigator.onLine)return{installationEntry:B,registrationPromise:Promise.reject(We.create("app-offline"))};const Q={fid:B.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:Q,registrationPromise:function(M,B){return Yt.apply(this,arguments)}(M,Q)}}return 1===B.registrationStatus?{installationEntry:B,registrationPromise:Ar(M)}:{installationEntry:B}}function Yt(){return(Yt=(0,K.Z)(function*(M,B){try{return ur(M,yield Je(M,B))}catch(Q){throw je(Q)&&409===Q.customData.serverCode?yield qt(M):yield ur(M,{fid:B.fid,registrationStatus:0}),Q}})).apply(this,arguments)}function Ar(M){return lr.apply(this,arguments)}function lr(){return(lr=(0,K.Z)(function*(M){let B=yield Zn(M);for(;1===B.registrationStatus;)yield it(100),B=yield Zn(M);if(0===B.registrationStatus){const{installationEntry:Q,registrationPromise:pe}=yield dn(M);return pe||Q}return B})).apply(this,arguments)}function Zn(M){return at(M,B=>{if(!B)throw We.create("installation-not-found");return dr(B)})}function dr(M){return function(M){return 1===M.registrationStatus&&M.registrationTime+1e4<Date.now()}(M)?{fid:M.fid,registrationStatus:0}:M}function _r(M,B){return ve.apply(this,arguments)}function ve(){return(ve=(0,K.Z)(function*({appConfig:M,platformLoggerProvider:B},Q){const pe=Te(M,Q),et=ne(M,Q),_t=B.getImmediate({optional:!0});_t&&et.append("x-firebase-client",_t.getPlatformInfoString());const _n={method:"POST",headers:et,body:JSON.stringify({installation:{sdkVersion:fe}})},tn=yield oe(()=>fetch(pe,_n));if(tn.ok)return tt(yield tn.json());throw yield rt("Generate Auth Token",tn)})).apply(this,arguments)}function Te(M,{fid:B}){return`${Re(M)}/${B}/authTokens:generate`}function Se(M){return mt.apply(this,arguments)}function mt(){return(mt=(0,K.Z)(function*(M,B=!1){let Q;const pe=yield at(M.appConfig,_t=>{if(!yn(_t))throw We.create("not-registered");const Ft=_t.authToken;if(!B&&Zr(Ft))return _t;if(1===Ft.requestStatus)return Q=Ye(M,B),_t;{if(!navigator.onLine)throw We.create("app-offline");const _n=sr(_t);return Q=nr(M,_n),_n}});return Q?yield Q:pe.authToken})).apply(this,arguments)}function Ye(M,B){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,K.Z)(function*(M,B){let Q=yield un(M.appConfig);for(;1===Q.authToken.requestStatus;)yield it(100),Q=yield un(M.appConfig);const pe=Q.authToken;return 0===pe.requestStatus?Se(M,B):pe})).apply(this,arguments)}function un(M){return at(M,B=>{if(!yn(B))throw We.create("not-registered");return function(M){return 1===M.requestStatus&&M.requestTime+1e4<Date.now()}(B.authToken)?Object.assign(Object.assign({},B),{authToken:{requestStatus:0}}):B})}function nr(M,B){return cr.apply(this,arguments)}function cr(){return(cr=(0,K.Z)(function*(M,B){try{const Q=yield _r(M,B),pe=Object.assign(Object.assign({},B),{authToken:Q});return yield ur(M.appConfig,pe),Q}catch(Q){if(!je(Q)||401!==Q.customData.serverCode&&404!==Q.customData.serverCode){const pe=Object.assign(Object.assign({},B),{authToken:{requestStatus:0}});yield ur(M.appConfig,pe)}else yield qt(M.appConfig);throw Q}})).apply(this,arguments)}function yn(M){return void 0!==M&&2===M.registrationStatus}function Zr(M){return 2===M.requestStatus&&!function(M){const B=Date.now();return B<M.creationTime||M.creationTime+M.expiresIn<B+36e5}(M)}function sr(M){const B={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},M),{authToken:B})}function kr(){return(kr=(0,K.Z)(function*(M){const B=M,{installationEntry:Q,registrationPromise:pe}=yield dn(B.appConfig);return pe?pe.catch(console.error):Se(B).catch(console.error),Q.fid})).apply(this,arguments)}function qi(){return(qi=(0,K.Z)(function*(M,B=!1){const Q=M;return yield Ki(Q.appConfig),(yield Se(Q,B)).token})).apply(this,arguments)}function Ki(M){return Si.apply(this,arguments)}function Si(){return(Si=(0,K.Z)(function*(M){const{registrationPromise:B}=yield dn(M);B&&(yield B)})).apply(this,arguments)}function Xn(M){return We.create("missing-app-config-values",{valueName:M})}const ri="installations";(0,Ae._registerComponent)(new Pe.wA(ri,M=>{const B=M.getProvider("app").getImmediate();return{app:B,appConfig:function(M){if(!M||!M.options)throw Xn("App Configuration");if(!M.name)throw Xn("App Name");const B=["projectId","apiKey","appId"];for(const Q of B)if(!M.options[Q])throw Xn(Q);return{appName:M.name,projectId:M.options.projectId,apiKey:M.options.apiKey,appId:M.options.appId}}(B),platformLoggerProvider:(0,Ae._getProvider)(B,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,Ae._registerComponent)(new Pe.wA("installations-internal",M=>{const B=M.getProvider("app").getImmediate(),Q=(0,Ae._getProvider)(B,ri).getImmediate();return{getId:()=>function(M){return kr.apply(this,arguments)}(Q),getToken:et=>function(M){return qi.apply(this,arguments)}(Q,et)}},"PRIVATE")),(0,Ae.registerVersion)(we,X),(0,Ae.registerVersion)(we,X,"esm2017");const Gt="@firebase/remote-config",le=new Ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ni{constructor(B,Q,pe,et){this.client=B,this.storage=Q,this.storageCache=pe,this.logger=et}isCachedDataFresh(B,Q){if(!Q)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const pe=Date.now()-Q,et=pe<=B;return this.logger.debug(`Config fetch cache check. Cache age millis: ${pe}. Cache max age millis (minimumFetchIntervalMillis setting): ${B}. Is cache hit: ${et}.`),et}fetch(B){var Q=this;return(0,K.Z)(function*(){const[pe,et]=yield Promise.all([Q.storage.getLastSuccessfulFetchTimestampMillis(),Q.storage.getLastSuccessfulFetchResponse()]);if(et&&Q.isCachedDataFresh(B.cacheMaxAgeMillis,pe))return et;B.eTag=et&&et.eTag;const _t=yield Q.client.fetch(B),Ft=[Q.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===_t.status&&Ft.push(Q.storage.setLastSuccessfulFetchResponse(_t)),yield Promise.all(Ft),_t})()}}function ei(M=navigator){return M.languages&&M.languages[0]||M.language}class $n{constructor(B,Q,pe,et,_t,Ft){this.firebaseInstallations=B,this.sdkVersion=Q,this.namespace=pe,this.projectId=et,this.apiKey=_t,this.appId=Ft}fetch(B){var Q=this;return(0,K.Z)(function*(){const[pe,et]=yield Promise.all([Q.firebaseInstallations.getId(),Q.firebaseInstallations.getToken()]),Ft=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Q.projectId}/namespaces/${Q.namespace}:fetch?key=${Q.apiKey}`,_n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":B.eTag||"*"},tn={sdk_version:Q.sdkVersion,app_instance_id:pe,app_instance_id_token:et,app_id:Q.appId,language_code:ei()},qn={method:"POST",headers:_n,body:JSON.stringify(tn)},jr=fetch(Ft,qn),_s=new Promise((Bs,Xs)=>{B.signal.addEventListener(()=>{const zu=new Error("The operation was aborted.");zu.name="AbortError",Xs(zu)})});let ko;try{yield Promise.race([jr,_s]),ko=yield jr}catch(Bs){let Xs="fetch-client-network";throw"AbortError"===Bs.name&&(Xs="fetch-timeout"),le.create(Xs,{originalErrorMessage:Bs.message})}let Ds=ko.status;const ja=ko.headers.get("ETag")||void 0;let Jo,$a;if(200===ko.status){let Bs;try{Bs=yield ko.json()}catch(Xs){throw le.create("fetch-client-parse",{originalErrorMessage:Xs.message})}Jo=Bs.entries,$a=Bs.state}if("INSTANCE_STATE_UNSPECIFIED"===$a?Ds=500:"NO_CHANGE"===$a?Ds=304:("NO_TEMPLATE"===$a||"EMPTY_CONFIG"===$a)&&(Jo={}),304!==Ds&&200!==Ds)throw le.create("fetch-status",{httpStatus:Ds});return{status:Ds,eTag:ja,config:Jo}})()}}class ke{constructor(B,Q){this.client=B,this.storage=Q}fetch(B){var Q=this;return(0,K.Z)(function*(){const pe=(yield Q.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Q.attemptFetch(B,pe)})()}attemptFetch(B,{throttleEndTimeMillis:Q,backoffCount:pe}){var et=this;return(0,K.Z)(function*(){yield function(M,B){return new Promise((Q,pe)=>{const et=Math.max(B-Date.now(),0),_t=setTimeout(Q,et);M.addEventListener(()=>{clearTimeout(_t),pe(le.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}(B.signal,Q);try{const _t=yield et.client.fetch(B);return yield et.storage.deleteThrottleMetadata(),_t}catch(_t){if(!function(M){if(!(M instanceof Ee.ZR&&M.customData))return!1;const B=Number(M.customData.httpStatus);return 429===B||500===B||503===B||504===B}(_t))throw _t;const Ft={throttleEndTimeMillis:Date.now()+(0,Ee.$s)(pe),backoffCount:pe+1};return yield et.storage.setThrottleMetadata(Ft),et.attemptFetch(B,Ft)}})()}}class It{constructor(B,Q,pe,et,_t){this.app=B,this._client=Q,this._storageCache=pe,this._storage=et,this._logger=_t,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Pt(M,B){const Q=M.target.error||void 0;return le.create(B,{originalErrorMessage:Q&&Q.message})}const ln="app_namespace_store";class Ui{constructor(B,Q,pe,et=function(){return new Promise((M,B)=>{try{const Q=indexedDB.open("firebase_remote_config",1);Q.onerror=pe=>{B(Pt(pe,"storage-open"))},Q.onsuccess=pe=>{M(pe.target.result)},Q.onupgradeneeded=pe=>{const et=pe.target.result;switch(pe.oldVersion){case 0:et.createObjectStore(ln,{keyPath:"compositeKey"})}}}catch(Q){B(le.create("storage-open",{originalErrorMessage:Q}))}})}()){this.appId=B,this.appName=Q,this.namespace=pe,this.openDbPromise=et}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(B){return this.set("last_fetch_status",B)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(B){return this.set("last_successful_fetch_timestamp_millis",B)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(B){return this.set("last_successful_fetch_response",B)}getActiveConfig(){return this.get("active_config")}setActiveConfig(B){return this.set("active_config",B)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(B){return this.set("active_config_etag",B)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(B){return this.set("throttle_metadata",B)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(B){var Q=this;return(0,K.Z)(function*(){const pe=yield Q.openDbPromise;return new Promise((et,_t)=>{const _n=pe.transaction([ln],"readonly").objectStore(ln),tn=Q.createCompositeKey(B);try{const qn=_n.get(tn);qn.onerror=jr=>{_t(Pt(jr,"storage-get"))},qn.onsuccess=jr=>{const _s=jr.target.result;et(_s?_s.value:void 0)}}catch(qn){_t(le.create("storage-get",{originalErrorMessage:qn&&qn.message}))}})})()}set(B,Q){var pe=this;return(0,K.Z)(function*(){const et=yield pe.openDbPromise;return new Promise((_t,Ft)=>{const tn=et.transaction([ln],"readwrite").objectStore(ln),qn=pe.createCompositeKey(B);try{const jr=tn.put({compositeKey:qn,value:Q});jr.onerror=_s=>{Ft(Pt(_s,"storage-set"))},jr.onsuccess=()=>{_t()}}catch(jr){Ft(le.create("storage-set",{originalErrorMessage:jr&&jr.message}))}})})()}delete(B){var Q=this;return(0,K.Z)(function*(){const pe=yield Q.openDbPromise;return new Promise((et,_t)=>{const _n=pe.transaction([ln],"readwrite").objectStore(ln),tn=Q.createCompositeKey(B);try{const qn=_n.delete(tn);qn.onerror=jr=>{_t(Pt(jr,"storage-delete"))},qn.onsuccess=()=>{et()}}catch(qn){_t(le.create("storage-delete",{originalErrorMessage:qn&&qn.message}))}})})()}createCompositeKey(B){return[this.appId,this.appName,this.namespace,B].join()}}class fi{constructor(B){this.storage=B}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var B=this;return(0,K.Z)(function*(){const Q=B.storage.getLastFetchStatus(),pe=B.storage.getLastSuccessfulFetchTimestampMillis(),et=B.storage.getActiveConfig(),_t=yield Q;_t&&(B.lastFetchStatus=_t);const Ft=yield pe;Ft&&(B.lastSuccessfulFetchTimestampMillis=Ft);const _n=yield et;_n&&(B.activeConfig=_n)})()}setLastFetchStatus(B){return this.lastFetchStatus=B,this.storage.setLastFetchStatus(B)}setLastSuccessfulFetchTimestampMillis(B){return this.lastSuccessfulFetchTimestampMillis=B,this.storage.setLastSuccessfulFetchTimestampMillis(B)}setActiveConfig(B){return this.activeConfig=B,this.storage.setActiveConfig(B)}}function Cs(){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,K.Z)(function*(){if(!(0,Ee.hl)())return!1;try{return yield(0,Ee.eu)()}catch(M){return!1}})).apply(this,arguments)}(0,Ae._registerComponent)(new Pe.wA("remote-config",function(B,{instanceIdentifier:Q}){const pe=B.getProvider("app").getImmediate(),et=B.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw le.create("registration-window");if(!(0,Ee.hl)())throw le.create("indexed-db-unavailable");const{projectId:_t,apiKey:Ft,appId:_n}=pe.options;if(!_t)throw le.create("registration-project-id");if(!Ft)throw le.create("registration-api-key");if(!_n)throw le.create("registration-app-id");const tn=new Ui(_n,pe.name,Q=Q||"firebase"),qn=new fi(tn),jr=new Ge.Yd(Gt);jr.logLevel=Ge.in.ERROR;const _s=new $n(et,Ae.SDK_VERSION,Q,_t,Ft,_n),ko=new ke(_s,tn),Ds=new Ni(ko,tn,qn,jr),ja=new It(pe,Ds,qn,tn,jr);return function(M){const B=(0,Ee.m9)(M);B._initializePromise||(B._initializePromise=B._storageCache.loadFromStorage().then(()=>{B._isInitializationComplete=!0}))}(ja),ja},"PUBLIC").setMultipleInstances(!0)),(0,Ae.registerVersion)(Gt,"0.3.3"),(0,Ae.registerVersion)(Gt,"0.3.3","esm2017");const Yr="/firebase-messaging-sw.js",Yi="/firebase-cloud-messaging-push-scope",Bi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ns="google.c.a.c_id",Rs="google.c.a.c_l",zo="google.c.a.ts",Qi="google.c.a.e";var ki=(()=>{return(M=ki||(ki={})).PUSH_RECEIVED="push-received",M.NOTIFICATION_CLICKED="notification-clicked",ki;var M})();function pi(M){const B=new Uint8Array(M);return btoa(String.fromCharCode(...B)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ks(M){const Q=(M+"=".repeat((4-M.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),pe=atob(Q),et=new Uint8Array(pe.length);for(let _t=0;_t<pe.length;++_t)et[_t]=pe.charCodeAt(_t);return et}const Ji="fcm_token_details_db",fo="fcm_token_object_Store";function xs(M){return ji.apply(this,arguments)}function ji(){return(ji=(0,K.Z)(function*(M){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(_t=>_t.name).includes(Ji))return null;let B=null;return(yield(0,Qe.openDb)(Ji,5,function(){var pe=(0,K.Z)(function*(et){var _t;if(et.oldVersion<2||!et.objectStoreNames.contains(fo))return;const Ft=et.transaction.objectStore(fo),_n=yield Ft.index("fcmSenderId").get(M);if(yield Ft.clear(),_n)if(2===et.oldVersion){const tn=_n;if(!tn.auth||!tn.p256dh||!tn.endpoint)return;B={token:tn.fcmToken,createTime:null!==(_t=tn.createTime)&&void 0!==_t?_t:Date.now(),subscriptionOptions:{auth:tn.auth,p256dh:tn.p256dh,endpoint:tn.endpoint,swScope:tn.swScope,vapidKey:"string"==typeof tn.vapidKey?tn.vapidKey:pi(tn.vapidKey)}}}else if(3===et.oldVersion){const tn=_n;B={token:tn.fcmToken,createTime:tn.createTime,subscriptionOptions:{auth:pi(tn.auth),p256dh:pi(tn.p256dh),endpoint:tn.endpoint,swScope:tn.swScope,vapidKey:pi(tn.vapidKey)}}}else if(4===et.oldVersion){const tn=_n;B={token:tn.fcmToken,createTime:tn.createTime,subscriptionOptions:{auth:pi(tn.auth),p256dh:pi(tn.p256dh),endpoint:tn.endpoint,swScope:tn.swScope,vapidKey:pi(tn.vapidKey)}}}});return function(et){return pe.apply(this,arguments)}}())).close(),yield(0,Qe.deleteDb)(Ji),yield(0,Qe.deleteDb)("fcm_vapid_details_db"),yield(0,Qe.deleteDb)("undefined"),Is(B)?B:null})).apply(this,arguments)}function Is(M){if(!M||!M.subscriptionOptions)return!1;const{subscriptionOptions:B}=M;return"number"==typeof M.createTime&&M.createTime>0&&"string"==typeof M.token&&M.token.length>0&&"string"==typeof B.auth&&B.auth.length>0&&"string"==typeof B.p256dh&&B.p256dh.length>0&&"string"==typeof B.endpoint&&B.endpoint.length>0&&"string"==typeof B.swScope&&B.swScope.length>0&&"string"==typeof B.vapidKey&&B.vapidKey.length>0}const zs="firebase-messaging-store";let Fs=null;function V(){return Fs||(Fs=(0,Qe.openDb)("firebase-messaging-database",1,M=>{switch(M.oldVersion){case 0:M.createObjectStore(zs)}})),Fs}function q(M){return U.apply(this,arguments)}function U(){return(U=(0,K.Z)(function*(M){const B=k(M),pe=yield(yield V()).transaction(zs).objectStore(zs).get(B);if(pe)return pe;{const et=yield xs(M.appConfig.senderId);if(et)return yield te(M,et),et}})).apply(this,arguments)}function te(M,B){return De.apply(this,arguments)}function De(){return(De=(0,K.Z)(function*(M,B){const Q=k(M),et=(yield V()).transaction(zs,"readwrite");return yield et.objectStore(zs).put(B,Q),yield et.complete,B})).apply(this,arguments)}function pt(M){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,K.Z)(function*(M){const B=k(M),pe=(yield V()).transaction(zs,"readwrite");yield pe.objectStore(zs).delete(B),yield pe.complete})).apply(this,arguments)}function k({appConfig:M}){return M.appId}const A=new Ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Z(M,B){return st.apply(this,arguments)}function st(){return(st=(0,K.Z)(function*(M,B){const Q=yield Fr(M),pe=us(B),et={method:"POST",headers:Q,body:JSON.stringify(pe)};let _t;try{_t=yield(yield fetch(Or(M.appConfig),et)).json()}catch(Ft){throw A.create("token-subscribe-failed",{errorInfo:Ft})}if(_t.error)throw A.create("token-subscribe-failed",{errorInfo:_t.error.message});if(!_t.token)throw A.create("token-subscribe-no-token");return _t.token})).apply(this,arguments)}function Tt(M,B){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,K.Z)(function*(M,B){const Q=yield Fr(M),pe=us(B.subscriptionOptions),et={method:"PATCH",headers:Q,body:JSON.stringify(pe)};let _t;try{_t=yield(yield fetch(`${Or(M.appConfig)}/${B.token}`,et)).json()}catch(Ft){throw A.create("token-update-failed",{errorInfo:Ft})}if(_t.error)throw A.create("token-update-failed",{errorInfo:_t.error.message});if(!_t.token)throw A.create("token-update-no-token");return _t.token})).apply(this,arguments)}function Mr(M,B){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,K.Z)(function*(M,B){const pe={method:"DELETE",headers:yield Fr(M)};try{const _t=yield(yield fetch(`${Or(M.appConfig)}/${B}`,pe)).json();if(_t.error)throw A.create("token-unsubscribe-failed",{errorInfo:_t.error.message})}catch(et){throw A.create("token-unsubscribe-failed",{errorInfo:et})}})).apply(this,arguments)}function Or({projectId:M}){return`https://fcmregistrations.googleapis.com/v1/projects/${M}/registrations`}function Fr(M){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,K.Z)(function*({appConfig:M,installations:B}){const Q=yield B.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M.apiKey,"x-goog-firebase-installations-auth":`FIS ${Q}`})})).apply(this,arguments)}function us({p256dh:M,auth:B,endpoint:Q,vapidKey:pe}){const et={web:{endpoint:Q,auth:B,p256dh:M}};return pe!==Bi&&(et.web.applicationPubKey=pe),et}const Pr=6048e5;function bo(M){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,K.Z)(function*(M){const B=yield he(M.swRegistration,M.vapidKey),Q={vapidKey:M.vapidKey,swScope:M.swRegistration.scope,endpoint:B.endpoint,auth:pi(B.getKey("auth")),p256dh:pi(B.getKey("p256dh"))},pe=yield q(M.firebaseDependencies);if(pe){if(ht(pe.subscriptionOptions,Q))return Date.now()>=pe.createTime+Pr?Ws(M,{token:pe.token,createTime:Date.now(),subscriptionOptions:Q}):pe.token;try{yield Mr(M.firebaseDependencies,pe.token)}catch(et){console.warn(et)}return L(M.firebaseDependencies,Q)}return L(M.firebaseDependencies,Q)})).apply(this,arguments)}function wo(M){return $i.apply(this,arguments)}function $i(){return($i=(0,K.Z)(function*(M){const B=yield q(M.firebaseDependencies);B&&(yield Mr(M.firebaseDependencies,B.token),yield pt(M.firebaseDependencies));const Q=yield M.swRegistration.pushManager.getSubscription();return!Q||Q.unsubscribe()})).apply(this,arguments)}function Ws(M,B){return $.apply(this,arguments)}function $(){return($=(0,K.Z)(function*(M,B){try{const Q=yield Tt(M.firebaseDependencies,B),pe=Object.assign(Object.assign({},B),{token:Q,createTime:Date.now()});return yield te(M.firebaseDependencies,pe),Q}catch(Q){throw yield wo(M),Q}})).apply(this,arguments)}function L(M,B){return se.apply(this,arguments)}function se(){return(se=(0,K.Z)(function*(M,B){const pe={token:yield Z(M,B),createTime:Date.now(),subscriptionOptions:B};return yield te(M,pe),pe.token})).apply(this,arguments)}function he(M,B){return He.apply(this,arguments)}function He(){return(He=(0,K.Z)(function*(M,B){return(yield M.pushManager.getSubscription())||M.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ks(B)})})).apply(this,arguments)}function ht(M,B){return B.vapidKey===M.vapidKey&&B.endpoint===M.endpoint&&B.auth===M.auth&&B.p256dh===M.p256dh}function Ot(M){const B={from:M.from,collapseKey:M.collapse_key,messageId:M.fcm_message_id};return function(M,B){if(!B.notification)return;M.notification={};const Q=B.notification.title;Q&&(M.notification.title=Q);const pe=B.notification.body;pe&&(M.notification.body=pe);const et=B.notification.image;et&&(M.notification.image=et)}(B,M),function(M,B){!B.data||(M.data=B.data)}(B,M),function(M,B){if(!B.fcmOptions)return;M.fcmOptions={};const Q=B.fcmOptions.link;Q&&(M.fcmOptions.link=Q);const pe=B.fcmOptions.analytics_label;pe&&(M.fcmOptions.analyticsLabel=pe)}(B,M),B}function Xt(M){return"object"==typeof M&&!!M&&Ns in M}function Lr(M,B){const Q=[];for(let pe=0;pe<M.length;pe++)Q.push(M.charAt(pe)),pe<B.length&&Q.push(B.charAt(pe));return Q.join("")}function si(M){return A.create("missing-app-config-values",{valueName:M})}Lr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Lr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ur{constructor(B,Q,pe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const et=function(M){if(!M||!M.options)throw si("App Configuration Object");if(!M.name)throw si("App Name");const B=["projectId","apiKey","appId","messagingSenderId"],{options:Q}=M;for(const pe of B)if(!Q[pe])throw si(pe);return{appName:M.name,projectId:Q.projectId,apiKey:Q.apiKey,appId:Q.appId,senderId:Q.messagingSenderId}}(B);this.firebaseDependencies={app:B,appConfig:et,installations:Q,analyticsProvider:pe}}_delete(){return Promise.resolve()}}function Qr(M){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,K.Z)(function*(M){try{M.swRegistration=yield navigator.serviceWorker.register(Yr,{scope:Yi}),M.swRegistration.update().catch(()=>{})}catch(B){throw A.create("failed-service-worker-registration",{browserErrorMessage:B.message})}})).apply(this,arguments)}function Hi(M,B){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,K.Z)(function*(M,B){if(!B&&!M.swRegistration&&(yield Qr(M)),B||!M.swRegistration){if(!(B instanceof ServiceWorkerRegistration))throw A.create("invalid-sw-registration");M.swRegistration=B}})).apply(this,arguments)}function Ii(M,B){return Br.apply(this,arguments)}function Br(){return(Br=(0,K.Z)(function*(M,B){B?M.vapidKey=B:M.vapidKey||(M.vapidKey=Bi)})).apply(this,arguments)}function ti(){return(ti=(0,K.Z)(function*(M,B){if(!navigator)throw A.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw A.create("permission-blocked");return yield Ii(M,null==B?void 0:B.vapidKey),yield Hi(M,null==B?void 0:B.serviceWorkerRegistration),bo(M)})).apply(this,arguments)}function zi(M,B,Q){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,K.Z)(function*(M,B,Q){const pe=po(B);(yield M.firebaseDependencies.analyticsProvider.get()).logEvent(pe,{message_id:Q[Ns],message_name:Q[Rs],message_time:Q[zo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function po(M){switch(M){case ki.NOTIFICATION_CLICKED:return"notification_open";case ki.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Co(){return(Co=(0,K.Z)(function*(M,B){const Q=B.data;if(!Q.isFirebaseMessaging)return;M.onMessageHandler&&Q.messageType===ki.PUSH_RECEIVED&&("function"==typeof M.onMessageHandler?M.onMessageHandler(Ot(Q)):M.onMessageHandler.next(Ot(Q)));const pe=Q.data;Xt(pe)&&"1"===pe[Qi]&&(yield zi(M,Q.messageType,pe))})).apply(this,arguments)}const ba="@firebase/messaging";function Wo(){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,K.Z)(function*(){return"undefined"!=typeof window&&(0,Ee.hl)()&&(yield(0,Ee.eu)())&&(0,Ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,Ae._registerComponent)(new Pe.wA("messaging",M=>{const B=new Ur(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),M.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Q=>function(M,B){return Co.apply(this,arguments)}(B,Q)),B},"PUBLIC")),(0,Ae._registerComponent)(new Pe.wA("messaging-internal",M=>{const B=M.getProvider("messaging").getImmediate();return{getToken:pe=>function(M,B){return ti.apply(this,arguments)}(B,pe)}},"PRIVATE")),(0,Ae.registerVersion)(ba,"0.9.4"),(0,Ae.registerVersion)(ba,"0.9.4","esm2017");const Ta="analytics",ra="firebase_id",gi="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qa="https://www.googletagmanager.com/gtag/js",es=new Ge.Yd("@firebase/analytics");function ia(M){return Promise.all(M.map(B=>B.catch(Q=>Q)))}function sa(M,B){const Q=document.createElement("script");Q.src=`${Qa}?l=${M}&id=${B}`,Q.async=!0,document.head.appendChild(Q)}function ka(M,B,Q,pe,et,_t){return qs.apply(this,arguments)}function qs(){return(qs=(0,K.Z)(function*(M,B,Q,pe,et,_t){const Ft=pe[et];try{if(Ft)yield B[Ft];else{const tn=(yield ia(Q)).find(qn=>qn.measurementId===et);tn&&(yield B[tn.appId])}}catch(_n){es.error(_n)}M("config",et,_t)})).apply(this,arguments)}function xo(M,B,Q,pe,et){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,K.Z)(function*(M,B,Q,pe,et){try{let _t=[];if(et&&et.send_to){let Ft=et.send_to;Array.isArray(Ft)||(Ft=[Ft]);const _n=yield ia(Q);for(const tn of Ft){const qn=_n.find(_s=>_s.measurementId===tn),jr=qn&&B[qn.appId];if(!jr){_t=[];break}_t.push(jr)}}0===_t.length&&(_t=Object.values(B)),yield Promise.all(_t),M("event",pe,et||{})}catch(_t){es.error(_t)}})).apply(this,arguments)}function qo(){const M=window.document.getElementsByTagName("script");for(const B of Object.values(M))if(B.src&&B.src.includes(Qa))return B;return null}const ls=new Ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Li=new class{constructor(B={},Q=1e3){this.throttleMetadata=B,this.intervalMillis=Q}getThrottleMetadata(B){return this.throttleMetadata[B]}setThrottleMetadata(B,Q){this.throttleMetadata[B]=Q}deleteThrottleMetadata(B){delete this.throttleMetadata[B]}};function Fa(M){return new Headers({Accept:"application/json","x-goog-api-key":M})}function Ti(M){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,K.Z)(function*(M){var B;const{appId:Q,apiKey:pe}=M,et={method:"GET",headers:Fa(pe)},_t=gi.replace("{app-id}",Q),Ft=yield fetch(_t,et);if(200!==Ft.status&&304!==Ft.status){let _n="";try{const tn=yield Ft.json();(null===(B=tn.error)||void 0===B?void 0:B.message)&&(_n=tn.error.message)}catch(tn){}throw ls.create("config-fetch-failed",{httpStatus:Ft.status,responseMessage:_n})}return Ft.json()})).apply(this,arguments)}function Po(M){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,K.Z)(function*(M,B=Li,Q){const{appId:pe,apiKey:et,measurementId:_t}=M.options;if(!pe)throw ls.create("no-app-id");if(!et){if(_t)return{measurementId:_t,appId:pe};throw ls.create("no-api-key")}const Ft=B.getThrottleMetadata(pe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},_n=new O;return setTimeout((0,K.Z)(function*(){_n.abort()}),void 0!==Q?Q:6e4),Zo({appId:pe,apiKey:et,measurementId:_t},Ft,_n,B)})).apply(this,arguments)}function Zo(M,B,Q){return La.apply(this,arguments)}function La(){return(La=(0,K.Z)(function*(M,{throttleEndTimeMillis:B,backoffCount:Q},pe,et=Li){const{appId:_t,measurementId:Ft}=M;try{yield Va(pe,B)}catch(_n){if(Ft)return es.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ft} provided in the "measurementId" field in the local Firebase config. [${_n.message}]`),{appId:_t,measurementId:Ft};throw _n}try{const _n=yield Ti(M);return et.deleteThrottleMetadata(_t),_n}catch(_n){if(!Sa(_n)){if(et.deleteThrottleMetadata(_t),Ft)return es.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ft} provided in the "measurementId" field in the local Firebase config. [${_n.message}]`),{appId:_t,measurementId:Ft};throw _n}const tn=503===Number(_n.customData.httpStatus)?(0,Ee.$s)(Q,et.intervalMillis,30):(0,Ee.$s)(Q,et.intervalMillis),qn={throttleEndTimeMillis:Date.now()+tn,backoffCount:Q+1};return et.setThrottleMetadata(_t,qn),es.debug(`Calling attemptFetch again in ${tn} millis`),Zo(M,qn,pe,et)}})).apply(this,arguments)}function Va(M,B){return new Promise((Q,pe)=>{const et=Math.max(B-Date.now(),0),_t=setTimeout(Q,et);M.addEventListener(()=>{clearTimeout(_t),pe(ls.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}function Sa(M){if(!(M instanceof Ee.ZR&&M.customData))return!1;const B=Number(M.customData.httpStatus);return 429===B||500===B||503===B||504===B}class O{constructor(){this.listeners=[]}addEventListener(B){this.listeners.push(B)}abort(){this.listeners.forEach(B=>B())}}function p(){return m.apply(this,arguments)}function m(){return(m=(0,K.Z)(function*(){if(!(0,Ee.hl)())return es.warn(ls.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ee.eu)()}catch(M){return es.warn(ls.create("indexeddb-unavailable",{errorInfo:M}).message),!1}return!0})).apply(this,arguments)}function z(){return(z=(0,K.Z)(function*(M,B,Q,pe,et,_t,Ft){var _n;const tn=Po(M);tn.then(Ds=>{Q[Ds.measurementId]=Ds.appId,M.options.measurementId&&Ds.measurementId!==M.options.measurementId&&es.warn(`The measurement ID in the local Firebase config (${M.options.measurementId}) does not match the measurement ID fetched from the server (${Ds.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ds=>es.error(Ds)),B.push(tn);const qn=p().then(Ds=>{if(Ds)return pe.getId()}),[jr,_s]=yield Promise.all([tn,qn]);qo()||sa(_t,jr.measurementId),et("js",new Date);const ko=null!==(_n=null==Ft?void 0:Ft.config)&&void 0!==_n?_n:{};return ko.origin="firebase",ko.update=!0,null!=_s&&(ko[ra]=_s),et("config",jr.measurementId,ko),jr.measurementId})).apply(this,arguments)}class ee{constructor(B){this.app=B}_delete(){return delete ge[this.app.options.appId],Promise.resolve()}}let ge={},Ce=[];const ot={};let hn,Fn,Be="dataLayer",Wt=!1;function Rt(M,B,Q){!function(){const M=[];if((0,Ee.ru)()&&M.push("This is a browser extension environment."),(0,Ee.zI)()||M.push("Cookies are not available."),M.length>0){const B=M.map((pe,et)=>`(${et+1}) ${pe}`).join(" "),Q=ls.create("invalid-analytics-context",{errorInfo:B});es.warn(Q.message)}}();const pe=M.options.appId;if(!pe)throw ls.create("no-app-id");if(!M.options.apiKey){if(!M.options.measurementId)throw ls.create("no-api-key");es.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${M.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ge[pe])throw ls.create("already-exists",{id:pe});if(!Wt){!function(M){let B=[];Array.isArray(window[M])?B=window[M]:window[M]=B}(Be);const{wrappedGtag:_t,gtagCore:Ft}=function(M,B,Q,pe,et){let _t=function(...Ft){window[pe].push(arguments)};return window[et]&&"function"==typeof window[et]&&(_t=window[et]),window[et]=function(M,B,Q,pe){function _t(){return(_t=(0,K.Z)(function*(Ft,_n,tn){try{"event"===Ft?yield xo(M,B,Q,_n,tn):"config"===Ft?yield ka(M,B,Q,pe,_n,tn):M("set",_n)}catch(qn){es.error(qn)}})).apply(this,arguments)}return function(Ft,_n,tn){return _t.apply(this,arguments)}}(_t,M,B,Q),{gtagCore:_t,wrappedGtag:window[et]}}(ge,Ce,ot,Be,"gtag");Fn=_t,hn=Ft,Wt=!0}return ge[pe]=function(M,B,Q,pe,et,_t,Ft){return z.apply(this,arguments)}(M,Ce,ot,B,hn,Be,Q),new ee(M)}function bt(){return(bt=(0,K.Z)(function*(M,B,Q,pe,et){if(et&&et.global)M("event",Q,pe);else{const _t=yield B;M("event",Q,Object.assign(Object.assign({},pe),{send_to:_t}))}})).apply(this,arguments)}function Qn(){return co.apply(this,arguments)}function co(){return(co=(0,K.Z)(function*(){if((0,Ee.ru)()||!(0,Ee.zI)()||!(0,Ee.hl)())return!1;try{return yield(0,Ee.eu)()}catch(M){return!1}})).apply(this,arguments)}const xi="@firebase/analytics",D="0.7.4";(0,Ae._registerComponent)(new Pe.wA(Ta,(B,{options:Q})=>Rt(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),Q),"PUBLIC")),(0,Ae._registerComponent)(new Pe.wA("analytics-internal",function(B){try{const Q=B.getProvider(Ta).getImmediate();return{logEvent:(pe,et,_t)=>function(M,B,Q,pe){M=(0,Ee.m9)(M),function(M,B,Q,pe,et){return bt.apply(this,arguments)}(Fn,ge[M.app.options.appId],B,Q,pe).catch(et=>es.error(et))}(Q,pe,et,_t)}}catch(Q){throw ls.create("interop-component-reg-failed",{reason:Q})}},"PRIVATE")),(0,Ae.registerVersion)(xi,D),(0,Ae.registerVersion)(xi,D,"esm2017");var v=N(504);class R extends v.o{constructor(B,Q){super(B,Q),this.scheduler=B,this.work=Q}schedule(B,Q=0){return Q>0?super.schedule(B,Q):(this.delay=Q,this.state=B,this.scheduler.flush(this),this)}execute(B,Q){return Q>0||this.closed?super.execute(B,Q):this._execute(B,Q)}requestAsyncId(B,Q,pe=0){return null!=pe&&pe>0||null==pe&&this.delay>0?super.requestAsyncId(B,Q,pe):B.flush(this)}}var j=N(9713);class Y extends j.v{}const ce=new Y(R);var yt=N(4346),Zt=N(6361),gr=N(3201),Bn=N(1894),oi=N(576),ns=N(8341),ho=N(8127);const No=new _.GfV("7.1.1"),rs="__angularfire_symbol__analyticsIsSupported",ai="__angularfire_symbol__remoteConfigIsSupported",tu="__angularfire_symbol__messagingIsSupported";function Ua(M,B,Q){if(B){if(1===B.length)return B[0];const _t=B.filter(Ft=>Ft.app===Q);if(1===_t.length)return _t[0]}return Q.container.getProvider(M).getImmediate({optional:!0})}globalThis[rs]||(globalThis[rs]=Qn().then(M=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=M)),globalThis[tu]||(globalThis[tu]=Wo().then(M=>globalThis.__angularfire_symbol__messagingIsSupportedValue=M)),globalThis[ai]||(globalThis[ai]=Cs().then(M=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=M));const ua=(M,B)=>{const Q=B?[B]:(0,I.C6)(),pe=[];return Q.forEach(et=>{et.container.getProvider(M).instances.forEach(Ft=>{pe.includes(Ft)||pe.push(Ft)})}),pe};function mo(){}class Aa{constructor(B,Q=ce){this.zone=B,this.delegate=Q}now(){return this.delegate.now()}schedule(B,Q,pe){const et=this.zone;return this.delegate.schedule(function(Ft){et.runGuarded(()=>{B.apply(this,[Ft])})},Q,pe)}}class Hu{constructor(B){this.zone=B,this.task=null}call(B,Q){const pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mo,{},mo,mo)),Q.pipe(function(M,B,Q){const pe=(0,Zt.m)(M)?{next:M,error:B,complete:Q}:M;return pe?(0,gr.e)((et,_t)=>{var Ft;null===(Ft=pe.subscribe)||void 0===Ft||Ft.call(pe);let _n=!0;et.subscribe(new Bn.Q(_t,tn=>{var qn;null===(qn=pe.next)||void 0===qn||qn.call(pe,tn),_t.next(tn)},()=>{var tn;_n=!1,null===(tn=pe.complete)||void 0===tn||tn.call(pe),_t.complete()},tn=>{var qn;_n=!1,null===(qn=pe.error)||void 0===qn||qn.call(pe,tn),_t.error(tn)},()=>{var tn,qn;_n&&(null===(tn=pe.unsubscribe)||void 0===tn||tn.call(pe)),null===(qn=pe.finalize)||void 0===qn||qn.call(pe)}))}):oi.y}({next:pe,complete:pe,error:pe})).subscribe(B).add(pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Qs=(()=>{class M{constructor(Q){this.ngZone=Q,this.outsideAngular=Q.runOutsideAngular(()=>new Aa(Zone.current)),this.insideAngular=Q.run(()=>new Aa(Zone.current,yt.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return M.\u0275fac=function(Q){return new(Q||M)(_.LFG(_.R0b))},M.\u0275prov=_.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function Ra(){const M=globalThis.\u0275AngularFireScheduler;if(!M)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return M}function yo(M){return M.pipe((0,ns.Q)(Ra().outsideAngular))}function Ba(M){return Ra(),function(M){return function(Q){return(Q=Q.lift(new Hu(M.ngZone))).pipe((0,ho.R)(M.outsideAngular),(0,ns.Q)(M.insideAngular))}}(Ra())(M)}},1827:($t,ze,N)=>{"use strict";N.d(ze,{y:()=>X});var _=N(3704),I=N(2669),K=N(7328),Ae=N(576);var Ge=N(5960),Qe=N(6361),we=N(776);let X=(()=>{class Ue{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const Ke=new Ue;return Ke.source=this,Ke.operator=Ne,Ke}subscribe(Ne,Ke,Me){const We=function(Ue){return Ue&&Ue instanceof _.Lv||function(Ue){return Ue&&(0,Qe.m)(Ue.next)&&(0,Qe.m)(Ue.error)&&(0,Qe.m)(Ue.complete)}(Ue)&&(0,I.Nn)(Ue)}(Ne)?Ne:new _.Hp(Ne,Ke,Me);return(0,we.x)(()=>{const{operator:je,source:Re}=this;We.add(je?je.call(We,Re):Re?this._subscribe(We):this._trySubscribe(We))}),We}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(Ke){Ne.error(Ke)}}forEach(Ne,Ke){return new(Ke=J(Ke))((Me,We)=>{let je;je=this.subscribe(Re=>{try{Ne(Re)}catch(tt){We(tt),null==je||je.unsubscribe()}},We,Me)})}_subscribe(Ne){var Ke;return null===(Ke=this.source)||void 0===Ke?void 0:Ke.subscribe(Ne)}[K.L](){return this}pipe(...Ne){return function(Ue){return 0===Ue.length?Ae.y:1===Ue.length?Ue[0]:function(Ne){return Ue.reduce((Ke,Me)=>Me(Ke),Ne)}}(Ne)(this)}toPromise(Ne){return new(Ne=J(Ne))((Ke,Me)=>{let We;this.subscribe(je=>We=je,je=>Me(je),()=>Ke(We))})}}return Ue.create=ft=>new Ue(ft),Ue})();function J(Ue){var ft;return null!==(ft=null!=Ue?Ue:Ge.v.Promise)&&void 0!==ft?ft:Promise}},3704:($t,ze,N)=>{"use strict";N.d(ze,{Hp:()=>Fe,Lv:()=>fe});var _=N(6361),I=N(2669),K=N(5960),Ae=N(9249);function Ee(){}const Pe=(()=>we("C",void 0,void 0))();function we(Me,We,je){return{kind:Me,value:We,error:je}}var X=N(2487),J=N(776);class fe extends I.w0{constructor(We){super(),this.isStopped=!1,We?(this.destination=We,(0,I.Nn)(We)&&We.add(this)):this.destination=Ke}static create(We,je,Re){return new Fe(We,je,Re)}next(We){this.isStopped?Ne(we("N",We,void 0),this):this._next(We)}error(We){this.isStopped?Ne(we("E",void 0,We),this):(this.isStopped=!0,this._error(We))}complete(){this.isStopped?Ne(Pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(We){this.destination.next(We)}_error(We){try{this.destination.error(We)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Fe extends fe{constructor(We,je,Re){let tt;if(super(),(0,_.m)(We))tt=We;else if(We){let rt;({next:tt,error:je,complete:Re}=We),this&&K.v.useDeprecatedNextContext?(rt=Object.create(We),rt.unsubscribe=()=>this.unsubscribe()):rt=We,tt=null==tt?void 0:tt.bind(rt),je=null==je?void 0:je.bind(rt),Re=null==Re?void 0:Re.bind(rt)}this.destination={next:tt?Ue(tt):Ee,error:Ue(null!=je?je:ft),complete:Re?Ue(Re):Ee}}}function Ue(Me,We){return(...je)=>{try{Me(...je)}catch(Re){K.v.useDeprecatedSynchronousErrorHandling?(0,J.O)(Re):(0,Ae.h)(Re)}}}function ft(Me){throw Me}function Ne(Me,We){const{onStoppedNotification:je}=K.v;je&&X.z.setTimeout(()=>je(Me,We))}const Ke={closed:!0,next:Ee,error:ft,complete:Ee}},2669:($t,ze,N)=>{"use strict";N.d(ze,{Lc:()=>Pe,w0:()=>Ee,Nn:()=>Ge});var _=N(6361);const K=(0,N(9753).d)(we=>function(J){we(this),this.message=J?`${J.length} errors occurred during unsubscription:\n${J.map((fe,Fe)=>`${Fe+1}) ${fe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=J});var Ae=N(8208);class Ee{constructor(X){this.initialTeardown=X,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let X;if(!this.closed){this.closed=!0;const{_parentage:J}=this;if(J)if(this._parentage=null,Array.isArray(J))for(const Ue of J)Ue.remove(this);else J.remove(this);const{initialTeardown:fe}=this;if((0,_.m)(fe))try{fe()}catch(Ue){X=Ue instanceof K?Ue.errors:[Ue]}const{_teardowns:Fe}=this;if(Fe){this._teardowns=null;for(const Ue of Fe)try{Qe(Ue)}catch(ft){X=null!=X?X:[],ft instanceof K?X=[...X,...ft.errors]:X.push(ft)}}if(X)throw new K(X)}}add(X){var J;if(X&&X!==this)if(this.closed)Qe(X);else{if(X instanceof Ee){if(X.closed||X._hasParent(this))return;X._addParent(this)}(this._teardowns=null!==(J=this._teardowns)&&void 0!==J?J:[]).push(X)}}_hasParent(X){const{_parentage:J}=this;return J===X||Array.isArray(J)&&J.includes(X)}_addParent(X){const{_parentage:J}=this;this._parentage=Array.isArray(J)?(J.push(X),J):J?[J,X]:X}_removeParent(X){const{_parentage:J}=this;J===X?this._parentage=null:Array.isArray(J)&&(0,Ae.P)(J,X)}remove(X){const{_teardowns:J}=this;J&&(0,Ae.P)(J,X),X instanceof Ee&&X._removeParent(this)}}Ee.EMPTY=(()=>{const we=new Ee;return we.closed=!0,we})();const Pe=Ee.EMPTY;function Ge(we){return we instanceof Ee||we&&"closed"in we&&(0,_.m)(we.remove)&&(0,_.m)(we.add)&&(0,_.m)(we.unsubscribe)}function Qe(we){(0,_.m)(we)?we():we.unsubscribe()}},5960:($t,ze,N)=>{"use strict";N.d(ze,{v:()=>_});const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1179:($t,ze,N)=>{"use strict";N.d(ze,{D:()=>tt});var _=N(3413),I=N(8341),K=N(8127),Pe=N(1827),Qe=N(6384),we=N(6361),X=N(768);function fe(rt,Lt){if(!rt)throw new Error("Iterable cannot be null");return new Pe.y(jt=>{(0,X.f)(jt,Lt,()=>{const ne=rt[Symbol.asyncIterator]();(0,X.f)(jt,Lt,()=>{ne.next().then(oe=>{oe.done?jt.complete():jt.next(oe.value)})},0,!0)})})}var Fe=N(8312),Ue=N(3707),ft=N(9049),Ne=N(5729),Ke=N(7153),Me=N(5611),We=N(837);function tt(rt,Lt){return Lt?function(rt,Lt){if(null!=rt){if((0,Fe.c)(rt))return function(rt,Lt){return(0,_.Xf)(rt).pipe((0,K.R)(Lt),(0,I.Q)(Lt))}(rt,Lt);if((0,ft.z)(rt))return function(rt,Lt){return new Pe.y(jt=>{let ne=0;return Lt.schedule(function(){ne===rt.length?jt.complete():(jt.next(rt[ne++]),jt.closed||this.schedule())})})}(rt,Lt);if((0,Ue.t)(rt))return function(rt,Lt){return(0,_.Xf)(rt).pipe((0,K.R)(Lt),(0,I.Q)(Lt))}(rt,Lt);if((0,Ke.D)(rt))return fe(rt,Lt);if((0,Ne.T)(rt))return function(rt,Lt){return new Pe.y(jt=>{let ne;return(0,X.f)(jt,Lt,()=>{ne=rt[Qe.h](),(0,X.f)(jt,Lt,()=>{let oe,_e;try{({value:oe,done:_e}=ne.next())}catch(me){return void jt.error(me)}_e?jt.complete():jt.next(oe)},0,!0)}),()=>(0,we.m)(null==ne?void 0:ne.return)&&ne.return()})}(rt,Lt);if((0,We.L)(rt))return function(rt,Lt){return fe((0,We.Q)(rt),Lt)}(rt,Lt)}throw(0,Me.z)(rt)}(rt,Lt):(0,_.Xf)(rt)}},3413:($t,ze,N)=>{"use strict";N.d(ze,{Xf:()=>Fe});var _=N(9517),I=N(9049),K=N(3707),Ae=N(1827),Ee=N(8312),Pe=N(7153),Ge=N(5611),Qe=N(5729),we=N(837),X=N(6361),J=N(9249),fe=N(7328);function Fe(Re){if(Re instanceof Ae.y)return Re;if(null!=Re){if((0,Ee.c)(Re))return function(Re){return new Ae.y(tt=>{const rt=Re[fe.L]();if((0,X.m)(rt.subscribe))return rt.subscribe(tt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,I.z)(Re))return function(Re){return new Ae.y(tt=>{for(let rt=0;rt<Re.length&&!tt.closed;rt++)tt.next(Re[rt]);tt.complete()})}(Re);if((0,K.t)(Re))return function(Re){return new Ae.y(tt=>{Re.then(rt=>{tt.closed||(tt.next(rt),tt.complete())},rt=>tt.error(rt)).then(null,J.h)})}(Re);if((0,Pe.D)(Re))return Me(Re);if((0,Qe.T)(Re))return function(Re){return new Ae.y(tt=>{for(const rt of Re)if(tt.next(rt),tt.closed)return;tt.complete()})}(Re);if((0,we.L)(Re))return function(Re){return Me((0,we.Q)(Re))}(Re)}throw(0,Ge.z)(Re)}function Me(Re){return new Ae.y(tt=>{(function(Re,tt){var rt,Lt,jt,ne;return(0,_.mG)(this,void 0,void 0,function*(){try{for(rt=(0,_.KL)(Re);!(Lt=yield rt.next()).done;)if(tt.next(Lt.value),tt.closed)return}catch(oe){jt={error:oe}}finally{try{Lt&&!Lt.done&&(ne=rt.return)&&(yield ne.call(rt))}finally{if(jt)throw jt.error}}tt.complete()})})(Re,tt).catch(rt=>tt.error(rt))})}},4323:($t,ze,N)=>{"use strict";N.d(ze,{of:()=>K});var _=N(7375),I=N(1179);function K(...Ae){const Ee=(0,_.yG)(Ae);return(0,I.D)(Ae,Ee)}},1894:($t,ze,N)=>{"use strict";N.d(ze,{Q:()=>I});var _=N(3704);class I extends _.Lv{constructor(Ae,Ee,Pe,Ge,Qe){super(Ae),this.onFinalize=Qe,this._next=Ee?function(we){try{Ee(we)}catch(X){Ae.error(X)}}:super._next,this._error=Ge?function(we){try{Ge(we)}catch(X){Ae.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=Pe?function(){try{Pe()}catch(we){Ae.error(we)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ae;const{closed:Ee}=this;super.unsubscribe(),!Ee&&(null===(Ae=this.onFinalize)||void 0===Ae||Ae.call(this))}}},1971:($t,ze,N)=>{"use strict";N.d(ze,{h:()=>K});var _=N(3201),I=N(1894);function K(Ae,Ee){return(0,_.e)((Pe,Ge)=>{let Qe=0;Pe.subscribe(new I.Q(Ge,we=>Ae.call(Ee,we,Qe++)&&Ge.next(we)))})}},6885:($t,ze,N)=>{"use strict";N.d(ze,{U:()=>K});var _=N(3201),I=N(1894);function K(Ae,Ee){return(0,_.e)((Pe,Ge)=>{let Qe=0;Pe.subscribe(new I.Q(Ge,we=>{Ge.next(Ae.call(Ee,we,Qe++))}))})}},2253:($t,ze,N)=>{"use strict";N.d(ze,{J:()=>X});var _=N(6885),I=N(3413),K=N(3201),Ee=(N(768),N(1894)),Ge=N(6361);function Qe(J,fe,Fe=1/0){return(0,Ge.m)(fe)?Qe((Ue,ft)=>(0,_.U)((Ne,Ke)=>fe(Ue,Ne,ft,Ke))((0,I.Xf)(J(Ue,ft))),Fe):("number"==typeof fe&&(Fe=fe),(0,K.e)((Ue,ft)=>function(J,fe,Fe,Ue,ft,Ne,Ke,Me){const We=[];let je=0,Re=0,tt=!1;const rt=()=>{tt&&!We.length&&!je&&fe.complete()},Lt=ne=>je<Ue?jt(ne):We.push(ne),jt=ne=>{je++;let oe=!1;(0,I.Xf)(Fe(ne,Re++)).subscribe(new Ee.Q(fe,_e=>{fe.next(_e)},()=>{oe=!0},void 0,()=>{if(oe)try{for(je--;We.length&&je<Ue;){const _e=We.shift();jt(_e)}rt()}catch(_e){fe.error(_e)}}))};return J.subscribe(new Ee.Q(fe,Lt,()=>{tt=!0,rt()})),()=>{}}(Ue,ft,J,Fe)))}var we=N(576);function X(J=1/0){return Qe(we.y,J)}},8341:($t,ze,N)=>{"use strict";N.d(ze,{Q:()=>Ae});var _=N(768),I=N(3201),K=N(1894);function Ae(Ee,Pe=0){return(0,I.e)((Ge,Qe)=>{Ge.subscribe(new K.Q(Qe,we=>(0,_.f)(Qe,Ee,()=>Qe.next(we),Pe),()=>(0,_.f)(Qe,Ee,()=>Qe.complete(),Pe),we=>(0,_.f)(Qe,Ee,()=>Qe.error(we),Pe)))})}},8127:($t,ze,N)=>{"use strict";N.d(ze,{R:()=>I});var _=N(3201);function I(K,Ae=0){return(0,_.e)((Ee,Pe)=>{Pe.add(K.schedule(()=>Ee.subscribe(Pe),Ae))})}},1926:($t,ze,N)=>{"use strict";N.d(ze,{w:()=>Ae});var _=N(3413),I=N(3201),K=N(1894);function Ae(Ee,Pe){return(0,I.e)((Ge,Qe)=>{let we=null,X=0,J=!1;const fe=()=>J&&!we&&Qe.complete();Ge.subscribe(new K.Q(Qe,Fe=>{null==we||we.unsubscribe();let Ue=0;const ft=X++;(0,_.Xf)(Ee(Fe,ft)).subscribe(we=new K.Q(Qe,Ne=>Qe.next(Pe?Pe(Fe,Ne,ft,Ue++):Ne),()=>{we=null,fe()}))},()=>{J=!0,fe()}))})}},504:($t,ze,N)=>{"use strict";N.d(ze,{o:()=>Ee});var _=N(2669);class I extends _.w0{constructor(Ge,Qe){super()}schedule(Ge,Qe=0){return this}}const K={setInterval(...Pe){const{delegate:Ge}=K;return((null==Ge?void 0:Ge.setInterval)||setInterval)(...Pe)},clearInterval(Pe){const{delegate:Ge}=K;return((null==Ge?void 0:Ge.clearInterval)||clearInterval)(Pe)},delegate:void 0};var Ae=N(8208);class Ee extends I{constructor(Ge,Qe){super(Ge,Qe),this.scheduler=Ge,this.work=Qe,this.pending=!1}schedule(Ge,Qe=0){if(this.closed)return this;this.state=Ge;const we=this.id,X=this.scheduler;return null!=we&&(this.id=this.recycleAsyncId(X,we,Qe)),this.pending=!0,this.delay=Qe,this.id=this.id||this.requestAsyncId(X,this.id,Qe),this}requestAsyncId(Ge,Qe,we=0){return K.setInterval(Ge.flush.bind(Ge,this),we)}recycleAsyncId(Ge,Qe,we=0){if(null!=we&&this.delay===we&&!1===this.pending)return Qe;K.clearInterval(Qe)}execute(Ge,Qe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const we=this._execute(Ge,Qe);if(we)return we;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ge,Qe){let X,we=!1;try{this.work(Ge)}catch(J){we=!0,X=J||new Error("Scheduled action threw falsy error")}if(we)return this.unsubscribe(),X}unsubscribe(){if(!this.closed){const{id:Ge,scheduler:Qe}=this,{actions:we}=Qe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ae.P)(we,this),null!=Ge&&(this.id=this.recycleAsyncId(Qe,Ge,null)),this.delay=null,super.unsubscribe()}}}},9713:($t,ze,N)=>{"use strict";N.d(ze,{v:()=>K});var _=N(1373);class I{constructor(Ee,Pe=I.now){this.schedulerActionCtor=Ee,this.now=Pe}schedule(Ee,Pe=0,Ge){return new this.schedulerActionCtor(this,Ee).schedule(Ge,Pe)}}I.now=_.l.now;class K extends I{constructor(Ee,Pe=I.now){super(Ee,Pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Ee){const{actions:Pe}=this;if(this._active)return void Pe.push(Ee);let Ge;this._active=!0;do{if(Ge=Ee.execute(Ee.state,Ee.delay))break}while(Ee=Pe.shift());if(this._active=!1,Ge){for(;Ee=Pe.shift();)Ee.unsubscribe();throw Ge}}}},4346:($t,ze,N)=>{"use strict";N.d(ze,{z:()=>K});var _=N(504);const K=new(N(9713).v)(_.o)},1373:($t,ze,N)=>{"use strict";N.d(ze,{l:()=>_});const _={now:()=>(_.delegate||Date).now(),delegate:void 0}},2487:($t,ze,N)=>{"use strict";N.d(ze,{z:()=>_});const _={setTimeout(...I){const{delegate:K}=_;return((null==K?void 0:K.setTimeout)||setTimeout)(...I)},clearTimeout(I){const{delegate:K}=_;return((null==K?void 0:K.clearTimeout)||clearTimeout)(I)},delegate:void 0}},6384:($t,ze,N)=>{"use strict";function _(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}N.d(ze,{h:()=>I});const I=_()},7328:($t,ze,N)=>{"use strict";N.d(ze,{L:()=>_});const _=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},7375:($t,ze,N)=>{"use strict";N.d(ze,{_6:()=>Pe,yG:()=>Ee});var _=N(6361);function K(Ge){return Ge[Ge.length-1]}function Ee(Ge){return function(Ge){return Ge&&(0,_.m)(Ge.schedule)}(K(Ge))?Ge.pop():void 0}function Pe(Ge,Qe){return"number"==typeof K(Ge)?Ge.pop():Qe}},8208:($t,ze,N)=>{"use strict";function _(I,K){if(I){const Ae=I.indexOf(K);0<=Ae&&I.splice(Ae,1)}}N.d(ze,{P:()=>_})},9753:($t,ze,N)=>{"use strict";function _(I){const Ae=I(Ee=>{Error.call(Ee),Ee.stack=(new Error).stack});return Ae.prototype=Object.create(Error.prototype),Ae.prototype.constructor=Ae,Ae}N.d(ze,{d:()=>_})},776:($t,ze,N)=>{"use strict";N.d(ze,{x:()=>K,O:()=>Ae});var _=N(5960);let I=null;function K(Ee){if(_.v.useDeprecatedSynchronousErrorHandling){const Pe=!I;if(Pe&&(I={errorThrown:!1,error:null}),Ee(),Pe){const{errorThrown:Ge,error:Qe}=I;if(I=null,Ge)throw Qe}}else Ee()}function Ae(Ee){_.v.useDeprecatedSynchronousErrorHandling&&I&&(I.errorThrown=!0,I.error=Ee)}},768:($t,ze,N)=>{"use strict";function _(I,K,Ae,Ee=0,Pe=!1){const Ge=K.schedule(function(){Ae(),Pe?I.add(this.schedule(null,Ee)):this.unsubscribe()},Ee);if(I.add(Ge),!Pe)return Ge}N.d(ze,{f:()=>_})},576:($t,ze,N)=>{"use strict";function _(I){return I}N.d(ze,{y:()=>_})},9049:($t,ze,N)=>{"use strict";N.d(ze,{z:()=>_});const _=I=>I&&"number"==typeof I.length&&"function"!=typeof I},7153:($t,ze,N)=>{"use strict";N.d(ze,{D:()=>I});var _=N(6361);function I(K){return Symbol.asyncIterator&&(0,_.m)(null==K?void 0:K[Symbol.asyncIterator])}},6361:($t,ze,N)=>{"use strict";function _(I){return"function"==typeof I}N.d(ze,{m:()=>_})},8312:($t,ze,N)=>{"use strict";N.d(ze,{c:()=>K});var _=N(7328),I=N(6361);function K(Ae){return(0,I.m)(Ae[_.L])}},5729:($t,ze,N)=>{"use strict";N.d(ze,{T:()=>K});var _=N(6384),I=N(6361);function K(Ae){return(0,I.m)(null==Ae?void 0:Ae[_.h])}},3707:($t,ze,N)=>{"use strict";N.d(ze,{t:()=>I});var _=N(6361);function I(K){return(0,_.m)(null==K?void 0:K.then)}},837:($t,ze,N)=>{"use strict";N.d(ze,{Q:()=>K,L:()=>Ae});var _=N(9517),I=N(6361);function K(Ee){return(0,_.FC)(this,arguments,function*(){const Ge=Ee.getReader();try{for(;;){const{value:Qe,done:we}=yield(0,_.qq)(Ge.read());if(we)return yield(0,_.qq)(void 0);yield yield(0,_.qq)(Qe)}}finally{Ge.releaseLock()}})}function Ae(Ee){return(0,I.m)(null==Ee?void 0:Ee.getReader)}},3201:($t,ze,N)=>{"use strict";N.d(ze,{e:()=>K});var _=N(6361);function K(Ae){return Ee=>{if(function(Ae){return(0,_.m)(null==Ae?void 0:Ae.lift)}(Ee))return Ee.lift(function(Pe){try{return Ae(Pe,this)}catch(Ge){this.error(Ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},9249:($t,ze,N)=>{"use strict";N.d(ze,{h:()=>K});var _=N(5960),I=N(2487);function K(Ae){I.z.setTimeout(()=>{const{onUnhandledError:Ee}=_.v;if(!Ee)throw Ae;Ee(Ae)})}},5611:($t,ze,N)=>{"use strict";function _(I){return new TypeError(`You provided ${null!==I&&"object"==typeof I?"an invalid object":`'${I}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(ze,{z:()=>_})},665:($t,ze,N)=>{"use strict";N.d(ze,{Fj:()=>Me,u5:()=>U,JJ:()=>Kt,JL:()=>at,F:()=>Oe,On:()=>vr,YN:()=>vi,wV:()=>Rr,_:()=>_i,UX:()=>te,EJ:()=>fi,_Y:()=>Ir,Kr:()=>Yi});var _=N(639),I=N(8583),K=N(7574),Ae=N(9796),Ee=N(8002),Pe=N(1555),Ge=N(4402);function we(k,x){return new K.y(A=>{const Z=k.length;if(0===Z)return void A.complete();const st=new Array(Z);let Tt=0,Rn=0;for(let Mr=0;Mr<Z;Mr++){const Wr=(0,Ge.D)(k[Mr]);let Or=!1;A.add(Wr.subscribe({next:Fr=>{Or||(Or=!0,Rn++),st[Mr]=Fr},error:Fr=>A.error(Fr),complete:()=>{Tt++,(Tt===Z||!Or)&&(Rn===Z&&A.next(x?x.reduce((Fr,Fi,us)=>(Fr[Fi]=st[us],Fr),{}):st),A.complete())}}))}})}let X=(()=>{class k{constructor(A,Z){this._renderer=A,this._elementRef=Z,this.onChange=st=>{},this.onTouched=()=>{}}setProperty(A,Z){this._renderer.setProperty(this._elementRef.nativeElement,A,Z)}registerOnTouched(A){this.onTouched=A}registerOnChange(A){this.onChange=A}setDisabledState(A){this.setProperty("disabled",A)}}return k.\u0275fac=function(A){return new(A||k)(_.Y36(_.Qsj),_.Y36(_.SBq))},k.\u0275dir=_.lG2({type:k}),k})(),J=(()=>{class k extends X{}return k.\u0275fac=function(){let x;return function(Z){return(x||(x=_.n5z(k)))(Z||k)}}(),k.\u0275dir=_.lG2({type:k,features:[_.qOj]}),k})();const fe=new _.OlP("NgValueAccessor"),ft={provide:fe,useExisting:(0,_.Gpc)(()=>Me),multi:!0},Ke=new _.OlP("CompositionEventMode");let Me=(()=>{class k extends X{constructor(A,Z,st){super(A,Z),this._compositionMode=st,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const k=(0,I.q)()?(0,I.q)().getUserAgent():"";return/android (\d+)/.test(k.toLowerCase())}())}writeValue(A){this.setProperty("value",null==A?"":A)}_handleInput(A){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(A)}_compositionStart(){this._composing=!0}_compositionEnd(A){this._composing=!1,this._compositionMode&&this.onChange(A)}}return k.\u0275fac=function(A){return new(A||k)(_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(Ke,8))},k.\u0275dir=_.lG2({type:k,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(A,Z){1&A&&_.NdJ("input",function(Tt){return Z._handleInput(Tt.target.value)})("blur",function(){return Z.onTouched()})("compositionstart",function(){return Z._compositionStart()})("compositionend",function(Tt){return Z._compositionEnd(Tt.target.value)})},features:[_._Bn([ft]),_.qOj]}),k})();const Re=new _.OlP("NgValidators"),tt=new _.OlP("NgAsyncValidators");function on(k){return null!=k}function Bt(k){const x=(0,_.QGY)(k)?(0,Ge.D)(k):k;return(0,_.CqO)(x),x}function At(k){let x={};return k.forEach(A=>{x=null!=A?Object.assign(Object.assign({},x),A):x}),0===Object.keys(x).length?null:x}function an(k,x){return x.map(A=>A(k))}function vn(k){return k.map(x=>function(k){return!k.validate}(x)?x:A=>x.validate(A))}function xn(k){return null!=k?function(k){if(!k)return null;const x=k.filter(on);return 0==x.length?null:function(A){return At(an(A,x))}}(vn(k)):null}function Dn(k){return null!=k?function(k){if(!k)return null;const x=k.filter(on);return 0==x.length?null:function(A){return function(...k){if(1===k.length){const x=k[0];if((0,Ae.k)(x))return we(x,null);if((0,Pe.K)(x)&&Object.getPrototypeOf(x)===Object.prototype){const A=Object.keys(x);return we(A.map(Z=>x[Z]),A)}}if("function"==typeof k[k.length-1]){const x=k.pop();return we(k=1===k.length&&(0,Ae.k)(k[0])?k[0]:k,null).pipe((0,Ee.U)(A=>x(...A)))}return we(k,null)}(an(A,x).map(Bt)).pipe((0,Ee.U)(At))}}(vn(k)):null}function St(k,x){return null===k?[x]:Array.isArray(k)?[...k,x]:[k,x]}function zn(k){return k?Array.isArray(k)?k:[k]:[]}function $r(k,x){return Array.isArray(k)?k.includes(x):k===x}function bi(k,x){const A=zn(x);return zn(k).forEach(st=>{$r(A,st)||A.push(st)}),A}function Mn(k,x){return zn(x).filter(A=>!$r(k,A))}let Hr=(()=>{class k{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(A){this._rawValidators=A||[],this._composedValidatorFn=xn(this._rawValidators)}_setAsyncValidators(A){this._rawAsyncValidators=A||[],this._composedAsyncValidatorFn=Dn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(A){this._onDestroyCallbacks.push(A)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(A=>A()),this._onDestroyCallbacks=[]}reset(A){this.control&&this.control.reset(A)}hasError(A,Z){return!!this.control&&this.control.hasError(A,Z)}getError(A,Z){return this.control?this.control.getError(A,Z):null}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275dir=_.lG2({type:k}),k})(),Yn=(()=>{class k extends Hr{get formDirective(){return null}get path(){return null}}return k.\u0275fac=function(){let x;return function(Z){return(x||(x=_.n5z(k)))(Z||k)}}(),k.\u0275dir=_.lG2({type:k,features:[_.qOj]}),k})();class ar extends Hr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ur{constructor(x){this._cd=x}is(x){var A,Z,st;return"submitted"===x?!!(null===(A=this._cd)||void 0===A?void 0:A.submitted):!!(null===(st=null===(Z=this._cd)||void 0===Z?void 0:Z.control)||void 0===st?void 0:st[x])}}let Kt=(()=>{class k extends ur{constructor(A){super(A)}}return k.\u0275fac=function(A){return new(A||k)(_.Y36(ar,2))},k.\u0275dir=_.lG2({type:k,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(A,Z){2&A&&_.ekj("ng-untouched",Z.is("untouched"))("ng-touched",Z.is("touched"))("ng-pristine",Z.is("pristine"))("ng-dirty",Z.is("dirty"))("ng-valid",Z.is("valid"))("ng-invalid",Z.is("invalid"))("ng-pending",Z.is("pending"))},features:[_.qOj]}),k})(),at=(()=>{class k extends ur{constructor(A){super(A)}}return k.\u0275fac=function(A){return new(A||k)(_.Y36(Yn,10))},k.\u0275dir=_.lG2({type:k,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(A,Z){2&A&&_.ekj("ng-untouched",Z.is("untouched"))("ng-touched",Z.is("touched"))("ng-pristine",Z.is("pristine"))("ng-dirty",Z.is("dirty"))("ng-valid",Z.is("valid"))("ng-invalid",Z.is("invalid"))("ng-pending",Z.is("pending"))("ng-submitted",Z.is("submitted"))},features:[_.qOj]}),k})();function ve(k,x){Ye(k,x),x.valueAccessor.writeValue(k.value),function(k,x){x.valueAccessor.registerOnChange(A=>{k._pendingValue=A,k._pendingChange=!0,k._pendingDirty=!0,"change"===k.updateOn&&cr(k,x)})}(k,x),function(k,x){const A=(Z,st)=>{x.valueAccessor.writeValue(Z),st&&x.viewToModelUpdate(Z)};k.registerOnChange(A),x._registerOnDestroy(()=>{k._unregisterOnChange(A)})}(k,x),function(k,x){x.valueAccessor.registerOnTouched(()=>{k._pendingTouched=!0,"blur"===k.updateOn&&k._pendingChange&&cr(k,x),"submit"!==k.updateOn&&k.markAsTouched()})}(k,x),function(k,x){if(x.valueAccessor.setDisabledState){const A=Z=>{x.valueAccessor.setDisabledState(Z)};k.registerOnDisabledChange(A),x._registerOnDestroy(()=>{k._unregisterOnDisabledChange(A)})}}(k,x)}function Se(k,x){k.forEach(A=>{A.registerOnValidatorChange&&A.registerOnValidatorChange(x)})}function Ye(k,x){const A=function(k){return k._rawValidators}(k);null!==x.validator?k.setValidators(St(A,x.validator)):"function"==typeof A&&k.setValidators([A]);const Z=function(k){return k._rawAsyncValidators}(k);null!==x.asyncValidator?k.setAsyncValidators(St(Z,x.asyncValidator)):"function"==typeof Z&&k.setAsyncValidators([Z]);const st=()=>k.updateValueAndValidity();Se(x._rawValidators,st),Se(x._rawAsyncValidators,st)}function cr(k,x){k._pendingDirty&&k.markAsDirty(),k.setValue(k._pendingValue,{emitModelToViewChange:!1}),x.viewToModelUpdate(k._pendingValue),k._pendingChange=!1}function Ki(k,x){const A=k.indexOf(x);A>-1&&k.splice(A,1)}const In="VALID",xr="INVALID",Cr="PENDING",Pi="DISABLED";function zr(k){return(ri(k)?k.validators:k)||null}function ui(k){return Array.isArray(k)?xn(k):k||null}function os(k,x){return(ri(x)?x.asyncValidators:k)||null}function Xn(k){return Array.isArray(k)?Dn(k):k||null}function ri(k){return null!=k&&!Array.isArray(k)&&"object"==typeof k}class rr{constructor(x,A){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=x,this._rawAsyncValidators=A,this._composedValidatorFn=ui(this._rawValidators),this._composedAsyncValidatorFn=Xn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(x){this._rawValidators=this._composedValidatorFn=x}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(x){this._rawAsyncValidators=this._composedAsyncValidatorFn=x}get parent(){return this._parent}get valid(){return this.status===In}get invalid(){return this.status===xr}get pending(){return this.status==Cr}get disabled(){return this.status===Pi}get enabled(){return this.status!==Pi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(x){this._rawValidators=x,this._composedValidatorFn=ui(x)}setAsyncValidators(x){this._rawAsyncValidators=x,this._composedAsyncValidatorFn=Xn(x)}addValidators(x){this.setValidators(bi(x,this._rawValidators))}addAsyncValidators(x){this.setAsyncValidators(bi(x,this._rawAsyncValidators))}removeValidators(x){this.setValidators(Mn(x,this._rawValidators))}removeAsyncValidators(x){this.setAsyncValidators(Mn(x,this._rawAsyncValidators))}hasValidator(x){return $r(this._rawValidators,x)}hasAsyncValidator(x){return $r(this._rawAsyncValidators,x)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(x={}){this.touched=!0,this._parent&&!x.onlySelf&&this._parent.markAsTouched(x)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(x=>x.markAllAsTouched())}markAsUntouched(x={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(A=>{A.markAsUntouched({onlySelf:!0})}),this._parent&&!x.onlySelf&&this._parent._updateTouched(x)}markAsDirty(x={}){this.pristine=!1,this._parent&&!x.onlySelf&&this._parent.markAsDirty(x)}markAsPristine(x={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(A=>{A.markAsPristine({onlySelf:!0})}),this._parent&&!x.onlySelf&&this._parent._updatePristine(x)}markAsPending(x={}){this.status=Cr,!1!==x.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!x.onlySelf&&this._parent.markAsPending(x)}disable(x={}){const A=this._parentMarkedDirty(x.onlySelf);this.status=Pi,this.errors=null,this._forEachChild(Z=>{Z.disable(Object.assign(Object.assign({},x),{onlySelf:!0}))}),this._updateValue(),!1!==x.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},x),{skipPristineCheck:A})),this._onDisabledChange.forEach(Z=>Z(!0))}enable(x={}){const A=this._parentMarkedDirty(x.onlySelf);this.status=In,this._forEachChild(Z=>{Z.enable(Object.assign(Object.assign({},x),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},x),{skipPristineCheck:A})),this._onDisabledChange.forEach(Z=>Z(!1))}_updateAncestors(x){this._parent&&!x.onlySelf&&(this._parent.updateValueAndValidity(x),x.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(x){this._parent=x}updateValueAndValidity(x={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===In||this.status===Cr)&&this._runAsyncValidator(x.emitEvent)),!1!==x.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!x.onlySelf&&this._parent.updateValueAndValidity(x)}_updateTreeValidity(x={emitEvent:!0}){this._forEachChild(A=>A._updateTreeValidity(x)),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pi:In}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(x){if(this.asyncValidator){this.status=Cr,this._hasOwnPendingAsyncValidator=!0;const A=Bt(this.asyncValidator(this));this._asyncValidationSubscription=A.subscribe(Z=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Z,{emitEvent:x})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(x,A={}){this.errors=x,this._updateControlsErrors(!1!==A.emitEvent)}get(x){return function(k,x,A){if(null==x||(Array.isArray(x)||(x=x.split(".")),Array.isArray(x)&&0===x.length))return null;let Z=k;return x.forEach(st=>{Z=Z instanceof Zi?Z.controls.hasOwnProperty(st)?Z.controls[st]:null:Z instanceof er&&Z.at(st)||null}),Z}(this,x)}getError(x,A){const Z=A?this.get(A):this;return Z&&Z.errors?Z.errors[x]:null}hasError(x,A){return!!this.getError(x,A)}get root(){let x=this;for(;x._parent;)x=x._parent;return x}_updateControlsErrors(x){this.status=this._calculateStatus(),x&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(x)}_initObservables(){this.valueChanges=new _.vpe,this.statusChanges=new _.vpe}_calculateStatus(){return this._allControlsDisabled()?Pi:this.errors?xr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Cr)?Cr:this._anyControlsHaveStatus(xr)?xr:In}_anyControlsHaveStatus(x){return this._anyControls(A=>A.status===x)}_anyControlsDirty(){return this._anyControls(x=>x.dirty)}_anyControlsTouched(){return this._anyControls(x=>x.touched)}_updatePristine(x={}){this.pristine=!this._anyControlsDirty(),this._parent&&!x.onlySelf&&this._parent._updatePristine(x)}_updateTouched(x={}){this.touched=this._anyControlsTouched(),this._parent&&!x.onlySelf&&this._parent._updateTouched(x)}_isBoxedValue(x){return"object"==typeof x&&null!==x&&2===Object.keys(x).length&&"value"in x&&"disabled"in x}_registerOnCollectionChange(x){this._onCollectionChange=x}_setUpdateStrategy(x){ri(x)&&null!=x.updateOn&&(this._updateOn=x.updateOn)}_parentMarkedDirty(x){return!x&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Vr extends rr{constructor(x=null,A,Z){super(zr(A),os(Z,A)),this._onChange=[],this._applyFormState(x),this._setUpdateStrategy(A),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(x,A={}){this.value=this._pendingValue=x,this._onChange.length&&!1!==A.emitModelToViewChange&&this._onChange.forEach(Z=>Z(this.value,!1!==A.emitViewToModelChange)),this.updateValueAndValidity(A)}patchValue(x,A={}){this.setValue(x,A)}reset(x=null,A={}){this._applyFormState(x),this.markAsPristine(A),this.markAsUntouched(A),this.setValue(this.value,A),this._pendingChange=!1}_updateValue(){}_anyControls(x){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(x){this._onChange.push(x)}_unregisterOnChange(x){Ki(this._onChange,x)}registerOnDisabledChange(x){this._onDisabledChange.push(x)}_unregisterOnDisabledChange(x){Ki(this._onDisabledChange,x)}_forEachChild(x){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(x){this._isBoxedValue(x)?(this.value=this._pendingValue=x.value,x.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=x}}class Zi extends rr{constructor(x,A,Z){super(zr(A),os(Z,A)),this.controls=x,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(x,A){return this.controls[x]?this.controls[x]:(this.controls[x]=A,A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange),A)}addControl(x,A,Z={}){this.registerControl(x,A),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}removeControl(x,A={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}setControl(x,A,Z={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],A&&this.registerControl(x,A),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}contains(x){return this.controls.hasOwnProperty(x)&&this.controls[x].enabled}setValue(x,A={}){this._checkAllValuesPresent(x),Object.keys(x).forEach(Z=>{this._throwIfControlMissing(Z),this.controls[Z].setValue(x[Z],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(x,A={}){null!=x&&(Object.keys(x).forEach(Z=>{this.controls[Z]&&this.controls[Z].patchValue(x[Z],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(x={},A={}){this._forEachChild((Z,st)=>{Z.reset(x[st],{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this._reduceChildren({},(x,A,Z)=>(x[Z]=A instanceof Vr?A.value:A.getRawValue(),x))}_syncPendingControls(){let x=this._reduceChildren(!1,(A,Z)=>!!Z._syncPendingControls()||A);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_throwIfControlMissing(x){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[x])throw new Error(`Cannot find form control with name: ${x}.`)}_forEachChild(x){Object.keys(this.controls).forEach(A=>{const Z=this.controls[A];Z&&x(Z,A)})}_setUpControls(){this._forEachChild(x=>{x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(x){for(const A of Object.keys(this.controls)){const Z=this.controls[A];if(this.contains(A)&&x(Z))return!0}return!1}_reduceValue(){return this._reduceChildren({},(x,A,Z)=>((A.enabled||this.disabled)&&(x[Z]=A.value),x))}_reduceChildren(x,A){let Z=x;return this._forEachChild((st,Tt)=>{Z=A(Z,st,Tt)}),Z}_allControlsDisabled(){for(const x of Object.keys(this.controls))if(this.controls[x].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(x){this._forEachChild((A,Z)=>{if(void 0===x[Z])throw new Error(`Must supply a value for form control with name: '${Z}'.`)})}}class er extends rr{constructor(x,A,Z){super(zr(A),os(Z,A)),this.controls=x,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(x){return this.controls[x]}push(x,A={}){this.controls.push(x),this._registerControl(x),this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}insert(x,A,Z={}){this.controls.splice(x,0,A),this._registerControl(A),this.updateValueAndValidity({emitEvent:Z.emitEvent})}removeAt(x,A={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),this.controls.splice(x,1),this.updateValueAndValidity({emitEvent:A.emitEvent})}setControl(x,A,Z={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),this.controls.splice(x,1),A&&(this.controls.splice(x,0,A),this._registerControl(A)),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(x,A={}){this._checkAllValuesPresent(x),x.forEach((Z,st)=>{this._throwIfControlMissing(st),this.at(st).setValue(Z,{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(x,A={}){null!=x&&(x.forEach((Z,st)=>{this.at(st)&&this.at(st).patchValue(Z,{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(x=[],A={}){this._forEachChild((Z,st)=>{Z.reset(x[st],{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this.controls.map(x=>x instanceof Vr?x.value:x.getRawValue())}clear(x={}){this.controls.length<1||(this._forEachChild(A=>A._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:x.emitEvent}))}_syncPendingControls(){let x=this.controls.reduce((A,Z)=>!!Z._syncPendingControls()||A,!1);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_throwIfControlMissing(x){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(x))throw new Error(`Cannot find form control at index ${x}`)}_forEachChild(x){this.controls.forEach((A,Z)=>{x(A,Z)})}_updateValue(){this.value=this.controls.filter(x=>x.enabled||this.disabled).map(x=>x.value)}_anyControls(x){return this.controls.some(A=>A.enabled&&x(A))}_setUpControls(){this._forEachChild(x=>this._registerControl(x))}_checkAllValuesPresent(x){this._forEachChild((A,Z)=>{if(void 0===x[Z])throw new Error(`Must supply a value for form control at index: ${Z}.`)})}_allControlsDisabled(){for(const x of this.controls)if(x.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(x){x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)}}const Gt={provide:Yn,useExisting:(0,_.Gpc)(()=>Oe)},wn=(()=>Promise.resolve(null))();let Oe=(()=>{class k extends Yn{constructor(A,Z){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new _.vpe,this.form=new Zi({},xn(A),Dn(Z))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(A){wn.then(()=>{const Z=this._findContainer(A.path);A.control=Z.registerControl(A.name,A.control),ve(A.control,A),A.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(A)})}getControl(A){return this.form.get(A.path)}removeControl(A){wn.then(()=>{const Z=this._findContainer(A.path);Z&&Z.removeControl(A.name),Ki(this._directives,A)})}addFormGroup(A){wn.then(()=>{const Z=this._findContainer(A.path),st=new Zi({});(function(k,x){Ye(k,x)})(st,A),Z.registerControl(A.name,st),st.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(A){wn.then(()=>{const Z=this._findContainer(A.path);Z&&Z.removeControl(A.name)})}getFormGroup(A){return this.form.get(A.path)}updateModel(A,Z){wn.then(()=>{this.form.get(A.path).setValue(Z)})}setValue(A){this.control.setValue(A)}onSubmit(A){return this.submitted=!0,function(k,x){k._syncPendingControls(),x.forEach(A=>{const Z=A.control;"submit"===Z.updateOn&&Z._pendingChange&&(A.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(A),!1}onReset(){this.resetForm()}resetForm(A){this.form.reset(A),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(A){return A.pop(),A.length?this.form.get(A):this.form}}return k.\u0275fac=function(A){return new(A||k)(_.Y36(Re,10),_.Y36(tt,10))},k.\u0275dir=_.lG2({type:k,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(A,Z){1&A&&_.NdJ("submit",function(Tt){return Z.onSubmit(Tt)})("reset",function(){return Z.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([Gt]),_.qOj]}),k})();const Wn={provide:ar,useExisting:(0,_.Gpc)(()=>vr)},di=(()=>Promise.resolve(null))();let vr=(()=>{class k extends ar{constructor(A,Z,st,Tt){super(),this.control=new Vr,this._registered=!1,this.update=new _.vpe,this._parent=A,this._setValidators(Z),this._setAsyncValidators(st),this.valueAccessor=function(k,x){if(!x)return null;let A,Z,st;return Array.isArray(x),x.forEach(Tt=>{Tt.constructor===Me?A=Tt:function(k){return Object.getPrototypeOf(k.constructor)===J}(Tt)?Z=Tt:st=Tt}),st||Z||A||null}(0,Tt)}ngOnChanges(A){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in A&&this._updateDisabled(A),function(k,x){if(!k.hasOwnProperty("model"))return!1;const A=k.model;return!!A.isFirstChange()||!Object.is(x,A.currentValue)}(A,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(k,x){return[...x.path,k]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(A){this.viewModel=A,this.update.emit(A)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ve(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(A){di.then(()=>{this.control.setValue(A,{emitViewToModelChange:!1})})}_updateDisabled(A){const Z=A.isDisabled.currentValue,st=""===Z||Z&&"false"!==Z;di.then(()=>{st&&!this.control.disabled?this.control.disable():!st&&this.control.disabled&&this.control.enable()})}}return k.\u0275fac=function(A){return new(A||k)(_.Y36(Yn,9),_.Y36(Re,10),_.Y36(tt,10),_.Y36(fe,10))},k.\u0275dir=_.lG2({type:k,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_._Bn([Wn]),_.qOj,_.TTD]}),k})(),Ir=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275dir=_.lG2({type:k,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),k})();const as={provide:fe,useExisting:(0,_.Gpc)(()=>Rr),multi:!0};let Rr=(()=>{class k extends J{writeValue(A){this.setProperty("value",null==A?"":A)}registerOnChange(A){this.onChange=Z=>{A(""==Z?null:parseFloat(Z))}}}return k.\u0275fac=function(){let x;return function(Z){return(x||(x=_.n5z(k)))(Z||k)}}(),k.\u0275dir=_.lG2({type:k,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(A,Z){1&A&&_.NdJ("input",function(Tt){return Z.onChange(Tt.target.value)})("blur",function(){return Z.onTouched()})},features:[_._Bn([as]),_.qOj]}),k})();const Jr={provide:fe,useExisting:(0,_.Gpc)(()=>_i),multi:!0};let ws=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=_.oAB({type:k}),k.\u0275inj=_.cJS({}),k})(),yi=(()=>{class k{constructor(){this._accessors=[]}add(A,Z){this._accessors.push([A,Z])}remove(A){for(let Z=this._accessors.length-1;Z>=0;--Z)if(this._accessors[Z][1]===A)return void this._accessors.splice(Z,1)}select(A){this._accessors.forEach(Z=>{this._isSameGroup(Z,A)&&Z[1]!==A&&Z[1].fireUncheck(A.value)})}_isSameGroup(A,Z){return!!A[0].control&&A[0]._parent===Z._control._parent&&A[1].name===Z.name}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=(0,_.Yz7)({factory:function(){return new k},token:k,providedIn:ws}),k})(),_i=(()=>{class k extends J{constructor(A,Z,st,Tt){super(A,Z),this._registry=st,this._injector=Tt,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(ar),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(A){this._state=A===this.value,this.setProperty("checked",this._state)}registerOnChange(A){this._fn=A,this.onChange=()=>{A(this.value),this._registry.select(this)}}fireUncheck(A){this.writeValue(A)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return k.\u0275fac=function(A){return new(A||k)(_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(yi),_.Y36(_.zs3))},k.\u0275dir=_.lG2({type:k,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(A,Z){1&A&&_.NdJ("change",function(){return Z.onChange()})("blur",function(){return Z.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[_._Bn([Jr]),_.qOj]}),k})();const Ni=new _.OlP("NgModelWithFormControlWarning"),ii={provide:fe,useExisting:(0,_.Gpc)(()=>fi),multi:!0};function kn(k,x){return null==k?`${x}`:(x&&"object"==typeof x&&(x="Object"),`${k}: ${x}`.slice(0,50))}let fi=(()=>{class k extends J{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(A){this._compareWith=A}writeValue(A){this.value=A;const Z=this._getOptionId(A);null==Z&&this.setProperty("selectedIndex",-1);const st=kn(Z,A);this.setProperty("value",st)}registerOnChange(A){this.onChange=Z=>{this.value=this._getOptionValue(Z),A(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(A){for(const Z of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Z),A))return Z;return null}_getOptionValue(A){const Z=function(k){return k.split(":")[0]}(A);return this._optionMap.has(Z)?this._optionMap.get(Z):A}}return k.\u0275fac=function(){let x;return function(Z){return(x||(x=_.n5z(k)))(Z||k)}}(),k.\u0275dir=_.lG2({type:k,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(A,Z){1&A&&_.NdJ("change",function(Tt){return Z.onChange(Tt.target.value)})("blur",function(){return Z.onTouched()})},inputs:{compareWith:"compareWith"},features:[_._Bn([ii]),_.qOj]}),k})(),vi=(()=>{class k{constructor(A,Z,st){this._element=A,this._renderer=Z,this._select=st,this._select&&(this.id=this._select._registerOption())}set ngValue(A){null!=this._select&&(this._select._optionMap.set(this.id,A),this._setElementValue(kn(this.id,A)),this._select.writeValue(this._select.value))}set value(A){this._setElementValue(A),this._select&&this._select.writeValue(this._select.value)}_setElementValue(A){this._renderer.setProperty(this._element.nativeElement,"value",A)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return k.\u0275fac=function(A){return new(A||k)(_.Y36(_.SBq),_.Y36(_.Qsj),_.Y36(fi,9))},k.\u0275dir=_.lG2({type:k,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),k})();const Ps={provide:fe,useExisting:(0,_.Gpc)(()=>Yr),multi:!0};function gs(k,x){return null==k?`${x}`:("string"==typeof x&&(x=`'${x}'`),x&&"object"==typeof x&&(x="Object"),`${k}: ${x}`.slice(0,50))}let Yr=(()=>{class k extends J{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(A){this._compareWith=A}writeValue(A){let Z;if(this.value=A,Array.isArray(A)){const st=A.map(Tt=>this._getOptionId(Tt));Z=(Tt,Rn)=>{Tt._setSelected(st.indexOf(Rn.toString())>-1)}}else Z=(st,Tt)=>{st._setSelected(!1)};this._optionMap.forEach(Z)}registerOnChange(A){this.onChange=Z=>{const st=[];if(void 0!==Z.selectedOptions){const Tt=Z.selectedOptions;for(let Rn=0;Rn<Tt.length;Rn++){const Mr=Tt.item(Rn),Wr=this._getOptionValue(Mr.value);st.push(Wr)}}else{const Tt=Z.options;for(let Rn=0;Rn<Tt.length;Rn++){const Mr=Tt.item(Rn);if(Mr.selected){const Wr=this._getOptionValue(Mr.value);st.push(Wr)}}}this.value=st,A(st)}}_registerOption(A){const Z=(this._idCounter++).toString();return this._optionMap.set(Z,A),Z}_getOptionId(A){for(const Z of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Z)._value,A))return Z;return null}_getOptionValue(A){const Z=function(k){return k.split(":")[0]}(A);return this._optionMap.has(Z)?this._optionMap.get(Z)._value:A}}return k.\u0275fac=function(){let x;return function(Z){return(x||(x=_.n5z(k)))(Z||k)}}(),k.\u0275dir=_.lG2({type:k,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(A,Z){1&A&&_.NdJ("change",function(Tt){return Z.onChange(Tt.target)})("blur",function(){return Z.onTouched()})},inputs:{compareWith:"compareWith"},features:[_._Bn([Ps]),_.qOj]}),k})(),Yi=(()=>{class k{constructor(A,Z,st){this._element=A,this._renderer=Z,this._select=st,this._select&&(this.id=this._select._registerOption(this))}set ngValue(A){null!=this._select&&(this._value=A,this._setElementValue(gs(this.id,A)),this._select.writeValue(this._select.value))}set value(A){this._select?(this._value=A,this._setElementValue(gs(this.id,A)),this._select.writeValue(this._select.value)):this._setElementValue(A)}_setElementValue(A){this._renderer.setProperty(this._element.nativeElement,"value",A)}_setSelected(A){this._renderer.setProperty(this._element.nativeElement,"selected",A)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return k.\u0275fac=function(A){return new(A||k)(_.Y36(_.SBq),_.Y36(_.Qsj),_.Y36(Yr,9))},k.\u0275dir=_.lG2({type:k,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),k})(),q=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=_.oAB({type:k}),k.\u0275inj=_.cJS({imports:[[ws]]}),k})(),U=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=_.oAB({type:k}),k.\u0275inj=_.cJS({imports:[q]}),k})(),te=(()=>{class k{static withConfig(A){return{ngModule:k,providers:[{provide:Ni,useValue:A.warnOnNgModelWithFormControl}]}}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=_.oAB({type:k}),k.\u0275inj=_.cJS({imports:[q]}),k})()},9075:($t,ze,N)=>{"use strict";N.d(ze,{b2:()=>kr,H7:()=>Se,q6:()=>Jn,se:()=>rn});var _=N(8583),I=N(639);class K extends _.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ae extends K{static makeCurrent(){(0,_.HT)(new Ae)}onAndCancel(xe,le,Xe){return xe.addEventListener(le,Xe,!1),()=>{xe.removeEventListener(le,Xe,!1)}}dispatchEvent(xe,le){xe.dispatchEvent(le)}remove(xe){xe.parentNode&&xe.parentNode.removeChild(xe)}createElement(xe,le){return(le=le||this.getDefaultDocument()).createElement(xe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(xe){return xe.nodeType===Node.ELEMENT_NODE}isShadowRoot(xe){return xe instanceof DocumentFragment}getGlobalEventTarget(xe,le){return"window"===le?window:"document"===le?xe:"body"===le?xe.body:null}getBaseHref(xe){const le=(Ee=Ee||document.querySelector("base"),Ee?Ee.getAttribute("href"):null);return null==le?null:function(Oe){Ge=Ge||document.createElement("a"),Ge.setAttribute("href",Oe);const xe=Ge.pathname;return"/"===xe.charAt(0)?xe:`/${xe}`}(le)}resetBaseElement(){Ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(xe){return(0,_.Mx)(document.cookie,xe)}}let Ge,Ee=null;const we=new I.OlP("TRANSITION_ID"),J=[{provide:I.ip1,useFactory:function(Oe,xe,le){return()=>{le.get(I.CZH).donePromise.then(()=>{const Xe=(0,_.q)(),gt=xe.querySelectorAll(`style[ng-transition="${Oe}"]`);for(let fn=0;fn<gt.length;fn++)Xe.remove(gt[fn])})}},deps:[we,_.K0,I.zs3],multi:!0}];class fe{static init(){(0,I.VLi)(new fe)}addToWindow(xe){I.dqk.getAngularTestability=(Xe,gt=!0)=>{const fn=xe.findTestabilityInTree(Xe,gt);if(null==fn)throw new Error("Could not find testability for element.");return fn},I.dqk.getAllAngularTestabilities=()=>xe.getAllTestabilities(),I.dqk.getAllAngularRootElements=()=>xe.getAllRootElements(),I.dqk.frameworkStabilizers||(I.dqk.frameworkStabilizers=[]),I.dqk.frameworkStabilizers.push(Xe=>{const gt=I.dqk.getAllAngularTestabilities();let fn=gt.length,An=!1;const cn=function(Wn){An=An||Wn,fn--,0==fn&&Xe(An)};gt.forEach(function(Wn){Wn.whenStable(cn)})})}findTestabilityInTree(xe,le,Xe){if(null==le)return null;const gt=xe.getTestability(le);return null!=gt?gt:Xe?(0,_.q)().isShadowRoot(le)?this.findTestabilityInTree(xe,le.host,!0):this.findTestabilityInTree(xe,le.parentElement,!0):null}}let Fe=(()=>{class Oe{build(){return new XMLHttpRequest}}return Oe.\u0275fac=function(le){return new(le||Oe)},Oe.\u0275prov=I.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();const me=new I.OlP("EventManagerPlugins");let de=(()=>{class Oe{constructor(le,Xe){this._zone=Xe,this._eventNameToPlugin=new Map,le.forEach(gt=>gt.manager=this),this._plugins=le.slice().reverse()}addEventListener(le,Xe,gt){return this._findPluginFor(Xe).addEventListener(le,Xe,gt)}addGlobalEventListener(le,Xe,gt){return this._findPluginFor(Xe).addGlobalEventListener(le,Xe,gt)}getZone(){return this._zone}_findPluginFor(le){const Xe=this._eventNameToPlugin.get(le);if(Xe)return Xe;const gt=this._plugins;for(let fn=0;fn<gt.length;fn++){const An=gt[fn];if(An.supports(le))return this._eventNameToPlugin.set(le,An),An}throw new Error(`No event manager plugin found for event ${le}`)}}return Oe.\u0275fac=function(le){return new(le||Oe)(I.LFG(me),I.LFG(I.R0b))},Oe.\u0275prov=I.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();class Je{constructor(xe){this._doc=xe}addGlobalEventListener(xe,le,Xe){const gt=(0,_.q)().getGlobalEventTarget(this._doc,xe);if(!gt)throw new Error(`Unsupported event target ${gt} for event ${le}`);return this.addEventListener(gt,le,Xe)}}let ye=(()=>{class Oe{constructor(){this._stylesSet=new Set}addStyles(le){const Xe=new Set;le.forEach(gt=>{this._stylesSet.has(gt)||(this._stylesSet.add(gt),Xe.add(gt))}),this.onStylesAdded(Xe)}onStylesAdded(le){}getAllStyles(){return Array.from(this._stylesSet)}}return Oe.\u0275fac=function(le){return new(le||Oe)},Oe.\u0275prov=I.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})(),it=(()=>{class Oe extends ye{constructor(le){super(),this._doc=le,this._hostNodes=new Map,this._hostNodes.set(le.head,[])}_addStylesToHost(le,Xe,gt){le.forEach(fn=>{const An=this._doc.createElement("style");An.textContent=fn,gt.push(Xe.appendChild(An))})}addHost(le){const Xe=[];this._addStylesToHost(this._stylesSet,le,Xe),this._hostNodes.set(le,Xe)}removeHost(le){const Xe=this._hostNodes.get(le);Xe&&Xe.forEach(on),this._hostNodes.delete(le)}onStylesAdded(le){this._hostNodes.forEach((Xe,gt)=>{this._addStylesToHost(le,gt,Xe)})}ngOnDestroy(){this._hostNodes.forEach(le=>le.forEach(on))}}return Oe.\u0275fac=function(le){return new(le||Oe)(I.LFG(_.K0))},Oe.\u0275prov=I.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();function on(Oe){(0,_.q)().remove(Oe)}const Bt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},At=/%COMP%/g;function Dn(Oe,xe,le){for(let Xe=0;Xe<xe.length;Xe++){let gt=xe[Xe];Array.isArray(gt)?Dn(Oe,gt,le):(gt=gt.replace(At,Oe),le.push(gt))}return le}function St(Oe){return xe=>{if("__ngUnwrap__"===xe)return Oe;!1===Oe(xe)&&(xe.preventDefault(),xe.returnValue=!1)}}let rn=(()=>{class Oe{constructor(le,Xe,gt){this.eventManager=le,this.sharedStylesHost=Xe,this.appId=gt,this.rendererByCompId=new Map,this.defaultRenderer=new zn(le)}createRenderer(le,Xe){if(!le||!Xe)return this.defaultRenderer;switch(Xe.encapsulation){case I.ifc.Emulated:{let gt=this.rendererByCompId.get(Xe.id);return gt||(gt=new Hr(this.eventManager,this.sharedStylesHost,Xe,this.appId),this.rendererByCompId.set(Xe.id,gt)),gt.applyToHost(le),gt}case 1:case I.ifc.ShadowDom:return new Yn(this.eventManager,this.sharedStylesHost,le,Xe);default:if(!this.rendererByCompId.has(Xe.id)){const gt=Dn(Xe.id,Xe.styles,[]);this.sharedStylesHost.addStyles(gt),this.rendererByCompId.set(Xe.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Oe.\u0275fac=function(le){return new(le||Oe)(I.LFG(de),I.LFG(it),I.LFG(I.AFp))},Oe.\u0275prov=I.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();class zn{constructor(xe){this.eventManager=xe,this.data=Object.create(null)}destroy(){}createElement(xe,le){return le?document.createElementNS(Bt[le]||le,xe):document.createElement(xe)}createComment(xe){return document.createComment(xe)}createText(xe){return document.createTextNode(xe)}appendChild(xe,le){xe.appendChild(le)}insertBefore(xe,le,Xe){xe&&xe.insertBefore(le,Xe)}removeChild(xe,le){xe&&xe.removeChild(le)}selectRootElement(xe,le){let Xe="string"==typeof xe?document.querySelector(xe):xe;if(!Xe)throw new Error(`The selector "${xe}" did not match any elements`);return le||(Xe.textContent=""),Xe}parentNode(xe){return xe.parentNode}nextSibling(xe){return xe.nextSibling}setAttribute(xe,le,Xe,gt){if(gt){le=gt+":"+le;const fn=Bt[gt];fn?xe.setAttributeNS(fn,le,Xe):xe.setAttribute(le,Xe)}else xe.setAttribute(le,Xe)}removeAttribute(xe,le,Xe){if(Xe){const gt=Bt[Xe];gt?xe.removeAttributeNS(gt,le):xe.removeAttribute(`${Xe}:${le}`)}else xe.removeAttribute(le)}addClass(xe,le){xe.classList.add(le)}removeClass(xe,le){xe.classList.remove(le)}setStyle(xe,le,Xe,gt){gt&(I.JOm.DashCase|I.JOm.Important)?xe.style.setProperty(le,Xe,gt&I.JOm.Important?"important":""):xe.style[le]=Xe}removeStyle(xe,le,Xe){Xe&I.JOm.DashCase?xe.style.removeProperty(le):xe.style[le]=""}setProperty(xe,le,Xe){xe[le]=Xe}setValue(xe,le){xe.nodeValue=le}listen(xe,le,Xe){return"string"==typeof xe?this.eventManager.addGlobalEventListener(xe,le,St(Xe)):this.eventManager.addEventListener(xe,le,St(Xe))}}class Hr extends zn{constructor(xe,le,Xe,gt){super(xe),this.component=Xe;const fn=Dn(gt+"-"+Xe.id,Xe.styles,[]);le.addStyles(fn),this.contentAttr="_ngcontent-%COMP%".replace(At,gt+"-"+Xe.id),this.hostAttr="_nghost-%COMP%".replace(At,gt+"-"+Xe.id)}applyToHost(xe){super.setAttribute(xe,this.hostAttr,"")}createElement(xe,le){const Xe=super.createElement(xe,le);return super.setAttribute(Xe,this.contentAttr,""),Xe}}class Yn extends zn{constructor(xe,le,Xe,gt){super(xe),this.sharedStylesHost=le,this.hostEl=Xe,this.shadowRoot=Xe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const fn=Dn(gt.id,gt.styles,[]);for(let An=0;An<fn.length;An++){const cn=document.createElement("style");cn.textContent=fn[An],this.shadowRoot.appendChild(cn)}}nodeOrShadowRoot(xe){return xe===this.hostEl?this.shadowRoot:xe}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(xe,le){return super.appendChild(this.nodeOrShadowRoot(xe),le)}insertBefore(xe,le,Xe){return super.insertBefore(this.nodeOrShadowRoot(xe),le,Xe)}removeChild(xe,le){return super.removeChild(this.nodeOrShadowRoot(xe),le)}parentNode(xe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(xe)))}}let ar=(()=>{class Oe extends Je{constructor(le){super(le)}supports(le){return!0}addEventListener(le,Xe,gt){return le.addEventListener(Xe,gt,!1),()=>this.removeEventListener(le,Xe,gt)}removeEventListener(le,Xe,gt){return le.removeEventListener(Xe,gt)}}return Oe.\u0275fac=function(le){return new(le||Oe)(I.LFG(_.K0))},Oe.\u0275prov=I.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();const bn=["alt","control","meta","shift"],Yt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ar={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},_r={alt:Oe=>Oe.altKey,control:Oe=>Oe.ctrlKey,meta:Oe=>Oe.metaKey,shift:Oe=>Oe.shiftKey};let ve=(()=>{class Oe extends Je{constructor(le){super(le)}supports(le){return null!=Oe.parseEventName(le)}addEventListener(le,Xe,gt){const fn=Oe.parseEventName(Xe),An=Oe.eventCallback(fn.fullKey,gt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_.q)().onAndCancel(le,fn.domEventName,An))}static parseEventName(le){const Xe=le.toLowerCase().split("."),gt=Xe.shift();if(0===Xe.length||"keydown"!==gt&&"keyup"!==gt)return null;const fn=Oe._normalizeKey(Xe.pop());let An="";if(bn.forEach(Wn=>{const Cn=Xe.indexOf(Wn);Cn>-1&&(Xe.splice(Cn,1),An+=Wn+".")}),An+=fn,0!=Xe.length||0===fn.length)return null;const cn={};return cn.domEventName=gt,cn.fullKey=An,cn}static getEventFullKey(le){let Xe="",gt=function(Oe){let xe=Oe.key;if(null==xe){if(xe=Oe.keyIdentifier,null==xe)return"Unidentified";xe.startsWith("U+")&&(xe=String.fromCharCode(parseInt(xe.substring(2),16)),3===Oe.location&&Ar.hasOwnProperty(xe)&&(xe=Ar[xe]))}return Yt[xe]||xe}(le);return gt=gt.toLowerCase()," "===gt?gt="space":"."===gt&&(gt="dot"),bn.forEach(fn=>{fn!=gt&&_r[fn](le)&&(Xe+=fn+".")}),Xe+=gt,Xe}static eventCallback(le,Xe,gt){return fn=>{Oe.getEventFullKey(fn)===le&&gt.runGuarded(()=>Xe(fn))}}static _normalizeKey(le){switch(le){case"esc":return"escape";default:return le}}}return Oe.\u0275fac=function(le){return new(le||Oe)(I.LFG(_.K0))},Oe.\u0275prov=I.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})(),Se=(()=>{class Oe{}return Oe.\u0275fac=function(le){return new(le||Oe)},Oe.\u0275prov=(0,I.Yz7)({factory:function(){return(0,I.LFG)(Ye)},token:Oe,providedIn:"root"}),Oe})(),Ye=(()=>{class Oe extends Se{constructor(le){super(),this._doc=le}sanitize(le,Xe){if(null==Xe)return null;switch(le){case I.q3G.NONE:return Xe;case I.q3G.HTML:return(0,I.qzn)(Xe,"HTML")?(0,I.z3N)(Xe):(0,I.EiD)(this._doc,String(Xe)).toString();case I.q3G.STYLE:return(0,I.qzn)(Xe,"Style")?(0,I.z3N)(Xe):Xe;case I.q3G.SCRIPT:if((0,I.qzn)(Xe,"Script"))return(0,I.z3N)(Xe);throw new Error("unsafe value used in a script context");case I.q3G.URL:return(0,I.yhl)(Xe),(0,I.qzn)(Xe,"URL")?(0,I.z3N)(Xe):(0,I.mCW)(String(Xe));case I.q3G.RESOURCE_URL:if((0,I.qzn)(Xe,"ResourceURL"))return(0,I.z3N)(Xe);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${le} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(le){return(0,I.JVY)(le)}bypassSecurityTrustStyle(le){return(0,I.L6k)(le)}bypassSecurityTrustScript(le){return(0,I.eBb)(le)}bypassSecurityTrustUrl(le){return(0,I.LAX)(le)}bypassSecurityTrustResourceUrl(le){return(0,I.pB0)(le)}}return Oe.\u0275fac=function(le){return new(le||Oe)(I.LFG(_.K0))},Oe.\u0275prov=(0,I.Yz7)({factory:function(){return function(Oe){return new Ye(Oe.get(_.K0))}((0,I.LFG)(I.gxx))},token:Oe,providedIn:"root"}),Oe})();const Jn=(0,I.eFA)(I._c5,"browser",[{provide:I.Lbi,useValue:_.bD},{provide:I.g9A,useValue:function(){Ae.makeCurrent(),fe.init()},multi:!0},{provide:_.K0,useFactory:function(){return(0,I.RDi)(document),document},deps:[]}]),ci=[[],{provide:I.zSh,useValue:"root"},{provide:I.qLn,useFactory:function(){return new I.qLn},deps:[]},{provide:me,useClass:ar,multi:!0,deps:[_.K0,I.R0b,I.Lbi]},{provide:me,useClass:ve,multi:!0,deps:[_.K0]},[],{provide:rn,useClass:rn,deps:[de,it,I.AFp]},{provide:I.FYo,useExisting:rn},{provide:ye,useExisting:it},{provide:it,useClass:it,deps:[_.K0]},{provide:I.dDg,useClass:I.dDg,deps:[I.R0b]},{provide:de,useClass:de,deps:[me,I.R0b]},{provide:_.JF,useClass:Fe,deps:[]},[]];let kr=(()=>{class Oe{constructor(le){if(le)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(le){return{ngModule:Oe,providers:[{provide:I.AFp,useValue:le.appId},{provide:we,useExisting:I.AFp},J]}}}return Oe.\u0275fac=function(le){return new(le||Oe)(I.LFG(Oe,12))},Oe.\u0275mod=I.oAB({type:Oe}),Oe.\u0275inj=I.cJS({providers:ci,imports:[_.ez,I.hGG]}),Oe})();"undefined"!=typeof window&&window},7202:($t,ze,N)=>{"use strict";N.d(ze,{F0:()=>m,yS:()=>ge,Bz:()=>ts,lC:()=>kt});var _=N(8583),I=N(639),K=N(4869),Ae=N(9796),Ee=N(7393);class Pe extends Ee.L{notifyNext(E,v,R,j,Y){this.destination.next(v)}notifyError(E,v){this.destination.error(E)}notifyComplete(E){this.destination.complete()}}class Ge extends Ee.L{constructor(E,v,R){super(),this.parent=E,this.outerValue=v,this.outerIndex=R,this.index=0}_next(E){this.parent.notifyNext(this.outerValue,E,this.outerIndex,this.index++,this)}_error(E){this.parent.notifyError(E,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Qe=N(7444),we=N(7574);function X(D,E,v,R,j=new Ge(D,v,R)){if(!j.closed)return E instanceof we.y?E.subscribe(j):(0,Qe.s)(E)(j)}var J=N(6693);const fe={};class Ue{constructor(E){this.resultSelector=E}call(E,v){return v.subscribe(new ft(E,this.resultSelector))}}class ft extends Pe{constructor(E,v){super(E),this.resultSelector=v,this.active=0,this.values=[],this.observables=[]}_next(E){this.values.push(fe),this.observables.push(E)}_complete(){const E=this.observables,v=E.length;if(0===v)this.destination.complete();else{this.active=v,this.toRespond=v;for(let R=0;R<v;R++)this.add(X(this,E[R],void 0,R))}}notifyComplete(E){0==(this.active-=1)&&this.destination.complete()}notifyNext(E,v,R){const j=this.values,ce=this.toRespond?j[R]===fe?--this.toRespond:this.toRespond:0;j[R]=v,0===ce&&(this.resultSelector?this._tryResultSelector(j):this.destination.next(j.slice()))}_tryResultSelector(E){let v;try{v=this.resultSelector.apply(this,E)}catch(R){return void this.destination.error(R)}this.destination.next(v)}}const Ke=(()=>{function D(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return D.prototype=Object.create(Error.prototype),D})();var Me=N(5917),We=N(3282);function Re(...D){return(0,We.J)(1)((0,Me.of)(...D))}var tt=N(4402);const rt=new we.y(D=>D.complete());function Lt(D){return D?function(D){return new we.y(E=>D.schedule(()=>E.complete()))}(D):rt}function ne(D){return new we.y(E=>{let v;try{v=D()}catch(j){return void E.error(j)}return(v?(0,tt.D)(v):Lt()).subscribe(E)})}var oe=N(6215),_e=N(2441),me=N(7709),de=N(8002),Je=N(5345);function ye(D,E){return"function"==typeof E?v=>v.pipe(ye((R,j)=>(0,tt.D)(D(R,j)).pipe((0,de.U)((Y,ce)=>E(R,Y,j,ce))))):v=>v.lift(new it(D))}class it{constructor(E){this.project=E}call(E,v){return v.subscribe(new on(E,this.project))}}class on extends Je.Ds{constructor(E,v){super(E),this.project=v,this.index=0}_next(E){let v;const R=this.index++;try{v=this.project(E,R)}catch(j){return void this.destination.error(j)}this._innerSub(v)}_innerSub(E){const v=this.innerSubscription;v&&v.unsubscribe();const R=new Je.IY(this),j=this.destination;j.add(R),this.innerSubscription=(0,Je.ft)(E,R),this.innerSubscription!==R&&j.add(this.innerSubscription)}_complete(){const{innerSubscription:E}=this;(!E||E.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(E){this.destination.next(E)}}const At=(()=>{function D(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return D.prototype=Object.create(Error.prototype),D})();function an(D){return E=>0===D?Lt():E.lift(new Nn(D))}class Nn{constructor(E){if(this.total=E,this.total<0)throw new At}call(E,v){return v.subscribe(new vn(E,this.total))}}class vn extends Ee.L{constructor(E,v){super(E),this.total=v,this.count=0}_next(E){const v=this.total,R=++this.count;R<=v&&(this.destination.next(E),R===v&&(this.destination.complete(),this.unsubscribe()))}}function xn(D,E){let v=!1;return arguments.length>=2&&(v=!0),function(j){return j.lift(new En(D,E,v))}}class En{constructor(E,v,R=!1){this.accumulator=E,this.seed=v,this.hasSeed=R}call(E,v){return v.subscribe(new Dn(E,this.accumulator,this.seed,this.hasSeed))}}class Dn extends Ee.L{constructor(E,v,R,j){super(E),this.accumulator=v,this._seed=R,this.hasSeed=j,this.index=0}get seed(){return this._seed}set seed(E){this.hasSeed=!0,this._seed=E}_next(E){if(this.hasSeed)return this._tryNext(E);this.seed=E,this.destination.next(E)}_tryNext(E){const v=this.index++;let R;try{R=this.accumulator(this.seed,E,v)}catch(j){this.destination.error(j)}this.seed=R,this.destination.next(R)}}function St(D,E){return function(R){return R.lift(new pr(D,E))}}class pr{constructor(E,v){this.predicate=E,this.thisArg=v}call(E,v){return v.subscribe(new rn(E,this.predicate,this.thisArg))}}class rn extends Ee.L{constructor(E,v,R){super(E),this.predicate=v,this.thisArg=R,this.count=0}_next(E){let v;try{v=this.predicate.call(this.thisArg,E,this.count++)}catch(R){return void this.destination.error(R)}v&&this.destination.next(E)}}function zn(D){return function(v){const R=new $r(D),j=v.lift(R);return R.caught=j}}class $r{constructor(E){this.selector=E}call(E,v){return v.subscribe(new bi(E,this.selector,this.caught))}}class bi extends Je.Ds{constructor(E,v,R){super(E),this.selector=v,this.caught=R}error(E){if(!this.isStopped){let v;try{v=this.selector(E,this.caught)}catch(Y){return void super.error(Y)}this._unsubscribeAndRecycle();const R=new Je.IY(this);this.add(R);const j=(0,Je.ft)(v,R);j!==R&&this.add(j)}}}var Mn=N(9773);function Hr(D,E){return(0,Mn.zg)(D,E,1)}function Yn(D){return function(v){return 0===D?Lt():v.lift(new ar(D))}}class ar{constructor(E){if(this.total=E,this.total<0)throw new At}call(E,v){return v.subscribe(new ur(E,this.total))}}class ur extends Ee.L{constructor(E,v){super(E),this.total=v,this.ring=new Array,this.count=0}_next(E){const v=this.ring,R=this.total,j=this.count++;v.length<R?v.push(E):v[j%R]=E}_complete(){const E=this.destination;let v=this.count;if(v>0){const R=this.count>=this.total?this.total:this.count,j=this.ring;for(let Y=0;Y<R;Y++){const ce=v++%R;E.next(j[ce])}}E.complete()}}function yr(D=at){return E=>E.lift(new qt(D))}class qt{constructor(E){this.errorFactory=E}call(E,v){return v.subscribe(new Kt(E,this.errorFactory))}}class Kt extends Ee.L{constructor(E,v){super(E),this.errorFactory=v,this.hasValue=!1}_next(E){this.hasValue=!0,this.destination.next(E)}_complete(){if(this.hasValue)return this.destination.complete();{let E;try{E=this.errorFactory()}catch(v){E=v}this.destination.error(E)}}}function at(){return new Ke}function dt(D=null){return E=>E.lift(new dn(D))}class dn{constructor(E){this.defaultValue=E}call(E,v){return v.subscribe(new mn(E,this.defaultValue))}}class mn extends Ee.L{constructor(E,v){super(E),this.defaultValue=v,this.isEmpty=!0}_next(E){this.isEmpty=!1,this.destination.next(E)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Mt=N(4487);function Ht(D,E){const v=arguments.length>=2;return R=>R.pipe(D?St((j,Y)=>D(j,Y,R)):Mt.y,an(1),v?dt(E):yr(()=>new Ke))}function Yt(){}var Ar=N(9105);function lr(D,E,v){return function(j){return j.lift(new Zn(D,E,v))}}class Zn{constructor(E,v,R){this.nextOrObserver=E,this.error=v,this.complete=R}call(E,v){return v.subscribe(new dr(E,this.nextOrObserver,this.error,this.complete))}}class dr extends Ee.L{constructor(E,v,R,j){super(E),this._tapNext=Yt,this._tapError=Yt,this._tapComplete=Yt,this._tapError=R||Yt,this._tapComplete=j||Yt,(0,Ar.m)(v)?(this._context=this,this._tapNext=v):v&&(this._context=v,this._tapNext=v.next||Yt,this._tapError=v.error||Yt,this._tapComplete=v.complete||Yt)}_next(E){try{this._tapNext.call(this._context,E)}catch(v){return void this.destination.error(v)}this.destination.next(E)}_error(E){try{this._tapError.call(this._context,E)}catch(v){return void this.destination.error(v)}this.destination.error(E)}_complete(){try{this._tapComplete.call(this._context)}catch(E){return void this.destination.error(E)}return this.destination.complete()}}var Nr=N(5319);class ve{constructor(E){this.callback=E}call(E,v){return v.subscribe(new Te(E,this.callback))}}class Te extends Ee.L{constructor(E,v){super(E),this.add(new Nr.w(v))}}var Se=N(1307);class mt{constructor(E,v){this.id=E,this.url=v}}class Ye extends mt{constructor(E,v,R="imperative",j=null){super(E,v),this.navigationTrigger=R,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ct extends mt{constructor(E,v,R){super(E,v),this.urlAfterRedirects=R}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class un extends mt{constructor(E,v,R){super(E,v),this.reason=R}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nr extends mt{constructor(E,v,R){super(E,v),this.error=R}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class cr extends mt{constructor(E,v,R,j){super(E,v),this.urlAfterRedirects=R,this.state=j}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yn extends mt{constructor(E,v,R,j){super(E,v),this.urlAfterRedirects=R,this.state=j}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zr extends mt{constructor(E,v,R,j,Y){super(E,v),this.urlAfterRedirects=R,this.state=j,this.shouldActivate=Y}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class jn extends mt{constructor(E,v,R,j){super(E,v),this.urlAfterRedirects=R,this.state=j}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sr extends mt{constructor(E,v,R,j){super(E,v),this.urlAfterRedirects=R,this.state=j}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jn{constructor(E){this.route=E}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ci{constructor(E){this.route=E}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class kr{constructor(E){this.snapshot=E}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wi{constructor(E){this.snapshot=E}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qi{constructor(E){this.snapshot=E}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ki{constructor(E){this.snapshot=E}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Si{constructor(E,v,R){this.routerEvent=E,this.position=v,this.anchor=R}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const In="primary";class xr{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const v=this.params[E];return Array.isArray(v)?v[0]:v}return null}getAll(E){if(this.has(E)){const v=this.params[E];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function Cr(D){return new xr(D)}const Pi="ngNavigationCancelingError";function Ci(D){const E=Error("NavigationCancelingError: "+D);return E[Pi]=!0,E}function ui(D,E,v){const R=v.path.split("/");if(R.length>D.length||"full"===v.pathMatch&&(E.hasChildren()||R.length<D.length))return null;const j={};for(let Y=0;Y<R.length;Y++){const ce=R[Y],Le=D[Y];if(ce.startsWith(":"))j[ce.substring(1)]=Le;else if(ce!==Le.path)return null}return{consumed:D.slice(0,R.length),posParams:j}}function Xn(D,E){const v=D?Object.keys(D):void 0,R=E?Object.keys(E):void 0;if(!v||!R||v.length!=R.length)return!1;let j;for(let Y=0;Y<v.length;Y++)if(j=v[Y],!ri(D[j],E[j]))return!1;return!0}function ri(D,E){if(Array.isArray(D)&&Array.isArray(E)){if(D.length!==E.length)return!1;const v=[...D].sort(),R=[...E].sort();return v.every((j,Y)=>R[Y]===j)}return D===E}function rr(D){return Array.prototype.concat.apply([],D)}function Vr(D){return D.length>0?D[D.length-1]:null}function er(D,E){for(const v in D)D.hasOwnProperty(v)&&E(D[v],v)}function Gt(D){return(0,I.CqO)(D)?D:(0,I.QGY)(D)?(0,tt.D)(Promise.resolve(D)):(0,Me.of)(D)}const wn={exact:function Xe(D,E,v){if(!Ir(D.segments,E.segments)||!cn(D.segments,E.segments,v)||D.numberOfChildren!==E.numberOfChildren)return!1;for(const R in E.children)if(!D.children[R]||!Xe(D.children[R],E.children[R],v))return!1;return!0},subset:fn},Oe={exact:function(D,E){return Xn(D,E)},subset:function(D,E){return Object.keys(E).length<=Object.keys(D).length&&Object.keys(E).every(v=>ri(D[v],E[v]))},ignored:()=>!0};function xe(D,E,v){return wn[v.paths](D.root,E.root,v.matrixParams)&&Oe[v.queryParams](D.queryParams,E.queryParams)&&!("exact"===v.fragment&&D.fragment!==E.fragment)}function fn(D,E,v){return An(D,E,E.segments,v)}function An(D,E,v,R){if(D.segments.length>v.length){const j=D.segments.slice(0,v.length);return!(!Ir(j,v)||E.hasChildren()||!cn(j,v,R))}if(D.segments.length===v.length){if(!Ir(D.segments,v)||!cn(D.segments,v,R))return!1;for(const j in E.children)if(!D.children[j]||!fn(D.children[j],E.children[j],R))return!1;return!0}{const j=v.slice(0,D.segments.length),Y=v.slice(D.segments.length);return!!(Ir(D.segments,j)&&cn(D.segments,j,R)&&D.children[In])&&An(D.children[In],E,Y,R)}}function cn(D,E,v){return E.every((R,j)=>Oe[v](D[j].parameters,R.parameters))}class Wn{constructor(E,v,R){this.root=E,this.queryParams=v,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cr(this.queryParams)),this._queryParamMap}toString(){return Tr.serialize(this)}}class Cn{constructor(E,v){this.segments=E,this.children=v,this.parent=null,er(v,(R,j)=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ws(this)}}class di{constructor(E,v){this.path=E,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=Cr(this.parameters)),this._parameterMap}toString(){return so(this)}}function Ir(D,E){return D.length===E.length&&D.every((v,R)=>v.path===E[R].path)}class Rr{}class Jr{parse(E){const v=new ii(E);return new Wn(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(E){var D;return`${`/${yi(E.root,!0)}`}${function(D){const E=Object.keys(D).map(v=>{const R=D[v];return Array.isArray(R)?R.map(j=>`${ps(v)}=${ps(j)}`).join("&"):`${ps(v)}=${ps(R)}`}).filter(v=>!!v);return E.length?`?${E.join("&")}`:""}(E.queryParams)}${"string"==typeof E.fragment?`#${D=E.fragment,encodeURI(D)}`:""}`}}const Tr=new Jr;function ws(D){return D.segments.map(E=>so(E)).join("/")}function yi(D,E){if(!D.hasChildren())return ws(D);if(E){const v=D.children[In]?yi(D.children[In],!1):"",R=[];return er(D.children,(j,Y)=>{Y!==In&&R.push(`${Y}:${yi(j,!1)}`)}),R.length>0?`${v}(${R.join("//")})`:v}{const v=function(D,E){let v=[];return er(D.children,(R,j)=>{j===In&&(v=v.concat(E(R,j)))}),er(D.children,(R,j)=>{j!==In&&(v=v.concat(E(R,j)))}),v}(D,(R,j)=>j===In?[yi(D.children[In],!1)]:[`${j}:${yi(R,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[In]?`${ws(D)}/${v[0]}`:`${ws(D)}/(${v.join("//")})`}}function _i(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ps(D){return _i(D).replace(/%3B/gi,";")}function Ni(D){return _i(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ei(D){return decodeURIComponent(D)}function $n(D){return ei(D.replace(/\+/g,"%20"))}function so(D){return`${Ni(D.path)}${function(D){return Object.keys(D).map(E=>`;${Ni(E)}=${Ni(D[E])}`).join("")}(D.parameters)}`}const Ve=/^[^\/()?;=#]+/;function nt(D){const E=D.match(Ve);return E?E[0]:""}const It=/^[^=?&#]+/,ln=/^[^?&#]+/;class ii{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Cn([],{}):new Cn([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(E.length>0||Object.keys(v).length>0)&&(R[In]=new Cn(E,v)),R}parseSegment(){const E=nt(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(E),new di(ei(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const v=nt(this.remaining);if(!v)return;this.capture(v);let R="";if(this.consumeOptional("=")){const j=nt(this.remaining);j&&(R=j,this.capture(R))}E[ei(v)]=ei(R)}parseQueryParam(E){const v=function(D){const E=D.match(It);return E?E[0]:""}(this.remaining);if(!v)return;this.capture(v);let R="";if(this.consumeOptional("=")){const ce=function(D){const E=D.match(ln);return E?E[0]:""}(this.remaining);ce&&(R=ce,this.capture(R))}const j=$n(v),Y=$n(R);if(E.hasOwnProperty(j)){let ce=E[j];Array.isArray(ce)||(ce=[ce],E[j]=ce),ce.push(Y)}else E[j]=Y}parseParens(E){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=nt(this.remaining),j=this.remaining[R.length];if("/"!==j&&")"!==j&&";"!==j)throw new Error(`Cannot parse url '${this.url}'`);let Y;R.indexOf(":")>-1?(Y=R.substr(0,R.indexOf(":")),this.capture(Y),this.capture(":")):E&&(Y=In);const ce=this.parseChildren();v[Y]=1===Object.keys(ce).length?ce[In]:new Cn([],ce),this.consumeOptional("//")}return v}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new Error(`Expected "${E}".`)}}class kn{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const v=this.pathFromRoot(E);return v.length>1?v[v.length-2]:null}children(E){const v=Ui(E,this._root);return v?v.children.map(R=>R.value):[]}firstChild(E){const v=Ui(E,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(E){const v=fi(E,this._root);return v.length<2?[]:v[v.length-2].children.map(j=>j.value).filter(j=>j!==E)}pathFromRoot(E){return fi(E,this._root).map(v=>v.value)}}function Ui(D,E){if(D===E.value)return E;for(const v of E.children){const R=Ui(D,v);if(R)return R}return null}function fi(D,E){if(D===E.value)return[E];for(const v of E.children){const R=fi(D,v);if(R.length)return R.unshift(E),R}return[]}class vi{constructor(E,v){this.value=E,this.children=v}toString(){return`TreeNode(${this.value})`}}function Ps(D){const E={};return D&&D.children.forEach(v=>E[v.value.outlet]=v),E}class gs extends kn{constructor(E,v){super(E),this.snapshot=v,Rs(this,E)}toString(){return this.snapshot.toString()}}function Cs(D,E){const v=function(D,E){const ce=new ms([],{},{},"",{},In,E,null,D.root,-1,{});return new Ns("",new vi(ce,[]))}(D,E),R=new oe.X([new di("",{})]),j=new oe.X({}),Y=new oe.X({}),ce=new oe.X({}),Le=new oe.X(""),yt=new Yr(R,j,ce,Le,Y,In,E,v.root);return yt.snapshot=v.root,new gs(new vi(yt,[]),v)}class Yr{constructor(E,v,R,j,Y,ce,Le,yt){this.url=E,this.params=v,this.queryParams=R,this.fragment=j,this.data=Y,this.outlet=ce,this.component=Le,this._futureSnapshot=yt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,de.U)(E=>Cr(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,de.U)(E=>Cr(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Yi(D,E="emptyOnly"){const v=D.pathFromRoot;let R=0;if("always"!==E)for(R=v.length-1;R>=1;){const j=v[R],Y=v[R-1];if(j.routeConfig&&""===j.routeConfig.path)R--;else{if(Y.component)break;R--}}return function(D){return D.reduce((E,v)=>({params:Object.assign(Object.assign({},E.params),v.params),data:Object.assign(Object.assign({},E.data),v.data),resolve:Object.assign(Object.assign({},E.resolve),v._resolvedData)}),{params:{},data:{},resolve:{}})}(v.slice(R))}class ms{constructor(E,v,R,j,Y,ce,Le,yt,Zt,gr,Bn){this.url=E,this.params=v,this.queryParams=R,this.fragment=j,this.data=Y,this.outlet=ce,this.component=Le,this.routeConfig=yt,this._urlSegment=Zt,this._lastPathIndex=gr,this._resolve=Bn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Cr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ns extends kn{constructor(E,v){super(v),this.url=E,Rs(this,v)}toString(){return zo(this._root)}}function Rs(D,E){E.value._routerState=D,E.children.forEach(v=>Rs(D,v))}function zo(D){const E=D.children.length>0?` { ${D.children.map(zo).join(", ")} } `:"";return`${D.value}${E}`}function Qi(D){if(D.snapshot){const E=D.snapshot,v=D._futureSnapshot;D.snapshot=v,Xn(E.queryParams,v.queryParams)||D.queryParams.next(v.queryParams),E.fragment!==v.fragment&&D.fragment.next(v.fragment),Xn(E.params,v.params)||D.params.next(v.params),function(D,E){if(D.length!==E.length)return!1;for(let v=0;v<D.length;++v)if(!Xn(D[v],E[v]))return!1;return!0}(E.url,v.url)||D.url.next(v.url),Xn(E.data,v.data)||D.data.next(v.data)}else D.snapshot=D._futureSnapshot,D.data.next(D._futureSnapshot.data)}function oo(D,E){return Xn(D.params,E.params)&&function(D,E){return Ir(D,E)&&D.every((v,R)=>Xn(v.parameters,E[R].parameters))}(D.url,E.url)&&!(!D.parent!=!E.parent)&&(!D.parent||oo(D.parent,E.parent))}function pi(D,E,v){if(v&&D.shouldReuseRoute(E.value,v.value.snapshot)){const R=v.value;R._futureSnapshot=E.value;const j=function(D,E,v){return E.children.map(R=>{for(const j of v.children)if(D.shouldReuseRoute(R.value,j.value.snapshot))return pi(D,R,j);return pi(D,R)})}(D,E,v);return new vi(R,j)}{if(D.shouldAttach(E.value)){const Y=D.retrieve(E.value);if(null!==Y){const ce=Y.route;return ks(E,ce),ce}}const R=function(D){return new Yr(new oe.X(D.url),new oe.X(D.params),new oe.X(D.queryParams),new oe.X(D.fragment),new oe.X(D.data),D.outlet,D.component,D)}(E.value),j=E.children.map(Y=>pi(D,Y));return new vi(R,j)}}function ks(D,E){if(D.value.routeConfig!==E.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(D.children.length!==E.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");E.value._futureSnapshot=D.value;for(let v=0;v<D.children.length;++v)ks(D.children[v],E.children[v])}function xs(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function ji(D){return"object"==typeof D&&null!=D&&D.outlets}function Is(D,E,v,R,j){let Y={};return R&&er(R,(ce,Le)=>{Y[Le]=Array.isArray(ce)?ce.map(yt=>`${yt}`):`${ce}`}),new Wn(v.root===D?E:Ms(v.root,D,E),Y,j)}function Ms(D,E,v){const R={};return er(D.children,(j,Y)=>{R[Y]=j===E?v:Ms(j,E,v)}),new Cn(D.segments,R)}class ys{constructor(E,v,R){if(this.isAbsolute=E,this.numberOfDoubleDots=v,this.commands=R,E&&R.length>0&&xs(R[0]))throw new Error("Root segment cannot have matrix parameters");const j=R.find(ji);if(j&&j!==Vr(R))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fs{constructor(E,v,R){this.segmentGroup=E,this.processChildren=v,this.index=R}}function te(D,E,v){if(D||(D=new Cn([],{})),0===D.segments.length&&D.hasChildren())return De(D,E,v);const R=function(D,E,v){let R=0,j=E;const Y={match:!1,pathIndex:0,commandIndex:0};for(;j<D.segments.length;){if(R>=v.length)return Y;const ce=D.segments[j],Le=v[R];if(ji(Le))break;const yt=`${Le}`,Zt=R<v.length-1?v[R+1]:null;if(j>0&&void 0===yt)break;if(yt&&Zt&&"object"==typeof Zt&&void 0===Zt.outlets){if(!A(yt,Zt,ce))return Y;R+=2}else{if(!A(yt,{},ce))return Y;R++}j++}return{match:!0,pathIndex:j,commandIndex:R}}(D,E,v),j=v.slice(R.commandIndex);if(R.match&&R.pathIndex<D.segments.length){const Y=new Cn(D.segments.slice(0,R.pathIndex),{});return Y.children[In]=new Cn(D.segments.slice(R.pathIndex),D.children),De(Y,0,j)}return R.match&&0===j.length?new Cn(D.segments,{}):R.match&&!D.hasChildren()?Dt(D,E,v):R.match?De(D,0,j):Dt(D,E,v)}function De(D,E,v){if(0===v.length)return new Cn(D.segments,{});{const R=function(D){return ji(D[0])?D[0].outlets:{[In]:D}}(v),j={};return er(R,(Y,ce)=>{"string"==typeof Y&&(Y=[Y]),null!==Y&&(j[ce]=te(D.children[ce],E,Y))}),er(D.children,(Y,ce)=>{void 0===R[ce]&&(j[ce]=Y)}),new Cn(D.segments,j)}}function Dt(D,E,v){const R=D.segments.slice(0,E);let j=0;for(;j<v.length;){const Y=v[j];if(ji(Y)){const yt=k(Y.outlets);return new Cn(R,yt)}if(0===j&&xs(v[0])){R.push(new di(D.segments[E].path,x(v[0]))),j++;continue}const ce=ji(Y)?Y.outlets[In]:`${Y}`,Le=j<v.length-1?v[j+1]:null;ce&&Le&&xs(Le)?(R.push(new di(ce,x(Le))),j+=2):(R.push(new di(ce,{})),j++)}return new Cn(R,{})}function k(D){const E={};return er(D,(v,R)=>{"string"==typeof v&&(v=[v]),null!==v&&(E[R]=Dt(new Cn([],{}),0,v))}),E}function x(D){const E={};return er(D,(v,R)=>E[R]=`${v}`),E}function A(D,E,v){return D==v.path&&Xn(E,v.parameters)}class st{constructor(E,v,R,j){this.routeReuseStrategy=E,this.futureState=v,this.currState=R,this.forwardEvent=j}activate(E){const v=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,R,E),Qi(this.futureState.root),this.activateChildRoutes(v,R,E)}deactivateChildRoutes(E,v,R){const j=Ps(v);E.children.forEach(Y=>{const ce=Y.value.outlet;this.deactivateRoutes(Y,j[ce],R),delete j[ce]}),er(j,(Y,ce)=>{this.deactivateRouteAndItsChildren(Y,R)})}deactivateRoutes(E,v,R){const j=E.value,Y=v?v.value:null;if(j===Y)if(j.component){const ce=R.getContext(j.outlet);ce&&this.deactivateChildRoutes(E,v,ce.children)}else this.deactivateChildRoutes(E,v,R);else Y&&this.deactivateRouteAndItsChildren(v,R)}deactivateRouteAndItsChildren(E,v){this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,v):this.deactivateRouteAndOutlet(E,v)}detachAndStoreRouteSubtree(E,v){const R=v.getContext(E.value.outlet);if(R&&R.outlet){const j=R.outlet.detach(),Y=R.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:j,route:E,contexts:Y})}}deactivateRouteAndOutlet(E,v){const R=v.getContext(E.value.outlet),j=R&&E.value.component?R.children:v,Y=Ps(E);for(const ce of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[ce],j);R&&R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated(),R.attachRef=null,R.resolver=null,R.route=null)}activateChildRoutes(E,v,R){const j=Ps(v);E.children.forEach(Y=>{this.activateRoutes(Y,j[Y.value.outlet],R),this.forwardEvent(new Ki(Y.value.snapshot))}),E.children.length&&this.forwardEvent(new wi(E.value.snapshot))}activateRoutes(E,v,R){const j=E.value,Y=v?v.value:null;if(Qi(j),j===Y)if(j.component){const ce=R.getOrCreateContext(j.outlet);this.activateChildRoutes(E,v,ce.children)}else this.activateChildRoutes(E,v,R);else if(j.component){const ce=R.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const Le=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),ce.children.onOutletReAttached(Le.contexts),ce.attachRef=Le.componentRef,ce.route=Le.route.value,ce.outlet&&ce.outlet.attach(Le.componentRef,Le.route.value),Tt(Le.route)}else{const Le=function(D){for(let E=D.parent;E;E=E.parent){const v=E.routeConfig;if(v&&v._loadedConfig)return v._loadedConfig;if(v&&v.component)return null}return null}(j.snapshot),yt=Le?Le.module.componentFactoryResolver:null;ce.attachRef=null,ce.route=j,ce.resolver=yt,ce.outlet&&ce.outlet.activateWith(j,yt),this.activateChildRoutes(E,null,ce.children)}}else this.activateChildRoutes(E,null,R)}}function Tt(D){Qi(D.value),D.children.forEach(Tt)}class Mr{constructor(E,v){this.routes=E,this.module=v}}function Wr(D){return"function"==typeof D}function Fr(D){return D instanceof Wn}const Xi=Symbol("INITIAL_VALUE");function wo(){return ye(D=>function(...D){let E,v;return(0,K.K)(D[D.length-1])&&(v=D.pop()),"function"==typeof D[D.length-1]&&(E=D.pop()),1===D.length&&(0,Ae.k)(D[0])&&(D=D[0]),(0,J.n)(D,v).lift(new Ue(E))}(D.map(E=>E.pipe(an(1),function(...D){const E=D[D.length-1];return(0,K.K)(E)?(D.pop(),v=>Re(D,v,E)):v=>Re(D,v)}(Xi)))).pipe(xn((E,v)=>{let R=!1;return v.reduce((j,Y,ce)=>j!==Xi?j:(Y===Xi&&(R=!0),R||!1!==Y&&ce!==v.length-1&&!Fr(Y)?j:Y),E)},Xi),St(E=>E!==Xi),(0,de.U)(E=>Fr(E)?E:!0===E),an(1)))}let $i=(()=>{class D{}return D.\u0275fac=function(v){return new(v||D)},D.\u0275cmp=I.Xpm({type:D,selectors:[["ng-component"]],decls:1,vars:0,template:function(v,R){1&v&&I._UZ(0,"router-outlet")},directives:function(){return[kt]},encapsulation:2}),D})();function Ws(D,E=""){for(let v=0;v<D.length;v++){const R=D[v];$(R,L(E,R))}}function $(D,E){D.children&&Ws(D.children,E)}function L(D,E){return E?D||E.path?D&&!E.path?`${D}/`:!D&&E.path?E.path:`${D}/${E.path}`:"":D}function se(D){const E=D.children&&D.children.map(se),v=E?Object.assign(Object.assign({},D),{children:E}):Object.assign({},D);return!v.component&&(E||v.loadChildren)&&v.outlet&&v.outlet!==In&&(v.component=$i),v}function he(D){return D.outlet||In}function He(D,E){const v=D.filter(R=>he(R)===E);return v.push(...D.filter(R=>he(R)!==E)),v}const ht={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ot(D,E,v){var R;if(""===E.path)return"full"===E.pathMatch&&(D.hasChildren()||v.length>0)?Object.assign({},ht):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const Y=(E.matcher||ui)(v,D,E);if(!Y)return Object.assign({},ht);const ce={};er(Y.posParams,(yt,Zt)=>{ce[Zt]=yt.path});const Le=Y.consumed.length>0?Object.assign(Object.assign({},ce),Y.consumed[Y.consumed.length-1].parameters):ce;return{matched:!0,consumedSegments:Y.consumed,lastChild:Y.consumed.length,parameters:Le,positionalParamSegments:null!==(R=Y.posParams)&&void 0!==R?R:{}}}function gn(D,E,v,R,j="corrected"){if(v.length>0&&function(D,E,v){return v.some(R=>Hn(D,E,R)&&he(R)!==In)}(D,v,R)){const ce=new Cn(E,function(D,E,v,R){const j={};j[In]=R,R._sourceSegment=D,R._segmentIndexShift=E.length;for(const Y of v)if(""===Y.path&&he(Y)!==In){const ce=new Cn([],{});ce._sourceSegment=D,ce._segmentIndexShift=E.length,j[he(Y)]=ce}return j}(D,E,R,new Cn(v,D.children)));return ce._sourceSegment=D,ce._segmentIndexShift=E.length,{segmentGroup:ce,slicedSegments:[]}}if(0===v.length&&function(D,E,v){return v.some(R=>Hn(D,E,R))}(D,v,R)){const ce=new Cn(D.segments,function(D,E,v,R,j,Y){const ce={};for(const Le of R)if(Hn(D,v,Le)&&!j[he(Le)]){const yt=new Cn([],{});yt._sourceSegment=D,yt._segmentIndexShift="legacy"===Y?D.segments.length:E.length,ce[he(Le)]=yt}return Object.assign(Object.assign({},j),ce)}(D,E,v,R,D.children,j));return ce._sourceSegment=D,ce._segmentIndexShift=E.length,{segmentGroup:ce,slicedSegments:v}}const Y=new Cn(D.segments,D.children);return Y._sourceSegment=D,Y._segmentIndexShift=E.length,{segmentGroup:Y,slicedSegments:v}}function Hn(D,E,v){return(!(D.hasChildren()||E.length>0)||"full"!==v.pathMatch)&&""===v.path}function si(D,E,v,R){return!!(he(D)===R||R!==In&&Hn(E,v,D))&&("**"===D.path||Ot(E,D,v).matched)}function Ur(D,E,v){return 0===E.length&&!D.children[v]}class Qr{constructor(E){this.segmentGroup=E||null}}class Gr{constructor(E){this.urlTree=E}}function Hi(D){return new we.y(E=>E.error(new Qr(D)))}function Gi(D){return new we.y(E=>E.error(new Gr(D)))}function Ii(D){return new we.y(E=>E.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${D}'`)))}class ti{constructor(E,v,R,j,Y){this.configLoader=v,this.urlSerializer=R,this.urlTree=j,this.config=Y,this.allowRedirects=!0,this.ngModule=E.get(I.h0i)}apply(){const E=gn(this.urlTree.root,[],[],this.config).segmentGroup,v=new Cn(E.segments,E.children);return this.expandSegmentGroup(this.ngModule,this.config,v,In).pipe((0,de.U)(Y=>this.createUrlTree(Wi(Y),this.urlTree.queryParams,this.urlTree.fragment))).pipe(zn(Y=>{if(Y instanceof Gr)return this.allowRedirects=!1,this.match(Y.urlTree);throw Y instanceof Qr?this.noMatchError(Y):Y}))}match(E){return this.expandSegmentGroup(this.ngModule,this.config,E.root,In).pipe((0,de.U)(j=>this.createUrlTree(Wi(j),E.queryParams,E.fragment))).pipe(zn(j=>{throw j instanceof Qr?this.noMatchError(j):j}))}noMatchError(E){return new Error(`Cannot match any routes. URL Segment: '${E.segmentGroup}'`)}createUrlTree(E,v,R){const j=E.segments.length>0?new Cn([],{[In]:E}):E;return new Wn(j,v,R)}expandSegmentGroup(E,v,R,j){return 0===R.segments.length&&R.hasChildren()?this.expandChildren(E,v,R).pipe((0,de.U)(Y=>new Cn([],Y))):this.expandSegment(E,R,v,R.segments,j,!0)}expandChildren(E,v,R){const j=[];for(const Y of Object.keys(R.children))"primary"===Y?j.unshift(Y):j.push(Y);return(0,tt.D)(j).pipe(Hr(Y=>{const ce=R.children[Y],Le=He(v,Y);return this.expandSegmentGroup(E,Le,ce,Y).pipe((0,de.U)(yt=>({segment:yt,outlet:Y})))}),xn((Y,ce)=>(Y[ce.outlet]=ce.segment,Y),{}),function(D,E){const v=arguments.length>=2;return R=>R.pipe(D?St((j,Y)=>D(j,Y,R)):Mt.y,Yn(1),v?dt(E):yr(()=>new Ke))}())}expandSegment(E,v,R,j,Y,ce){return(0,tt.D)(R).pipe(Hr(Le=>this.expandSegmentAgainstRoute(E,v,R,Le,j,Y,ce).pipe(zn(Zt=>{if(Zt instanceof Qr)return(0,Me.of)(null);throw Zt}))),Ht(Le=>!!Le),zn((Le,yt)=>{if(Le instanceof Ke||"EmptyError"===Le.name){if(Ur(v,j,Y))return(0,Me.of)(new Cn([],{}));throw new Qr(v)}throw Le}))}expandSegmentAgainstRoute(E,v,R,j,Y,ce,Le){return si(j,v,Y,ce)?void 0===j.redirectTo?this.matchSegmentAgainstRoute(E,v,j,Y,ce):Le&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,v,R,j,Y,ce):Hi(v):Hi(v)}expandSegmentAgainstRouteUsingRedirect(E,v,R,j,Y,ce){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,R,j,ce):this.expandRegularSegmentAgainstRouteUsingRedirect(E,v,R,j,Y,ce)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,v,R,j){const Y=this.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?Gi(Y):this.lineralizeSegments(R,Y).pipe((0,Mn.zg)(ce=>{const Le=new Cn(ce,{});return this.expandSegment(E,Le,v,ce,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,v,R,j,Y,ce){const{matched:Le,consumedSegments:yt,lastChild:Zt,positionalParamSegments:gr}=Ot(v,j,Y);if(!Le)return Hi(v);const Bn=this.applyRedirectCommands(yt,j.redirectTo,gr);return j.redirectTo.startsWith("/")?Gi(Bn):this.lineralizeSegments(j,Bn).pipe((0,Mn.zg)(oi=>this.expandSegment(E,v,R,oi.concat(Y.slice(Zt)),ce,!1)))}matchSegmentAgainstRoute(E,v,R,j,Y){if("**"===R.path)return R.loadChildren?(R._loadedConfig?(0,Me.of)(R._loadedConfig):this.configLoader.load(E.injector,R)).pipe((0,de.U)(oi=>(R._loadedConfig=oi,new Cn(j,{})))):(0,Me.of)(new Cn(j,{}));const{matched:ce,consumedSegments:Le,lastChild:yt}=Ot(v,R,j);if(!ce)return Hi(v);const Zt=j.slice(yt);return this.getChildConfig(E,R,j).pipe((0,Mn.zg)(Bn=>{const oi=Bn.module,hr=Bn.routes,{segmentGroup:ns,slicedSegments:ho}=gn(v,Le,Zt,hr),No=new Cn(ns.segments,ns.children);if(0===ho.length&&No.hasChildren())return this.expandChildren(oi,hr,No).pipe((0,de.U)(ai=>new Cn(Le,ai)));if(0===hr.length&&0===ho.length)return(0,Me.of)(new Cn(Le,{}));const Tn=he(R)===Y;return this.expandSegment(oi,No,hr,ho,Tn?In:Y,!0).pipe((0,de.U)(cs=>new Cn(Le.concat(cs.segments),cs.children)))}))}getChildConfig(E,v,R){return v.children?(0,Me.of)(new Mr(v.children,E)):v.loadChildren?void 0!==v._loadedConfig?(0,Me.of)(v._loadedConfig):this.runCanLoadGuards(E.injector,v,R).pipe((0,Mn.zg)(j=>{return j?this.configLoader.load(E.injector,v).pipe((0,de.U)(Y=>(v._loadedConfig=Y,Y))):(D=v,new we.y(E=>E.error(Ci(`Cannot load children because the guard of the route "path: '${D.path}'" returned false`))));var D})):(0,Me.of)(new Mr([],E))}runCanLoadGuards(E,v,R){const j=v.canLoad;if(!j||0===j.length)return(0,Me.of)(!0);const Y=j.map(ce=>{const Le=E.get(ce);let yt;if((D=Le)&&Wr(D.canLoad))yt=Le.canLoad(v,R);else{if(!Wr(Le))throw new Error("Invalid CanLoad guard");yt=Le(v,R)}var D;return Gt(yt)});return(0,Me.of)(Y).pipe(wo(),lr(ce=>{if(!Fr(ce))return;const Le=Ci(`Redirecting to "${this.urlSerializer.serialize(ce)}"`);throw Le.url=ce,Le}),(0,de.U)(ce=>!0===ce))}lineralizeSegments(E,v){let R=[],j=v.root;for(;;){if(R=R.concat(j.segments),0===j.numberOfChildren)return(0,Me.of)(R);if(j.numberOfChildren>1||!j.children[In])return Ii(E.redirectTo);j=j.children[In]}}applyRedirectCommands(E,v,R){return this.applyRedirectCreatreUrlTree(v,this.urlSerializer.parse(v),E,R)}applyRedirectCreatreUrlTree(E,v,R,j){const Y=this.createSegmentGroup(E,v.root,R,j);return new Wn(Y,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(E,v){const R={};return er(E,(j,Y)=>{if("string"==typeof j&&j.startsWith(":")){const Le=j.substring(1);R[Y]=v[Le]}else R[Y]=j}),R}createSegmentGroup(E,v,R,j){const Y=this.createSegments(E,v.segments,R,j);let ce={};return er(v.children,(Le,yt)=>{ce[yt]=this.createSegmentGroup(E,Le,R,j)}),new Cn(Y,ce)}createSegments(E,v,R,j){return v.map(Y=>Y.path.startsWith(":")?this.findPosParam(E,Y,j):this.findOrReturn(Y,R))}findPosParam(E,v,R){const j=R[v.path.substring(1)];if(!j)throw new Error(`Cannot redirect to '${E}'. Cannot find '${v.path}'.`);return j}findOrReturn(E,v){let R=0;for(const j of v){if(j.path===E.path)return v.splice(R),j;R++}return E}}function Wi(D){const E={};for(const R of Object.keys(D.children)){const Y=Wi(D.children[R]);(Y.segments.length>0||Y.hasChildren())&&(E[R]=Y)}return function(D){if(1===D.numberOfChildren&&D.children[In]){const E=D.children[In];return new Cn(D.segments.concat(E.segments),E.children)}return D}(new Cn(D.segments,E))}class qr{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class Co{constructor(E,v){this.component=E,this.route=v}}function ba(D,E,v){const R=D._root;return Io(R,E?E._root:null,v,[R.value])}function go(D,E,v){const R=function(D){if(!D)return null;for(let E=D.parent;E;E=E.parent){const v=E.routeConfig;if(v&&v._loadedConfig)return v._loadedConfig}return null}(E);return(R?R.module.injector:v).get(D)}function Io(D,E,v,R,j={canDeactivateChecks:[],canActivateChecks:[]}){const Y=Ps(E);return D.children.forEach(ce=>{(function(D,E,v,R,j={canDeactivateChecks:[],canActivateChecks:[]}){const Y=D.value,ce=E?E.value:null,Le=v?v.getContext(D.value.outlet):null;if(ce&&Y.routeConfig===ce.routeConfig){const yt=function(D,E,v){if("function"==typeof v)return v(D,E);switch(v){case"pathParamsChange":return!Ir(D.url,E.url);case"pathParamsOrQueryParamsChange":return!Ir(D.url,E.url)||!Xn(D.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!oo(D,E)||!Xn(D.queryParams,E.queryParams);case"paramsChange":default:return!oo(D,E)}}(ce,Y,Y.routeConfig.runGuardsAndResolvers);yt?j.canActivateChecks.push(new qr(R)):(Y.data=ce.data,Y._resolvedData=ce._resolvedData),Io(D,E,Y.component?Le?Le.children:null:v,R,j),yt&&Le&&Le.outlet&&Le.outlet.isActivated&&j.canDeactivateChecks.push(new Co(Le.outlet.component,ce))}else ce&&Ro(E,Le,j),j.canActivateChecks.push(new qr(R)),Io(D,null,Y.component?Le?Le.children:null:v,R,j)})(ce,Y[ce.value.outlet],v,R.concat([ce.value]),j),delete Y[ce.value.outlet]}),er(Y,(ce,Le)=>Ro(ce,v.getContext(Le),j)),j}function Ro(D,E,v){const R=Ps(D),j=D.value;er(R,(Y,ce)=>{Ro(Y,j.component?E?E.children.getContext(ce):null:E,v)}),v.canDeactivateChecks.push(new Co(j.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,j))}class ra{}function Ei(D){return new we.y(E=>E.error(D))}class gi{constructor(E,v,R,j,Y,ce){this.rootComponentType=E,this.config=v,this.urlTree=R,this.url=j,this.paramsInheritanceStrategy=Y,this.relativeLinkResolution=ce}recognize(){const E=gn(this.urlTree.root,[],[],this.config.filter(ce=>void 0===ce.redirectTo),this.relativeLinkResolution).segmentGroup,v=this.processSegmentGroup(this.config,E,In);if(null===v)return null;const R=new ms([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},In,this.rootComponentType,null,this.urlTree.root,-1,{}),j=new vi(R,v),Y=new Ns(this.url,j);return this.inheritParamsAndData(Y._root),Y}inheritParamsAndData(E){const v=E.value,R=Yi(v,this.paramsInheritanceStrategy);v.params=Object.freeze(R.params),v.data=Object.freeze(R.data),E.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(E,v,R){return 0===v.segments.length&&v.hasChildren()?this.processChildren(E,v):this.processSegment(E,v,v.segments,R)}processChildren(E,v){const R=[];for(const Y of Object.keys(v.children)){const ce=v.children[Y],Le=He(E,Y),yt=this.processSegmentGroup(Le,ce,Y);if(null===yt)return null;R.push(...yt)}const j=sa(R);return j.sort((E,v)=>E.value.outlet===In?-1:v.value.outlet===In?1:E.value.outlet.localeCompare(v.value.outlet)),j}processSegment(E,v,R,j){for(const Y of E){const ce=this.processSegmentAgainstRoute(Y,v,R,j);if(null!==ce)return ce}return Ur(v,R,j)?[]:null}processSegmentAgainstRoute(E,v,R,j){if(E.redirectTo||!si(E,v,R,j))return null;let Y,ce=[],Le=[];if("**"===E.path){const hr=R.length>0?Vr(R).parameters:{};Y=new ms(R,hr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,xo(E),he(E),E.component,E,ka(v),qs(v)+R.length,Vs(E))}else{const hr=Ot(v,E,R);if(!hr.matched)return null;ce=hr.consumedSegments,Le=R.slice(hr.lastChild),Y=new ms(ce,hr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,xo(E),he(E),E.component,E,ka(v),qs(v)+ce.length,Vs(E))}const yt=(D=E).children?D.children:D.loadChildren?D._loadedConfig.routes:[],{segmentGroup:Zt,slicedSegments:gr}=gn(v,ce,Le,yt.filter(hr=>void 0===hr.redirectTo),this.relativeLinkResolution);var D;if(0===gr.length&&Zt.hasChildren()){const hr=this.processChildren(yt,Zt);return null===hr?null:[new vi(Y,hr)]}if(0===yt.length&&0===gr.length)return[new vi(Y,[])];const Bn=he(E)===j,oi=this.processSegment(yt,Zt,gr,Bn?In:j);return null===oi?null:[new vi(Y,oi)]}}function ia(D){const E=D.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function sa(D){const E=[],v=new Set;for(const R of D){if(!ia(R)){E.push(R);continue}const j=E.find(Y=>R.value.routeConfig===Y.value.routeConfig);void 0!==j?(j.children.push(...R.children),v.add(j)):E.push(R)}for(const R of v){const j=sa(R.children);E.push(new vi(R.value,j))}return E.filter(R=>!v.has(R))}function ka(D){let E=D;for(;E._sourceSegment;)E=E._sourceSegment;return E}function qs(D){let E=D,v=E._segmentIndexShift?E._segmentIndexShift:0;for(;E._sourceSegment;)E=E._sourceSegment,v+=E._segmentIndexShift?E._segmentIndexShift:0;return v-1}function xo(D){return D.data||{}}function Vs(D){return D.resolve||{}}function uo(D){return ye(E=>{const v=D(E);return v?(0,tt.D)(v).pipe((0,de.U)(()=>E)):(0,Me.of)(E)})}class Li extends class{shouldDetach(E){return!1}store(E,v){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,v){return E.routeConfig===v.routeConfig}}{}const Fa=new I.OlP("ROUTES");class Ti{constructor(E,v,R,j){this.loader=E,this.compiler=v,this.onLoadStartListener=R,this.onLoadEndListener=j}load(E,v){if(v._loader$)return v._loader$;this.onLoadStartListener&&this.onLoadStartListener(v);const j=this.loadModuleFactory(v.loadChildren).pipe((0,de.U)(Y=>{this.onLoadEndListener&&this.onLoadEndListener(v);const ce=Y.create(E);return new Mr(rr(ce.injector.get(Fa,void 0,I.XFs.Self|I.XFs.Optional)).map(se),ce)}),zn(Y=>{throw v._loader$=void 0,Y}));return v._loader$=new _e.c(j,()=>new me.xQ).pipe((0,Se.x)()),v._loader$}loadModuleFactory(E){return"string"==typeof E?(0,tt.D)(this.loader.load(E)):Gt(E()).pipe((0,Mn.zg)(v=>v instanceof I.YKP?(0,Me.of)(v):(0,tt.D)(this.compiler.compileModuleAsync(v))))}}class Oo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Po,this.attachRef=null}}class Po{constructor(){this.contexts=new Map}onChildOutletCreated(E,v){const R=this.getOrCreateContext(E);R.outlet=v,this.contexts.set(E,R)}onChildOutletDestroyed(E){const v=this.getContext(E);v&&(v.outlet=null,v.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let v=this.getContext(E);return v||(v=new Oo,this.contexts.set(E,v)),v}getContext(E){return this.contexts.get(E)||null}}class Zo{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,v){return E}}function La(D){throw D}function Va(D,E,v){return E.parse("/")}function Sa(D,E){return(0,Me.of)(null)}const O={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},p={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let m=(()=>{class D{constructor(v,R,j,Y,ce,Le,yt,Zt){this.rootComponentType=v,this.urlSerializer=R,this.rootContexts=j,this.location=Y,this.config=Zt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new me.xQ,this.errorHandler=La,this.malformedUriErrorHandler=Va,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Sa,afterPreactivation:Sa},this.urlHandlingStrategy=new Zo,this.routeReuseStrategy=new Li,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=ce.get(I.h0i),this.console=ce.get(I.c2e);const oi=ce.get(I.R0b);this.isNgZoneEnabled=oi instanceof I.R0b&&I.R0b.isInAngularZone(),this.resetConfig(Zt),this.currentUrlTree=new Wn(new Cn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ti(Le,yt,hr=>this.triggerEvent(new Jn(hr)),hr=>this.triggerEvent(new ci(hr))),this.routerState=Cs(this.currentUrlTree,this.rootComponentType),this.transitions=new oe.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var v;return null===(v=this.location.getState())||void 0===v?void 0:v.\u0275routerPageId}setupNavigations(v){const R=this.events;return v.pipe(St(j=>0!==j.id),(0,de.U)(j=>Object.assign(Object.assign({},j),{extractedUrl:this.urlHandlingStrategy.extract(j.rawUrl)})),ye(j=>{let Y=!1,ce=!1;return(0,Me.of)(j).pipe(lr(Le=>{this.currentNavigation={id:Le.id,initialUrl:Le.currentRawUrl,extractedUrl:Le.extractedUrl,trigger:Le.source,extras:Le.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ye(Le=>{const yt=this.browserUrlTree.toString(),Zt=!this.navigated||Le.extractedUrl.toString()!==yt||yt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Zt)&&this.urlHandlingStrategy.shouldProcessUrl(Le.rawUrl))return z(Le.source)&&(this.browserUrlTree=Le.extractedUrl),(0,Me.of)(Le).pipe(ye(Bn=>{const oi=this.transitions.getValue();return R.next(new Ye(Bn.id,this.serializeUrl(Bn.extractedUrl),Bn.source,Bn.restoredState)),oi!==this.transitions.getValue()?rt:Promise.resolve(Bn)}),function(D,E,v,R){return ye(j=>function(D,E,v,R,j){return new ti(D,E,v,R,j).apply()}(D,E,v,j.extractedUrl,R).pipe((0,de.U)(Y=>Object.assign(Object.assign({},j),{urlAfterRedirects:Y}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),lr(Bn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Bn.urlAfterRedirects})}),function(D,E,v,R,j){return(0,Mn.zg)(Y=>function(D,E,v,R,j="emptyOnly",Y="legacy"){try{const ce=new gi(D,E,v,R,j,Y).recognize();return null===ce?Ei(new ra):(0,Me.of)(ce)}catch(ce){return Ei(ce)}}(D,E,Y.urlAfterRedirects,v(Y.urlAfterRedirects),R,j).pipe((0,de.U)(ce=>Object.assign(Object.assign({},Y),{targetSnapshot:ce}))))}(this.rootComponentType,this.config,Bn=>this.serializeUrl(Bn),this.paramsInheritanceStrategy,this.relativeLinkResolution),lr(Bn=>{"eager"===this.urlUpdateStrategy&&(Bn.extras.skipLocationChange||this.setBrowserUrl(Bn.urlAfterRedirects,Bn),this.browserUrlTree=Bn.urlAfterRedirects);const oi=new cr(Bn.id,this.serializeUrl(Bn.extractedUrl),this.serializeUrl(Bn.urlAfterRedirects),Bn.targetSnapshot);R.next(oi)}));if(Zt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:oi,extractedUrl:hr,source:ns,restoredState:ho,extras:No}=Le,Tn=new Ye(oi,this.serializeUrl(hr),ns,ho);R.next(Tn);const rs=Cs(hr,this.rootComponentType).snapshot;return(0,Me.of)(Object.assign(Object.assign({},Le),{targetSnapshot:rs,urlAfterRedirects:hr,extras:Object.assign(Object.assign({},No),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Le.rawUrl,this.browserUrlTree=Le.urlAfterRedirects,Le.resolve(null),rt}),uo(Le=>{const{targetSnapshot:yt,id:Zt,extractedUrl:gr,rawUrl:Bn,extras:{skipLocationChange:oi,replaceUrl:hr}}=Le;return this.hooks.beforePreactivation(yt,{navigationId:Zt,appliedUrlTree:gr,rawUrlTree:Bn,skipLocationChange:!!oi,replaceUrl:!!hr})}),lr(Le=>{const yt=new yn(Le.id,this.serializeUrl(Le.extractedUrl),this.serializeUrl(Le.urlAfterRedirects),Le.targetSnapshot);this.triggerEvent(yt)}),(0,de.U)(Le=>Object.assign(Object.assign({},Le),{guards:ba(Le.targetSnapshot,Le.currentSnapshot,this.rootContexts)})),function(D,E){return(0,Mn.zg)(v=>{const{targetSnapshot:R,currentSnapshot:j,guards:{canActivateChecks:Y,canDeactivateChecks:ce}}=v;return 0===ce.length&&0===Y.length?(0,Me.of)(Object.assign(Object.assign({},v),{guardsResult:!0})):function(D,E,v,R){return(0,tt.D)(D).pipe((0,Mn.zg)(j=>function(D,E,v,R,j){const Y=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!Y||0===Y.length)return(0,Me.of)(!0);const ce=Y.map(Le=>{const yt=go(Le,E,j);let Zt;if(function(D){return D&&Wr(D.canDeactivate)}(yt))Zt=Gt(yt.canDeactivate(D,E,v,R));else{if(!Wr(yt))throw new Error("Invalid CanDeactivate guard");Zt=Gt(yt(D,E,v,R))}return Zt.pipe(Ht())});return(0,Me.of)(ce).pipe(wo())}(j.component,j.route,v,E,R)),Ht(j=>!0!==j,!0))}(ce,R,j,D).pipe((0,Mn.zg)(Le=>Le&&function(D){return"boolean"==typeof D}(Le)?function(D,E,v,R){return(0,tt.D)(E).pipe(Hr(j=>Re(function(D,E){return null!==D&&E&&E(new kr(D)),(0,Me.of)(!0)}(j.route.parent,R),function(D,E){return null!==D&&E&&E(new qi(D)),(0,Me.of)(!0)}(j.route,R),function(D,E,v){const R=E[E.length-1],Y=E.slice(0,E.length-1).reverse().map(ce=>function(D){const E=D.routeConfig?D.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:D,guards:E}:null}(ce)).filter(ce=>null!==ce).map(ce=>ne(()=>{const Le=ce.guards.map(yt=>{const Zt=go(yt,ce.node,v);let gr;if(function(D){return D&&Wr(D.canActivateChild)}(Zt))gr=Gt(Zt.canActivateChild(R,D));else{if(!Wr(Zt))throw new Error("Invalid CanActivateChild guard");gr=Gt(Zt(R,D))}return gr.pipe(Ht())});return(0,Me.of)(Le).pipe(wo())}));return(0,Me.of)(Y).pipe(wo())}(D,j.path,v),function(D,E,v){const R=E.routeConfig?E.routeConfig.canActivate:null;if(!R||0===R.length)return(0,Me.of)(!0);const j=R.map(Y=>ne(()=>{const ce=go(Y,E,v);let Le;if(function(D){return D&&Wr(D.canActivate)}(ce))Le=Gt(ce.canActivate(E,D));else{if(!Wr(ce))throw new Error("Invalid CanActivate guard");Le=Gt(ce(E,D))}return Le.pipe(Ht())}));return(0,Me.of)(j).pipe(wo())}(D,j.route,v))),Ht(j=>!0!==j,!0))}(R,Y,D,E):(0,Me.of)(Le)),(0,de.U)(Le=>Object.assign(Object.assign({},v),{guardsResult:Le})))})}(this.ngModule.injector,Le=>this.triggerEvent(Le)),lr(Le=>{if(Fr(Le.guardsResult)){const Zt=Ci(`Redirecting to "${this.serializeUrl(Le.guardsResult)}"`);throw Zt.url=Le.guardsResult,Zt}const yt=new Zr(Le.id,this.serializeUrl(Le.extractedUrl),this.serializeUrl(Le.urlAfterRedirects),Le.targetSnapshot,!!Le.guardsResult);this.triggerEvent(yt)}),St(Le=>!!Le.guardsResult||(this.restoreHistory(Le),this.cancelNavigationTransition(Le,""),!1)),uo(Le=>{if(Le.guards.canActivateChecks.length)return(0,Me.of)(Le).pipe(lr(yt=>{const Zt=new jn(yt.id,this.serializeUrl(yt.extractedUrl),this.serializeUrl(yt.urlAfterRedirects),yt.targetSnapshot);this.triggerEvent(Zt)}),ye(yt=>{let Zt=!1;return(0,Me.of)(yt).pipe(function(D,E){return(0,Mn.zg)(v=>{const{targetSnapshot:R,guards:{canActivateChecks:j}}=v;if(!j.length)return(0,Me.of)(v);let Y=0;return(0,tt.D)(j).pipe(Hr(ce=>function(D,E,v,R){return function(D,E,v,R){const j=Object.keys(D);if(0===j.length)return(0,Me.of)({});const Y={};return(0,tt.D)(j).pipe((0,Mn.zg)(ce=>function(D,E,v,R){const j=go(D,E,R);return Gt(j.resolve?j.resolve(E,v):j(E,v))}(D[ce],E,v,R).pipe(lr(Le=>{Y[ce]=Le}))),Yn(1),(0,Mn.zg)(()=>Object.keys(Y).length===j.length?(0,Me.of)(Y):rt))}(D._resolve,D,E,R).pipe((0,de.U)(Y=>(D._resolvedData=Y,D.data=Object.assign(Object.assign({},D.data),Yi(D,v).resolve),null)))}(ce.route,R,D,E)),lr(()=>Y++),Yn(1),(0,Mn.zg)(ce=>Y===j.length?(0,Me.of)(v):rt))})}(this.paramsInheritanceStrategy,this.ngModule.injector),lr({next:()=>Zt=!0,complete:()=>{Zt||(this.restoreHistory(yt),this.cancelNavigationTransition(yt,"At least one route resolver didn't emit any value."))}}))}),lr(yt=>{const Zt=new sr(yt.id,this.serializeUrl(yt.extractedUrl),this.serializeUrl(yt.urlAfterRedirects),yt.targetSnapshot);this.triggerEvent(Zt)}))}),uo(Le=>{const{targetSnapshot:yt,id:Zt,extractedUrl:gr,rawUrl:Bn,extras:{skipLocationChange:oi,replaceUrl:hr}}=Le;return this.hooks.afterPreactivation(yt,{navigationId:Zt,appliedUrlTree:gr,rawUrlTree:Bn,skipLocationChange:!!oi,replaceUrl:!!hr})}),(0,de.U)(Le=>{const yt=function(D,E,v){const R=pi(D,E._root,v?v._root:void 0);return new gs(R,E)}(this.routeReuseStrategy,Le.targetSnapshot,Le.currentRouterState);return Object.assign(Object.assign({},Le),{targetRouterState:yt})}),lr(Le=>{this.currentUrlTree=Le.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Le.urlAfterRedirects,Le.rawUrl),this.routerState=Le.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Le.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Le),this.browserUrlTree=Le.urlAfterRedirects)}),((D,E,v)=>(0,de.U)(R=>(new st(E,R.targetRouterState,R.currentRouterState,v).activate(D),R)))(this.rootContexts,this.routeReuseStrategy,Le=>this.triggerEvent(Le)),lr({next(){Y=!0},complete(){Y=!0}}),function(D){return E=>E.lift(new ve(D))}(()=>{var Le;if(!Y&&!ce){const yt=`Navigation ID ${j.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(j),this.cancelNavigationTransition(j,yt)):this.cancelNavigationTransition(j,yt)}(null===(Le=this.currentNavigation)||void 0===Le?void 0:Le.id)===j.id&&(this.currentNavigation=null)}),zn(Le=>{if(ce=!0,function(D){return D&&D[Pi]}(Le)){const yt=Fr(Le.url);yt||(this.navigated=!0,this.restoreHistory(j,!0));const Zt=new un(j.id,this.serializeUrl(j.extractedUrl),Le.message);R.next(Zt),yt?setTimeout(()=>{const gr=this.urlHandlingStrategy.merge(Le.url,this.rawUrlTree),Bn={skipLocationChange:j.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||z(j.source)};this.scheduleNavigation(gr,"imperative",null,Bn,{resolve:j.resolve,reject:j.reject,promise:j.promise})},0):j.resolve(!1)}else{this.restoreHistory(j,!0);const yt=new nr(j.id,this.serializeUrl(j.extractedUrl),Le);R.next(yt);try{j.resolve(this.errorHandler(Le))}catch(Zt){j.reject(Zt)}}return rt}))}))}resetRootComponentType(v){this.rootComponentType=v,this.routerState.root.component=this.rootComponentType}getTransition(){const v=this.transitions.value;return v.urlAfterRedirects=this.browserUrlTree,v}setTransition(v){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),v))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const R=this.extractLocationChangeInfoFromEvent(v);this.shouldScheduleNavigation(this.lastLocationChangeInfo,R)&&setTimeout(()=>{const{source:j,state:Y,urlTree:ce}=R,Le={replaceUrl:!0};if(Y){const yt=Object.assign({},Y);delete yt.navigationId,delete yt.\u0275routerPageId,0!==Object.keys(yt).length&&(Le.state=yt)}this.scheduleNavigation(ce,j,Y,Le)},0),this.lastLocationChangeInfo=R}))}extractLocationChangeInfoFromEvent(v){var R;return{source:"popstate"===v.type?"popstate":"hashchange",urlTree:this.parseUrl(v.url),state:(null===(R=v.state)||void 0===R?void 0:R.navigationId)?v.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(v,R){if(!v)return!0;const j=R.urlTree.toString()===v.urlTree.toString();return R.transitionId!==v.transitionId||!j||!("hashchange"===R.source&&"popstate"===v.source||"popstate"===R.source&&"hashchange"===v.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(v){this.events.next(v)}resetConfig(v){Ws(v),this.config=v.map(se),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(v,R={}){const{relativeTo:j,queryParams:Y,fragment:ce,queryParamsHandling:Le,preserveFragment:yt}=R,Zt=j||this.routerState.root,gr=yt?this.currentUrlTree.fragment:ce;let Bn=null;switch(Le){case"merge":Bn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),Y);break;case"preserve":Bn=this.currentUrlTree.queryParams;break;default:Bn=Y||null}return null!==Bn&&(Bn=this.removeEmptyProps(Bn)),function(D,E,v,R,j){if(0===v.length)return Is(E.root,E.root,E,R,j);const Y=function(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new ys(!0,0,D);let E=0,v=!1;const R=D.reduce((j,Y,ce)=>{if("object"==typeof Y&&null!=Y){if(Y.outlets){const Le={};return er(Y.outlets,(yt,Zt)=>{Le[Zt]="string"==typeof yt?yt.split("/"):yt}),[...j,{outlets:Le}]}if(Y.segmentPath)return[...j,Y.segmentPath]}return"string"!=typeof Y?[...j,Y]:0===ce?(Y.split("/").forEach((Le,yt)=>{0==yt&&"."===Le||(0==yt&&""===Le?v=!0:".."===Le?E++:""!=Le&&j.push(Le))}),j):[...j,Y]},[]);return new ys(v,E,R)}(v);if(Y.toRoot())return Is(E.root,new Cn([],{}),E,R,j);const ce=function(D,E,v){if(D.isAbsolute)return new Fs(E.root,!0,0);if(-1===v.snapshot._lastPathIndex){const Y=v.snapshot._urlSegment;return new Fs(Y,Y===E.root,0)}const R=xs(D.commands[0])?0:1;return function(D,E,v){let R=D,j=E,Y=v;for(;Y>j;){if(Y-=j,R=R.parent,!R)throw new Error("Invalid number of '../'");j=R.segments.length}return new Fs(R,!1,j-Y)}(v.snapshot._urlSegment,v.snapshot._lastPathIndex+R,D.numberOfDoubleDots)}(Y,E,D),Le=ce.processChildren?De(ce.segmentGroup,ce.index,Y.commands):te(ce.segmentGroup,ce.index,Y.commands);return Is(ce.segmentGroup,Le,E,R,j)}(Zt,this.currentUrlTree,v,Bn,null!=gr?gr:null)}navigateByUrl(v,R={skipLocationChange:!1}){const j=Fr(v)?v:this.parseUrl(v),Y=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(Y,"imperative",null,R)}navigate(v,R={skipLocationChange:!1}){return function(D){for(let E=0;E<D.length;E++){const v=D[E];if(null==v)throw new Error(`The requested path contains ${v} segment at index ${E}`)}}(v),this.navigateByUrl(this.createUrlTree(v,R),R)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let R;try{R=this.urlSerializer.parse(v)}catch(j){R=this.malformedUriErrorHandler(j,this.urlSerializer,v)}return R}isActive(v,R){let j;if(j=!0===R?Object.assign({},O):!1===R?Object.assign({},p):R,Fr(v))return xe(this.currentUrlTree,v,j);const Y=this.parseUrl(v);return xe(this.currentUrlTree,Y,j)}removeEmptyProps(v){return Object.keys(v).reduce((R,j)=>{const Y=v[j];return null!=Y&&(R[j]=Y),R},{})}processNavigations(){this.navigations.subscribe(v=>{this.navigated=!0,this.lastSuccessfulId=v.id,this.currentPageId=v.targetPageId,this.events.next(new Ct(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,v.resolve(!0)},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)})}scheduleNavigation(v,R,j,Y,ce){var Le,yt;if(this.disposed)return Promise.resolve(!1);const Zt=this.getTransition(),gr=z(R)&&Zt&&!z(Zt.source),hr=(this.lastSuccessfulId===Zt.id||this.currentNavigation?Zt.rawUrl:Zt.urlAfterRedirects).toString()===v.toString();if(gr&&hr)return Promise.resolve(!0);let ns,ho,No;ce?(ns=ce.resolve,ho=ce.reject,No=ce.promise):No=new Promise((cs,ai)=>{ns=cs,ho=ai});const Tn=++this.navigationId;let rs;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(j=this.location.getState()),rs=j&&j.\u0275routerPageId?j.\u0275routerPageId:Y.replaceUrl||Y.skipLocationChange?null!==(Le=this.browserPageId)&&void 0!==Le?Le:0:(null!==(yt=this.browserPageId)&&void 0!==yt?yt:0)+1):rs=0,this.setTransition({id:Tn,targetPageId:rs,source:R,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:v,extras:Y,resolve:ns,reject:ho,promise:No,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),No.catch(cs=>Promise.reject(cs))}setBrowserUrl(v,R){const j=this.urlSerializer.serialize(v),Y=Object.assign(Object.assign({},R.extras.state),this.generateNgRouterState(R.id,R.targetPageId));this.location.isCurrentPathEqualTo(j)||R.extras.replaceUrl?this.location.replaceState(j,"",Y):this.location.go(j,"",Y)}restoreHistory(v,R=!1){var j,Y;if("computed"===this.canceledNavigationResolution){const ce=this.currentPageId-v.targetPageId;"popstate"!==v.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(j=this.currentNavigation)||void 0===j?void 0:j.finalUrl)||0===ce?this.currentUrlTree===(null===(Y=this.currentNavigation)||void 0===Y?void 0:Y.finalUrl)&&0===ce&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(ce)}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(v,R){const j=new un(v.id,this.serializeUrl(v.extractedUrl),R);this.triggerEvent(j),v.resolve(!1)}generateNgRouterState(v,R){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:R}:{navigationId:v}}}return D.\u0275fac=function(v){return new(v||D)(I.LFG(I.DyG),I.LFG(Rr),I.LFG(Po),I.LFG(_.Ye),I.LFG(I.zs3),I.LFG(I.v3s),I.LFG(I.Sil),I.LFG(void 0))},D.\u0275prov=I.Yz7({token:D,factory:D.\u0275fac}),D})();function z(D){return"imperative"!==D}let ge=(()=>{class D{constructor(v,R,j){this.router=v,this.route=R,this.locationStrategy=j,this.commands=[],this.onChanges=new me.xQ,this.subscription=v.events.subscribe(Y=>{Y instanceof Ct&&this.updateTargetUrlAndHref()})}set routerLink(v){this.commands=null!=v?Array.isArray(v)?v:[v]:[]}ngOnChanges(v){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(v,R,j,Y,ce){if(0!==v||R||j||Y||ce||"string"==typeof this.target&&"_self"!=this.target)return!0;const Le={skipLocationChange:Ce(this.skipLocationChange),replaceUrl:Ce(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Le),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ce(this.preserveFragment)})}}return D.\u0275fac=function(v){return new(v||D)(I.Y36(m),I.Y36(Yr),I.Y36(_.S$))},D.\u0275dir=I.lG2({type:D,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(v,R){1&v&&I.NdJ("click",function(Y){return R.onClick(Y.button,Y.ctrlKey,Y.shiftKey,Y.altKey,Y.metaKey)}),2&v&&(I.Ikx("href",R.href,I.LSH),I.uIk("target",R.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[I.TTD]}),D})();function Ce(D){return""===D||!!D}let kt=(()=>{class D{constructor(v,R,j,Y,ce){this.parentContexts=v,this.location=R,this.resolver=j,this.changeDetector=ce,this.activated=null,this._activatedRoute=null,this.activateEvents=new I.vpe,this.deactivateEvents=new I.vpe,this.name=Y||In,v.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const v=this.parentContexts.getContext(this.name);v&&v.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,v}attach(v,R){this.activated=v,this._activatedRoute=R,this.location.insert(v.hostView)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,R){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=v;const ce=(R=R||this.resolver).resolveComponentFactory(v._futureSnapshot.routeConfig.component),Le=this.parentContexts.getOrCreateContext(this.name).children,yt=new hn(v,Le,this.location.injector);this.activated=this.location.createComponent(ce,this.location.length,yt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return D.\u0275fac=function(v){return new(v||D)(I.Y36(Po),I.Y36(I.s_b),I.Y36(I._Vd),I.$8M("name"),I.Y36(I.sBO))},D.\u0275dir=I.lG2({type:D,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),D})();class hn{constructor(E,v,R){this.route=E,this.childContexts=v,this.parent=R}get(E,v){return E===Yr?this.route:E===Po?this.childContexts:this.parent.get(E,v)}}class Fn{}class Vt{preload(E,v){return(0,Me.of)(null)}}let Ln=(()=>{class D{constructor(v,R,j,Y,ce){this.router=v,this.injector=Y,this.preloadingStrategy=ce,this.loader=new Ti(R,j,Zt=>v.triggerEvent(new Jn(Zt)),Zt=>v.triggerEvent(new ci(Zt)))}setUpPreloading(){this.subscription=this.router.events.pipe(St(v=>v instanceof Ct),Hr(()=>this.preload())).subscribe(()=>{})}preload(){const v=this.injector.get(I.h0i);return this.processRoutes(v,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,R){const j=[];for(const Y of R)if(Y.loadChildren&&!Y.canLoad&&Y._loadedConfig){const ce=Y._loadedConfig;j.push(this.processRoutes(ce.module,ce.routes))}else Y.loadChildren&&!Y.canLoad?j.push(this.preloadConfig(v,Y)):Y.children&&j.push(this.processRoutes(v,Y.children));return(0,tt.D)(j).pipe((0,We.J)(),(0,de.U)(Y=>{}))}preloadConfig(v,R){return this.preloadingStrategy.preload(R,()=>(R._loadedConfig?(0,Me.of)(R._loadedConfig):this.loader.load(v.injector,R)).pipe((0,Mn.zg)(Y=>(R._loadedConfig=Y,this.processRoutes(Y.module,Y.routes)))))}}return D.\u0275fac=function(v){return new(v||D)(I.LFG(m),I.LFG(I.v3s),I.LFG(I.Sil),I.LFG(I.zs3),I.LFG(Fn))},D.\u0275prov=I.Yz7({token:D,factory:D.\u0275fac}),D})(),Rt=(()=>{class D{constructor(v,R,j={}){this.router=v,this.viewportScroller=R,this.options=j,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},j.scrollPositionRestoration=j.scrollPositionRestoration||"disabled",j.anchorScrolling=j.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(v=>{v instanceof Ye?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof Ct&&(this.lastId=v.id,this.scheduleScrollEvent(v,this.router.parseUrl(v.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(v=>{v instanceof Si&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,R){this.router.triggerEvent(new Si(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return D.\u0275fac=function(v){return new(v||D)(I.LFG(m),I.LFG(_.EM),I.LFG(void 0))},D.\u0275prov=I.Yz7({token:D,factory:D.\u0275fac}),D})();const bt=new I.OlP("ROUTER_CONFIGURATION"),Er=new I.OlP("ROUTER_FORROOT_GUARD"),Yo=[_.Ye,{provide:Rr,useClass:Jr},{provide:m,useFactory:function(D,E,v,R,j,Y,ce,Le={},yt,Zt){const gr=new m(null,D,E,v,R,j,Y,rr(ce));return yt&&(gr.urlHandlingStrategy=yt),Zt&&(gr.routeReuseStrategy=Zt),function(D,E){D.errorHandler&&(E.errorHandler=D.errorHandler),D.malformedUriErrorHandler&&(E.malformedUriErrorHandler=D.malformedUriErrorHandler),D.onSameUrlNavigation&&(E.onSameUrlNavigation=D.onSameUrlNavigation),D.paramsInheritanceStrategy&&(E.paramsInheritanceStrategy=D.paramsInheritanceStrategy),D.relativeLinkResolution&&(E.relativeLinkResolution=D.relativeLinkResolution),D.urlUpdateStrategy&&(E.urlUpdateStrategy=D.urlUpdateStrategy)}(Le,gr),Le.enableTracing&&gr.events.subscribe(Bn=>{var oi,hr;null===(oi=console.group)||void 0===oi||oi.call(console,`Router Event: ${Bn.constructor.name}`),console.log(Bn.toString()),console.log(Bn),null===(hr=console.groupEnd)||void 0===hr||hr.call(console)}),gr},deps:[Rr,Po,_.Ye,I.zs3,I.v3s,I.Sil,Fa,bt,[class{},new I.FiY],[class{},new I.FiY]]},Po,{provide:Yr,useFactory:function(D){return D.routerState.root},deps:[m]},{provide:I.v3s,useClass:I.EAV},Ln,Vt,class{preload(E,v){return v().pipe(zn(()=>(0,Me.of)(null)))}},{provide:bt,useValue:{enableTracing:!1}}];function Us(){return new I.PXZ("Router",m)}let ts=(()=>{class D{constructor(v,R){}static forRoot(v,R){return{ngModule:D,providers:[Yo,eu(v),{provide:Er,useFactory:mi,deps:[[m,new I.FiY,new I.tp0]]},{provide:bt,useValue:R||{}},{provide:_.S$,useFactory:Zs,deps:[_.lw,[new I.tBr(_.mr),new I.FiY],bt]},{provide:Rt,useFactory:Ts,deps:[m,_.EM,bt]},{provide:Fn,useExisting:R&&R.preloadingStrategy?R.preloadingStrategy:Vt},{provide:I.PXZ,multi:!0,useFactory:Us},[oa,{provide:I.ip1,multi:!0,useFactory:en,deps:[oa]},{provide:Un,useFactory:zt,deps:[oa]},{provide:I.tb,multi:!0,useExisting:Un}]]}}static forChild(v){return{ngModule:D,providers:[eu(v)]}}}return D.\u0275fac=function(v){return new(v||D)(I.LFG(Er,8),I.LFG(m,8))},D.\u0275mod=I.oAB({type:D}),D.\u0275inj=I.cJS({}),D})();function Ts(D,E,v){return v.scrollOffset&&E.setOffset(v.scrollOffset),new Rt(D,E,v)}function Zs(D,E,v={}){return v.useHash?new _.Do(D,E):new _.b0(D,E)}function mi(D){return"guarded"}function eu(D){return[{provide:I.deG,multi:!0,useValue:D},{provide:Fa,multi:!0,useValue:D}]}let oa=(()=>{class D{constructor(v){this.injector=v,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new me.xQ}appInitializer(){return this.injector.get(_.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let R=null;const j=new Promise(Le=>R=Le),Y=this.injector.get(m),ce=this.injector.get(bt);return"disabled"===ce.initialNavigation?(Y.setUpLocationChangeListener(),R(!0)):"enabled"===ce.initialNavigation||"enabledBlocking"===ce.initialNavigation?(Y.hooks.afterPreactivation=()=>this.initNavigation?(0,Me.of)(null):(this.initNavigation=!0,R(!0),this.resultOfPreactivationDone),Y.initialNavigation()):R(!0),j})}bootstrapListener(v){const R=this.injector.get(bt),j=this.injector.get(Ln),Y=this.injector.get(Rt),ce=this.injector.get(m),Le=this.injector.get(I.z2F);v===Le.components[0]&&(("enabledNonBlocking"===R.initialNavigation||void 0===R.initialNavigation)&&ce.initialNavigation(),j.setUpPreloading(),Y.init(),ce.resetRootComponentType(Le.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return D.\u0275fac=function(v){return new(v||D)(I.LFG(I.zs3))},D.\u0275prov=I.Yz7({token:D,factory:D.\u0275fac}),D})();function en(D){return D.appInitializer.bind(D)}function zt(D){return D.bootstrapListener.bind(D)}const Un=new I.OlP("Router Initializer")},3854:($t,ze,N)=>{"use strict";N.d(ze,{BH:()=>Fe,LL:()=>ye,ZR:()=>Je,zI:()=>_e,US:()=>Pe,tV:()=>we,$s:()=>Zn,r3:()=>En,Sg:()=>Ue,ne:()=>Yn,vZ:()=>rn,ZB:()=>J,pd:()=>Mn,m9:()=>_r,z$:()=>ft,jU:()=>Me,ru:()=>We,d:()=>Re,xb:()=>St,w1:()=>tt,hl:()=>ne,uI:()=>Ne,UG:()=>Ke,b$:()=>je,G6:()=>jt,Mn:()=>rt,xO:()=>$r,zd:()=>bi,eu:()=>oe});const Ae=function(ve){const Te=[];let Se=0;for(let mt=0;mt<ve.length;mt++){let Ye=ve.charCodeAt(mt);Ye<128?Te[Se++]=Ye:Ye<2048?(Te[Se++]=Ye>>6|192,Te[Se++]=63&Ye|128):55296==(64512&Ye)&&mt+1<ve.length&&56320==(64512&ve.charCodeAt(mt+1))?(Ye=65536+((1023&Ye)<<10)+(1023&ve.charCodeAt(++mt)),Te[Se++]=Ye>>18|240,Te[Se++]=Ye>>12&63|128,Te[Se++]=Ye>>6&63|128,Te[Se++]=63&Ye|128):(Te[Se++]=Ye>>12|224,Te[Se++]=Ye>>6&63|128,Te[Se++]=63&Ye|128)}return Te},Pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ve,Te){if(!Array.isArray(ve))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Se=Te?this.byteToCharMapWebSafe_:this.byteToCharMap_,mt=[];for(let Ye=0;Ye<ve.length;Ye+=3){const Ct=ve[Ye],un=Ye+1<ve.length,nr=un?ve[Ye+1]:0,cr=Ye+2<ve.length,yn=cr?ve[Ye+2]:0;let sr=(15&nr)<<2|yn>>6,Jn=63&yn;cr||(Jn=64,un||(sr=64)),mt.push(Se[Ct>>2],Se[(3&Ct)<<4|nr>>4],Se[sr],Se[Jn])}return mt.join("")},encodeString(ve,Te){return this.HAS_NATIVE_SUPPORT&&!Te?btoa(ve):this.encodeByteArray(Ae(ve),Te)},decodeString(ve,Te){return this.HAS_NATIVE_SUPPORT&&!Te?atob(ve):function(ve){const Te=[];let Se=0,mt=0;for(;Se<ve.length;){const Ye=ve[Se++];if(Ye<128)Te[mt++]=String.fromCharCode(Ye);else if(Ye>191&&Ye<224){const Ct=ve[Se++];Te[mt++]=String.fromCharCode((31&Ye)<<6|63&Ct)}else if(Ye>239&&Ye<365){const cr=((7&Ye)<<18|(63&ve[Se++])<<12|(63&ve[Se++])<<6|63&ve[Se++])-65536;Te[mt++]=String.fromCharCode(55296+(cr>>10)),Te[mt++]=String.fromCharCode(56320+(1023&cr))}else{const Ct=ve[Se++],un=ve[Se++];Te[mt++]=String.fromCharCode((15&Ye)<<12|(63&Ct)<<6|63&un)}}return Te.join("")}(this.decodeStringToByteArray(ve,Te))},decodeStringToByteArray(ve,Te){this.init_();const Se=Te?this.charToByteMapWebSafe_:this.charToByteMap_,mt=[];for(let Ye=0;Ye<ve.length;){const Ct=Se[ve.charAt(Ye++)],nr=Ye<ve.length?Se[ve.charAt(Ye)]:0;++Ye;const yn=Ye<ve.length?Se[ve.charAt(Ye)]:64;++Ye;const jn=Ye<ve.length?Se[ve.charAt(Ye)]:64;if(++Ye,null==Ct||null==nr||null==yn||null==jn)throw Error();mt.push(Ct<<2|nr>>4),64!==yn&&(mt.push(nr<<4&240|yn>>2),64!==jn&&mt.push(yn<<6&192|jn))}return mt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ve=0;ve<this.ENCODED_VALS.length;ve++)this.byteToCharMap_[ve]=this.ENCODED_VALS.charAt(ve),this.charToByteMap_[this.byteToCharMap_[ve]]=ve,this.byteToCharMapWebSafe_[ve]=this.ENCODED_VALS_WEBSAFE.charAt(ve),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ve]]=ve,ve>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ve)]=ve,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ve)]=ve)}}},Qe=function(ve){return function(ve){const Te=Ae(ve);return Pe.encodeByteArray(Te,!0)}(ve).replace(/\./g,"")},we=function(ve){try{return Pe.decodeString(ve,!0)}catch(Te){console.error("base64Decode failed: ",Te)}return null};function J(ve,Te){if(!(Te instanceof Object))return Te;switch(Te.constructor){case Date:return new Date(Te.getTime());case Object:void 0===ve&&(ve={});break;case Array:ve=[];break;default:return Te}for(const Se in Te)!Te.hasOwnProperty(Se)||!fe(Se)||(ve[Se]=J(ve[Se],Te[Se]));return ve}function fe(ve){return"__proto__"!==ve}class Fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Te,Se)=>{this.resolve=Te,this.reject=Se})}wrapCallback(Te){return(Se,mt)=>{Se?this.reject(Se):this.resolve(mt),"function"==typeof Te&&(this.promise.catch(()=>{}),1===Te.length?Te(Se):Te(Se,mt))}}}function Ue(ve,Te){if(ve.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const mt=Te||"demo-project",Ye=ve.iat||0,Ct=ve.sub||ve.user_id;if(!Ct)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const un=Object.assign({iss:`https://securetoken.google.com/${mt}`,aud:mt,iat:Ye,exp:Ye+3600,auth_time:Ye,sub:Ct,user_id:Ct,firebase:{sign_in_provider:"custom",identities:{}}},ve);return[Qe(JSON.stringify({alg:"none",type:"JWT"})),Qe(JSON.stringify(un)),""].join(".")}function ft(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ne(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ft())}function Ke(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ve){return!1}}function Me(){return"object"==typeof self&&self.self===self}function We(){const ve="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ve&&void 0!==ve.id}function je(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Re(){return ft().indexOf("Electron/")>=0}function tt(){const ve=ft();return ve.indexOf("MSIE ")>=0||ve.indexOf("Trident/")>=0}function rt(){return ft().indexOf("MSAppHost/")>=0}function jt(){return!Ke()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ne(){return"object"==typeof indexedDB}function oe(){return new Promise((ve,Te)=>{try{let Se=!0;const mt="validate-browser-context-for-indexeddb-analytics-module",Ye=self.indexedDB.open(mt);Ye.onsuccess=()=>{Ye.result.close(),Se||self.indexedDB.deleteDatabase(mt),ve(!0)},Ye.onupgradeneeded=()=>{Se=!1},Ye.onerror=()=>{var Ct;Te((null===(Ct=Ye.error)||void 0===Ct?void 0:Ct.message)||"")}}catch(Se){Te(Se)}})}function _e(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Je extends Error{constructor(Te,Se,mt){super(Se),this.code=Te,this.customData=mt,this.name="FirebaseError",Object.setPrototypeOf(this,Je.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ye.prototype.create)}}class ye{constructor(Te,Se,mt){this.service=Te,this.serviceName=Se,this.errors=mt}create(Te,...Se){const mt=Se[0]||{},Ye=`${this.service}/${Te}`,Ct=this.errors[Te],un=Ct?function(ve,Te){return ve.replace(on,(Se,mt)=>{const Ye=Te[mt];return null!=Ye?String(Ye):`<${mt}?>`})}(Ct,mt):"Error";return new Je(Ye,`${this.serviceName}: ${un} (${Ye}).`,mt)}}const on=/\{\$([^}]+)}/g;function En(ve,Te){return Object.prototype.hasOwnProperty.call(ve,Te)}function St(ve){for(const Te in ve)if(Object.prototype.hasOwnProperty.call(ve,Te))return!1;return!0}function rn(ve,Te){if(ve===Te)return!0;const Se=Object.keys(ve),mt=Object.keys(Te);for(const Ye of Se){if(!mt.includes(Ye))return!1;const Ct=ve[Ye],un=Te[Ye];if(zn(Ct)&&zn(un)){if(!rn(Ct,un))return!1}else if(Ct!==un)return!1}for(const Ye of mt)if(!Se.includes(Ye))return!1;return!0}function zn(ve){return null!==ve&&"object"==typeof ve}function $r(ve){const Te=[];for(const[Se,mt]of Object.entries(ve))Array.isArray(mt)?mt.forEach(Ye=>{Te.push(encodeURIComponent(Se)+"="+encodeURIComponent(Ye))}):Te.push(encodeURIComponent(Se)+"="+encodeURIComponent(mt));return Te.length?"&"+Te.join("&"):""}function bi(ve){const Te={};return ve.replace(/^\?/,"").split("&").forEach(mt=>{if(mt){const[Ye,Ct]=mt.split("=");Te[decodeURIComponent(Ye)]=decodeURIComponent(Ct)}}),Te}function Mn(ve){const Te=ve.indexOf("?");if(!Te)return"";const Se=ve.indexOf("#",Te);return ve.substring(Te,Se>0?Se:void 0)}function Yn(ve,Te){const Se=new ar(ve,Te);return Se.subscribe.bind(Se)}class ar{constructor(Te,Se){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Se,this.task.then(()=>{Te(this)}).catch(mt=>{this.error(mt)})}next(Te){this.forEachObserver(Se=>{Se.next(Te)})}error(Te){this.forEachObserver(Se=>{Se.error(Te)}),this.close(Te)}complete(){this.forEachObserver(Te=>{Te.complete()}),this.close()}subscribe(Te,Se,mt){let Ye;if(void 0===Te&&void 0===Se&&void 0===mt)throw new Error("Missing Observer.");Ye=function(ve,Te){if("object"!=typeof ve||null===ve)return!1;for(const Se of["next","error","complete"])if(Se in ve&&"function"==typeof ve[Se])return!0;return!1}(Te)?Te:{next:Te,error:Se,complete:mt},void 0===Ye.next&&(Ye.next=qt),void 0===Ye.error&&(Ye.error=qt),void 0===Ye.complete&&(Ye.complete=qt);const Ct=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ye.error(this.finalError):Ye.complete()}catch(un){}}),this.observers.push(Ye),Ct}unsubscribeOne(Te){void 0===this.observers||void 0===this.observers[Te]||(delete this.observers[Te],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Te){if(!this.finalized)for(let Se=0;Se<this.observers.length;Se++)this.sendOne(Se,Te)}sendOne(Te,Se){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Te])try{Se(this.observers[Te])}catch(mt){"undefined"!=typeof console&&console.error&&console.error(mt)}})}close(Te){this.finalized||(this.finalized=!0,void 0!==Te&&(this.finalError=Te),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qt(){}function Zn(ve,Te=1e3,Se=2){const mt=Te*Math.pow(Se,ve),Ye=Math.round(.5*mt*(Math.random()-.5)*2);return Math.min(144e5,mt+Ye)}function _r(ve){return ve&&ve._delegate?ve._delegate:ve}},2329:($t,ze,N)=>{"use strict";N.d(ze,{Mq:()=>_.getApp,C6:()=>_.getApps});var _=N(8026);(0,_.registerVersion)("firebase","9.5.0","app")},7841:($t,ze,N)=>{"use strict";N.d(ze,{Z:()=>_.Z});var _=N(3394);_.Z.registerVersion("firebase","9.5.0","app-compat")},4691:($t,ze,N)=>{"use strict";N.r(ze);var _=N(8239),I=N(3394),K=N(3854),Ae=N(8026),Ee=N(4762),Pe=N(5422),Ge=N(3910);const ft=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ne=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ke=new K.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),We=new Pe.Yd("@firebase/auth");function je(b,...d){We.logLevel<=Pe.in.ERROR&&We.error(`Auth (${Ae.SDK_VERSION}): ${b}`,...d)}function Re(b,...d){throw jt(b,...d)}function tt(b,...d){return jt(b,...d)}function rt(b,d,h){const w=Object.assign(Object.assign({},Ne()),{[d]:h});return new K.LL("auth","Firebase",w).create(d,{appName:b.name})}function Lt(b,d,h){if(!(d instanceof h))throw h.name!==d.constructor.name&&Re(b,"argument-error"),rt(b,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jt(b,...d){if("string"!=typeof b){const h=d[0],w=[...d.slice(1)];return w[0]&&(w[0].appName=b.name),b._errorFactory.create(h,...w)}return Ke.create(b,...d)}function ne(b,d,...h){if(!b)throw jt(d,...h)}function oe(b){const d="INTERNAL ASSERTION FAILED: "+b;throw je(d),new Error(d)}function _e(b,d){b||oe(d)}const me=new Map;function de(b){_e(b instanceof Function,"Expected a class definition");let d=me.get(b);return d?(_e(d instanceof b,"Instance stored in cache mismatched with class"),d):(d=new b,me.set(b,d),d)}function it(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function on(){return"http:"===Bt()||"https:"===Bt()}function Bt(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Nn{constructor(d,h){this.shortDelay=d,this.longDelay=h,_e(h>d,"Short delay should be less than long delay!"),this.isMobile=(0,K.uI)()||(0,K.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(on()||(0,K.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function vn(b,d){_e(b.emulator,"Emulator should always be set here");const{url:h}=b.emulator;return d?`${h}${d.startsWith("/")?d.slice(1):d}`:h}class Kn{static initialize(d,h,w){this.fetchImpl=d,h&&(this.headersImpl=h),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void oe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void oe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void oe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},En=new Nn(3e4,6e4);function Dn(b,d){return b.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:b.tenantId}):d}function St(b,d,h,w){return pr.apply(this,arguments)}function pr(){return(pr=(0,_.Z)(function*(b,d,h,w,G={}){return rn(b,G,()=>{let ie={},$e={};w&&("GET"===d?$e=w:ie={body:JSON.stringify(w)});const vt=(0,K.xO)(Object.assign({key:b.config.apiKey},$e)).slice(1),Jt=new(Kn.headers());return Jt.set("Content-Type","application/json"),Jt.set("X-Client-Version",b._getSdkClientVersion()),b.languageCode&&Jt.set("X-Firebase-Locale",b.languageCode),Kn.fetch()(Mn(b,b.config.apiHost,h,vt),Object.assign({method:d,headers:Jt,referrerPolicy:"no-referrer"},ie))})})).apply(this,arguments)}function rn(b,d,h){return zn.apply(this,arguments)}function zn(){return(zn=(0,_.Z)(function*(b,d,h){b._canInitEmulator=!1;const w=Object.assign(Object.assign({},xn),d);try{const G=new Hr(b),ie=yield Promise.race([h(),G.promise]);G.clearNetworkTimeout();const $e=yield ie.json();if("needConfirmation"in $e)throw Yn(b,"account-exists-with-different-credential",$e);if(ie.ok&&!("errorMessage"in $e))return $e;{const vt=ie.ok?$e.errorMessage:$e.error.message,[Jt,pn]=vt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Jt)throw Yn(b,"credential-already-in-use",$e);if("EMAIL_EXISTS"===Jt)throw Yn(b,"email-already-in-use",$e);const Sn=w[Jt]||Jt.toLowerCase().replace(/[_\s]+/g,"-");if(pn)throw rt(b,Sn,pn);Re(b,Sn)}}catch(G){if(G instanceof K.ZR)throw G;Re(b,"network-request-failed")}})).apply(this,arguments)}function $r(b,d,h,w){return bi.apply(this,arguments)}function bi(){return(bi=(0,_.Z)(function*(b,d,h,w,G={}){const ie=yield St(b,d,h,w,G);return"mfaPendingCredential"in ie&&Re(b,"multi-factor-auth-required",{_serverResponse:ie}),ie})).apply(this,arguments)}function Mn(b,d,h,w){const G=`${d}${h}?${w}`;return b.config.emulator?vn(b.config,G):`${b.config.apiScheme}://${G}`}class Hr{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((h,w)=>{this.timer=setTimeout(()=>w(tt(this.auth,"timeout")),En.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yn(b,d,h){const w={appName:b.name};h.email&&(w.email=h.email),h.phoneNumber&&(w.phoneNumber=h.phoneNumber);const G=tt(b,d,w);return G.customData._tokenResponse=h,G}function ur(){return(ur=(0,_.Z)(function*(b,d){return St(b,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function yr(b,d){return qt.apply(this,arguments)}function qt(){return(qt=(0,_.Z)(function*(b,d){return St(b,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Kt(b,d){return at.apply(this,arguments)}function at(){return(at=(0,_.Z)(function*(b,d){return St(b,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function dt(b){if(b)try{const d=new Date(Number(b));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function Mt(){return(Mt=(0,_.Z)(function*(b,d=!1){const h=(0,K.m9)(b),w=yield h.getIdToken(d),G=Ht(w);ne(G&&G.exp&&G.auth_time&&G.iat,h.auth,"internal-error");const ie="object"==typeof G.firebase?G.firebase:void 0,$e=null==ie?void 0:ie.sign_in_provider;return{claims:G,token:w,authTime:dt(bn(G.auth_time)),issuedAtTime:dt(bn(G.iat)),expirationTime:dt(bn(G.exp)),signInProvider:$e||null,signInSecondFactor:(null==ie?void 0:ie.sign_in_second_factor)||null}})).apply(this,arguments)}function bn(b){return 1e3*Number(b)}function Ht(b){const[d,h,w]=b.split(".");if(void 0===d||void 0===h||void 0===w)return je("JWT malformed, contained fewer than 3 sections"),null;try{const G=(0,K.tV)(h);return G?JSON.parse(G):(je("Failed to decode base64 JWT payload"),null)}catch(G){return je("Caught error parsing JWT payload as JSON",G),null}}function Ar(b,d){return lr.apply(this,arguments)}function lr(){return(lr=(0,_.Z)(function*(b,d,h=!1){if(h)return d;try{return yield d}catch(w){throw w instanceof K.ZR&&Zn(w)&&b.auth.currentUser===b&&(yield b.auth.signOut()),w}})).apply(this,arguments)}function Zn({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class dr{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var h;if(d){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const G=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,G)}}schedule(d=!1){var h=this;if(!this.isRunning)return;const w=this.getInterval(d);this.timerId=setTimeout((0,_.Z)(function*(){yield h.iteration()}),w)}iteration(){var d=this;return(0,_.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h.code&&d.schedule(!0))}d.schedule()})()}}class Nr{constructor(d,h){this.createdAt=d,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=dt(this.lastLoginAt),this.creationTime=dt(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function _r(b){return ve.apply(this,arguments)}function ve(){return(ve=(0,_.Z)(function*(b){var d;const h=b.auth,w=yield b.getIdToken(),G=yield Ar(b,Kt(h,{idToken:w}));ne(null==G?void 0:G.users.length,h,"internal-error");const ie=G.users[0];b._notifyReloadListener(ie);const $e=(null===(d=ie.providerUserInfo)||void 0===d?void 0:d.length)?Ye(ie.providerUserInfo):[],vt=mt(b.providerData,$e),Sn=!!b.isAnonymous&&!(b.email&&ie.passwordHash||(null==vt?void 0:vt.length)),On={uid:ie.localId,displayName:ie.displayName||null,photoURL:ie.photoUrl||null,email:ie.email||null,emailVerified:ie.emailVerified||!1,phoneNumber:ie.phoneNumber||null,tenantId:ie.tenantId||null,providerData:vt,metadata:new Nr(ie.createdAt,ie.lastLoginAt),isAnonymous:Sn};Object.assign(b,On)})).apply(this,arguments)}function Se(){return(Se=(0,_.Z)(function*(b){const d=(0,K.m9)(b);yield _r(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function mt(b,d){return[...b.filter(w=>!d.some(G=>G.providerId===w.providerId)),...d]}function Ye(b){return b.map(d=>{var{providerId:h}=d,w=(0,Ee._T)(d,["providerId"]);return{providerId:h,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function un(){return(un=(0,_.Z)(function*(b,d){const h=yield rn(b,{},()=>{const w=(0,K.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:G,apiKey:ie}=b.config,$e=Mn(b,G,"/v1/token",`key=${ie}`);return Kn.fetch()($e,{method:"POST",headers:{"X-Client-Version":b._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:w})});return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}class nr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){ne(d.idToken,"internal-error"),ne(void 0!==d.idToken,"internal-error"),ne(void 0!==d.refreshToken,"internal-error");const h="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function(b){const d=Ht(b);return ne(d,"internal-error"),ne(void 0!==d.exp,"internal-error"),ne(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,h)}getToken(d,h=!1){var w=this;return(0,_.Z)(function*(){return ne(!w.accessToken||w.refreshToken,d,"user-token-expired"),h||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(d,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,h){var w=this;return(0,_.Z)(function*(){const{accessToken:G,refreshToken:ie,expiresIn:$e}=yield function(b,d){return un.apply(this,arguments)}(d,h);w.updateTokensAndExpiration(G,ie,Number($e))})()}updateTokensAndExpiration(d,h,w){this.refreshToken=h||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(d,h){const{refreshToken:w,accessToken:G,expirationTime:ie}=h,$e=new nr;return w&&(ne("string"==typeof w,"internal-error",{appName:d}),$e.refreshToken=w),G&&(ne("string"==typeof G,"internal-error",{appName:d}),$e.accessToken=G),ie&&(ne("number"==typeof ie,"internal-error",{appName:d}),$e.expirationTime=ie),$e}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new nr,this.toJSON())}_performRefresh(){return oe("not implemented")}}function cr(b,d){ne("string"==typeof b||void 0===b,"internal-error",{appName:d})}class yn{constructor(d){var{uid:h,auth:w,stsTokenManager:G}=d,ie=(0,Ee._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new dr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=w,this.stsTokenManager=G,this.accessToken=G.accessToken,this.displayName=ie.displayName||null,this.email=ie.email||null,this.emailVerified=ie.emailVerified||!1,this.phoneNumber=ie.phoneNumber||null,this.photoURL=ie.photoURL||null,this.isAnonymous=ie.isAnonymous||!1,this.tenantId=ie.tenantId||null,this.metadata=new Nr(ie.createdAt||void 0,ie.lastLoginAt||void 0)}getIdToken(d){var h=this;return(0,_.Z)(function*(){const w=yield Ar(h,h.stsTokenManager.getToken(h.auth,d));return ne(w,h.auth,"internal-error"),h.accessToken!==w&&(h.accessToken=w,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),w})()}getIdTokenResult(d){return function(b){return Mt.apply(this,arguments)}(this,d)}reload(){return function(b){return Se.apply(this,arguments)}(this)}_assign(d){this!==d&&(ne(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(h=>Object.assign({},h)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new yn(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,h=!1){var w=this;return(0,_.Z)(function*(){let G=!1;d.idToken&&d.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(d),G=!0),h&&(yield _r(w)),yield w.auth._persistUserIfCurrent(w),G&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var d=this;return(0,_.Z)(function*(){const h=yield d.getIdToken();return yield Ar(d,function(b,d){return ur.apply(this,arguments)}(d.auth,{idToken:h})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,h){var w,G,ie,$e,vt,Jt,pn,Sn;const On=null!==(w=h.displayName)&&void 0!==w?w:void 0,Oi=null!==(G=h.email)&&void 0!==G?G:void 0,Eo=null!==(ie=h.phoneNumber)&&void 0!==ie?ie:void 0,cu=null!==($e=h.photoURL)&&void 0!==$e?$e:void 0,vh=null!==(vt=h.tenantId)&&void 0!==vt?vt:void 0,Qu=null!==(Jt=h._redirectEventId)&&void 0!==Jt?Jt:void 0,Vo=null!==(pn=h.createdAt)&&void 0!==pn?pn:void 0,Ut=null!==(Sn=h.lastLoginAt)&&void 0!==Sn?Sn:void 0,{uid:wl,emailVerified:pa,isAnonymous:md,providerData:Cl,stsTokenManager:du}=h;ne(wl&&du,d,"internal-error");const up=nr.fromJSON(this.name,du);ne("string"==typeof wl,d,"internal-error"),cr(On,d.name),cr(Oi,d.name),ne("boolean"==typeof pa,d,"internal-error"),ne("boolean"==typeof md,d,"internal-error"),cr(Eo,d.name),cr(cu,d.name),cr(vh,d.name),cr(Qu,d.name),cr(Vo,d.name),cr(Ut,d.name);const hu=new yn({uid:wl,auth:d,email:Oi,emailVerified:pa,displayName:On,isAnonymous:md,photoURL:cu,phoneNumber:Eo,tenantId:vh,stsTokenManager:up,createdAt:Vo,lastLoginAt:Ut});return Cl&&Array.isArray(Cl)&&(hu.providerData=Cl.map(Eh=>Object.assign({},Eh))),Qu&&(hu._redirectEventId=Qu),hu}static _fromIdTokenResponse(d,h,w=!1){return(0,_.Z)(function*(){const G=new nr;G.updateFromServerResponse(h);const ie=new yn({uid:h.localId,auth:d,stsTokenManager:G,isAnonymous:w});return yield _r(ie),ie})()}}const jn=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,_.Z)(function*(){return!0})()}_set(h,w){var G=this;return(0,_.Z)(function*(){G.storage[h]=w})()}_get(h){var w=this;return(0,_.Z)(function*(){const G=w.storage[h];return void 0===G?null:G})()}_remove(h){var w=this;return(0,_.Z)(function*(){delete w.storage[h]})()}_addListener(h,w){}_removeListener(h,w){}}return b.type="NONE",b})();function sr(b,d,h){return`firebase:${b}:${d}:${h}`}class Jn{constructor(d,h,w){this.persistence=d,this.auth=h,this.userKey=w;const{config:G,name:ie}=this.auth;this.fullUserKey=sr(this.userKey,G.apiKey,ie),this.fullPersistenceKey=sr("persistence",G.apiKey,ie),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,_.Z)(function*(){const h=yield d.persistence._get(d.fullUserKey);return h?yn._fromJSON(d.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var h=this;return(0,_.Z)(function*(){if(h.persistence===d)return;const w=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=d,w?h.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,h,w="authUser"){return(0,_.Z)(function*(){if(!h.length)return new Jn(de(jn),d,w);const G=(yield Promise.all(h.map(function(){var pn=(0,_.Z)(function*(Sn){if(yield Sn._isAvailable())return Sn});return function(Sn){return pn.apply(this,arguments)}}()))).filter(pn=>pn);let ie=G[0]||de(jn);const $e=sr(w,d.config.apiKey,d.name);let vt=null;for(const pn of h)try{const Sn=yield pn._get($e);if(Sn){const On=yn._fromJSON(d,Sn);pn!==ie&&(vt=On),ie=pn;break}}catch(Sn){}const Jt=G.filter(pn=>pn._shouldAllowMigration);return ie._shouldAllowMigration&&Jt.length?(ie=Jt[0],vt&&(yield ie._set($e,vt.toJSON())),yield Promise.all(h.map(function(){var pn=(0,_.Z)(function*(Sn){if(Sn!==ie)try{yield Sn._remove($e)}catch(On){}});return function(Sn){return pn.apply(this,arguments)}}())),new Jn(ie,d,w)):new Jn(ie,d,w)})()}}function ci(b){const d=b.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Ki(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(kr(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(In(d))return"Blackberry";if(xr(d))return"Webos";if(wi(d))return"Safari";if((d.includes("chrome/")||qi(d))&&!d.includes("edge/"))return"Chrome";if(Si(d))return"Android";{const w=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function kr(b=(0,K.z$)()){return/firefox\//i.test(b)}function wi(b=(0,K.z$)()){const d=b.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function qi(b=(0,K.z$)()){return/crios\//i.test(b)}function Ki(b=(0,K.z$)()){return/iemobile/i.test(b)}function Si(b=(0,K.z$)()){return/android/i.test(b)}function In(b=(0,K.z$)()){return/blackberry/i.test(b)}function xr(b=(0,K.z$)()){return/webos/i.test(b)}function Cr(b=(0,K.z$)()){return/iphone|ipad|ipod/i.test(b)}function ui(b=(0,K.z$)()){return Cr(b)||Si(b)||xr(b)||In(b)||/windows phone/i.test(b)||Ki(b)}function Xn(b,d=[]){let h;switch(b){case"Browser":h=ci((0,K.z$)());break;case"Worker":h=`${ci((0,K.z$)())}-${b}`;break;default:h=b}const w=d.length?d.join(","):"FirebaseCore-web";return`${h}/JsCore/${Ae.SDK_VERSION}/${w}`}class ri{constructor(d,h){this.app=d,this.config=h,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vr(this),this.idTokenSubscription=new Vr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ke,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=h.sdkClientVersion}_initializeWithPersistence(d,h){var w=this;return h&&(this._popupRedirectResolver=de(h)),this._initializationPromise=this.queue((0,_.Z)(function*(){var G,ie;w._deleted||(w.persistenceManager=yield Jn.create(w,d),!w._deleted&&((null===(G=w._popupRedirectResolver)||void 0===G?void 0:G._shouldInitProactively)&&(yield w._popupRedirectResolver._initialize(w)),yield w.initializeCurrentUser(h),w.lastNotifiedUid=(null===(ie=w.currentUser)||void 0===ie?void 0:ie.uid)||null,!w._deleted&&(w._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,_.Z)(function*(){if(d._deleted)return;const h=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||h){if(d.currentUser&&h&&d.currentUser.uid===h.uid)return d._currentUser._assign(h),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(h)}})()}initializeCurrentUser(d){var h=this;return(0,_.Z)(function*(){var w;let G=yield h.assertedPersistence.getCurrentUser();if(d&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const ie=null===(w=h.redirectUser)||void 0===w?void 0:w._redirectEventId,$e=null==G?void 0:G._redirectEventId,vt=yield h.tryRedirectSignIn(d);(!ie||ie===$e)&&(null==vt?void 0:vt.user)&&(G=vt.user)}return G?G._redirectEventId?(ne(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===G._redirectEventId?h.directlySetCurrentUser(G):h.reloadAndSetCurrentUserOrClear(G)):h.reloadAndSetCurrentUserOrClear(G):h.directlySetCurrentUser(null)})()}tryRedirectSignIn(d){var h=this;return(0,_.Z)(function*(){let w=null;try{w=yield h._popupRedirectResolver._completeRedirectFn(h,d,!0)}catch(G){yield h._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(d){var h=this;return(0,_.Z)(function*(){try{yield _r(d)}catch(w){if("auth/network-request-failed"!==w.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var d=this;return(0,_.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var h=this;return(0,_.Z)(function*(){const w=d?(0,K.m9)(d):null;return w&&ne(w.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(w&&w._clone(h))})()}_updateCurrentUser(d){var h=this;return(0,_.Z)(function*(){if(!h._deleted)return d&&ne(h.tenantId===d.tenantId,h,"tenant-id-mismatch"),h.queue((0,_.Z)(function*(){yield h.directlySetCurrentUser(d),h.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,_.Z)(function*(){return(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null)})()}setPersistence(d){var h=this;return this.queue((0,_.Z)(function*(){yield h.assertedPersistence.setPersistence(de(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new K.LL("auth","Firebase",d())}onAuthStateChanged(d,h,w){return this.registerStateListener(this.authStateSubscription,d,h,w)}onIdTokenChanged(d,h,w){return this.registerStateListener(this.idTokenSubscription,d,h,w)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,h){var w=this;return(0,_.Z)(function*(){const G=yield w.getOrInitRedirectPersistenceManager(h);return null===d?G.removeCurrentUser():G.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var h=this;return(0,_.Z)(function*(){if(!h.redirectPersistenceManager){const w=d&&de(d)||h._popupRedirectResolver;ne(w,h,"argument-error"),h.redirectPersistenceManager=yield Jn.create(h,[de(w._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(d){var h=this;return(0,_.Z)(function*(){var w,G;return h._isInitialized&&(yield h.queue((0,_.Z)(function*(){}))),(null===(w=h._currentUser)||void 0===w?void 0:w._redirectEventId)===d?h._currentUser:(null===(G=h.redirectUser)||void 0===G?void 0:G._redirectEventId)===d?h.redirectUser:null})()}_persistUserIfCurrent(d){var h=this;return(0,_.Z)(function*(){if(d===h.currentUser)return h.queue((0,_.Z)(function*(){return h.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(h=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,h,w,G){if(this._deleted)return()=>{};const ie="function"==typeof h?h:h.next.bind(h),$e=this._isInitialized?Promise.resolve():this._initializationPromise;return ne($e,this,"internal-error"),$e.then(()=>ie(this.currentUser)),"function"==typeof h?d.addObserver(h,w,G):d.addObserver(h)}directlySetCurrentUser(d){var h=this;return(0,_.Z)(function*(){h.currentUser&&h.currentUser!==d&&(h._currentUser._stopProactiveRefresh(),d&&h.isProactiveRefreshEnabled&&d._startProactiveRefresh()),h.currentUser=d,d?yield h.assertedPersistence.setCurrentUser(d):yield h.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Xn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function rr(b){return(0,K.m9)(b)}class Vr{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,K.ne)(h=>this.observer=h)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function er(b){const d=b.indexOf(":");return d<0?"":b.substr(0,d+1)}function Pn(b){if(!b)return null;const d=Number(b);return isNaN(d)?null:d}class Oe{constructor(d,h){this.providerId=d,this.signInMethod=h}toJSON(){return oe("not implemented")}_getIdTokenResponse(d){return oe("not implemented")}_linkToIdToken(d,h){return oe("not implemented")}_getReauthenticationResolver(d){return oe("not implemented")}}function xe(b,d){return le.apply(this,arguments)}function le(){return(le=(0,_.Z)(function*(b,d){return St(b,"POST","/v1/accounts:resetPassword",Dn(b,d))})).apply(this,arguments)}function Xe(b,d){return gt.apply(this,arguments)}function gt(){return(gt=(0,_.Z)(function*(b,d){return St(b,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function fn(b,d){return An.apply(this,arguments)}function An(){return(An=(0,_.Z)(function*(b,d){return St(b,"POST","/v1/accounts:update",Dn(b,d))})).apply(this,arguments)}function Wn(){return(Wn=(0,_.Z)(function*(b,d){return $r(b,"POST","/v1/accounts:signInWithPassword",Dn(b,d))})).apply(this,arguments)}function Cn(b,d){return di.apply(this,arguments)}function di(){return(di=(0,_.Z)(function*(b,d){return St(b,"POST","/v1/accounts:sendOobCode",Dn(b,d))})).apply(this,arguments)}function vr(b,d){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,_.Z)(function*(b,d){return Cn(b,d)})).apply(this,arguments)}function as(b,d){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,_.Z)(function*(b,d){return Cn(b,d)})).apply(this,arguments)}function Jr(b,d){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,_.Z)(function*(b,d){return Cn(b,d)})).apply(this,arguments)}function ws(b,d){return yi.apply(this,arguments)}function yi(){return(yi=(0,_.Z)(function*(b,d){return Cn(b,d)})).apply(this,arguments)}function ps(){return(ps=(0,_.Z)(function*(b,d){return $r(b,"POST","/v1/accounts:signInWithEmailLink",Dn(b,d))})).apply(this,arguments)}function Ni(){return(Ni=(0,_.Z)(function*(b,d){return $r(b,"POST","/v1/accounts:signInWithEmailLink",Dn(b,d))})).apply(this,arguments)}class ei extends Oe{constructor(d,h,w,G=null){super("password",w),this._email=d,this._password=h,this._tenantId=G}static _fromEmailAndPassword(d,h){return new ei(d,h,"password")}static _fromEmailAndCode(d,h,w=null){return new ei(d,h,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d;if((null==h?void 0:h.email)&&(null==h?void 0:h.password)){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(d){var h=this;return(0,_.Z)(function*(){switch(h.signInMethod){case"password":return function(b,d){return Wn.apply(this,arguments)}(d,{returnSecureToken:!0,email:h._email,password:h._password});case"emailLink":return function(b,d){return ps.apply(this,arguments)}(d,{email:h._email,oobCode:h._password});default:Re(d,"internal-error")}})()}_linkToIdToken(d,h){var w=this;return(0,_.Z)(function*(){switch(w.signInMethod){case"password":return Xe(d,{idToken:h,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function(b,d){return Ni.apply(this,arguments)}(d,{idToken:h,email:w._email,oobCode:w._password});default:Re(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function $n(b,d){return so.apply(this,arguments)}function so(){return(so=(0,_.Z)(function*(b,d){return $r(b,"POST","/v1/accounts:signInWithIdp",Dn(b,d))})).apply(this,arguments)}class ke extends Oe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const h=new ke(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(h.idToken=d.idToken),d.accessToken&&(h.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(h.nonce=d.nonce),d.pendingToken&&(h.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(h.accessToken=d.oauthToken,h.secret=d.oauthTokenSecret):Re("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:w,signInMethod:G}=h,ie=(0,Ee._T)(h,["providerId","signInMethod"]);if(!w||!G)return null;const $e=new ke(w,G);return $e.idToken=ie.idToken||void 0,$e.accessToken=ie.accessToken||void 0,$e.secret=ie.secret,$e.nonce=ie.nonce,$e.pendingToken=ie.pendingToken||null,$e}_getIdTokenResponse(d){return $n(d,this.buildRequest())}_linkToIdToken(d,h){const w=this.buildRequest();return w.idToken=h,$n(d,w)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,$n(d,h)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),d.postBody=(0,K.xO)(h)}return d}}function Ve(b,d){return nt.apply(this,arguments)}function nt(){return(nt=(0,_.Z)(function*(b,d){return St(b,"POST","/v1/accounts:sendVerificationCode",Dn(b,d))})).apply(this,arguments)}function Pt(){return(Pt=(0,_.Z)(function*(b,d){return $r(b,"POST","/v1/accounts:signInWithPhoneNumber",Dn(b,d))})).apply(this,arguments)}function or(){return(or=(0,_.Z)(function*(b,d){const h=yield $r(b,"POST","/v1/accounts:signInWithPhoneNumber",Dn(b,d));if(h.temporaryProof)throw Yn(b,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const ii={USER_NOT_FOUND:"user-not-found"};function Ui(){return(Ui=(0,_.Z)(function*(b,d){return $r(b,"POST","/v1/accounts:signInWithPhoneNumber",Dn(b,Object.assign(Object.assign({},d),{operation:"REAUTH"})),ii)})).apply(this,arguments)}class fi extends Oe{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,h){return new fi({verificationId:d,verificationCode:h})}static _fromTokenResponse(d,h){return new fi({phoneNumber:d,temporaryProof:h})}_getIdTokenResponse(d){return function(b,d){return Pt.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,h){return function(b,d){return or.apply(this,arguments)}(d,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function(b,d){return Ui.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:h,verificationId:w,verificationCode:G}=this.params;return d&&h?{temporaryProof:d,phoneNumber:h}:{sessionInfo:w,code:G}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:h,verificationCode:w,phoneNumber:G,temporaryProof:ie}=d;return w||h||G||ie?new fi({verificationId:h,verificationCode:w,phoneNumber:G,temporaryProof:ie}):null}}class gs{constructor(d){var h,w,G,ie,$e,vt;const Jt=(0,K.zd)((0,K.pd)(d)),pn=null!==(h=Jt.apiKey)&&void 0!==h?h:null,Sn=null!==(w=Jt.oobCode)&&void 0!==w?w:null,On=function(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(G=Jt.mode)&&void 0!==G?G:null);ne(pn&&Sn&&On,"argument-error"),this.apiKey=pn,this.operation=On,this.code=Sn,this.continueUrl=null!==(ie=Jt.continueUrl)&&void 0!==ie?ie:null,this.languageCode=null!==($e=Jt.languageCode)&&void 0!==$e?$e:null,this.tenantId=null!==(vt=Jt.tenantId)&&void 0!==vt?vt:null}static parseLink(d){const h=function(b){const d=(0,K.zd)((0,K.pd)(b)).link,h=d?(0,K.zd)((0,K.pd)(d)).deep_link_id:null,w=(0,K.zd)((0,K.pd)(b)).deep_link_id;return(w?(0,K.zd)((0,K.pd)(w)).link:null)||w||h||d||b}(d);try{return new gs(h)}catch(w){return null}}}let Gs=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(h,w){return ei._fromEmailAndPassword(h,w)}static credentialWithLink(h,w){const G=gs.parseLink(w);return ne(G,"argument-error"),ei._fromEmailAndCode(h,G.code,G.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Yr{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Yi extends Yr{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Bi extends Yi{static credentialFromJSON(d){const h="string"==typeof d?JSON.parse(d):d;return ne("providerId"in h&&"signInMethod"in h,"argument-error"),ke._fromParams(h)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return ne(d.idToken||d.accessToken,"argument-error"),ke._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Bi.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Bi.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:h,oauthAccessToken:w,oauthTokenSecret:G,pendingToken:ie,nonce:$e,providerId:vt}=d;if(!w&&!G&&!h&&!ie||!vt)return null;try{return new Bi(vt)._credential({idToken:h,accessToken:w,nonce:$e,pendingToken:ie})}catch(Jt){return null}}}let ms=(()=>{class b extends Yi{constructor(){super("facebook.com")}static credential(h){return ke._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return b.credentialFromTaggedObject(h)}static credentialFromError(h){return b.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return b.credential(h.oauthAccessToken)}catch(w){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Ns=(()=>{class b extends Yi{constructor(){super("google.com"),this.addScope("profile")}static credential(h,w){return ke._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:w})}static credentialFromResult(h){return b.credentialFromTaggedObject(h)}static credentialFromError(h){return b.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:w,oauthAccessToken:G}=h;if(!w&&!G)return null;try{return b.credential(w,G)}catch(ie){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Rs=(()=>{class b extends Yi{constructor(){super("github.com")}static credential(h){return ke._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return b.credentialFromTaggedObject(h)}static credentialFromError(h){return b.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return b.credential(h.oauthAccessToken)}catch(w){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Qi extends Oe{constructor(d,h){super(d,d),this.pendingToken=h}_getIdTokenResponse(d){return $n(d,this.buildRequest())}_linkToIdToken(d,h){const w=this.buildRequest();return w.idToken=h,$n(d,w)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,$n(d,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:w,signInMethod:G,pendingToken:ie}=h;return w&&G&&ie&&w===G?new Qi(w,ie):null}static _create(d,h){return new Qi(d,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ki extends Yr{constructor(d){ne(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return ki.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return ki.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const h=Qi.fromJSON(d);return ne(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:h,providerId:w}=d;if(!h||!w)return null;try{return Qi._create(w,h)}catch(G){return null}}}let pi=(()=>{class b extends Yi{constructor(){super("twitter.com")}static credential(h,w){return ke._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:w})}static credentialFromResult(h){return b.credentialFromTaggedObject(h)}static credentialFromError(h){return b.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:w,oauthTokenSecret:G}=h;if(!w||!G)return null;try{return b.credential(w,G)}catch(ie){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function ks(b,d){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,_.Z)(function*(b,d){return $r(b,"POST","/v1/accounts:signUp",Dn(b,d))})).apply(this,arguments)}class Ai{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,h,w,G=!1){return(0,_.Z)(function*(){const ie=yield yn._fromIdTokenResponse(d,w,G),$e=fo(w);return new Ai({user:ie,providerId:$e,_tokenResponse:w,operationType:h})})()}static _forOperation(d,h,w){return(0,_.Z)(function*(){yield d._updateTokensIfNecessary(w,!0);const G=fo(w);return new Ai({user:d,providerId:G,_tokenResponse:w,operationType:h})})()}}function fo(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function ji(){return(ji=(0,_.Z)(function*(b){var d;const h=rr(b);if(yield h._initializationPromise,null===(d=h.currentUser)||void 0===d?void 0:d.isAnonymous)return new Ai({user:h.currentUser,providerId:null,operationType:"signIn"});const w=yield ks(h,{returnSecureToken:!0}),G=yield Ai._fromIdTokenResponse(h,"signIn",w,!0);return yield h._updateCurrentUser(G.user),G})).apply(this,arguments)}class Is extends K.ZR{constructor(d,h,w,G){var ie;super(h.code,h.message),this.operationType=w,this.user=G,Object.setPrototypeOf(this,Is.prototype),this.customData={appName:d.name,tenantId:null!==(ie=d.tenantId)&&void 0!==ie?ie:void 0,_serverResponse:h.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(d,h,w,G){return new Is(d,h,w,G)}}function Ms(b,d,h,w){return("reauthenticate"===d?h._getReauthenticationResolver(b):h._getIdTokenResponse(b)).catch(ie=>{throw"auth/multi-factor-auth-required"===ie.code?Is._fromErrorAndOperation(b,ie,d,w):ie})}function ys(b){return new Set(b.map(({providerId:d})=>d).filter(d=>!!d))}function Fs(){return(Fs=(0,_.Z)(function*(b,d){const h=(0,K.m9)(b);yield U(!0,h,d);const{providerUserInfo:w}=yield yr(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[d]}),G=ys(w||[]);return h.providerData=h.providerData.filter(ie=>G.has(ie.providerId)),G.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h})).apply(this,arguments)}function V(b,d){return q.apply(this,arguments)}function q(){return(q=(0,_.Z)(function*(b,d,h=!1){const w=yield Ar(b,d._linkToIdToken(b.auth,yield b.getIdToken()),h);return Ai._forOperation(b,"link",w)})).apply(this,arguments)}function U(b,d,h){return te.apply(this,arguments)}function te(){return(te=(0,_.Z)(function*(b,d,h){yield _r(d);const G=!1===b?"provider-already-linked":"no-such-provider";ne(ys(d.providerData).has(h)===b,d.auth,G)})).apply(this,arguments)}function De(b,d){return pt.apply(this,arguments)}function pt(){return(pt=(0,_.Z)(function*(b,d,h=!1){const{auth:w}=b,G="reauthenticate";try{const ie=yield Ar(b,Ms(w,G,d,b),h);ne(ie.idToken,w,"internal-error");const $e=Ht(ie.idToken);ne($e,w,"internal-error");const{sub:vt}=$e;return ne(b.uid===vt,w,"user-mismatch"),Ai._forOperation(b,G,ie)}catch(ie){throw"auth/user-not-found"===(null==ie?void 0:ie.code)&&Re(w,"user-mismatch"),ie}})).apply(this,arguments)}function Dt(b,d){return k.apply(this,arguments)}function k(){return(k=(0,_.Z)(function*(b,d,h=!1){const w="signIn",G=yield Ms(b,w,d),ie=yield Ai._fromIdTokenResponse(b,w,G);return h||(yield b._updateCurrentUser(ie.user)),ie})).apply(this,arguments)}function x(b,d){return A.apply(this,arguments)}function A(){return(A=(0,_.Z)(function*(b,d){return Dt(rr(b),d)})).apply(this,arguments)}function Z(b,d){return st.apply(this,arguments)}function st(){return(st=(0,_.Z)(function*(b,d){const h=(0,K.m9)(b);return yield U(!1,h,d.providerId),V(h,d)})).apply(this,arguments)}function Tt(b,d){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,_.Z)(function*(b,d){return De((0,K.m9)(b),d)})).apply(this,arguments)}function Mr(b,d){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,_.Z)(function*(b,d){return $r(b,"POST","/v1/accounts:signInWithCustomToken",Dn(b,d))})).apply(this,arguments)}function Fr(){return(Fr=(0,_.Z)(function*(b,d){const h=rr(b),w=yield Mr(h,{token:d,returnSecureToken:!0}),G=yield Ai._fromIdTokenResponse(h,"signIn",w);return yield h._updateCurrentUser(G.user),G})).apply(this,arguments)}class Fi{constructor(d,h){this.factorId=d,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(d,h){return"phoneInfo"in h?us._fromServerResponse(d,h):Re(d,"internal-error")}}class us extends Fi{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,h){return new us(h)}}function Pr(b,d,h){var w;ne((null===(w=h.url)||void 0===w?void 0:w.length)>0,b,"invalid-continue-uri"),ne(void 0===h.dynamicLinkDomain||h.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),d.continueUrl=h.url,d.dynamicLinkDomain=h.dynamicLinkDomain,d.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(ne(h.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),d.iOSBundleId=h.iOS.bundleId),h.android&&(ne(h.android.packageName.length>0,b,"missing-android-pkg-name"),d.androidInstallApp=h.android.installApp,d.androidMinimumVersionCode=h.android.minimumVersion,d.androidPackageName=h.android.packageName)}function Xi(){return(Xi=(0,_.Z)(function*(b,d,h){const w=(0,K.m9)(b),G={requestType:"PASSWORD_RESET",email:d};h&&Pr(w,G,h),yield as(w,G)})).apply(this,arguments)}function $i(){return($i=(0,_.Z)(function*(b,d,h){yield xe((0,K.m9)(b),{oobCode:d,newPassword:h})})).apply(this,arguments)}function $(){return($=(0,_.Z)(function*(b,d){yield fn((0,K.m9)(b),{oobCode:d})})).apply(this,arguments)}function L(b,d){return se.apply(this,arguments)}function se(){return(se=(0,_.Z)(function*(b,d){const h=(0,K.m9)(b),w=yield xe(h,{oobCode:d}),G=w.requestType;switch(ne(G,h,"internal-error"),G){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(w.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(w.mfaInfo,h,"internal-error");default:ne(w.email,h,"internal-error")}let ie=null;return w.mfaInfo&&(ie=Fi._fromServerResponse(rr(h),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:ie},operation:G}})).apply(this,arguments)}function He(){return(He=(0,_.Z)(function*(b,d){const{data:h}=yield L((0,K.m9)(b),d);return h.email})).apply(this,arguments)}function Ot(){return(Ot=(0,_.Z)(function*(b,d,h){const w=rr(b),G=yield ks(w,{returnSecureToken:!0,email:d,password:h}),ie=yield Ai._fromIdTokenResponse(w,"signIn",G);return yield w._updateCurrentUser(ie.user),ie})).apply(this,arguments)}function ct(){return(ct=(0,_.Z)(function*(b,d,h){const w=(0,K.m9)(b),G={requestType:"EMAIL_SIGNIN",email:d};ne(h.handleCodeInApp,w,"argument-error"),h&&Pr(w,G,h),yield Jr(w,G)})).apply(this,arguments)}function Hn(){return(Hn=(0,_.Z)(function*(b,d,h){const w=(0,K.m9)(b),G=Gs.credentialWithLink(d,h||it());return ne(G._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),x(w,G)})).apply(this,arguments)}function si(b,d){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,_.Z)(function*(b,d){return St(b,"POST","/v1/accounts:createAuthUri",Dn(b,d))})).apply(this,arguments)}function Gr(){return(Gr=(0,_.Z)(function*(b,d){const w={identifier:d,continueUri:on()?it():"http://localhost"},{signinMethods:G}=yield si((0,K.m9)(b),w);return G||[]})).apply(this,arguments)}function Gi(){return(Gi=(0,_.Z)(function*(b,d){const h=(0,K.m9)(b),G={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};d&&Pr(h.auth,G,d);const{email:ie}=yield vr(h.auth,G);ie!==b.email&&(yield b.reload())})).apply(this,arguments)}function Br(){return(Br=(0,_.Z)(function*(b,d,h){const w=(0,K.m9)(b),ie={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:d};h&&Pr(w.auth,ie,h);const{email:$e}=yield ws(w.auth,ie);$e!==b.email&&(yield b.reload())})).apply(this,arguments)}function Os(b,d){return ti.apply(this,arguments)}function ti(){return(ti=(0,_.Z)(function*(b,d){return St(b,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Wi(){return(Wi=(0,_.Z)(function*(b,{displayName:d,photoURL:h}){if(void 0===d&&void 0===h)return;const w=(0,K.m9)(b),ie={idToken:yield w.getIdToken(),displayName:d,photoUrl:h,returnSecureToken:!0},$e=yield Ar(w,Os(w.auth,ie));w.displayName=$e.displayName||null,w.photoURL=$e.photoUrl||null;const vt=w.providerData.find(({providerId:Jt})=>"password"===Jt);vt&&(vt.displayName=w.displayName,vt.photoURL=w.photoURL),yield w._updateTokensIfNecessary($e)})).apply(this,arguments)}function Co(b,d,h){return ba.apply(this,arguments)}function ba(){return(ba=(0,_.Z)(function*(b,d,h){const{auth:w}=b,ie={idToken:yield b.getIdToken(),returnSecureToken:!0};d&&(ie.email=d),h&&(ie.password=h);const $e=yield Ar(b,Xe(w,ie));yield b._updateTokensIfNecessary($e,!0)})).apply(this,arguments)}class go{constructor(d,h,w={}){this.isNewUser=d,this.providerId=h,this.profile=w}}class na extends go{constructor(d,h,w,G){super(d,h,w),this.username=G}}class Io extends go{constructor(d,h){super(d,"facebook.com",h)}}class Wo extends na{constructor(d,h){super(d,"github.com",h,"string"==typeof(null==h?void 0:h.login)?null==h?void 0:h.login:null)}}class Ao extends go{constructor(d,h){super(d,"google.com",h)}}class Ro extends na{constructor(d,h,w){super(d,"twitter.com",h,w)}}function wa(b){const{user:d,_tokenResponse:h}=b;return d.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function(b){var d,h;if(!b)return null;const{providerId:w}=b,G=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},ie=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!w&&(null==b?void 0:b.idToken)){const $e=null===(h=null===(d=Ht(b.idToken))||void 0===d?void 0:d.firebase)||void 0===h?void 0:h.sign_in_provider;if($e)return new go(ie,"anonymous"!==$e&&"custom"!==$e?$e:null)}if(!w)return null;switch(w){case"facebook.com":return new Io(ie,G);case"github.com":return new Wo(ie,G);case"google.com":return new Ao(ie,G);case"twitter.com":return new Ro(ie,G,b.screenName||null);case"custom":case"anonymous":return new go(ie,null);default:return new go(ie,w,G)}}(h)}class Ei{constructor(d,h){this.type=d,this.credential=h}static _fromIdtoken(d){return new Ei("enroll",d)}static _fromMfaPendingCredential(d){return new Ei("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var h,w;if(null==d?void 0:d.multiFactorSession){if(null===(h=d.multiFactorSession)||void 0===h?void 0:h.pendingCredential)return Ei._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null===(w=d.multiFactorSession)||void 0===w?void 0:w.idToken)return Ei._fromIdtoken(d.multiFactorSession.idToken)}return null}}class Ls{constructor(d,h,w){this.session=d,this.hints=h,this.signInResolver=w}static _fromError(d,h){const w=rr(d),G=h.customData._serverResponse,ie=(G.mfaInfo||[]).map(vt=>Fi._fromServerResponse(w,vt));ne(G.mfaPendingCredential,w,"internal-error");const $e=Ei._fromMfaPendingCredential(G.mfaPendingCredential);return new Ls($e,ie,function(){var vt=(0,_.Z)(function*(Jt){const pn=yield Jt._process(w,$e);delete G.mfaInfo,delete G.mfaPendingCredential;const Sn=Object.assign(Object.assign({},G),{idToken:pn.idToken,refreshToken:pn.refreshToken});switch(h.operationType){case"signIn":const On=yield Ai._fromIdTokenResponse(w,h.operationType,Sn);return yield w._updateCurrentUser(On.user),On;case"reauthenticate":return ne(h.user,w,"internal-error"),Ai._forOperation(h.user,h.operationType,Sn);default:Re(w,"internal-error")}});return function(Jt){return vt.apply(this,arguments)}}())}resolveSignIn(d){var h=this;return(0,_.Z)(function*(){return h.signInResolver(d)})()}}function Qa(b,d){return St(b,"POST","/v2/accounts/mfaEnrollment:start",Dn(b,d))}class sa{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(w=>Fi._fromServerResponse(d.auth,w)))})}static _fromUser(d){return new sa(d)}getSession(){var d=this;return(0,_.Z)(function*(){return Ei._fromIdtoken(yield d.user.getIdToken())})()}enroll(d,h){var w=this;return(0,_.Z)(function*(){const G=d,ie=yield w.getSession(),$e=yield Ar(w.user,G._process(w.user.auth,ie,h));return yield w.user._updateTokensIfNecessary($e),w.user.reload()})()}unenroll(d){var h=this;return(0,_.Z)(function*(){const w="string"==typeof d?d:d.uid,G=yield h.user.getIdToken(),ie=yield Ar(h.user,function(b,d){return St(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Dn(b,d))}(h.user.auth,{idToken:G,mfaEnrollmentId:w}));h.enrolledFactors=h.enrolledFactors.filter(({uid:$e})=>$e!==w),yield h.user._updateTokensIfNecessary(ie);try{yield h.user.reload()}catch($e){if("auth/user-token-expired"!==$e.code)throw $e}})()}}const Ja=new WeakMap,qs="__sak";class xo{constructor(d,h){this.storageRetriever=d,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(qs,"1"),this.storage.removeItem(qs),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,h){return this.storage.setItem(d,JSON.stringify(h)),Promise.resolve()}_get(d){const h=this.storage.getItem(d);return Promise.resolve(h?JSON.parse(h):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ks=(()=>{class b extends xo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,w)=>this.onStorageEvent(h,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const b=(0,K.z$)();return wi(b)||Cr(b)}()&&function(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=ui(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const w of Object.keys(this.listeners)){const G=this.storage.getItem(w),ie=this.localCache[w];G!==ie&&h(w,ie,G)}}onStorageEvent(h,w=!1){if(!h.key)return void this.forAllChangedKeys((vt,Jt,pn)=>{this.notifyListeners(vt,pn)});const G=h.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const vt=this.storage.getItem(G);if(h.newValue!==vt)null!==h.newValue?this.storage.setItem(G,h.newValue):this.storage.removeItem(G);else if(this.localCache[G]===h.newValue&&!w)return}const ie=()=>{const vt=this.storage.getItem(G);!w&&this.localCache[G]===vt||this.notifyListeners(G,vt)},$e=this.storage.getItem(G);(0,K.w1)()&&10===document.documentMode&&$e!==h.newValue&&h.newValue!==h.oldValue?setTimeout(ie,10):ie()}notifyListeners(h,w){this.localCache[h]=w;const G=this.listeners[h];if(G)for(const ie of Array.from(G))ie(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,w,G)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:w,newValue:G}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(w)}_removeListener(h,w){this.listeners[h]&&(this.listeners[h].delete(w),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,w){var G=()=>super._set,ie=this;return(0,_.Z)(function*(){yield G().call(ie,h,w),ie.localCache[h]=JSON.stringify(w)})()}_get(h){var w=()=>super._get,G=this;return(0,_.Z)(function*(){const ie=yield w().call(G,h);return G.localCache[h]=JSON.stringify(ie),ie})()}_remove(h){var w=()=>super._remove,G=this;return(0,_.Z)(function*(){yield w().call(G,h),delete G.localCache[h]})()}}return b.type="LOCAL",b})(),uo=(()=>{class b extends xo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,w){}_removeListener(h,w){}}return b.type="SESSION",b})();let Mo=(()=>{class b{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const w=this.receivers.find(ie=>ie.isListeningto(h));if(w)return w;const G=new b(h);return this.receivers.push(G),G}isListeningto(h){return this.eventTarget===h}handleEvent(h){var w=this;return(0,_.Z)(function*(){const G=h,{eventId:ie,eventType:$e,data:vt}=G.data,Jt=w.handlersMap[$e];if(!(null==Jt?void 0:Jt.size))return;G.ports[0].postMessage({status:"ack",eventId:ie,eventType:$e});const pn=Array.from(Jt).map(function(){var On=(0,_.Z)(function*(Oi){return Oi(G.origin,vt)});return function(Oi){return On.apply(this,arguments)}}()),Sn=yield function(b){return Promise.all(b.map(function(){var d=(0,_.Z)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(w){return{fulfilled:!1,reason:w}}});return function(h){return d.apply(this,arguments)}}()))}(pn);G.ports[0].postMessage({status:"done",eventId:ie,eventType:$e,response:Sn})})()}_subscribe(h,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(w)}_unsubscribe(h,w){this.handlersMap[h]&&w&&this.handlersMap[h].delete(w),(!w||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Li(b="",d=10){let h="";for(let w=0;w<d;w++)h+=Math.floor(10*Math.random());return b+h}class Fa{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,h,w=50){var G=this;return(0,_.Z)(function*(){const ie="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!ie)throw new Error("connection_unavailable");let $e,vt;return new Promise((Jt,pn)=>{const Sn=Li("",20);ie.port1.start();const On=setTimeout(()=>{pn(new Error("unsupported_event"))},w);vt={messageChannel:ie,onMessage(Oi){const Eo=Oi;if(Eo.data.eventId===Sn)switch(Eo.data.status){case"ack":clearTimeout(On),$e=setTimeout(()=>{pn(new Error("timeout"))},3e3);break;case"done":clearTimeout($e),Jt(Eo.data.response);break;default:clearTimeout(On),clearTimeout($e),pn(new Error("invalid_response"))}}},G.handlers.add(vt),ie.port1.addEventListener("message",vt.onMessage),G.target.postMessage({eventType:d,eventId:Sn,data:h},[ie.port2])}).finally(()=>{vt&&G.removeMessageHandler(vt)})})()}}function Ti(){return window}function Po(){return void 0!==Ti().WorkerGlobalScope&&"function"==typeof Ti().importScripts}function Zo(){return(Zo=(0,_.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const Sa="firebaseLocalStorageDb",p="firebaseLocalStorage",m="fbase_key";class S{constructor(d){this.request=d}toPromise(){return new Promise((d,h)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function z(b,d){return b.transaction([p],d?"readwrite":"readonly").objectStore(p)}function ge(){const b=indexedDB.open(Sa,1);return new Promise((d,h)=>{b.addEventListener("error",()=>{h(b.error)}),b.addEventListener("upgradeneeded",()=>{const w=b.result;try{w.createObjectStore(p,{keyPath:m})}catch(G){h(G)}}),b.addEventListener("success",(0,_.Z)(function*(){const w=b.result;w.objectStoreNames.contains(p)?d(w):(w.close(),yield function(){const b=indexedDB.deleteDatabase(Sa);return new S(b).toPromise()}(),d(yield ge()))}))})}function Ce(b,d,h){return ot.apply(this,arguments)}function ot(){return(ot=(0,_.Z)(function*(b,d,h){const w=z(b,!0).put({[m]:d,value:h});return new S(w).toPromise()})).apply(this,arguments)}function kt(){return(kt=(0,_.Z)(function*(b,d){const h=z(b,!1).get(d),w=yield new S(h).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function hn(b,d){const h=z(b,!0).delete(d);return new S(h).toPromise()}const Ln=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,_.Z)(function*(){return h.db||(h.db=yield ge()),h.db})()}_withRetries(h){var w=this;return(0,_.Z)(function*(){let G=0;for(;;)try{const ie=yield w._openDb();return yield h(ie)}catch(ie){if(G++>3)throw ie;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,_.Z)(function*(){return Po()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,_.Z)(function*(){h.receiver=Mo._getInstance(Po()?self:null),h.receiver._subscribe("keyChanged",function(){var w=(0,_.Z)(function*(G,ie){return{keyProcessed:(yield h._poll()).includes(ie.key)}});return function(G,ie){return w.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var w=(0,_.Z)(function*(G,ie){return["keyChanged"]});return function(G,ie){return w.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,_.Z)(function*(){var w,G;if(h.activeServiceWorker=yield function(){return Zo.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new Fa(h.activeServiceWorker);const ie=yield h.sender._send("ping",{},800);!ie||(null===(w=ie[0])||void 0===w?void 0:w.fulfilled)&&(null===(G=ie[0])||void 0===G?void 0:G.value.includes("keyChanged"))&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var w=this;return(0,_.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:h},w.serviceWorkerReceiverAvailable?800:50)}catch(G){}})()}_isAvailable(){return(0,_.Z)(function*(){try{if(!indexedDB)return!1;const h=yield ge();return yield Ce(h,qs,"1"),yield hn(h,qs),!0}catch(h){}return!1})()}_withPendingWrite(h){var w=this;return(0,_.Z)(function*(){w.pendingWrites++;try{yield h()}finally{w.pendingWrites--}})()}_set(h,w){var G=this;return(0,_.Z)(function*(){return G._withPendingWrite((0,_.Z)(function*(){return yield G._withRetries(ie=>Ce(ie,h,w)),G.localCache[h]=w,G.notifyServiceWorker(h)}))})()}_get(h){var w=this;return(0,_.Z)(function*(){const G=yield w._withRetries(ie=>function(b,d){return kt.apply(this,arguments)}(ie,h));return w.localCache[h]=G,G})()}_remove(h){var w=this;return(0,_.Z)(function*(){return w._withPendingWrite((0,_.Z)(function*(){return yield w._withRetries(G=>hn(G,h)),delete w.localCache[h],w.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,_.Z)(function*(){const w=yield h._withRetries($e=>{const vt=z($e,!1).getAll();return new S(vt).toPromise()});if(!w)return[];if(0!==h.pendingWrites)return[];const G=[],ie=new Set;for(const{fbase_key:$e,value:vt}of w)ie.add($e),JSON.stringify(h.localCache[$e])!==JSON.stringify(vt)&&(h.notifyListeners($e,vt),G.push($e));for(const $e of Object.keys(h.localCache))h.localCache[$e]&&!ie.has($e)&&(h.notifyListeners($e,null),G.push($e));return G})()}notifyListeners(h,w){this.localCache[h]=w;const G=this.listeners[h];if(G)for(const ie of Array.from(G))ie(w)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,_.Z)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(w)}_removeListener(h,w){this.listeners[h]&&(this.listeners[h].delete(w),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Rt(b,d){return St(b,"POST","/v2/accounts/mfaSignIn:start",Dn(b,d))}function Er(){return(Er=(0,_.Z)(function*(b){return(yield St(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Yo(b){return new Promise((d,h)=>{const w=document.createElement("script");w.setAttribute("src",b),w.onload=d,w.onerror=G=>{const ie=tt("internal-error");ie.customData=G,h(ie)},w.type="text/javascript",w.charset="UTF-8",function(){var b,d;return null!==(d=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==d?d:document}().appendChild(w)})}function Us(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Zs=1e12;class mi{constructor(d){this.auth=d,this.counter=Zs,this._widgets=new Map}render(d,h){const w=this.counter;return this._widgets.set(w,new eu(d,this.auth.name,h||{})),this.counter++,w}reset(d){var h;const w=d||Zs;null===(h=this._widgets.get(w))||void 0===h||h.delete(),this._widgets.delete(w)}getResponse(d){var h;return(null===(h=this._widgets.get(d||Zs))||void 0===h?void 0:h.getResponse())||""}execute(d){var h=this;return(0,_.Z)(function*(){var w;return null===(w=h._widgets.get(d||Zs))||void 0===w||w.execute(),""})()}}class eu{constructor(d,h,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const G="string"==typeof d?document.getElementById(d):d;ne(G,"argument-error",{appName:h}),this.container=G,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(b){const d=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<50;w++)d.push(h.charAt(Math.floor(Math.random()*h.length)));return d.join("")}();const{callback:d,"expired-callback":h}=this.params;if(d)try{d(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Qn=Us("rcb"),co=new Nn(3e4,6e4);class en{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ti().grecaptcha}load(d,h=""){return ne((b=h).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b),d,"argument-error"),this.shouldResolveImmediately(h)?Promise.resolve(Ti().grecaptcha):new Promise((w,G)=>{const ie=Ti().setTimeout(()=>{G(tt(d,"network-request-failed"))},co.get());Ti()[Qn]=()=>{Ti().clearTimeout(ie),delete Ti()[Qn];const vt=Ti().grecaptcha;if(!vt)return void G(tt(d,"internal-error"));const Jt=vt.render;vt.render=(pn,Sn)=>{const On=Jt(pn,Sn);return this.counter++,On},this.hostLanguage=h,w(vt)},Yo(`https://www.google.com/recaptcha/api.js??${(0,K.xO)({onload:Qn,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(ie),G(tt(d,"internal-error"))})});var b}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){return!!Ti().grecaptcha&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Un{load(d){return(0,_.Z)(function*(){return new mi(d)})()}clearedOneInstance(){}}const tr="recaptcha",xi={theme:"light",type:"image"};class D{constructor(d,h=Object.assign({},xi),w){this.parameters=h,this.type=tr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=rr(w),this.isInvisible="invisible"===this.parameters.size,ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const G="string"==typeof d?document.getElementById(d):d;ne(G,this.auth,"argument-error"),this.container=G,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Un:new en,this.validateStartingState()}verify(){var d=this;return(0,_.Z)(function*(){d.assertNotDestroyed();const h=yield d.render(),w=d.getAssertedRecaptcha();return w.getResponse(h)||new Promise(ie=>{const $e=vt=>{!vt||(d.tokenChangeListeners.delete($e),ie(vt))};d.tokenChangeListeners.add($e),d.isInvisible&&w.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return h=>{if(this.tokenChangeListeners.forEach(w=>w(h)),"function"==typeof d)d(h);else if("string"==typeof d){const w=Ti()[d];"function"==typeof w&&w(h)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,_.Z)(function*(){if(yield d.init(),!d.widgetId){let h=d.container;if(!d.isInvisible){const w=document.createElement("div");h.appendChild(w),h=w}d.widgetId=d.getAssertedRecaptcha().render(h,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,_.Z)(function*(){ne(on()&&!Po(),d.auth,"internal-error"),yield function(){let b=null;return new Promise(d=>{"complete"!==document.readyState?(b=()=>d(),window.addEventListener("load",b)):d()}).catch(d=>{throw b&&window.removeEventListener("load",b),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const h=yield function(b){return Er.apply(this,arguments)}(d.auth);ne(h,d.auth,"internal-error"),d.parameters.sitekey=h})()}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class v{constructor(d,h){this.verificationId=d,this.onConfirmation=h}confirm(d){const h=fi._fromVerification(this.verificationId,d);return this.onConfirmation(h)}}function j(){return(j=(0,_.Z)(function*(b,d,h){const w=rr(b),G=yield Zt(w,d,(0,K.m9)(h));return new v(G,ie=>x(w,ie))})).apply(this,arguments)}function ce(){return(ce=(0,_.Z)(function*(b,d,h){const w=(0,K.m9)(b);yield U(!1,w,"phone");const G=yield Zt(w.auth,d,(0,K.m9)(h));return new v(G,ie=>Z(w,ie))})).apply(this,arguments)}function yt(){return(yt=(0,_.Z)(function*(b,d,h){const w=(0,K.m9)(b),G=yield Zt(w.auth,d,(0,K.m9)(h));return new v(G,ie=>Tt(w,ie))})).apply(this,arguments)}function Zt(b,d,h){return gr.apply(this,arguments)}function gr(){return(gr=(0,_.Z)(function*(b,d,h){var w;const G=yield h.verify();try{let ie;if(ne("string"==typeof G,b,"argument-error"),ne(h.type===tr,b,"argument-error"),ie="string"==typeof d?{phoneNumber:d}:d,"session"in ie){const $e=ie.session;if("phoneNumber"in ie)return ne("enroll"===$e.type,b,"internal-error"),(yield Qa(b,{idToken:$e.credential,phoneEnrollmentInfo:{phoneNumber:ie.phoneNumber,recaptchaToken:G}})).phoneSessionInfo.sessionInfo;{ne("signin"===$e.type,b,"internal-error");const vt=(null===(w=ie.multiFactorHint)||void 0===w?void 0:w.uid)||ie.multiFactorUid;return ne(vt,b,"missing-multi-factor-info"),(yield Rt(b,{mfaPendingCredential:$e.credential,mfaEnrollmentId:vt,phoneSignInInfo:{recaptchaToken:G}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$e}=yield Ve(b,{phoneNumber:ie.phoneNumber,recaptchaToken:G});return $e}}finally{h._reset()}})).apply(this,arguments)}function oi(){return(oi=(0,_.Z)(function*(b,d){yield V((0,K.m9)(b),d)})).apply(this,arguments)}let hr=(()=>{class b{constructor(h){this.providerId=b.PROVIDER_ID,this.auth=rr(h)}verifyPhoneNumber(h,w){return Zt(this.auth,h,(0,K.m9)(w))}static credential(h,w){return fi._fromVerification(h,w)}static credentialFromResult(h){return b.credentialFromTaggedObject(h)}static credentialFromError(h){return b.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:w,temporaryProof:G}=h;return w&&G?fi._fromTokenResponse(w,G):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function ns(b,d){return d?de(d):(ne(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class ho extends Oe{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return $n(d,this._buildIdpRequest())}_linkToIdToken(d,h){return $n(d,this._buildIdpRequest(h))}_getReauthenticationResolver(d){return $n(d,this._buildIdpRequest())}_buildIdpRequest(d){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(h.idToken=d),h}}function No(b){return Dt(b.auth,new ho(b),b.bypassAuthState)}function Tn(b){const{auth:d,user:h}=b;return ne(h,d,"internal-error"),De(h,new ho(b),b.bypassAuthState)}function rs(b){return cs.apply(this,arguments)}function cs(){return(cs=(0,_.Z)(function*(b){const{auth:d,user:h}=b;return ne(h,d,"internal-error"),V(h,new ho(b),b.bypassAuthState)})).apply(this,arguments)}class ai{constructor(d,h,w,G,ie=!1){this.auth=d,this.resolver=w,this.user=G,this.bypassAuthState=ie,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var d=this;return new Promise(function(){var h=(0,_.Z)(function*(w,G){d.pendingPromise={resolve:w,reject:G};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(ie){d.reject(ie)}});return function(w,G){return h.apply(this,arguments)}}())}onAuthEvent(d){var h=this;return(0,_.Z)(function*(){const{urlResponse:w,sessionId:G,postBody:ie,tenantId:$e,error:vt,type:Jt}=d;if(vt)return void h.reject(vt);const pn={auth:h.auth,requestUri:w,sessionId:G,tenantId:$e||void 0,postBody:ie||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(Jt)(pn))}catch(Sn){h.reject(Sn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return No;case"linkViaPopup":case"linkViaRedirect":return rs;case"reauthViaPopup":case"reauthViaRedirect":return Tn;default:Re(this.auth,"internal-error")}}resolve(d){_e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){_e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const aa=new Nn(2e3,1e4);function Ru(){return(Ru=(0,_.Z)(function*(b,d,h){const w=rr(b);Lt(b,d,Yr);const G=ns(w,h);return new ua(w,"signInViaPopup",d,G).executeNotNull()})).apply(this,arguments)}function Ys(){return(Ys=(0,_.Z)(function*(b,d,h){const w=(0,K.m9)(b);Lt(w.auth,d,Yr);const G=ns(w.auth,h);return new ua(w.auth,"reauthViaPopup",d,G,w).executeNotNull()})).apply(this,arguments)}function Ua(){return(Ua=(0,_.Z)(function*(b,d,h){const w=(0,K.m9)(b);Lt(w.auth,d,Yr);const G=ns(w.auth,h);return new ua(w.auth,"linkViaPopup",d,G,w).executeNotNull()})).apply(this,arguments)}let ua=(()=>{class b extends ai{constructor(h,w,G,ie,$e){super(h,w,ie,$e),this.provider=G,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var h=this;return(0,_.Z)(function*(){const w=yield h.execute();return ne(w,h.auth,"internal-error"),w})()}onExecution(){var h=this;return(0,_.Z)(function*(){_e(1===h.filter.length,"Popup operations only handle one event");const w=Li();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],w),h.authWindow.associatedEvent=w,h.resolver._originValidation(h.auth).catch(G=>{h.reject(G)}),h.resolver._isIframeWebStorageSupported(h.auth,G=>{G||h.reject(tt(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(tt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const h=()=>{var w,G;this.pollId=(null===(G=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===G?void 0:G.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(tt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(h,aa.get())};h()}}return b.currentPopupAction=null,b})();const Aa=new Map;class Hu extends ai{constructor(d,h,w=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,w),this.eventId=null}execute(){var d=()=>super.execute,h=this;return(0,_.Z)(function*(){let w=Aa.get(h.auth._key());if(!w){try{const ie=(yield function(b,d){return Ra.apply(this,arguments)}(h.resolver,h.auth))?yield d().call(h):null;w=()=>Promise.resolve(ie)}catch(G){w=()=>Promise.reject(G)}Aa.set(h.auth._key(),w)}return h.bypassAuthState||Aa.set(h.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(d){var h=()=>super.onAuthEvent,w=this;return(0,_.Z)(function*(){if("signInViaRedirect"===d.type)return h().call(w,d);if("unknown"!==d.type){if(d.eventId){const G=yield w.auth._redirectUserForId(d.eventId);if(G)return w.user=G,h().call(w,d);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,_.Z)(function*(){})()}cleanUp(){}}function Ra(){return(Ra=(0,_.Z)(function*(b,d){const h=Ba(d),w=nu(b);if(!(yield w._isAvailable()))return!1;const G="true"===(yield w._get(h));return yield w._remove(h),G})).apply(this,arguments)}function Mi(b,d){return la.apply(this,arguments)}function la(){return(la=(0,_.Z)(function*(b,d){return nu(b)._set(Ba(d),"true")})).apply(this,arguments)}function nu(b){return de(b._redirectPersistence)}function Ba(b){return sr("pendingRedirect",b.config.apiKey,b.name)}function Js(){return(Js=(0,_.Z)(function*(b,d,h){const w=rr(b);Lt(b,d,Yr);const G=ns(w,h);return yield Mi(G,w),G._openRedirect(w,d,"signInViaRedirect")})).apply(this,arguments)}function Q(){return(Q=(0,_.Z)(function*(b,d,h){const w=(0,K.m9)(b);Lt(w.auth,d,Yr);const G=ns(w.auth,h);yield Mi(G,w.auth);const ie=yield jr(w);return G._openRedirect(w.auth,d,"reauthViaRedirect",ie)})).apply(this,arguments)}function _t(){return(_t=(0,_.Z)(function*(b,d,h){const w=(0,K.m9)(b);Lt(w.auth,d,Yr);const G=ns(w.auth,h);yield U(!1,w,d.providerId),yield Mi(G,w.auth);const ie=yield jr(w);return G._openRedirect(w.auth,d,"linkViaRedirect",ie)})).apply(this,arguments)}function _n(){return(_n=(0,_.Z)(function*(b,d){return yield rr(b)._initializationPromise,tn(b,d,!1)})).apply(this,arguments)}function tn(b,d){return qn.apply(this,arguments)}function qn(){return(qn=(0,_.Z)(function*(b,d,h=!1){const w=rr(b),G=ns(w,d),$e=yield new Hu(w,G,h).execute();return $e&&!h&&(delete $e.user._redirectEventId,yield w._persistUserIfCurrent($e.user),yield w._setRedirectUser(null,d)),$e})).apply(this,arguments)}function jr(b){return _s.apply(this,arguments)}function _s(){return(_s=(0,_.Z)(function*(b){const d=Li(`${b.uid}:::`);return b._redirectEventId=d,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),d})).apply(this,arguments)}class Ds{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let h=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(d,w)&&(h=!0,this.sendToConsumer(d,w),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jo(b);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=d,h=!0)),h}sendToConsumer(d,h){var w;if(d.error&&!Jo(d)){const G=(null===(w=d.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";h.onError(tt(this.auth,G))}else h.onAuthEvent(d)}isEventForConsumer(d,h){const w=null===h.eventId||!!d.eventId&&d.eventId===h.eventId;return h.filter.includes(d.type)&&w}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ja(d))}saveEventToCache(d){this.cachedEventUids.add(ja(d)),this.lastProcessedEventTime=Date.now()}}function ja(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(d=>d).join("-")}function Jo({type:b,error:d}){return"unknown"===b&&"auth/no-auth-event"===(null==d?void 0:d.code)}function Bs(b){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,_.Z)(function*(b,d={}){return St(b,"GET","/v1/projects",d)})).apply(this,arguments)}const zu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vs=/^https?/;function _c(){return(_c=(0,_.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:d}=yield Bs(b);for(const h of d)try{if(ca(h))return}catch(w){}Re(b,"unauthorized-domain")})).apply(this,arguments)}function ca(b){const d=it(),{protocol:h,hostname:w}=new URL(d);if(b.startsWith("chrome-extension://")){const $e=new URL(b);return""===$e.hostname&&""===w?"chrome-extension:"===h&&b.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===h&&$e.hostname===w}if(!vs.test(h))return!1;if(zu.test(b))return w===b;const G=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+G+"|"+G+")$","i").test(w)}const _o=new Nn(3e4,6e4);function nd(){const b=Ti().___jsl;if(null==b?void 0:b.H)for(const d of Object.keys(b.H))if(b.H[d].r=b.H[d].r||[],b.H[d].L=b.H[d].L||[],b.H[d].r=[...b.H[d].L],b.CP)for(let h=0;h<b.CP.length;h++)b.CP[h]=null}let hl=null;function nh(b){return hl=hl||function(b){return new Promise((d,h)=>{var w,G,ie;function $e(){nd(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{nd(),h(tt(b,"network-request-failed"))},timeout:_o.get()})}if(null===(G=null===(w=Ti().gapi)||void 0===w?void 0:w.iframes)||void 0===G?void 0:G.Iframe)d(gapi.iframes.getContext());else{if(!(null===(ie=Ti().gapi)||void 0===ie?void 0:ie.load)){const vt=Us("iframefcb");return Ti()[vt]=()=>{gapi.load?$e():h(tt(b,"network-request-failed"))},Yo(`https://apis.google.com/js/api.js?onload=${vt}`)}$e()}}).catch(d=>{throw hl=null,d})}(b),hl}const Ha=new Nn(5e3,15e3),ru={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rd(b){const d=b.config;ne(d.authDomain,b,"auth-domain-config-required");const h=d.emulator?vn(d,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,w={apiKey:d.apiKey,appName:b.name,v:Ae.SDK_VERSION},G=rh.get(b.config.apiHost);G&&(w.eid=G);const ie=b._getFrameworks();return ie.length&&(w.fw=ie.join(",")),`${h}?${(0,K.xO)(w).slice(1)}`}function pl(){return(pl=(0,_.Z)(function*(b){const d=yield nh(b),h=Ti().gapi;return ne(h,b,"internal-error"),d.open({where:document.body,url:rd(b),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ru,dontclear:!0},w=>new Promise(function(){var G=(0,_.Z)(function*(ie,$e){yield w.restyle({setHideOnLeave:!1});const vt=tt(b,"network-request-failed"),Jt=Ti().setTimeout(()=>{$e(vt)},Ha.get());function pn(){Ti().clearTimeout(Jt),ie(w)}w.ping(pn).then(pn,()=>{$e(vt)})});return function(ie,$e){return G.apply(this,arguments)}}()))})).apply(this,arguments)}const ih={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xu{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}function qu(b,d,h,w,G,ie){ne(b.config.authDomain,b,"auth-domain-config-required"),ne(b.config.apiKey,b,"invalid-api-key");const $e={apiKey:b.config.apiKey,appName:b.name,authType:h,redirectUrl:w,v:Ae.SDK_VERSION,eventId:G};if(d instanceof Yr){d.setDefaultLanguage(b.languageCode),$e.providerId=d.providerId||"",(0,K.xb)(d.getCustomParameters())||($e.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Jt,pn]of Object.entries(ie||{}))$e[Jt]=pn}if(d instanceof Yi){const Jt=d.getScopes().filter(pn=>""!==pn);Jt.length>0&&($e.scopes=Jt.join(","))}b.tenantId&&($e.tid=b.tenantId);const vt=$e;for(const Jt of Object.keys(vt))void 0===vt[Jt]&&delete vt[Jt];return`${function({config:b}){return b.emulator?vn(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,K.xO)(vt).slice(1)}`}const id="webStorageSupport";class sd extends class{constructor(d){this.factorId=d}_process(d,h,w){switch(h.type){case"enroll":return this._finalizeEnroll(d,h.credential,w);case"signin":return this._finalizeSignIn(d,h.credential);default:return oe("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new sd(d)}_finalizeEnroll(d,h,w){return function(b,d){return St(b,"POST","/v2/accounts/mfaEnrollment:finalize",Dn(b,d))}(d,{idToken:h,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,h){return function(b,d){return St(b,"POST","/v2/accounts/mfaSignIn:finalize",Dn(b,d))}(d,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let od=(()=>{class b{constructor(){}static assertion(h){return sd._fromCredential(h)}}return b.FACTOR_ID="phone",b})();var b,Xf="@firebase/auth";class Ec{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var h=this;return(0,_.Z)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const h=this.auth.onIdTokenChanged(w=>{var G;d((null===(G=w)||void 0===G?void 0:G.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,h),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const h=this.internalListeners.get(d);!h||(this.internalListeners.delete(d),h(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Fo(){return window}function Hl(){return(Hl=(0,_.Z)(function*(b,d,h){var w;const{BuildInfo:G}=Fo();_e(d.sessionId,"AuthEvent did not contain a session ID");const ie=yield bc(d.sessionId),$e={};return Cr()?$e.ibi=G.packageName:Si()?$e.apn=G.packageName:Re(b,"operation-not-supported-in-this-environment"),G.displayName&&($e.appDisplayName=G.displayName),$e.sessionId=ie,qu(b,h,d.type,void 0,null!==(w=d.eventId)&&void 0!==w?w:void 0,$e)})).apply(this,arguments)}function Es(){return(Es=(0,_.Z)(function*(b){const{BuildInfo:d}=Fo(),h={};Cr()?h.iosBundleId=d.packageName:Si()?h.androidPackageName=d.packageName:Re(b,"operation-not-supported-in-this-environment"),yield Bs(b,h)})).apply(this,arguments)}function Gl(){return(Gl=(0,_.Z)(function*(b,d,h){const{cordova:w}=Fo();let G=()=>{};try{yield new Promise((ie,$e)=>{let vt=null;function Jt(){var On;ie();const Oi=null===(On=w.plugins.browsertab)||void 0===On?void 0:On.close;"function"==typeof Oi&&Oi(),"function"==typeof(null==h?void 0:h.close)&&h.close()}function pn(){vt||(vt=window.setTimeout(()=>{$e(tt(b,"redirect-cancelled-by-user"))},2e3))}function Sn(){"visible"===(null==document?void 0:document.visibilityState)&&pn()}d.addPassiveListener(Jt),document.addEventListener("resume",pn,!1),Si()&&document.addEventListener("visibilitychange",Sn,!1),G=()=>{d.removePassiveListener(Jt),document.removeEventListener("resume",pn,!1),document.removeEventListener("visibilitychange",Sn,!1),vt&&window.clearTimeout(vt)}})}finally{G()}})).apply(this,arguments)}function bc(b){return $s.apply(this,arguments)}function $s(){return($s=(0,_.Z)(function*(b){const d=bs(b),h=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(h)).map(G=>G.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function bs(b){if(_e(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(b);const d=new ArrayBuffer(b.length),h=new Uint8Array(d);for(let w=0;w<b.length;w++)h[w]=b.charCodeAt(w);return h}b="Browser",(0,Ae._registerComponent)(new Ge.wA("auth",(d,{options:h})=>{const w=d.getProvider("app").getImmediate(),{apiKey:G,authDomain:ie}=w.options;return($e=>{ne(G&&!G.includes(":"),"invalid-api-key",{appName:$e.name}),ne(!(null==ie?void 0:ie.includes(":")),"argument-error",{appName:$e.name});const vt={apiKey:G,authDomain:ie,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xn(b)},Jt=new ri($e,vt);return function(b,d){const h=(null==d?void 0:d.persistence)||[],w=(Array.isArray(h)?h:[h]).map(de);(null==d?void 0:d.errorMap)&&b._updateErrorMap(d.errorMap),b._initializeWithPersistence(w,null==d?void 0:d.popupRedirectResolver)}(Jt,h),Jt})(w)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,h,w)=>{d.getProvider("auth-internal").initialize()})),(0,Ae._registerComponent)(new Ge.wA("auth-internal",d=>{const h=rr(d.getProvider("auth").getImmediate());return new Ec(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ae.registerVersion)(Xf,"0.19.3",void 0),(0,Ae.registerVersion)(Xf,"0.19.3","esm2017");class ch extends Ds{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(h=>h(d)),super.onEvent(d)}initialized(){var d=this;return(0,_.Z)(function*(){yield d.initPromise})()}}function wc(b){return ad.apply(this,arguments)}function ad(){return(ad=(0,_.Z)(function*(b){const d=yield Kr()._get(Cc(b));return d&&(yield Kr()._remove(Cc(b))),d})).apply(this,arguments)}function rp(){const b=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let h=0;h<20;h++){const w=Math.floor(Math.random()*d.length);b.push(d.charAt(w))}return b.join("")}function Kr(){return de(Ks)}function Cc(b){return sr("authEvent",b.config.apiKey,b.name)}function au(b){if(!(null==b?void 0:b.includes("?")))return{};const[d,...h]=b.split("?");return(0,K.zd)(h.join("?"))}function dh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:tt("no-auth-event")}}function cd(){var b;return(null===(b=null==self?void 0:self.location)||void 0===b?void 0:b.protocol)||null}function Yu(b=(0,K.z$)()){return!("file:"!==cd()&&"ionic:"!==cd()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function Dc(){try{const b=self.localStorage,d=Li();if(b)return b.setItem(d,"1"),b.removeItem(d),!function(b=(0,K.z$)()){return(0,K.w1)()&&11===(null==document?void 0:document.documentMode)||function(b=(0,K.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,K.hl)()}catch(b){return za()&&(0,K.hl)()}return!1}function za(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ea(){return("http:"===cd()||"https:"===cd()||(0,K.ru)()||Yu())&&!((0,K.b$)()||(0,K.UG)())&&Dc()&&!za()}function vl(){return Yu()&&"undefined"!=typeof document}function Di(){return(Di=(0,_.Z)(function*(){return!!vl()&&new Promise(b=>{const d=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),b(!0)})})})).apply(this,arguments)}const To={LOCAL:"local",NONE:"none",SESSION:"session"},El=ne,Wl="persistence";function hd(b){return bl.apply(this,arguments)}function bl(){return(bl=(0,_.Z)(function*(b){yield b._initializationPromise;const d=mh(),h=sr(Wl,b.config.apiKey,b.name);(null==d?void 0:d.sessionStorage)&&d.sessionStorage.setItem(h,b._getPersistence())})).apply(this,arguments)}function mh(){return"undefined"!=typeof window?window:null}const yh=ne;class Mu{constructor(){this.browserResolver=de(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uo,this._completeRedirectFn=tn}_openPopup(d,h,w,G){var ie=this;return(0,_.Z)(function*(){var $e;_e(null===($e=ie.eventManagers[d._key()])||void 0===$e?void 0:$e.manager,"_initialize() not called before _openPopup()");const vt=qu(d,h,w,it(),G);return function(b,d,h,w=500,G=600){const ie=Math.max((window.screen.availHeight-G)/2,0).toString(),$e=Math.max((window.screen.availWidth-w)/2,0).toString();let vt="";const Jt=Object.assign(Object.assign({},ih),{width:w.toString(),height:G.toString(),top:ie,left:$e}),pn=(0,K.z$)().toLowerCase();h&&(vt=qi(pn)?"_blank":h),kr(pn)&&(d=d||"http://localhost",Jt.scrollbars="yes");const Sn=Object.entries(Jt).reduce((Oi,[Eo,cu])=>`${Oi}${Eo}=${cu},`,"");if(function(b=(0,K.z$)()){var d;return Cr(b)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}(pn)&&"_self"!==vt)return function(b,d){const h=document.createElement("a");h.href=b,h.target=d;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(w)}(d||"",vt),new xu(null);const On=window.open(d||"",vt,Sn);ne(On,b,"popup-blocked");try{On.focus()}catch(Oi){}return new xu(On)}(d,vt,Li())})()}_openRedirect(d,h,w,G){var ie=this;return(0,_.Z)(function*(){return yield ie._originValidation(d),b=qu(d,h,w,it(),G),Ti().location.href=b,new Promise(()=>{});var b})()}_initialize(d){const h=d._key();if(this.eventManagers[h]){const{manager:G,promise:ie}=this.eventManagers[h];return G?Promise.resolve(G):(_e(ie,"If manager is not set, promise should be"),ie)}const w=this.initAndGetManager(d);return this.eventManagers[h]={promise:w},w}initAndGetManager(d){var h=this;return(0,_.Z)(function*(){const w=yield function(b){return pl.apply(this,arguments)}(d),G=new Ds(d);return w.register("authEvent",ie=>(ne(null==ie?void 0:ie.authEvent,d,"invalid-auth-event"),{status:G.onEvent(ie.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[d._key()]={manager:G},h.iframes[d._key()]=w,G})()}_isIframeWebStorageSupported(d,h){this.iframes[d._key()].send(id,{type:id},G=>{var ie;const $e=null===(ie=null==G?void 0:G[0])||void 0===ie?void 0:ie[id];void 0!==$e&&h(!!$e),Re(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const h=d._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function(b){return _c.apply(this,arguments)}(d)),this.originValidationPromises[h]}get _shouldInitProactively(){return ui()||wi()||Cr()}}),this.cordovaResolver=de(class{constructor(){this._redirectPersistence=uo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=tn}_initialize(d){var h=this;return(0,_.Z)(function*(){const w=d._key();let G=h.eventManagers.get(w);return G||(G=new ch(d),h.eventManagers.set(w,G),h.attachCallbackListeners(d,G)),G})()}_openPopup(d){Re(d,"operation-not-supported-in-this-environment")}_openRedirect(d,h,w,G){var ie=this;return(0,_.Z)(function*(){!function(b){var d,h,w,G,ie,$e,vt,Jt,pn,Sn;const On=Fo();ne("function"==typeof(null===(d=null==On?void 0:On.universalLinks)||void 0===d?void 0:d.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ne(void 0!==(null===(h=null==On?void 0:On.BuildInfo)||void 0===h?void 0:h.packageName),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ne("function"==typeof(null===(ie=null===(G=null===(w=null==On?void 0:On.cordova)||void 0===w?void 0:w.plugins)||void 0===G?void 0:G.browsertab)||void 0===ie?void 0:ie.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(Jt=null===(vt=null===($e=null==On?void 0:On.cordova)||void 0===$e?void 0:$e.plugins)||void 0===vt?void 0:vt.browsertab)||void 0===Jt?void 0:Jt.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(Sn=null===(pn=null==On?void 0:On.cordova)||void 0===pn?void 0:pn.InAppBrowser)||void 0===Sn?void 0:Sn.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const $e=yield ie._initialize(d);yield $e.initialized(),$e.resetRedirect(),Aa.clear(),yield ie._originValidation(d);const vt=function(b,d,h=null){return{type:d,eventId:h,urlResponse:null,sessionId:rp(),postBody:null,tenantId:b.tenantId,error:tt(b,"no-auth-event")}}(d,w,G);yield function(b,d){return Kr()._set(Cc(b),d)}(d,vt);const Jt=yield function(b,d,h){return Hl.apply(this,arguments)}(d,vt,h),pn=yield function(b){const{cordova:d}=Fo();return new Promise(h=>{d.plugins.browsertab.isAvailable(w=>{let G=null;w?d.plugins.browsertab.openUrl(b):G=d.InAppBrowser.open(b,function(b=(0,K.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}()?"_blank":"_system","location=yes"),h(G)})})}(Jt);return function(b,d,h){return Gl.apply(this,arguments)}(d,$e,pn)})()}_isIframeWebStorageSupported(d,h){throw new Error("Method not implemented.")}_originValidation(d){const h=d._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function(b){return Es.apply(this,arguments)}(d)),this.originValidationPromises[h]}attachCallbackListeners(d,h){const{universalLinks:w,handleOpenURL:G,BuildInfo:ie}=Fo(),$e=setTimeout((0,_.Z)(function*(){yield wc(d),h.onEvent(dh())}),500),vt=function(){var Sn=(0,_.Z)(function*(On){clearTimeout($e);const Oi=yield wc(d);let Eo=null;Oi&&(null==On?void 0:On.url)&&(Eo=function(b,d){var h,w;const G=function(b){const d=au(b),h=d.link?decodeURIComponent(d.link):void 0,w=au(h).link,G=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return au(G).link||G||w||h||b}(d);if(G.includes("/__/auth/callback")){const ie=au(G),$e=ie.firebaseError?function(b){try{return JSON.parse(b)}catch(d){return null}}(decodeURIComponent(ie.firebaseError)):null,vt=null===(w=null===(h=null==$e?void 0:$e.code)||void 0===h?void 0:h.split("auth/"))||void 0===w?void 0:w[1],Jt=vt?tt(vt):null;return Jt?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:Jt,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:G,postBody:null}}return null}(Oi,On.url)),h.onEvent(Eo||dh())});return function(Oi){return Sn.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,vt);const Jt=G,pn=`${ie.packageName.toLowerCase()}://`;Fo().handleOpenURL=function(){var Sn=(0,_.Z)(function*(On){if(On.toLowerCase().startsWith(pn)&&vt({url:On}),"function"==typeof Jt)try{Jt(On)}catch(Oi){console.error(Oi)}});return function(On){return Sn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=uo,this._completeRedirectFn=tn}_initialize(d){var h=this;return(0,_.Z)(function*(){return yield h.selectUnderlyingResolver(),h.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,h,w,G){var ie=this;return(0,_.Z)(function*(){return yield ie.selectUnderlyingResolver(),ie.assertedUnderlyingResolver._openPopup(d,h,w,G)})()}_openRedirect(d,h,w,G){var ie=this;return(0,_.Z)(function*(){return yield ie.selectUnderlyingResolver(),ie.assertedUnderlyingResolver._openRedirect(d,h,w,G)})()}_isIframeWebStorageSupported(d,h){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,h)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return vl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return yh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,_.Z)(function*(){if(d.underlyingResolver)return;const h=yield function(){return Di.apply(this,arguments)}();d.underlyingResolver=h?d.cordovaResolver:d.browserResolver})()}}function _h(b){return b.unwrap()}function vo(b){return Ac(b)}function Ac(b){const{_tokenResponse:d}=b instanceof K.ZR?b.customData:b;if(!d)return null;if(!(b instanceof K.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return hr.credentialFromResult(b);const h=d.providerId;if(!h||"password"===h)return null;let w;switch(h){case"google.com":w=Ns;break;case"facebook.com":w=ms;break;case"github.com":w=Rs;break;case"twitter.com":w=pi;break;default:const{oauthIdToken:G,oauthAccessToken:ie,oauthTokenSecret:$e,pendingToken:vt,nonce:Jt}=d;return ie||$e||G||vt?vt?h.startsWith("saml.")?Qi._create(h,vt):ke._fromParams({providerId:h,signInMethod:h,pendingToken:vt,idToken:G,accessToken:ie}):new Bi(h).credential({idToken:G,accessToken:ie,rawNonce:Jt}):null}return b instanceof K.ZR?w.credentialFromError(b):w.credentialFromResult(b)}function Do(b,d){return d.catch(h=>{throw h instanceof K.ZR&&function(b,d){var h;const w=null===(h=d.customData)||void 0===h?void 0:h._tokenResponse;if("auth/multi-factor-auth-required"===d.code)d.resolver=new Ou(b,function(b,d){var h;const w=(0,K.m9)(b),G=d;return ne(d.customData.operationType,w,"argument-error"),ne(null===(h=G.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,w,"argument-error"),Ls._fromError(w,G)}(b,d));else if(w){const G=Ac(d),ie=d;G&&(ie.credential=G,ie.tenantId=w.tenantId||void 0,ie.email=w.email||void 0,ie.phoneNumber=w.phoneNumber||void 0)}}(b,h),h}).then(h=>{const G=h.user;return{operationType:h.operationType,credential:vo(h),additionalUserInfo:wa(h),user:uu.getOrCreate(G)}})}function to(b,d){return fa.apply(this,arguments)}function fa(){return(fa=(0,_.Z)(function*(b,d){const h=yield d;return{verificationId:h.verificationId,confirm:w=>Do(b,h.confirm(w))}})).apply(this,arguments)}class Ou{constructor(d,h){this.resolver=h,this.auth=function(b){return b.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return Do(_h(this.auth),this.resolver.resolveSignIn(d))}}class uu{constructor(d){this._delegate=d,this.multiFactor=function(b){const d=(0,K.m9)(b);return Ja.has(d)||Ja.set(d,sa._fromUser(d)),Ja.get(d)}(d)}static getOrCreate(d){return uu.USER_MAP.has(d)||uu.USER_MAP.set(d,new uu(d)),uu.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var h=this;return(0,_.Z)(function*(){return Do(h.auth,Z(h._delegate,d))})()}linkWithPhoneNumber(d,h){var w=this;return(0,_.Z)(function*(){return to(w.auth,function(b,d,h){return ce.apply(this,arguments)}(w._delegate,d,h))})()}linkWithPopup(d){var h=this;return(0,_.Z)(function*(){return Do(h.auth,function(b,d,h){return Ua.apply(this,arguments)}(h._delegate,d,Mu))})()}linkWithRedirect(d){var h=this;return(0,_.Z)(function*(){return yield hd(rr(h.auth)),function(b,d,h){return function(b,d,h){return _t.apply(this,arguments)}(b,d,h)}(h._delegate,d,Mu)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var h=this;return(0,_.Z)(function*(){return Do(h.auth,Tt(h._delegate,d))})()}reauthenticateWithPhoneNumber(d,h){return to(this.auth,function(b,d,h){return yt.apply(this,arguments)}(this._delegate,d,h))}reauthenticateWithPopup(d){return Do(this.auth,function(b,d,h){return Ys.apply(this,arguments)}(this._delegate,d,Mu))}reauthenticateWithRedirect(d){var h=this;return(0,_.Z)(function*(){return yield hd(rr(h.auth)),function(b,d,h){return function(b,d,h){return Q.apply(this,arguments)}(b,d,h)}(h._delegate,d,Mu)})()}sendEmailVerification(d){return function(b,d){return Gi.apply(this,arguments)}(this._delegate,d)}unlink(d){var h=this;return(0,_.Z)(function*(){return yield function(b,d){return Fs.apply(this,arguments)}(h._delegate,d),h})()}updateEmail(d){return function(b,d){return Co((0,K.m9)(b),d,null)}(this._delegate,d)}updatePassword(d){return function(b,d){return Co((0,K.m9)(b),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function(b,d){return oi.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function(b,d){return Wi.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,h){return function(b,d,h){return Br.apply(this,arguments)}(this._delegate,d,h)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}uu.USER_MAP=new WeakMap;const Kl=ne;let fd=(()=>{class b{constructor(h,w){if(this.app=h,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:G}=h.options;Kl(G,"invalid-api-key",{appName:h.name});let ie=[jn];if("undefined"!=typeof window){ie=function(b,d){const h=mh();if(!(null==h?void 0:h.sessionStorage))return[];const w=sr(Wl,b,d);switch(h.sessionStorage.getItem(w)){case To.NONE:return[jn];case To.LOCAL:return[Ln,uo];case To.SESSION:return[uo];default:return[]}}(G,h.name);for(const vt of[Ln,Ks,uo])ie.includes(vt)||ie.push(vt)}Kl(G,"invalid-api-key",{appName:h.name});const $e="undefined"!=typeof window?Mu:void 0;this._delegate=w.initialize({options:{persistence:ie,popupRedirectResolver:$e}}),this._delegate._updateErrorMap(ft),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?uu.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(h){this._delegate.languageCode=h}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(h){this._delegate.tenantId=h}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(h,w){!function(b,d,h){const w=rr(b);ne(w._canInitEmulator,w,"emulator-config-failed"),ne(/^https?:\/\//.test(d),w,"invalid-emulator-scheme");const G=!!(null==h?void 0:h.disableWarnings),ie=er(d),{host:$e,port:vt}=function(b){const d=er(b),h=/(\/\/)?([^?#/]+)/.exec(b.substr(d.length));if(!h)return{host:"",port:null};const w=h[2].split("@").pop()||"",G=/^(\[[^\]]+\])(:|$)/.exec(w);if(G){const ie=G[1];return{host:ie,port:Pn(w.substr(ie.length+1))}}{const[ie,$e]=w.split(":");return{host:ie,port:Pn($e)}}}(d);w.config.emulator={url:`${ie}//${$e}${null===vt?"":`:${vt}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:$e,port:vt,protocol:ie.replace(":",""),options:Object.freeze({disableWarnings:G})}),G||function(){function b(){const d=document.createElement("p"),h=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(this._delegate,h,w)}applyActionCode(h){return function(b,d){return $.apply(this,arguments)}(this._delegate,h)}checkActionCode(h){return L(this._delegate,h)}confirmPasswordReset(h,w){return function(b,d,h){return $i.apply(this,arguments)}(this._delegate,h,w)}createUserWithEmailAndPassword(h,w){var G=this;return(0,_.Z)(function*(){return Do(G._delegate,function(b,d,h){return Ot.apply(this,arguments)}(G._delegate,h,w))})()}fetchProvidersForEmail(h){return this.fetchSignInMethodsForEmail(h)}fetchSignInMethodsForEmail(h){return function(b,d){return Gr.apply(this,arguments)}(this._delegate,h)}isSignInWithEmailLink(h){return function(b,d){const h=gs.parseLink(d);return"EMAIL_SIGNIN"===(null==h?void 0:h.operation)}(0,h)}getRedirectResult(){var h=this;return(0,_.Z)(function*(){Kl(ea(),h._delegate,"operation-not-supported-in-this-environment");const w=yield function(b,d){return _n.apply(this,arguments)}(h._delegate,Mu);return w?Do(h._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(h){!function(b,d){rr(b)._logFramework(d)}(this._delegate,h)}onAuthStateChanged(h,w,G){const{next:ie,error:$e,complete:vt}=pd(h,w,G);return this._delegate.onAuthStateChanged(ie,$e,vt)}onIdTokenChanged(h,w,G){const{next:ie,error:$e,complete:vt}=pd(h,w,G);return this._delegate.onIdTokenChanged(ie,$e,vt)}sendSignInLinkToEmail(h,w){return function(b,d,h){return ct.apply(this,arguments)}(this._delegate,h,w)}sendPasswordResetEmail(h,w){return function(b,d,h){return Xi.apply(this,arguments)}(this._delegate,h,w||void 0)}setPersistence(h){var w=this;return(0,_.Z)(function*(){let G;switch(function(b,d){El(Object.values(To).includes(d),b,"invalid-persistence-type"),(0,K.b$)()?El(d!==To.SESSION,b,"unsupported-persistence-type"):(0,K.UG)()?El(d===To.NONE,b,"unsupported-persistence-type"):za()?El(d===To.NONE||d===To.LOCAL&&(0,K.hl)(),b,"unsupported-persistence-type"):El(d===To.NONE||Dc(),b,"unsupported-persistence-type")}(w._delegate,h),h){case To.SESSION:G=uo;break;case To.LOCAL:G=(yield de(Ln)._isAvailable())?Ln:Ks;break;case To.NONE:G=jn;break;default:return Re("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(G)})()}signInAndRetrieveDataWithCredential(h){return this.signInWithCredential(h)}signInAnonymously(){return Do(this._delegate,function(b){return ji.apply(this,arguments)}(this._delegate))}signInWithCredential(h){return Do(this._delegate,x(this._delegate,h))}signInWithCustomToken(h){return Do(this._delegate,function(b,d){return Fr.apply(this,arguments)}(this._delegate,h))}signInWithEmailAndPassword(h,w){return Do(this._delegate,function(b,d,h){return x((0,K.m9)(b),Gs.credential(d,h))}(this._delegate,h,w))}signInWithEmailLink(h,w){return Do(this._delegate,function(b,d,h){return Hn.apply(this,arguments)}(this._delegate,h,w))}signInWithPhoneNumber(h,w){return to(this._delegate,function(b,d,h){return j.apply(this,arguments)}(this._delegate,h,w))}signInWithPopup(h){var w=this;return(0,_.Z)(function*(){return Kl(ea(),w._delegate,"operation-not-supported-in-this-environment"),Do(w._delegate,function(b,d,h){return Ru.apply(this,arguments)}(w._delegate,h,Mu))})()}signInWithRedirect(h){var w=this;return(0,_.Z)(function*(){return Kl(ea(),w._delegate,"operation-not-supported-in-this-environment"),yield hd(w._delegate),function(b,d,h){return function(b,d,h){return Js.apply(this,arguments)}(b,d,h)}(w._delegate,h,Mu)})()}updateCurrentUser(h){return this._delegate.updateCurrentUser(h)}verifyPasswordResetCode(h){return function(b,d){return He.apply(this,arguments)}(this._delegate,h)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=To,b})();function pd(b,d,h){let w=b;"function"!=typeof b&&({next:w,error:d,complete:h}=b);const G=w;return{next:$e=>G($e&&uu.getOrCreate($e)),error:d,complete:h}}class Lo{constructor(){this.providerId="phone",this._delegate=new hr(_h(I.Z.auth()))}static credential(d,h){return hr.credential(d,h)}verifyPhoneNumber(d,h){return this._delegate.verifyPhoneNumber(d,h)}unwrap(){return this._delegate}}Lo.PHONE_SIGN_IN_METHOD=hr.PHONE_SIGN_IN_METHOD,Lo.PROVIDER_ID=hr.PROVIDER_ID;const op=ne;class gd{constructor(d,h,w=I.Z.app()){var G;op(null===(G=w.options)||void 0===G?void 0:G.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new D(d,h,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(b){b.INTERNAL.registerComponent(new Ge.wA("auth-compat",d=>{const h=d.getProvider("app-compat").getImmediate(),w=d.getProvider("auth");return new fd(h,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Gs,FacebookAuthProvider:ms,GithubAuthProvider:Rs,GoogleAuthProvider:Ns,OAuthProvider:Bi,SAMLAuthProvider:ki,PhoneAuthProvider:Lo,PhoneMultiFactorGenerator:od,RecaptchaVerifier:gd,TwitterAuthProvider:pi,Auth:fd,AuthCredential:Oe,Error:K.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.2.3")}(I.Z)},6676:function($t,ze){!function(N){"use strict";function _(Ke){return Array.prototype.slice.call(Ke)}function I(Ke){return new Promise(function(Me,We){Ke.onsuccess=function(){Me(Ke.result)},Ke.onerror=function(){We(Ke.error)}})}function K(Ke,Me,We){var je,Re=new Promise(function(tt,rt){I(je=Ke[Me].apply(Ke,We)).then(tt,rt)});return Re.request=je,Re}function Ae(Ke,Me,We){var je=K(Ke,Me,We);return je.then(function(Re){if(Re)return new X(Re,je.request)})}function Ee(Ke,Me,We){We.forEach(function(je){Object.defineProperty(Ke.prototype,je,{get:function(){return this[Me][je]},set:function(Re){this[Me][je]=Re}})})}function Pe(Ke,Me,We,je){je.forEach(function(Re){Re in We.prototype&&(Ke.prototype[Re]=function(){return K(this[Me],Re,arguments)})})}function Ge(Ke,Me,We,je){je.forEach(function(Re){Re in We.prototype&&(Ke.prototype[Re]=function(){return this[Me][Re].apply(this[Me],arguments)})})}function Qe(Ke,Me,We,je){je.forEach(function(Re){Re in We.prototype&&(Ke.prototype[Re]=function(){return Ae(this[Me],Re,arguments)})})}function we(Ke){this._index=Ke}function X(Ke,Me){this._cursor=Ke,this._request=Me}function J(Ke){this._store=Ke}function fe(Ke){this._tx=Ke,this.complete=new Promise(function(Me,We){Ke.oncomplete=function(){Me()},Ke.onerror=function(){We(Ke.error)},Ke.onabort=function(){We(Ke.error)}})}function Fe(Ke,Me,We){this._db=Ke,this.oldVersion=Me,this.transaction=new fe(We)}function Ue(Ke){this._db=Ke}Ee(we,"_index",["name","keyPath","multiEntry","unique"]),Pe(we,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Qe(we,"_index",IDBIndex,["openCursor","openKeyCursor"]),Ee(X,"_cursor",["direction","key","primaryKey","value"]),Pe(X,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Ke){Ke in IDBCursor.prototype&&(X.prototype[Ke]=function(){var Me=this,We=arguments;return Promise.resolve().then(function(){return Me._cursor[Ke].apply(Me._cursor,We),I(Me._request).then(function(je){if(je)return new X(je,Me._request)})})})}),J.prototype.createIndex=function(){return new we(this._store.createIndex.apply(this._store,arguments))},J.prototype.index=function(){return new we(this._store.index.apply(this._store,arguments))},Ee(J,"_store",["name","keyPath","indexNames","autoIncrement"]),Pe(J,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Qe(J,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Ge(J,"_store",IDBObjectStore,["deleteIndex"]),fe.prototype.objectStore=function(){return new J(this._tx.objectStore.apply(this._tx,arguments))},Ee(fe,"_tx",["objectStoreNames","mode"]),Ge(fe,"_tx",IDBTransaction,["abort"]),Fe.prototype.createObjectStore=function(){return new J(this._db.createObjectStore.apply(this._db,arguments))},Ee(Fe,"_db",["name","version","objectStoreNames"]),Ge(Fe,"_db",IDBDatabase,["deleteObjectStore","close"]),Ue.prototype.transaction=function(){return new fe(this._db.transaction.apply(this._db,arguments))},Ee(Ue,"_db",["name","version","objectStoreNames"]),Ge(Ue,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Ke){[J,we].forEach(function(Me){Ke in Me.prototype&&(Me.prototype[Ke.replace("open","iterate")]=function(){var We=_(arguments),je=We[We.length-1],Re=this._store||this._index,tt=Re[Ke].apply(Re,We.slice(0,-1));tt.onsuccess=function(){je(tt.result)}})})}),[we,J].forEach(function(Ke){Ke.prototype.getAll||(Ke.prototype.getAll=function(Me,We){var je=this,Re=[];return new Promise(function(tt){je.iterateCursor(Me,function(rt){rt?(Re.push(rt.value),void 0===We||Re.length!=We?rt.continue():tt(Re)):tt(Re)})})})}),N.openDb=function(Ke,Me,We){var je=K(indexedDB,"open",[Ke,Me]),Re=je.request;return Re&&(Re.onupgradeneeded=function(tt){We&&We(new Fe(Re.result,tt.oldVersion,Re.transaction))}),je.then(function(tt){return new Ue(tt)})},N.deleteDb=function(Ke){return K(indexedDB,"deleteDatabase",[Ke])},Object.defineProperty(N,"__esModule",{value:!0})}(ze)},6215:($t,ze,N)=>{"use strict";N.d(ze,{X:()=>K});var _=N(7709),I=N(7971);class K extends _.xQ{constructor(Ee){super(),this._value=Ee}get value(){return this.getValue()}_subscribe(Ee){const Pe=super._subscribe(Ee);return Pe&&!Pe.closed&&Ee.next(this._value),Pe}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new I.N;return this._value}next(Ee){super.next(this._value=Ee)}}},7574:($t,ze,N)=>{"use strict";N.d(ze,{y:()=>J});var _=N(7393),K=N(9181),Ae=N(6490),Pe=N(6554),Ge=N(4487);var X=N(2494);let J=(()=>{class Fe{constructor(ft){this._isScalar=!1,ft&&(this._subscribe=ft)}lift(ft){const Ne=new Fe;return Ne.source=this,Ne.operator=ft,Ne}subscribe(ft,Ne,Ke){const{operator:Me}=this,We=function(Fe,Ue,ft){if(Fe){if(Fe instanceof _.L)return Fe;if(Fe[K.b])return Fe[K.b]()}return Fe||Ue||ft?new _.L(Fe,Ue,ft):new _.L(Ae.c)}(ft,Ne,Ke);if(We.add(Me?Me.call(We,this.source):this.source||X.v.useDeprecatedSynchronousErrorHandling&&!We.syncErrorThrowable?this._subscribe(We):this._trySubscribe(We)),X.v.useDeprecatedSynchronousErrorHandling&&We.syncErrorThrowable&&(We.syncErrorThrowable=!1,We.syncErrorThrown))throw We.syncErrorValue;return We}_trySubscribe(ft){try{return this._subscribe(ft)}catch(Ne){X.v.useDeprecatedSynchronousErrorHandling&&(ft.syncErrorThrown=!0,ft.syncErrorValue=Ne),function(Fe){for(;Fe;){const{closed:Ue,destination:ft,isStopped:Ne}=Fe;if(Ue||Ne)return!1;Fe=ft&&ft instanceof _.L?ft:null}return!0}(ft)?ft.error(Ne):console.warn(Ne)}}forEach(ft,Ne){return new(Ne=fe(Ne))((Ke,Me)=>{let We;We=this.subscribe(je=>{try{ft(je)}catch(Re){Me(Re),We&&We.unsubscribe()}},Me,Ke)})}_subscribe(ft){const{source:Ne}=this;return Ne&&Ne.subscribe(ft)}[Pe.L](){return this}pipe(...ft){return 0===ft.length?this:function(Fe){return 0===Fe.length?Ge.y:1===Fe.length?Fe[0]:function(ft){return Fe.reduce((Ne,Ke)=>Ke(Ne),ft)}}(ft)(this)}toPromise(ft){return new(ft=fe(ft))((Ne,Ke)=>{let Me;this.subscribe(We=>Me=We,We=>Ke(We),()=>Ne(Me))})}}return Fe.create=Ue=>new Fe(Ue),Fe})();function fe(Fe){if(Fe||(Fe=X.v.Promise||Promise),!Fe)throw new Error("no Promise impl found");return Fe}},6490:($t,ze,N)=>{"use strict";N.d(ze,{c:()=>K});var _=N(2494),I=N(4449);const K={closed:!0,next(Ae){},error(Ae){if(_.v.useDeprecatedSynchronousErrorHandling)throw Ae;(0,I.z)(Ae)},complete(){}}},7709:($t,ze,N)=>{"use strict";N.d(ze,{xQ:()=>Qe,Yc:()=>Ge});var _=N(7574),I=N(7393),K=N(5319),Ae=N(7971);class Ee extends K.w{constructor(J,fe){super(),this.subject=J,this.subscriber=fe,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const J=this.subject,fe=J.observers;if(this.subject=null,!fe||0===fe.length||J.isStopped||J.closed)return;const Fe=fe.indexOf(this.subscriber);-1!==Fe&&fe.splice(Fe,1)}}var Pe=N(9181);class Ge extends I.L{constructor(J){super(J),this.destination=J}}let Qe=(()=>{class X extends _.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Pe.b](){return new Ge(this)}lift(fe){const Fe=new we(this,this);return Fe.operator=fe,Fe}next(fe){if(this.closed)throw new Ae.N;if(!this.isStopped){const{observers:Fe}=this,Ue=Fe.length,ft=Fe.slice();for(let Ne=0;Ne<Ue;Ne++)ft[Ne].next(fe)}}error(fe){if(this.closed)throw new Ae.N;this.hasError=!0,this.thrownError=fe,this.isStopped=!0;const{observers:Fe}=this,Ue=Fe.length,ft=Fe.slice();for(let Ne=0;Ne<Ue;Ne++)ft[Ne].error(fe);this.observers.length=0}complete(){if(this.closed)throw new Ae.N;this.isStopped=!0;const{observers:fe}=this,Fe=fe.length,Ue=fe.slice();for(let ft=0;ft<Fe;ft++)Ue[ft].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(fe){if(this.closed)throw new Ae.N;return super._trySubscribe(fe)}_subscribe(fe){if(this.closed)throw new Ae.N;return this.hasError?(fe.error(this.thrownError),K.w.EMPTY):this.isStopped?(fe.complete(),K.w.EMPTY):(this.observers.push(fe),new Ee(this,fe))}asObservable(){const fe=new _.y;return fe.source=this,fe}}return X.create=(J,fe)=>new we(J,fe),X})();class we extends Qe{constructor(J,fe){super(),this.destination=J,this.source=fe}next(J){const{destination:fe}=this;fe&&fe.next&&fe.next(J)}error(J){const{destination:fe}=this;fe&&fe.error&&this.destination.error(J)}complete(){const{destination:J}=this;J&&J.complete&&this.destination.complete()}_subscribe(J){const{source:fe}=this;return fe?this.source.subscribe(J):K.w.EMPTY}}},7393:($t,ze,N)=>{"use strict";N.d(ze,{L:()=>Ge});var _=N(9105),I=N(6490),K=N(5319),Ae=N(9181),Ee=N(2494),Pe=N(4449);class Ge extends K.w{constructor(X,J,fe){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=I.c;break;case 1:if(!X){this.destination=I.c;break}if("object"==typeof X){X instanceof Ge?(this.syncErrorThrowable=X.syncErrorThrowable,this.destination=X,X.add(this)):(this.syncErrorThrowable=!0,this.destination=new Qe(this,X));break}default:this.syncErrorThrowable=!0,this.destination=new Qe(this,X,J,fe)}}[Ae.b](){return this}static create(X,J,fe){const Fe=new Ge(X,J,fe);return Fe.syncErrorThrowable=!1,Fe}next(X){this.isStopped||this._next(X)}error(X){this.isStopped||(this.isStopped=!0,this._error(X))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(X){this.destination.next(X)}_error(X){this.destination.error(X),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:X}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=X,this}}class Qe extends Ge{constructor(X,J,fe,Fe){super(),this._parentSubscriber=X;let Ue,ft=this;(0,_.m)(J)?Ue=J:J&&(Ue=J.next,fe=J.error,Fe=J.complete,J!==I.c&&(ft=Object.create(J),(0,_.m)(ft.unsubscribe)&&this.add(ft.unsubscribe.bind(ft)),ft.unsubscribe=this.unsubscribe.bind(this))),this._context=ft,this._next=Ue,this._error=fe,this._complete=Fe}next(X){if(!this.isStopped&&this._next){const{_parentSubscriber:J}=this;Ee.v.useDeprecatedSynchronousErrorHandling&&J.syncErrorThrowable?this.__tryOrSetError(J,this._next,X)&&this.unsubscribe():this.__tryOrUnsub(this._next,X)}}error(X){if(!this.isStopped){const{_parentSubscriber:J}=this,{useDeprecatedSynchronousErrorHandling:fe}=Ee.v;if(this._error)fe&&J.syncErrorThrowable?(this.__tryOrSetError(J,this._error,X),this.unsubscribe()):(this.__tryOrUnsub(this._error,X),this.unsubscribe());else if(J.syncErrorThrowable)fe?(J.syncErrorValue=X,J.syncErrorThrown=!0):(0,Pe.z)(X),this.unsubscribe();else{if(this.unsubscribe(),fe)throw X;(0,Pe.z)(X)}}}complete(){if(!this.isStopped){const{_parentSubscriber:X}=this;if(this._complete){const J=()=>this._complete.call(this._context);Ee.v.useDeprecatedSynchronousErrorHandling&&X.syncErrorThrowable?(this.__tryOrSetError(X,J),this.unsubscribe()):(this.__tryOrUnsub(J),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(X,J){try{X.call(this._context,J)}catch(fe){if(this.unsubscribe(),Ee.v.useDeprecatedSynchronousErrorHandling)throw fe;(0,Pe.z)(fe)}}__tryOrSetError(X,J,fe){if(!Ee.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{J.call(this._context,fe)}catch(Fe){return Ee.v.useDeprecatedSynchronousErrorHandling?(X.syncErrorValue=Fe,X.syncErrorThrown=!0,!0):((0,Pe.z)(Fe),!0)}return!1}_unsubscribe(){const{_parentSubscriber:X}=this;this._context=null,this._parentSubscriber=null,X.unsubscribe()}}},5319:($t,ze,N)=>{"use strict";N.d(ze,{w:()=>Pe});var _=N(9796),I=N(1555),K=N(9105);const Ee=(()=>{function Qe(we){return Error.call(this),this.message=we?`${we.length} errors occurred during unsubscription:\n${we.map((X,J)=>`${J+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=we,this}return Qe.prototype=Object.create(Error.prototype),Qe})();class Pe{constructor(we){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,we&&(this._ctorUnsubscribe=!0,this._unsubscribe=we)}unsubscribe(){let we;if(this.closed)return;let{_parentOrParents:X,_ctorUnsubscribe:J,_unsubscribe:fe,_subscriptions:Fe}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,X instanceof Pe)X.remove(this);else if(null!==X)for(let Ue=0;Ue<X.length;++Ue)X[Ue].remove(this);if((0,K.m)(fe)){J&&(this._unsubscribe=void 0);try{fe.call(this)}catch(Ue){we=Ue instanceof Ee?Ge(Ue.errors):[Ue]}}if((0,_.k)(Fe)){let Ue=-1,ft=Fe.length;for(;++Ue<ft;){const Ne=Fe[Ue];if((0,I.K)(Ne))try{Ne.unsubscribe()}catch(Ke){we=we||[],Ke instanceof Ee?we=we.concat(Ge(Ke.errors)):we.push(Ke)}}}if(we)throw new Ee(we)}add(we){let X=we;if(!we)return Pe.EMPTY;switch(typeof we){case"function":X=new Pe(we);case"object":if(X===this||X.closed||"function"!=typeof X.unsubscribe)return X;if(this.closed)return X.unsubscribe(),X;if(!(X instanceof Pe)){const Fe=X;X=new Pe,X._subscriptions=[Fe]}break;default:throw new Error("unrecognized teardown "+we+" added to Subscription.")}let{_parentOrParents:J}=X;if(null===J)X._parentOrParents=this;else if(J instanceof Pe){if(J===this)return X;X._parentOrParents=[J,this]}else{if(-1!==J.indexOf(this))return X;J.push(this)}const fe=this._subscriptions;return null===fe?this._subscriptions=[X]:fe.push(X),X}remove(we){const X=this._subscriptions;if(X){const J=X.indexOf(we);-1!==J&&X.splice(J,1)}}}var Qe;function Ge(Qe){return Qe.reduce((we,X)=>we.concat(X instanceof Ee?X.errors:X),[])}Pe.EMPTY=((Qe=new Pe).closed=!0,Qe)},2494:($t,ze,N)=>{"use strict";N.d(ze,{v:()=>I});let _=!1;const I={Promise:void 0,set useDeprecatedSynchronousErrorHandling(K){if(K){const Ae=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ae.stack)}else _&&console.log("RxJS: Back to a better error behavior. Thank you. <3");_=K},get useDeprecatedSynchronousErrorHandling(){return _}}},5345:($t,ze,N)=>{"use strict";N.d(ze,{IY:()=>Ae,Ds:()=>Pe,ft:()=>Qe});var _=N(7393),I=N(7574),K=N(7444);class Ae extends _.L{constructor(X){super(),this.parent=X}_next(X){this.parent.notifyNext(X)}_error(X){this.parent.notifyError(X),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Pe extends _.L{notifyNext(X){this.destination.next(X)}notifyError(X){this.destination.error(X)}notifyComplete(){this.destination.complete()}}function Qe(we,X){if(X.closed)return;if(we instanceof I.y)return we.subscribe(X);let J;try{J=(0,K.s)(we)(X)}catch(fe){X.error(fe)}return J}},2441:($t,ze,N)=>{"use strict";N.d(ze,{c:()=>Ee,N:()=>Pe});var _=N(7709),I=N(7574),K=N(5319),Ae=N(1307);class Ee extends I.y{constructor(J,fe){super(),this.source=J,this.subjectFactory=fe,this._refCount=0,this._isComplete=!1}_subscribe(J){return this.getSubject().subscribe(J)}getSubject(){const J=this._subject;return(!J||J.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let J=this._connection;return J||(this._isComplete=!1,J=this._connection=new K.w,J.add(this.source.subscribe(new Ge(this.getSubject(),this))),J.closed&&(this._connection=null,J=K.w.EMPTY)),J}refCount(){return(0,Ae.x)()(this)}}const Pe=(()=>{const X=Ee.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:X._subscribe},_isComplete:{value:X._isComplete,writable:!0},getSubject:{value:X.getSubject},connect:{value:X.connect},refCount:{value:X.refCount}}})();class Ge extends _.Yc{constructor(J,fe){super(J),this.connectable=fe}_error(J){this._unsubscribe(),super._error(J)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const J=this.connectable;if(J){this.connectable=null;const fe=J._connection;J._refCount=0,J._subject=null,J._connection=null,fe&&fe.unsubscribe()}}}},4402:($t,ze,N)=>{"use strict";N.d(ze,{D:()=>ft});var _=N(7574),I=N(7444),K=N(5319),Ae=N(6554),Ge=N(4087),Qe=N(377),J=N(4072),fe=N(9489);function ft(Ne,Ke){return Ke?function(Ne,Ke){if(null!=Ne){if(function(Ne){return Ne&&"function"==typeof Ne[Ae.L]}(Ne))return function(Ne,Ke){return new _.y(Me=>{const We=new K.w;return We.add(Ke.schedule(()=>{const je=Ne[Ae.L]();We.add(je.subscribe({next(Re){We.add(Ke.schedule(()=>Me.next(Re)))},error(Re){We.add(Ke.schedule(()=>Me.error(Re)))},complete(){We.add(Ke.schedule(()=>Me.complete()))}}))})),We})}(Ne,Ke);if((0,J.t)(Ne))return function(Ne,Ke){return new _.y(Me=>{const We=new K.w;return We.add(Ke.schedule(()=>Ne.then(je=>{We.add(Ke.schedule(()=>{Me.next(je),We.add(Ke.schedule(()=>Me.complete()))}))},je=>{We.add(Ke.schedule(()=>Me.error(je)))}))),We})}(Ne,Ke);if((0,fe.z)(Ne))return(0,Ge.r)(Ne,Ke);if(function(Ne){return Ne&&"function"==typeof Ne[Qe.hZ]}(Ne)||"string"==typeof Ne)return function(Ne,Ke){if(!Ne)throw new Error("Iterable cannot be null");return new _.y(Me=>{const We=new K.w;let je;return We.add(()=>{je&&"function"==typeof je.return&&je.return()}),We.add(Ke.schedule(()=>{je=Ne[Qe.hZ](),We.add(Ke.schedule(function(){if(Me.closed)return;let Re,tt;try{const rt=je.next();Re=rt.value,tt=rt.done}catch(rt){return void Me.error(rt)}tt?Me.complete():(Me.next(Re),this.schedule())}))})),We})}(Ne,Ke)}throw new TypeError((null!==Ne&&typeof Ne||Ne)+" is not observable")}(Ne,Ke):Ne instanceof _.y?Ne:new _.y((0,I.s)(Ne))}},6693:($t,ze,N)=>{"use strict";N.d(ze,{n:()=>Ae});var _=N(7574),I=N(5015),K=N(4087);function Ae(Ee,Pe){return Pe?(0,K.r)(Ee,Pe):new _.y((0,I.V)(Ee))}},5917:($t,ze,N)=>{"use strict";N.d(ze,{of:()=>Ae});var _=N(4869),I=N(6693),K=N(4087);function Ae(...Ee){let Pe=Ee[Ee.length-1];return(0,_.K)(Pe)?(Ee.pop(),(0,K.r)(Ee,Pe)):(0,I.n)(Ee)}},8002:($t,ze,N)=>{"use strict";N.d(ze,{U:()=>I});var _=N(7393);function I(Ee,Pe){return function(Qe){if("function"!=typeof Ee)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Qe.lift(new K(Ee,Pe))}}class K{constructor(Pe,Ge){this.project=Pe,this.thisArg=Ge}call(Pe,Ge){return Ge.subscribe(new Ae(Pe,this.project,this.thisArg))}}class Ae extends _.L{constructor(Pe,Ge,Qe){super(Pe),this.project=Ge,this.count=0,this.thisArg=Qe||this}_next(Pe){let Ge;try{Ge=this.project.call(this.thisArg,Pe,this.count++)}catch(Qe){return void this.destination.error(Qe)}this.destination.next(Ge)}}},3282:($t,ze,N)=>{"use strict";N.d(ze,{J:()=>K});var _=N(9773),I=N(4487);function K(Ae=Number.POSITIVE_INFINITY){return(0,_.zg)(I.y,Ae)}},9773:($t,ze,N)=>{"use strict";N.d(ze,{zg:()=>Ae});var _=N(8002),I=N(4402),K=N(5345);function Ae(Qe,we,X=Number.POSITIVE_INFINITY){return"function"==typeof we?J=>J.pipe(Ae((fe,Fe)=>(0,I.D)(Qe(fe,Fe)).pipe((0,_.U)((Ue,ft)=>we(fe,Ue,Fe,ft))),X)):("number"==typeof we&&(X=we),J=>J.lift(new Ee(Qe,X)))}class Ee{constructor(we,X=Number.POSITIVE_INFINITY){this.project=we,this.concurrent=X}call(we,X){return X.subscribe(new Pe(we,this.project,this.concurrent))}}class Pe extends K.Ds{constructor(we,X,J=Number.POSITIVE_INFINITY){super(we),this.project=X,this.concurrent=J,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(we){this.active<this.concurrent?this._tryNext(we):this.buffer.push(we)}_tryNext(we){let X;const J=this.index++;try{X=this.project(we,J)}catch(fe){return void this.destination.error(fe)}this.active++,this._innerSub(X)}_innerSub(we){const X=new K.IY(this),J=this.destination;J.add(X);const fe=(0,K.ft)(we,X);fe!==X&&J.add(fe)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(we){this.destination.next(we)}notifyComplete(){const we=this.buffer;this.active--,we.length>0?this._next(we.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},1307:($t,ze,N)=>{"use strict";N.d(ze,{x:()=>I});var _=N(7393);function I(){return function(Pe){return Pe.lift(new K(Pe))}}class K{constructor(Pe){this.connectable=Pe}call(Pe,Ge){const{connectable:Qe}=this;Qe._refCount++;const we=new Ae(Pe,Qe),X=Ge.subscribe(we);return we.closed||(we.connection=Qe.connect()),X}}class Ae extends _.L{constructor(Pe,Ge){super(Pe),this.connectable=Ge}_unsubscribe(){const{connectable:Pe}=this;if(!Pe)return void(this.connection=null);this.connectable=null;const Ge=Pe._refCount;if(Ge<=0)return void(this.connection=null);if(Pe._refCount=Ge-1,Ge>1)return void(this.connection=null);const{connection:Qe}=this,we=Pe._connection;this.connection=null,we&&(!Qe||we===Qe)&&we.unsubscribe()}}},4087:($t,ze,N)=>{"use strict";N.d(ze,{r:()=>K});var _=N(7574),I=N(5319);function K(Ae,Ee){return new _.y(Pe=>{const Ge=new I.w;let Qe=0;return Ge.add(Ee.schedule(function(){Qe!==Ae.length?(Pe.next(Ae[Qe++]),Pe.closed||Ge.add(this.schedule())):Pe.complete()})),Ge})}},377:($t,ze,N)=>{"use strict";N.d(ze,{hZ:()=>I});const I="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:($t,ze,N)=>{"use strict";N.d(ze,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:($t,ze,N)=>{"use strict";N.d(ze,{b:()=>_});const _="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:($t,ze,N)=>{"use strict";N.d(ze,{N:()=>I});const I=(()=>{function K(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return K.prototype=Object.create(Error.prototype),K})()},4449:($t,ze,N)=>{"use strict";function _(I){setTimeout(()=>{throw I},0)}N.d(ze,{z:()=>_})},4487:($t,ze,N)=>{"use strict";function _(I){return I}N.d(ze,{y:()=>_})},9796:($t,ze,N)=>{"use strict";N.d(ze,{k:()=>_});const _=Array.isArray||(I=>I&&"number"==typeof I.length)},9489:($t,ze,N)=>{"use strict";N.d(ze,{z:()=>_});const _=I=>I&&"number"==typeof I.length&&"function"!=typeof I},9105:($t,ze,N)=>{"use strict";function _(I){return"function"==typeof I}N.d(ze,{m:()=>_})},1555:($t,ze,N)=>{"use strict";function _(I){return null!==I&&"object"==typeof I}N.d(ze,{K:()=>_})},4072:($t,ze,N)=>{"use strict";function _(I){return!!I&&"function"!=typeof I.subscribe&&"function"==typeof I.then}N.d(ze,{t:()=>_})},4869:($t,ze,N)=>{"use strict";function _(I){return I&&"function"==typeof I.schedule}N.d(ze,{K:()=>_})},7444:($t,ze,N)=>{"use strict";N.d(ze,{s:()=>J});var _=N(5015),I=N(4449),Ae=N(377),Pe=N(6554),Qe=N(9489),we=N(4072),X=N(1555);const J=fe=>{if(fe&&"function"==typeof fe[Pe.L])return(fe=>Fe=>{const Ue=fe[Pe.L]();if("function"!=typeof Ue.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ue.subscribe(Fe)})(fe);if((0,Qe.z)(fe))return(0,_.V)(fe);if((0,we.t)(fe))return(fe=>Fe=>(fe.then(Ue=>{Fe.closed||(Fe.next(Ue),Fe.complete())},Ue=>Fe.error(Ue)).then(null,I.z),Fe))(fe);if(fe&&"function"==typeof fe[Ae.hZ])return(fe=>Fe=>{const Ue=fe[Ae.hZ]();for(;;){let ft;try{ft=Ue.next()}catch(Ne){return Fe.error(Ne),Fe}if(ft.done){Fe.complete();break}if(Fe.next(ft.value),Fe.closed)break}return"function"==typeof Ue.return&&Fe.add(()=>{Ue.return&&Ue.return()}),Fe})(fe);{const Ue=`You provided ${(0,X.K)(fe)?"an invalid object":`'${fe}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ue)}}},5015:($t,ze,N)=>{"use strict";N.d(ze,{V:()=>_});const _=I=>K=>{for(let Ae=0,Ee=I.length;Ae<Ee&&!K.closed;Ae++)K.next(I[Ae]);K.complete()}},3849:($t,ze,N)=>{"use strict";N.d(ze,{b:()=>_});class _{constructor(){this.password="",this.approved=!1}}},6057:($t,ze,N)=>{"use strict";N.d(ze,{V:()=>I});var _=N(639);let I=(()=>{class K{constructor(Ee){this.el=Ee,this.isValid=!1}ngOnInit(){this.submit&&(this.el.nativeElement.onsubmit=()=>{this.validation(),this.isValid&&this.submit&&this.submit(this.that)}),this.addEventListenerToValidationClass(),this.addEventListenerToProvidedInputs()}addEventListenerToValidationClass(){this.el.nativeElement.querySelectorAll(".required").forEach(Ee=>{Ee.addEventListener("blur",()=>{this.addErrorElem(Ee,"El campo es requerido",`requiredFields-${Ee.name}`)})})}addErrorElem(Ee,Pe,Ge){this.cleanErrors(`.validation-${Ge}`),Ee.value||(this.isValid=!1,Ee.insertAdjacentHTML("afterend",`<div style="display:block !important" class="invalid-feedback validation validation-${Ge}">\n          ${Pe}\n        </div>`))}cleanErrors(Ee){Ee?this.el.nativeElement.querySelectorAll(`${Ee}`).forEach(Pe=>{Pe.remove()}):this.el.nativeElement.querySelectorAll(".validation").forEach(Pe=>Pe.remove())}validation(){this.cleanErrors(),this.isValid=!0,this.el.nativeElement.querySelectorAll(".required").forEach(Ee=>{this.addErrorElem(Ee,"El campo es requerido",`requiredFields-${Ee.name}`)}),this.inputs&&this.inputs.forEach(Ee=>{const Pe=this.el.nativeElement.querySelector(`input[name="${Ee.name}"]`);Pe&&this.addErrorElem(Pe,Ee.requiredError,Ee.name)})}addEventListenerToProvidedInputs(){this.el.nativeElement.querySelectorAll("input").forEach(Ee=>{const Pe=Ee.name,Ge=this.inputs.find(Qe=>Qe.name===Pe);Ge&&Ee.addEventListener("blur",()=>{this.addErrorElem(Ee,Ge.requiredError,Ge.name)})})}}return K.\u0275fac=function(Ee){return new(Ee||K)(_.Y36(_.SBq))},K.\u0275dir=_.lG2({type:K,selectors:[["","appFormValidations",""]],inputs:{inputs:"inputs",submit:"submit",that:"that"}}),K})()},1596:($t,ze,N)=>{"use strict";N.d(ze,{o:()=>K});var _=N(8583),I=N(639);let K=(()=>{class Ae{}return Ae.\u0275fac=function(Pe){return new(Pe||Ae)},Ae.\u0275mod=I.oAB({type:Ae}),Ae.\u0275inj=I.cJS({imports:[[_.ez]]}),Ae})()},5058:($t,ze,N)=>{"use strict";N.d(ze,{e:()=>Qe});var _=N(4762),I=N(6215),K=N(639),Ae=N(743),Ee=N(8778),Pe=N(4430),Ge=N(7202);let Qe=(()=>{class we{constructor(J,fe,Fe,Ue,ft){this.afs=J,this.afAuth=fe,this.logger=Fe,this.router=Ue,this.ngZone=ft,this.singUpError="",this.singInError="",this.singout=!1,this.isLoading=new I.X(!0),this.update=!0,this.afAuth.authState.subscribe(Ne=>{Ne&&this.update?this.GetUserData(Ne.toJSON().uid):(this.isLoading.next(!1),this.update=!0)})}SignIn(J,fe){return(0,_.mG)(this,void 0,void 0,function*(){this.isLoading.next(!0),J&&fe?yield this.afAuth.signInWithEmailAndPassword(J,fe).then(Fe=>(0,_.mG)(this,void 0,void 0,function*(){this.singout=!1,this.ngZone.run(()=>{this.router.navigate([""])})})).catch(Fe=>{this.singInError=Fe}):this.SignOut(),this.isLoading.next(!1)})}SignUp(J){return this.afAuth.createUserWithEmailAndPassword(J.email,J.password||"").then(fe=>(0,_.mG)(this,void 0,void 0,function*(){var Fe;this.update=!1,this.logger.CrearLogIngreso(J),null===(Fe=yield this.afAuth.currentUser)||void 0===Fe||Fe.sendEmailVerification(),this.router.navigate([""])}))}GetUserData(J){return(0,_.mG)(this,void 0,void 0,function*(){this.isLoading.next(!0);const Fe=(yield this.afs.collection("users").doc(J).ref.get()).data();Fe&&(this.singout||(this.isLoading.next(!1),localStorage.setItem("user",JSON.stringify(Fe)),this.logger.CrearLogIngreso(Fe),"especialista"===Fe.rol&&(!Fe.approved||!Fe.emailVerified)&&(Fe.approved?Fe.emailVerified||alert("Especialista debe validar email"):alert("Especialista debe ser aprobado por un admin para poder iniciar sesion"),this.SignOut())),this.isLoading.next(!1))})}Validar(J){this.afs.collection("users").doc(J).update({approved:!0})}RemoverAcceso(J){this.afs.collection("users").doc(J).update({approved:!1})}SignOut(){return this.afAuth.signOut().then(()=>{this.singout=!0,localStorage.removeItem("user"),this.router.navigate(["login"])})}get isLoggedIn(){const J=localStorage.getItem("user");return!!J&&!!JSON.parse(J)}get isValid(){const J=localStorage.getItem("user");if(!J)return!1;const fe=JSON.parse(J);return fe.emailVerified&&fe.approved}get isValidAdmin(){const J=localStorage.getItem("user");return!!J&&"admin"===JSON.parse(J).rol}get getUser(){const J=localStorage.getItem("user");if(J)return JSON.parse(J||"")}}return we.\u0275fac=function(J){return new(J||we)(K.LFG(Ae.ST),K.LFG(Ee.zQ),K.LFG(Pe.m),K.LFG(Ge.F0),K.LFG(K.R0b))},we.\u0275prov=K.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})()},4430:($t,ze,N)=>{"use strict";N.d(ze,{m:()=>Ee});var _=N(639),I=N(743),K=N(5058);const Ae="logIngresos";let Ee=(()=>{class Pe{constructor(Qe,we){this.bd=Qe,this.authService=we}CrearLogIngreso(Qe){Qe&&this.bd.collection(Ae).add({usuario:Object.assign({},Qe),fecha:(new Date).toISOString()})}GetLogIngreso(){return this.bd.collection(Ae).valueChanges()}}return Pe.\u0275fac=function(Qe){return new(Qe||Pe)(_.LFG(I.ST),_.LFG(K.e))},Pe.\u0275prov=_.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})()},9726:($t,ze,N)=>{"use strict";N.d(ze,{TM:()=>X});var _=N(4762),I=N(639),K=N(743),Ae=N(5058),Ee=N(7202),Pe=N(3936);const Ge="especialidad",we="turnos";let X=(()=>{class J{constructor(Fe,Ue,ft,Ne){this.bd=Fe,this.authService=Ue,this.router=ft,this.afStorage=Ne,this.uploadProgress=0}GetEspecialidades(){return this.bd.collection(Ge).valueChanges()}GetTurnos(Fe){const{historia:Ue,fecha:ft,estado:Ne,hora:Ke,paciente:Me,especialidad:We,especialista:je,altura:Re,peso:tt,temperatura:rt,presion:Lt,valorDinamico:jt,calificacion:ne,resena:oe,encuesta:_e,comentario:me}=Fe||{},de=this.bd.collection(we),Je=[];return de.get().forEach(ye=>ye.docs.map(it=>{var on,Bt,At,an,Nn,vn,Kn,xn;const En=it.data(),Dn=it.id;let St=!0;if(ft&&St&&(St=En.fecha===ft),Ke&&St&&(St=En.hora===Ke),Ne&&St&&(St=En.estado.toLowerCase().includes(Ne.toLowerCase())),Ue&&St&&(St=!!En.historiaClinica),Re&&St&&(St=(null===(on=En.historiaClinica)||void 0===on?void 0:on.altura.toString())===Re),tt&&St&&(St=(null===(Bt=En.historiaClinica)||void 0===Bt?void 0:Bt.peso.toString())===tt),Lt&&St&&(St=(null===(At=En.historiaClinica)||void 0===At?void 0:At.presion.toString())===Lt),rt&&St&&(St=(null===(an=En.historiaClinica)||void 0===an?void 0:an.temperatura.toString())===rt),jt&&St&&En.historiaClinica){const pr=["altura","temperatura","presion","peso"];St=!!Object.keys(En.historiaClinica).filter(zn=>!pr.includes(zn)).find(zn=>En.historiaClinica[zn].toString().toLowerCase().includes(jt.toLowerCase()))}ne&&St&&(St=!!(null===(Nn=En.calificacion)||void 0===Nn?void 0:Nn.toLowerCase().includes(ne.toLowerCase()))),oe&&St&&(St=!!(null===(vn=En.resena)||void 0===vn?void 0:vn.toLowerCase().includes(oe.toLowerCase()))),_e&&St&&(St=!!(null===(Kn=En.encuesta)||void 0===Kn?void 0:Kn.toLowerCase().includes(_e.toLowerCase()))),me&&St&&(St=!!(null===(xn=En.comentario)||void 0===xn?void 0:xn.toLowerCase().includes(me.toLowerCase()))),Me&&St&&(St="string"==typeof Me?En.paciente.nombre.toLowerCase().includes(Me.toLowerCase()):En.paciente.uid===Me.uid),je&&St&&(St="string"==typeof je?En.especialista.nombre.toLowerCase().includes(je.toLowerCase()):En.especialista.uid===je.uid),We&&St&&(St="string"==typeof We?En.especialidad.nombre.toLowerCase().includes(We.toLowerCase()):En.especialidad.nombre===We.nombre),St&&Je.push(Object.assign({id:Dn},En))})),Je}UpdateTurno(Fe,Ue){return this.bd.collection(we).doc(Fe).update(Ue)}UpdateUsuario(Fe,Ue){return this.bd.collection("users").doc(Fe).update(Ue).then(Ne=>{this.authService.GetUserData(Fe),alert("Datos actualizados")})}CreateTurno(Fe){return this.bd.collection(we).add(Fe).then(ft=>{this.router.navigate(this.authService.isValidAdmin?["admin-turnos"]:["paciente-turnos"])})}GetUsuarios(){return this.bd.collection("users").valueChanges()}CreateEspecialidad(Fe){return this.bd.collection(Ge).add(Fe)}UploadImage(Fe,Ue){return(0,_.mG)(this,void 0,void 0,function*(){return this.afStorage.ref(Ue).put(Fe)})}}return J.\u0275fac=function(Fe){return new(Fe||J)(I.LFG(K.ST),I.LFG(Ae.e),I.LFG(Ee.F0),I.LFG(Pe.Q1))},J.\u0275prov=I.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})()},7947:($t,ze,N)=>{"use strict";N.d(ze,{J:()=>Ee});var _=N(8583),I=N(1596),K=N(665),Ae=N(639);let Ee=(()=>{class Pe{}return Pe.\u0275fac=function(Qe){return new(Qe||Pe)},Pe.\u0275mod=Ae.oAB({type:Pe}),Pe.\u0275inj=Ae.cJS({imports:[[_.ez,I.o,K.u5,K.UX]]}),Pe})()},4463:($t,ze,N)=>{"use strict";var _=N(9075),I=N(639),K=N(665);const Ae_firebaseConfig={apiKey:"AIzaSyAtEnxDHONzJcoZ5cIy5t5gTFGRqsA1Ccc",authDomain:"sala-de-juegos-db.firebaseapp.com",projectId:"sala-de-juegos-db",storageBucket:"sala-de-juegos-db.appspot.com",messagingSenderId:"104589083411",appId:"1:104589083411:web:dcd270515f7a0db71750e6",measurementId:"G-C1N2F34WP9"};var Ee=N(8939),Pe=N(743),Ge=N(3936),Qe=N(7202),we=N(5058);let X=(()=>{class O{constructor(m,S){this.auth=m,this.router=S}canActivate(){return!!this.auth.isValidAdmin||(this.router.navigate(["login"]),!1)}}return O.\u0275fac=function(m){return new(m||O)(I.LFG(we.e),I.LFG(Qe.F0))},O.\u0275prov=I.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),J=(()=>{class O{constructor(m,S){this.auth=m,this.router=S}canActivate(){var m;return"especialista"==(null===(m=this.auth.getUser)||void 0===m?void 0:m.rol)||(this.router.navigate(["login"]),!1)}}return O.\u0275fac=function(m){return new(m||O)(I.LFG(we.e),I.LFG(Qe.F0))},O.\u0275prov=I.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),fe=(()=>{class O{constructor(m,S){this.auth=m,this.router=S}canActivate(){var m,S;return"paciente"==(null===(m=this.auth.getUser)||void 0===m?void 0:m.rol)||"admin"==(null===(S=this.auth.getUser)||void 0===S?void 0:S.rol)||(this.router.navigate(["login"]),!1)}}return O.\u0275fac=function(m){return new(m||O)(I.LFG(we.e),I.LFG(Qe.F0))},O.\u0275prov=I.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();var Fe=N(8583);function Ue(O,p){1&O&&(I.ynx(0),I.TgZ(1,"h2",6),I._uU(2,"El usuario no ha sido validado por un administrador"),I.qZA(),I.BQk())}function ft(O,p){1&O&&(I.ynx(0),I.TgZ(1,"h2",6),I._uU(2,"El email del usuario no ha sido validado verifica tu cuenta de email"),I.qZA(),I.BQk())}function Ne(O,p){if(1&O&&(I.TgZ(0,"div",4),I.YNc(1,Ue,3,0,"ng-container",5),I.YNc(2,ft,3,0,"ng-container",5),I.qZA()),2&O){const m=I.oxw();I.xp6(1),I.Q6J("ngIf",!m.usuario.approved),I.xp6(1),I.Q6J("ngIf",!m.usuario.emailVerified)}}function Ke(O,p){1&O&&(I.TgZ(0,"div",1),I.TgZ(1,"h3"),I._uU(2,"Usuario no logeado"),I.qZA(),I.qZA())}let Me=(()=>{class O{constructor(m){this.authService=m,this.usuario=this.authService.getUser}ngOnInit(){}}return O.\u0275fac=function(m){return new(m||O)(I.Y36(we.e))},O.\u0275cmp=I.Xpm({type:O,selectors:[["app-home"]],decls:7,vars:2,consts:[[1,"row"],[1,"col-12"],["class","col-12 mt-5",4,"ngIf","ngIfElse"],["deslogueado",""],[1,"col-12","mt-5"],[4,"ngIf"],[1,"text-danger"]],template:function(m,S){if(1&m&&(I.TgZ(0,"div",0),I.TgZ(1,"div",1),I.TgZ(2,"h1"),I._uU(3,"Clinica Pinpollo"),I.qZA(),I.qZA(),I.YNc(4,Ne,3,2,"div",2),I.YNc(5,Ke,3,0,"ng-template",null,3,I.W1O),I.qZA()),2&m){const z=I.MAs(6);I.xp6(4),I.Q6J("ngIf",S.usuario)("ngIfElse",z)}},directives:[Fe.O5],styles:[""]}),O})();var We=N(4762),je=N(3849);class Re extends je.b{constructor(){super(...arguments),this.rol="admin",this.approved=!0}}var tt=N(9726),rt=N(6057),Lt=N(3290);function jt(O,p){1&O&&I._UZ(0,"div",20)}function ne(O,p){if(1&O&&(I.TgZ(0,"span",21),I._uU(1),I.qZA()),2&O){const m=I.oxw();I.xp6(1),I.Oqu(m.singUpError)}}const _e=[{path:"register-admin",component:(()=>{class O{constructor(m,S){this.authService=m,this._store=S,this.admin=new Re,this.loadingImge=!1,this.captchaSolved=!1,this.that=this}ngOnInit(){}resolved(m){this.captchaSolved=!0}registrarse(m){m.captchaSolved?m.admin.fotoPerfil?m.authService.SignUp(m.admin).catch(S=>{m.singUpError=S}):m.singUpError="La foto de perfil es requerida":m.singUpError="Completar el captcha para continuar"}handleImage(m){var S;if(!(null===(S=null==m?void 0:m.target)||void 0===S?void 0:S.files[0]))return;this.loadingImge=!0;const z=Math.random().toString(36).substring(2);this._store.UploadImage(m.target.files[0],z).then(ee=>(0,We.mG)(this,void 0,void 0,function*(){this.admin.fotoPerfil=yield ee.ref.getDownloadURL(),this.loadingImge=!1}))}}return O.\u0275fac=function(m){return new(m||O)(I.Y36(we.e),I.Y36(tt.TM))},O.\u0275cmp=I.Xpm({type:O,selectors:[["app-admin"]],decls:30,vars:11,consts:[[1,"text-primarty","my-4"],["appFormValidations","",3,"that","submit"],[1,"input-group",2,"margin-bottom","25px"],["type","text","name","nombre","placeholder","Nombre",1,"form-control","required",3,"ngModel","ngModelChange"],["type","text","name","apellido","placeholder","Apellido",1,"form-control","required",3,"ngModel","ngModelChange"],["type","number","name","dni","placeholder","DNI",1,"form-control","required",3,"ngModel","ngModelChange"],["type","number","name","edad","placeholder","Edad",1,"form-control","required",3,"ngModel","ngModelChange"],["type","email","name","email","placeholder","Email",1,"form-control","required",3,"ngModel","ngModelChange"],["for","file",2,"margin-right","15px"],["type","file","accept",".png,.jpg",3,"disabled","change"],["class","loader",4,"ngIf"],["type","password","name","password","placeholder","Password",1,"form-control","required",3,"ngModel","ngModelChange"],["id","pacienteCaptcha"],["siteKey","6LcCcHAdAAAAAJe3md0bC_Y0Eg6yv-eARP9k9PPB",3,"resolved"],[1,"input-group"],[1,"form-group",2,"margin-top","10px"],[1,"col-sm-12","controls"],["type","submit",1,"btn","btn-success"],[1,"mt-3"],["class","text-danger",4,"ngIf"],[1,"loader"],[1,"text-danger"]],template:function(m,S){1&m&&(I.TgZ(0,"h2",0),I._uU(1," Registrar admin "),I.qZA(),I.TgZ(2,"form",1),I.TgZ(3,"div",2),I.TgZ(4,"input",3),I.NdJ("ngModelChange",function(ee){return S.admin.nombre=ee}),I.qZA(),I.qZA(),I.TgZ(5,"div",2),I.TgZ(6,"input",4),I.NdJ("ngModelChange",function(ee){return S.admin.apellido=ee}),I.qZA(),I.qZA(),I.TgZ(7,"div",2),I.TgZ(8,"input",5),I.NdJ("ngModelChange",function(ee){return S.admin.dni=ee}),I.qZA(),I.qZA(),I.TgZ(9,"div",2),I.TgZ(10,"input",6),I.NdJ("ngModelChange",function(ee){return S.admin.edad=ee}),I.qZA(),I.qZA(),I.TgZ(11,"div",2),I.TgZ(12,"input",7),I.NdJ("ngModelChange",function(ee){return S.admin.email=ee}),I.qZA(),I.qZA(),I.TgZ(13,"div",2),I.TgZ(14,"label",8),I._uU(15,"Foto perfil:"),I.qZA(),I.TgZ(16,"input",9),I.NdJ("change",function(ee){return S.handleImage(ee)}),I.qZA(),I.YNc(17,jt,1,0,"div",10),I.qZA(),I.TgZ(18,"div",2),I.TgZ(19,"input",11),I.NdJ("ngModelChange",function(ee){return S.admin.password=ee}),I.qZA(),I.qZA(),I._UZ(20,"div",12),I._UZ(21,"br"),I.TgZ(22,"re-captcha",13),I.NdJ("resolved",function(ee){return S.resolved(ee)}),I.qZA(),I.TgZ(23,"div",14),I.TgZ(24,"div",15),I.TgZ(25,"div",16),I.TgZ(26,"button",17),I._uU(27," Registrarse "),I.qZA(),I.qZA(),I.qZA(),I.qZA(),I.TgZ(28,"div",18),I.YNc(29,ne,2,1,"span",19),I.qZA(),I.qZA()),2&m&&(I.xp6(2),I.Q6J("that",S.that)("submit",S.registrarse),I.xp6(2),I.Q6J("ngModel",S.admin.nombre),I.xp6(2),I.Q6J("ngModel",S.admin.apellido),I.xp6(2),I.Q6J("ngModel",S.admin.dni),I.xp6(2),I.Q6J("ngModel",S.admin.edad),I.xp6(2),I.Q6J("ngModel",S.admin.email),I.xp6(4),I.Q6J("disabled",S.loadingImge),I.xp6(1),I.Q6J("ngIf",S.loadingImge),I.xp6(2),I.Q6J("ngModel",S.admin.password),I.xp6(10),I.Q6J("ngIf",S.singUpError))},directives:[K._Y,K.JL,K.F,rt.V,K.Fj,K.JJ,K.On,K.wV,Fe.O5,Lt.wT],styles:[".loader[_ngcontent-%COMP%]{border:5px solid #000000;border-top:5px solid #0400e4;border-radius:50%!important;width:25px;height:25px;animation:spin 2s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),O})(),canActivate:[X],data:{animationState:"1"}},{path:"admin-turnos",loadChildren:()=>Promise.all([N.e(592),N.e(880)]).then(N.bind(N,5880)).then(O=>O.AdminTurnosModule),canActivate:[X],data:{animationState:"2"}},{path:"user-list",loadChildren:()=>Promise.all([N.e(653),N.e(592),N.e(377)]).then(N.bind(N,8377)).then(O=>O.ListaUsuariosModule),canActivate:[X],data:{animationState:"3"}},{path:"informes",loadChildren:()=>N.e(10).then(N.bind(N,8010)).then(O=>O.InformesModule),canActivate:[X],data:{animationState:"14"}},{path:"especialista-turnos",loadChildren:()=>Promise.all([N.e(592),N.e(864)]).then(N.bind(N,5864)).then(O=>O.EspecialistaTurnosModule),canActivate:[J],data:{animationState:"4"}},{path:"pacientes-atendidos",loadChildren:()=>Promise.all([N.e(653),N.e(592),N.e(0)]).then(N.bind(N,0)).then(O=>O.PacientesAtendidosModule),canActivate:[J],data:{animationState:"13"}},{path:"especialista-perfil",loadChildren:()=>Promise.all([N.e(592),N.e(830)]).then(N.bind(N,1830)).then(O=>O.EspecialistaPerfilModule),canActivate:[J],data:{animationState:"5"}},{path:"paciente-turnos",loadChildren:()=>Promise.all([N.e(592),N.e(277)]).then(N.bind(N,8277)).then(O=>O.PacienteTurnosModule),canActivate:[fe],data:{animationState:"6"}},{path:"paciente-perfil",loadChildren:()=>Promise.all([N.e(653),N.e(592),N.e(913)]).then(N.bind(N,9913)).then(O=>O.PacientePerfilModule),canActivate:[fe],data:{animationState:"7"}},{path:"solicitar-turno",loadChildren:()=>N.e(574).then(N.bind(N,2574)).then(O=>O.SolicitarTurnoModule),canActivate:[fe],data:{animationState:"8"}},{path:"login",loadChildren:()=>N.e(8).then(N.bind(N,9008)).then(O=>O.LoginModule),data:{animationState:"9"}},{path:"register",loadChildren:()=>N.e(946).then(N.bind(N,5946)).then(O=>O.RegistrarseModule),data:{animationState:"10"}},{path:"",component:Me,data:{animationState:"11"}}];let me=(()=>{class O{}return O.\u0275fac=function(m){return new(m||O)},O.\u0275mod=I.oAB({type:O}),O.\u0275inj=I.cJS({imports:[[Qe.Bz.forRoot(_e)],Qe.Bz]}),O})();class de{}const ye="*";function on(O,p=null){return{type:4,styles:p,timings:O}}function Bt(O,p=null){return{type:3,steps:O,options:p}}function At(O,p=null){return{type:2,steps:O,options:p}}function an(O){return{type:6,styles:O,offset:null}}function Kn(O,p,m=null){return{type:1,expr:O,animation:p,options:m}}function En(O=null){return{type:9,options:O}}function St(O,p,m=null){return{type:11,selector:O,animation:p,options:m}}function rn(O){Promise.resolve(null).then(O)}class zn{constructor(p=0,m=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=p+m}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(p=>p()),this._onDoneFns=[])}onStart(p){this._onStartFns.push(p)}onDone(p){this._onDoneFns.push(p)}onDestroy(p){this._onDestroyFns.push(p)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){rn(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(p=>p()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(p=>p()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(p){this._position=this.totalTime?p*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(p){const m="start"==p?this._onStartFns:this._onDoneFns;m.forEach(S=>S()),m.length=0}}class $r{constructor(p){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=p;let m=0,S=0,z=0;const ee=this.players.length;0==ee?rn(()=>this._onFinish()):this.players.forEach(ge=>{ge.onDone(()=>{++m==ee&&this._onFinish()}),ge.onDestroy(()=>{++S==ee&&this._onDestroy()}),ge.onStart(()=>{++z==ee&&this._onStart()})}),this.totalTime=this.players.reduce((ge,Ce)=>Math.max(ge,Ce.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(p=>p()),this._onDoneFns=[])}init(){this.players.forEach(p=>p.init())}onStart(p){this._onStartFns.push(p)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(p=>p()),this._onStartFns=[])}onDone(p){this._onDoneFns.push(p)}onDestroy(p){this._onDestroyFns.push(p)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(p=>p.play())}pause(){this.players.forEach(p=>p.pause())}restart(){this.players.forEach(p=>p.restart())}finish(){this._onFinish(),this.players.forEach(p=>p.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(p=>p.destroy()),this._onDestroyFns.forEach(p=>p()),this._onDestroyFns=[])}reset(){this.players.forEach(p=>p.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(p){const m=p*this.totalTime;this.players.forEach(S=>{const z=S.totalTime?Math.min(1,m/S.totalTime):1;S.setPosition(z)})}getPosition(){const p=this.players.reduce((m,S)=>null===m||S.totalTime>m.totalTime?S:m,null);return null!=p?p.getPosition():0}beforeDestroy(){this.players.forEach(p=>{p.beforeDestroy&&p.beforeDestroy()})}triggerCallback(p){const m="start"==p?this._onStartFns:this._onDoneFns;m.forEach(S=>S()),m.length=0}}const Mn=("triggerName",{type:7,name:"triggerName",definitions:[Kn("9 => *, 10 => *, 11 => *",[an({position:"relative"}),St(":enter, :leave",[an({position:"absolute",top:0,right:0,width:"100%"})]),St(":enter",[an({right:"-100%",opacity:0})]),St(":leave",En()),Bt([St(":leave",[on("1s ease-out",an({right:"100%",opacity:0}))]),St(":enter",[on("1s ease-out",an({right:"0%",opacity:1}))])]),St(":enter",En())]),Kn("* => *",[an({position:"relative"}),St(":enter, :leave",[an({position:"absolute",top:0,right:0,width:"100%"})]),St(":enter",[an({top:"-100%",opacity:0})]),St(":leave",En()),Bt([St(":leave",[on("1s ease-out",an({top:"100%",opacity:0}))]),St(":enter",[on("1s ease-out",an({top:"0%",opacity:1}))])]),St(":enter",En())])],options:{}});function Hr(O,p){1&O&&(I.TgZ(0,"a",16),I._uU(1,"Lista de Usuarios"),I.qZA())}function Yn(O,p){1&O&&(I.TgZ(0,"a",17),I._uU(1,"Crear Admin"),I.qZA())}function ar(O,p){1&O&&(I.TgZ(0,"a",18),I._uU(1,"Turnos"),I.qZA())}function ur(O,p){1&O&&(I.TgZ(0,"a",19),I._uU(1,"Informes"),I.qZA())}function yr(O,p){1&O&&(I.TgZ(0,"a",20),I._uU(1,"Turnos"),I.qZA())}function qt(O,p){1&O&&(I.TgZ(0,"a",21),I._uU(1,"Perfil"),I.qZA())}function Kt(O,p){1&O&&(I.TgZ(0,"a",22),I._uU(1,"Pacientes"),I.qZA())}function at(O,p){1&O&&(I.TgZ(0,"a",23),I._uU(1,"Perfil"),I.qZA())}function dt(O,p){1&O&&(I.TgZ(0,"a",24),I._uU(1,"Turnos"),I.qZA())}function dn(O,p){1&O&&(I.TgZ(0,"a",25),I._uU(1,"Solicitar Turno"),I.qZA())}function mn(O,p){1&O&&(I.TgZ(0,"a",26),I._uU(1,"Login"),I.qZA())}function Mt(O,p){1&O&&(I.TgZ(0,"a",27),I._uU(1,"Registrarse"),I.qZA())}function bn(O,p){if(1&O){const m=I.EpF();I.TgZ(0,"span",28),I.NdJ("click",function(){return I.CHM(m),I.oxw().authService.SignOut()}),I._uU(1,"Desloguearse"),I.qZA()}}let Ht=(()=>{class O{constructor(m){this.auth=m,this.isLoading=this.auth.isLoading,this.authService=m}ngOnInit(){}}return O.\u0275fac=function(m){return new(m||O)(I.Y36(we.e))},O.\u0275cmp=I.Xpm({type:O,selectors:[["app-navbar"]],decls:17,vars:13,consts:[[1,"site-header","navbar-expand-md","navbar-dark","bg-dark","mb-4"],[1,"container","d-flex","flex-column","flex-md-row","justify-content-between","navbar-nav"],["routerLink","/",1,"nav-item","nav-link","py-2"],["class","nav-item nav-link py-2","routerLink","user-list",4,"ngIf"],["class","nav-item nav-link py-2","routerLink","register-admin",4,"ngIf"],["class","nav-item nav-link py-2","routerLink","admin-turnos",4,"ngIf"],["class","nav-item nav-link py-2","routerLink","informes",4,"ngIf"],["class","nav-item nav-link py-2","routerLink","especialista-turnos",4,"ngIf"],["class","nav-item nav-link py-2","routerLink","especialista-perfil",4,"ngIf"],["class","nav-item nav-link py-2","routerLink","pacientes-atendidos",4,"ngIf"],["class","nav-item nav-link py-2","routerLink","paciente-perfil",4,"ngIf"],["class","nav-item nav-link py-2","routerLink","paciente-turnos",4,"ngIf"],["class","nav-item nav-link py-2","routerLink","solicitar-turno",4,"ngIf"],["class","nav-item nav-link py-2","routerLink","login",4,"ngIf"],["class","nav-item nav-link py-2","routerLink","register",4,"ngIf"],["class","nav-item nav-link py-2",3,"click",4,"ngIf"],["routerLink","user-list",1,"nav-item","nav-link","py-2"],["routerLink","register-admin",1,"nav-item","nav-link","py-2"],["routerLink","admin-turnos",1,"nav-item","nav-link","py-2"],["routerLink","informes",1,"nav-item","nav-link","py-2"],["routerLink","especialista-turnos",1,"nav-item","nav-link","py-2"],["routerLink","especialista-perfil",1,"nav-item","nav-link","py-2"],["routerLink","pacientes-atendidos",1,"nav-item","nav-link","py-2"],["routerLink","paciente-perfil",1,"nav-item","nav-link","py-2"],["routerLink","paciente-turnos",1,"nav-item","nav-link","py-2"],["routerLink","solicitar-turno",1,"nav-item","nav-link","py-2"],["routerLink","login",1,"nav-item","nav-link","py-2"],["routerLink","register",1,"nav-item","nav-link","py-2"],[1,"nav-item","nav-link","py-2",3,"click"]],template:function(m,S){1&m&&(I.TgZ(0,"nav",0),I.TgZ(1,"div",1),I.TgZ(2,"a",2),I._uU(3,"Home"),I.qZA(),I.YNc(4,Hr,2,0,"a",3),I.YNc(5,Yn,2,0,"a",4),I.YNc(6,ar,2,0,"a",5),I.YNc(7,ur,2,0,"a",6),I.YNc(8,yr,2,0,"a",7),I.YNc(9,qt,2,0,"a",8),I.YNc(10,Kt,2,0,"a",9),I.YNc(11,at,2,0,"a",10),I.YNc(12,dt,2,0,"a",11),I.YNc(13,dn,2,0,"a",12),I.YNc(14,mn,2,0,"a",13),I.YNc(15,Mt,2,0,"a",14),I.YNc(16,bn,2,0,"span",15),I.qZA(),I.qZA()),2&m&&(I.xp6(4),I.Q6J("ngIf",S.authService.isValidAdmin),I.xp6(1),I.Q6J("ngIf",S.authService.isValidAdmin),I.xp6(1),I.Q6J("ngIf",S.authService.isValidAdmin),I.xp6(1),I.Q6J("ngIf",S.authService.isValidAdmin),I.xp6(1),I.Q6J("ngIf","especialista"==(null==S.authService.getUser?null:S.authService.getUser.rol)),I.xp6(1),I.Q6J("ngIf","especialista"==(null==S.authService.getUser?null:S.authService.getUser.rol)),I.xp6(1),I.Q6J("ngIf","especialista"==(null==S.authService.getUser?null:S.authService.getUser.rol)),I.xp6(1),I.Q6J("ngIf","paciente"==(null==S.authService.getUser?null:S.authService.getUser.rol)),I.xp6(1),I.Q6J("ngIf","paciente"==(null==S.authService.getUser?null:S.authService.getUser.rol)),I.xp6(1),I.Q6J("ngIf",S.authService.isValidAdmin||"paciente"==(null==S.authService.getUser?null:S.authService.getUser.rol)),I.xp6(1),I.Q6J("ngIf",!S.authService.isLoggedIn),I.xp6(1),I.Q6J("ngIf",!S.authService.isLoggedIn),I.xp6(1),I.Q6J("ngIf",S.authService.isLoggedIn))},directives:[Qe.yS,Fe.O5],styles:[""]}),O})(),Yt=(()=>{class O{constructor(){}ngOnInit(){}}return O.\u0275fac=function(m){return new(m||O)},O.\u0275cmp=I.Xpm({type:O,selectors:[["app-loader"]],decls:6,vars:0,consts:[[1,"wrapper"],[1,"spinner"],[1,"spinner__square"]],template:function(m,S){1&m&&(I.TgZ(0,"div",0),I.TgZ(1,"div",1),I._UZ(2,"div",2),I._UZ(3,"div",2),I._UZ(4,"div",2),I._UZ(5,"div",2),I.qZA(),I.qZA())},styles:["[_ngcontent-%COMP%]:root{--teal: #26ffdf;--dark-blue: #151820}.wrapper[_ngcontent-%COMP%]{height:100vh;width:100vw;display:flex;overflow:hidden;align-items:center;justify-content:center;background-color:#000030}.spinner[_ngcontent-%COMP%]{width:72px;height:72px;position:relative;transform-origin:center center;animation:spinnerSpin 2.8s 0s ease-in-out infinite forwards}.spinner__square[_ngcontent-%COMP%]{top:0px;left:24px;width:24px;height:24px;position:absolute;background-color:teal;box-shadow:0 0 3px teal;animation-delay:0;animation-duration:1.4s;animation-direction:alternate;animation-iteration-count:infinite;animation-timing-function:ease-in-out}.spinner__square[_ngcontent-%COMP%]:nth-child(1){animation-name:spinnerSquareContract_1}.spinner__square[_ngcontent-%COMP%]:nth-child(2){top:24px;left:48px;animation-name:spinnerSquareContract_2}.spinner__square[_ngcontent-%COMP%]:nth-child(3){top:24px;left:0px;animation-name:spinnerSquareContract_3}.spinner__square[_ngcontent-%COMP%]:nth-child(4){top:48px;left:24px;animation-name:spinnerSquareContract_4}@keyframes spinnerSpin{0%{transform:rotate(0)}30%,to{transform:rotate(360deg)}}@keyframes spinnerSquareContract_1{0%,60%{transform:translateY(0)}80%,to{transform:translateY(24px)}}@keyframes spinnerSquareContract_2{0%,60%{transform:translate(0)}80%,to{transform:translate(-24px)}}@keyframes spinnerSquareContract_3{0%,60%{transform:translate(0)}80%,to{transform:translate(24px)}}@keyframes spinnerSquareContract_4{0%,60%{transform:translateY(0)}80%,to{transform:translateY(-24px)}}"]}),O})();function Ar(O,p){if(1&O&&(I.ynx(0),I._UZ(1,"app-navbar"),I.TgZ(2,"div",2),I.TgZ(3,"div",3),I._UZ(4,"router-outlet",null,4),I.qZA(),I.qZA(),I.BQk()),2&O){const m=I.MAs(5),S=I.oxw();I.xp6(3),I.Q6J("@triggerName",S.prepareRoute(m))}}function lr(O,p){1&O&&I._UZ(0,"app-loader")}let Zn=(()=>{class O{constructor(m,S){this.authService=m,this.router=S,this.title="clinica",this.loading=!0,this.authService.isLoading.subscribe(z=>{this.loading=z})}prepareRoute(m){return m&&m.activatedRouteData&&m.activatedRouteData.animationState}}return O.\u0275fac=function(m){return new(m||O)(I.Y36(we.e),I.Y36(Qe.F0))},O.\u0275cmp=I.Xpm({type:O,selectors:[["app-root"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loadingTemplate",""],[1,"container"],[1,"mt-5"],["outlet","outlet"]],template:function(m,S){if(1&m&&(I.YNc(0,Ar,6,1,"ng-container",0),I.YNc(1,lr,1,0,"ng-template",null,1,I.W1O)),2&m){const z=I.MAs(2);I.Q6J("ngIf",!S.loading)("ngIfElse",z)}},directives:[Fe.O5,Ht,Qe.lC,Yt],styles:[""],data:{animation:[Mn]}}),O})();var dr=N(1596);function Nr(){return"undefined"!=typeof window&&void 0!==window.document}function _r(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ve(O){switch(O.length){case 0:return new zn;case 1:return O[0];default:return new $r(O)}}function Te(O,p,m,S,z={},ee={}){const ge=[],Ce=[];let ot=-1,Be=null;if(S.forEach(kt=>{const hn=kt.offset,Fn=hn==ot,Wt=Fn&&Be||{};Object.keys(kt).forEach(Vt=>{let Ln=Vt,Rt=kt[Vt];if("offset"!==Vt)switch(Ln=p.normalizePropertyName(Ln,ge),Rt){case"!":Rt=z[Vt];break;case ye:Rt=ee[Vt];break;default:Rt=p.normalizeStyleValue(Vt,Ln,Rt,ge)}Wt[Ln]=Rt}),Fn||Ce.push(Wt),Be=Wt,ot=hn}),ge.length){const kt="\n - ";throw new Error(`Unable to animate due to the following errors:${kt}${ge.join(kt)}`)}return Ce}function Se(O,p,m,S){switch(p){case"start":O.onStart(()=>S(m&&mt(m,"start",O)));break;case"done":O.onDone(()=>S(m&&mt(m,"done",O)));break;case"destroy":O.onDestroy(()=>S(m&&mt(m,"destroy",O)))}}function mt(O,p,m){const S=m.totalTime,ee=Ye(O.element,O.triggerName,O.fromState,O.toState,p||O.phaseName,null==S?O.totalTime:S,!!m.disabled),ge=O._data;return null!=ge&&(ee._data=ge),ee}function Ye(O,p,m,S,z="",ee=0,ge){return{element:O,triggerName:p,fromState:m,toState:S,phaseName:z,totalTime:ee,disabled:!!ge}}function Ct(O,p,m){let S;return O instanceof Map?(S=O.get(p),S||O.set(p,S=m)):(S=O[p],S||(S=O[p]=m)),S}function un(O){const p=O.indexOf(":");return[O.substring(1,p),O.substr(p+1)]}let nr=(O,p)=>!1,yn=(O,p)=>!1,jn=(O,p,m)=>[];const Jn=_r();(Jn||"undefined"!=typeof Element)&&(nr=Nr()?(O,p)=>{for(;p&&p!==document.documentElement;){if(p===O)return!0;p=p.parentNode||p.host}return!1}:(O,p)=>O.contains(p),yn=(()=>{if(Jn||Element.prototype.matches)return(O,p)=>O.matches(p);{const O=Element.prototype,p=O.matchesSelector||O.mozMatchesSelector||O.msMatchesSelector||O.oMatchesSelector||O.webkitMatchesSelector;return p?(m,S)=>p.apply(m,[S]):yn}})(),jn=(O,p,m)=>{let S=[];if(m){const z=O.querySelectorAll(p);for(let ee=0;ee<z.length;ee++)S.push(z[ee])}else{const z=O.querySelector(p);z&&S.push(z)}return S});let kr=null,wi=!1;function qi(O){kr||(kr=("undefined"!=typeof document?document.body:null)||{},wi=!!kr.style&&"WebkitAppearance"in kr.style);let p=!0;return kr.style&&!function(O){return"ebkit"==O.substring(1,6)}(O)&&(p=O in kr.style,!p&&wi&&(p="Webkit"+O.charAt(0).toUpperCase()+O.substr(1)in kr.style)),p}const Si=yn,In=nr,xr=jn;function Cr(O){const p={};return Object.keys(O).forEach(m=>{const S=m.replace(/([a-z])([A-Z])/g,"$1-$2");p[S]=O[m]}),p}let Pi=(()=>{class O{validateStyleProperty(m){return qi(m)}matchesElement(m,S){return Si(m,S)}containsElement(m,S){return In(m,S)}query(m,S,z){return xr(m,S,z)}computeStyle(m,S,z){return z||""}animate(m,S,z,ee,ge,Ce=[],ot){return new zn(z,ee)}}return O.\u0275fac=function(m){return new(m||O)},O.\u0275prov=I.Yz7({token:O,factory:O.\u0275fac}),O})(),Ci=(()=>{class O{}return O.NOOP=new Pi,O})();const Xn="ng-enter",ri="ng-leave",Zi="ng-trigger",er=".ng-trigger",Gt="ng-animating",Pn=".ng-animating";function wn(O){if("number"==typeof O)return O;const p=O.match(/^(-?[\.\d]+)(m?s)/);return!p||p.length<2?0:Oe(parseFloat(p[1]),p[2])}function Oe(O,p){switch(p){case"s":return 1e3*O;default:return O}}function xe(O,p,m){return O.hasOwnProperty("duration")?O:function(O,p,m){let z,ee=0,ge="";if("string"==typeof O){const Ce=O.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ce)return p.push(`The provided timing value "${O}" is invalid.`),{duration:0,delay:0,easing:""};z=Oe(parseFloat(Ce[1]),Ce[2]);const ot=Ce[3];null!=ot&&(ee=Oe(parseFloat(ot),Ce[4]));const Be=Ce[5];Be&&(ge=Be)}else z=O;if(!m){let Ce=!1,ot=p.length;z<0&&(p.push("Duration values below 0 are not allowed for this animation step."),Ce=!0),ee<0&&(p.push("Delay values below 0 are not allowed for this animation step."),Ce=!0),Ce&&p.splice(ot,0,`The provided timing value "${O}" is invalid.`)}return{duration:z,delay:ee,easing:ge}}(O,p,m)}function Xe(O,p={}){return Object.keys(O).forEach(m=>{p[m]=O[m]}),p}function fn(O,p,m={}){if(p)for(let S in O)m[S]=O[S];else Xe(O,m);return m}function An(O,p,m){return m?p+":"+m+";":""}function cn(O){let p="";for(let m=0;m<O.style.length;m++){const S=O.style.item(m);p+=An(0,S,O.style.getPropertyValue(S))}for(const m in O.style)O.style.hasOwnProperty(m)&&!m.startsWith("_")&&(p+=An(0,yi(m),O.style[m]));O.setAttribute("style",p)}function Wn(O,p,m){O.style&&(Object.keys(p).forEach(S=>{const z=ws(S);m&&!m.hasOwnProperty(S)&&(m[S]=O.style[z]),O.style[z]=p[S]}),_r()&&cn(O))}function Cn(O,p){O.style&&(Object.keys(p).forEach(m=>{const S=ws(m);O.style[S]=""}),_r()&&cn(O))}function di(O){return Array.isArray(O)?1==O.length?O[0]:At(O):O}const Ir=new RegExp("{{\\s*(.+?)\\s*}}","g");function as(O){let p=[];if("string"==typeof O){let m;for(;m=Ir.exec(O);)p.push(m[1]);Ir.lastIndex=0}return p}function Rr(O,p,m){const S=O.toString(),z=S.replace(Ir,(ee,ge)=>{let Ce=p[ge];return p.hasOwnProperty(ge)||(m.push(`Please provide a value for the animation param ${ge}`),Ce=""),Ce.toString()});return z==S?O:z}function Jr(O){const p=[];let m=O.next();for(;!m.done;)p.push(m.value),m=O.next();return p}const Tr=/-+([a-z0-9])/g;function ws(O){return O.replace(Tr,(...p)=>p[1].toUpperCase())}function yi(O){return O.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function _i(O,p){return 0===O||0===p}function ps(O,p,m){const S=Object.keys(m);if(S.length&&p.length){let ee=p[0],ge=[];if(S.forEach(Ce=>{ee.hasOwnProperty(Ce)||ge.push(Ce),ee[Ce]=m[Ce]}),ge.length)for(var z=1;z<p.length;z++){let Ce=p[z];ge.forEach(function(ot){Ce[ot]=Ni(O,ot)})}}return p}function Xr(O,p,m){switch(p.type){case 7:return O.visitTrigger(p,m);case 0:return O.visitState(p,m);case 1:return O.visitTransition(p,m);case 2:return O.visitSequence(p,m);case 3:return O.visitGroup(p,m);case 4:return O.visitAnimate(p,m);case 5:return O.visitKeyframes(p,m);case 6:return O.visitStyle(p,m);case 8:return O.visitReference(p,m);case 9:return O.visitAnimateChild(p,m);case 10:return O.visitAnimateRef(p,m);case 11:return O.visitQuery(p,m);case 12:return O.visitStagger(p,m);default:throw new Error(`Unable to resolve animation metadata node #${p.type}`)}}function Ni(O,p){return window.getComputedStyle(O)[p]}function $n(O,p){const m=[];return"string"==typeof O?O.split(/\s*,\s*/).forEach(S=>function(O,p,m){if(":"==O[0]){const ot=function(O,p){switch(O){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(m,S)=>parseFloat(S)>parseFloat(m);case":decrement":return(m,S)=>parseFloat(S)<parseFloat(m);default:return p.push(`The transition alias value "${O}" is not supported`),"* => *"}}(O,m);if("function"==typeof ot)return void p.push(ot);O=ot}const S=O.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==S||S.length<4)return m.push(`The provided transition expression "${O}" is not supported`),p;const z=S[1],ee=S[2],ge=S[3];p.push(nt(z,ge));"<"==ee[0]&&!("*"==z&&"*"==ge)&&p.push(nt(ge,z))}(S,m,p)):m.push(O),m}const ke=new Set(["true","1"]),Ve=new Set(["false","0"]);function nt(O,p){const m=ke.has(O)||Ve.has(O),S=ke.has(p)||Ve.has(p);return(z,ee)=>{let ge="*"==O||O==z,Ce="*"==p||p==ee;return!ge&&m&&"boolean"==typeof z&&(ge=z?ke.has(O):Ve.has(O)),!Ce&&S&&"boolean"==typeof ee&&(Ce=ee?ke.has(p):Ve.has(p)),ge&&Ce}}const Pt=new RegExp("s*:selfs*,?","g");function ln(O,p,m){return new ii(O).build(p,m)}class ii{constructor(p){this._driver=p}build(p,m){const S=new fi(m);return this._resetContextStyleTimingState(S),Xr(this,di(p),S)}_resetContextStyleTimingState(p){p.currentQuerySelector="",p.collectedStyles={},p.collectedStyles[""]={},p.currentTime=0}visitTrigger(p,m){let S=m.queryCount=0,z=m.depCount=0;const ee=[],ge=[];return"@"==p.name.charAt(0)&&m.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),p.definitions.forEach(Ce=>{if(this._resetContextStyleTimingState(m),0==Ce.type){const ot=Ce,Be=ot.name;Be.toString().split(/\s*,\s*/).forEach(kt=>{ot.name=kt,ee.push(this.visitState(ot,m))}),ot.name=Be}else if(1==Ce.type){const ot=this.visitTransition(Ce,m);S+=ot.queryCount,z+=ot.depCount,ge.push(ot)}else m.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:p.name,states:ee,transitions:ge,queryCount:S,depCount:z,options:null}}visitState(p,m){const S=this.visitStyle(p.styles,m),z=p.options&&p.options.params||null;if(S.containsDynamicStyles){const ee=new Set,ge=z||{};if(S.styles.forEach(Ce=>{if(Ps(Ce)){const ot=Ce;Object.keys(ot).forEach(Be=>{as(ot[Be]).forEach(kt=>{ge.hasOwnProperty(kt)||ee.add(kt)})})}}),ee.size){const Ce=Jr(ee.values());m.errors.push(`state("${p.name}", ...) must define default values for all the following style substitutions: ${Ce.join(", ")}`)}}return{type:0,name:p.name,style:S,options:z?{params:z}:null}}visitTransition(p,m){m.queryCount=0,m.depCount=0;const S=Xr(this,di(p.animation),m);return{type:1,matchers:$n(p.expr,m.errors),animation:S,queryCount:m.queryCount,depCount:m.depCount,options:Cs(p.options)}}visitSequence(p,m){return{type:2,steps:p.steps.map(S=>Xr(this,S,m)),options:Cs(p.options)}}visitGroup(p,m){const S=m.currentTime;let z=0;const ee=p.steps.map(ge=>{m.currentTime=S;const Ce=Xr(this,ge,m);return z=Math.max(z,m.currentTime),Ce});return m.currentTime=z,{type:3,steps:ee,options:Cs(p.options)}}visitAnimate(p,m){const S=function(O,p){let m=null;if(O.hasOwnProperty("duration"))m=O;else if("number"==typeof O)return Gs(xe(O,p).duration,0,"");const S=O;if(S.split(/\s+/).some(ee=>"{"==ee.charAt(0)&&"{"==ee.charAt(1))){const ee=Gs(0,0,"");return ee.dynamic=!0,ee.strValue=S,ee}return m=m||xe(S,p),Gs(m.duration,m.delay,m.easing)}(p.timings,m.errors);m.currentAnimateTimings=S;let z,ee=p.styles?p.styles:an({});if(5==ee.type)z=this.visitKeyframes(ee,m);else{let ge=p.styles,Ce=!1;if(!ge){Ce=!0;const Be={};S.easing&&(Be.easing=S.easing),ge=an(Be)}m.currentTime+=S.duration+S.delay;const ot=this.visitStyle(ge,m);ot.isEmptyStep=Ce,z=ot}return m.currentAnimateTimings=null,{type:4,timings:S,style:z,options:null}}visitStyle(p,m){const S=this._makeStyleAst(p,m);return this._validateStyleAst(S,m),S}_makeStyleAst(p,m){const S=[];Array.isArray(p.styles)?p.styles.forEach(ge=>{"string"==typeof ge?ge==ye?S.push(ge):m.errors.push(`The provided style string value ${ge} is not allowed.`):S.push(ge)}):S.push(p.styles);let z=!1,ee=null;return S.forEach(ge=>{if(Ps(ge)){const Ce=ge,ot=Ce.easing;if(ot&&(ee=ot,delete Ce.easing),!z)for(let Be in Ce)if(Ce[Be].toString().indexOf("{{")>=0){z=!0;break}}}),{type:6,styles:S,easing:ee,offset:p.offset,containsDynamicStyles:z,options:null}}_validateStyleAst(p,m){const S=m.currentAnimateTimings;let z=m.currentTime,ee=m.currentTime;S&&ee>0&&(ee-=S.duration+S.delay),p.styles.forEach(ge=>{"string"!=typeof ge&&Object.keys(ge).forEach(Ce=>{if(!this._driver.validateStyleProperty(Ce))return void m.errors.push(`The provided animation property "${Ce}" is not a supported CSS property for animations`);const ot=m.collectedStyles[m.currentQuerySelector],Be=ot[Ce];let kt=!0;Be&&(ee!=z&&ee>=Be.startTime&&z<=Be.endTime&&(m.errors.push(`The CSS property "${Ce}" that exists between the times of "${Be.startTime}ms" and "${Be.endTime}ms" is also being animated in a parallel animation between the times of "${ee}ms" and "${z}ms"`),kt=!1),ee=Be.startTime),kt&&(ot[Ce]={startTime:ee,endTime:z}),m.options&&function(O,p,m){const S=p.params||{},z=as(O);z.length&&z.forEach(ee=>{S.hasOwnProperty(ee)||m.push(`Unable to resolve the local animation param ${ee} in the given list of values`)})}(ge[Ce],m.options,m.errors)})})}visitKeyframes(p,m){const S={type:5,styles:[],options:null};if(!m.currentAnimateTimings)return m.errors.push("keyframes() must be placed inside of a call to animate()"),S;let ee=0;const ge=[];let Ce=!1,ot=!1,Be=0;const kt=p.steps.map(lt=>{const bt=this._makeStyleAst(lt,m);let Er=null!=bt.offset?bt.offset:function(O){if("string"==typeof O)return null;let p=null;if(Array.isArray(O))O.forEach(m=>{if(Ps(m)&&m.hasOwnProperty("offset")){const S=m;p=parseFloat(S.offset),delete S.offset}});else if(Ps(O)&&O.hasOwnProperty("offset")){const m=O;p=parseFloat(m.offset),delete m.offset}return p}(bt.styles),Ri=0;return null!=Er&&(ee++,Ri=bt.offset=Er),ot=ot||Ri<0||Ri>1,Ce=Ce||Ri<Be,Be=Ri,ge.push(Ri),bt});ot&&m.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),Ce&&m.errors.push("Please ensure that all keyframe offsets are in order");const hn=p.steps.length;let Fn=0;ee>0&&ee<hn?m.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==ee&&(Fn=1/(hn-1));const Wt=hn-1,Vt=m.currentTime,Ln=m.currentAnimateTimings,Rt=Ln.duration;return kt.forEach((lt,bt)=>{const Er=Fn>0?bt==Wt?1:Fn*bt:ge[bt],Ri=Er*Rt;m.currentTime=Vt+Ln.delay+Ri,Ln.duration=Ri,this._validateStyleAst(lt,m),lt.offset=Er,S.styles.push(lt)}),S}visitReference(p,m){return{type:8,animation:Xr(this,di(p.animation),m),options:Cs(p.options)}}visitAnimateChild(p,m){return m.depCount++,{type:9,options:Cs(p.options)}}visitAnimateRef(p,m){return{type:10,animation:this.visitReference(p.animation,m),options:Cs(p.options)}}visitQuery(p,m){const S=m.currentQuerySelector,z=p.options||{};m.queryCount++,m.currentQuery=p;const[ee,ge]=function(O){const p=!!O.split(/\s*,\s*/).find(m=>":self"==m);return p&&(O=O.replace(Pt,"")),[O=O.replace(/@\*/g,er).replace(/@\w+/g,m=>er+"-"+m.substr(1)).replace(/:animating/g,Pn),p]}(p.selector);m.currentQuerySelector=S.length?S+" "+ee:ee,Ct(m.collectedStyles,m.currentQuerySelector,{});const Ce=Xr(this,di(p.animation),m);return m.currentQuery=null,m.currentQuerySelector=S,{type:11,selector:ee,limit:z.limit||0,optional:!!z.optional,includeSelf:ge,animation:Ce,originalSelector:p.selector,options:Cs(p.options)}}visitStagger(p,m){m.currentQuery||m.errors.push("stagger() can only be used inside of query()");const S="full"===p.timings?{duration:0,delay:0,easing:"full"}:xe(p.timings,m.errors,!0);return{type:12,animation:Xr(this,di(p.animation),m),timings:S,options:null}}}class fi{constructor(p){this.errors=p,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Ps(O){return!Array.isArray(O)&&"object"==typeof O}function Cs(O){return O?(O=Xe(O)).params&&(O.params=function(O){return O?Xe(O):null}(O.params)):O={},O}function Gs(O,p,m){return{duration:O,delay:p,easing:m}}function Yr(O,p,m,S,z,ee,ge=null,Ce=!1){return{type:1,element:O,keyframes:p,preStyleProps:m,postStyleProps:S,duration:z,delay:ee,totalTime:z+ee,easing:ge,subTimeline:Ce}}class Yi{constructor(){this._map=new Map}consume(p){let m=this._map.get(p);return m?this._map.delete(p):m=[],m}append(p,m){let S=this._map.get(p);S||this._map.set(p,S=[]),S.push(...m)}has(p){return this._map.has(p)}clear(){this._map.clear()}}const Ns=new RegExp(":enter","g"),zo=new RegExp(":leave","g");function Qi(O,p,m,S,z,ee={},ge={},Ce,ot,Be=[]){return(new oo).buildKeyframes(O,p,m,S,z,ee,ge,Ce,ot,Be)}class oo{buildKeyframes(p,m,S,z,ee,ge,Ce,ot,Be,kt=[]){Be=Be||new Yi;const hn=new pi(p,m,Be,z,ee,kt,[]);hn.options=ot,hn.currentTimeline.setStyles([ge],null,hn.errors,ot),Xr(this,S,hn);const Fn=hn.timelines.filter(Wt=>Wt.containsAnimation());if(Fn.length&&Object.keys(Ce).length){const Wt=Fn[Fn.length-1];Wt.allowOnlyTimelineStyles()||Wt.setStyles([Ce],null,hn.errors,ot)}return Fn.length?Fn.map(Wt=>Wt.buildKeyframes()):[Yr(m,[],[],[],0,0,"",!1)]}visitTrigger(p,m){}visitState(p,m){}visitTransition(p,m){}visitAnimateChild(p,m){const S=m.subInstructions.consume(m.element);if(S){const z=m.createSubContext(p.options),ee=m.currentTimeline.currentTime,ge=this._visitSubInstructions(S,z,z.options);ee!=ge&&m.transformIntoNewTimeline(ge)}m.previousNode=p}visitAnimateRef(p,m){const S=m.createSubContext(p.options);S.transformIntoNewTimeline(),this.visitReference(p.animation,S),m.transformIntoNewTimeline(S.currentTimeline.currentTime),m.previousNode=p}_visitSubInstructions(p,m,S){let ee=m.currentTimeline.currentTime;const ge=null!=S.duration?wn(S.duration):null,Ce=null!=S.delay?wn(S.delay):null;return 0!==ge&&p.forEach(ot=>{const Be=m.appendInstructionToTimeline(ot,ge,Ce);ee=Math.max(ee,Be.duration+Be.delay)}),ee}visitReference(p,m){m.updateOptions(p.options,!0),Xr(this,p.animation,m),m.previousNode=p}visitSequence(p,m){const S=m.subContextCount;let z=m;const ee=p.options;if(ee&&(ee.params||ee.delay)&&(z=m.createSubContext(ee),z.transformIntoNewTimeline(),null!=ee.delay)){6==z.previousNode.type&&(z.currentTimeline.snapshotCurrentStyles(),z.previousNode=ki);const ge=wn(ee.delay);z.delayNextStep(ge)}p.steps.length&&(p.steps.forEach(ge=>Xr(this,ge,z)),z.currentTimeline.applyStylesToKeyframe(),z.subContextCount>S&&z.transformIntoNewTimeline()),m.previousNode=p}visitGroup(p,m){const S=[];let z=m.currentTimeline.currentTime;const ee=p.options&&p.options.delay?wn(p.options.delay):0;p.steps.forEach(ge=>{const Ce=m.createSubContext(p.options);ee&&Ce.delayNextStep(ee),Xr(this,ge,Ce),z=Math.max(z,Ce.currentTimeline.currentTime),S.push(Ce.currentTimeline)}),S.forEach(ge=>m.currentTimeline.mergeTimelineCollectedStyles(ge)),m.transformIntoNewTimeline(z),m.previousNode=p}_visitTiming(p,m){if(p.dynamic){const S=p.strValue;return xe(m.params?Rr(S,m.params,m.errors):S,m.errors)}return{duration:p.duration,delay:p.delay,easing:p.easing}}visitAnimate(p,m){const S=m.currentAnimateTimings=this._visitTiming(p.timings,m),z=m.currentTimeline;S.delay&&(m.incrementTime(S.delay),z.snapshotCurrentStyles());const ee=p.style;5==ee.type?this.visitKeyframes(ee,m):(m.incrementTime(S.duration),this.visitStyle(ee,m),z.applyStylesToKeyframe()),m.currentAnimateTimings=null,m.previousNode=p}visitStyle(p,m){const S=m.currentTimeline,z=m.currentAnimateTimings;!z&&S.getCurrentStyleProperties().length&&S.forwardFrame();const ee=z&&z.easing||p.easing;p.isEmptyStep?S.applyEmptyStep(ee):S.setStyles(p.styles,ee,m.errors,m.options),m.previousNode=p}visitKeyframes(p,m){const S=m.currentAnimateTimings,z=m.currentTimeline.duration,ee=S.duration,Ce=m.createSubContext().currentTimeline;Ce.easing=S.easing,p.styles.forEach(ot=>{Ce.forwardTime((ot.offset||0)*ee),Ce.setStyles(ot.styles,ot.easing,m.errors,m.options),Ce.applyStylesToKeyframe()}),m.currentTimeline.mergeTimelineCollectedStyles(Ce),m.transformIntoNewTimeline(z+ee),m.previousNode=p}visitQuery(p,m){const S=m.currentTimeline.currentTime,z=p.options||{},ee=z.delay?wn(z.delay):0;ee&&(6===m.previousNode.type||0==S&&m.currentTimeline.getCurrentStyleProperties().length)&&(m.currentTimeline.snapshotCurrentStyles(),m.previousNode=ki);let ge=S;const Ce=m.invokeQuery(p.selector,p.originalSelector,p.limit,p.includeSelf,!!z.optional,m.errors);m.currentQueryTotal=Ce.length;let ot=null;Ce.forEach((Be,kt)=>{m.currentQueryIndex=kt;const hn=m.createSubContext(p.options,Be);ee&&hn.delayNextStep(ee),Be===m.element&&(ot=hn.currentTimeline),Xr(this,p.animation,hn),hn.currentTimeline.applyStylesToKeyframe(),ge=Math.max(ge,hn.currentTimeline.currentTime)}),m.currentQueryIndex=0,m.currentQueryTotal=0,m.transformIntoNewTimeline(ge),ot&&(m.currentTimeline.mergeTimelineCollectedStyles(ot),m.currentTimeline.snapshotCurrentStyles()),m.previousNode=p}visitStagger(p,m){const S=m.parentContext,z=m.currentTimeline,ee=p.timings,ge=Math.abs(ee.duration),Ce=ge*(m.currentQueryTotal-1);let ot=ge*m.currentQueryIndex;switch(ee.duration<0?"reverse":ee.easing){case"reverse":ot=Ce-ot;break;case"full":ot=S.currentStaggerTime}const kt=m.currentTimeline;ot&&kt.delayNextStep(ot);const hn=kt.currentTime;Xr(this,p.animation,m),m.previousNode=p,S.currentStaggerTime=z.currentTime-hn+(z.startTime-S.currentTimeline.startTime)}}const ki={};class pi{constructor(p,m,S,z,ee,ge,Ce,ot){this._driver=p,this.element=m,this.subInstructions=S,this._enterClassName=z,this._leaveClassName=ee,this.errors=ge,this.timelines=Ce,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ki,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ot||new ks(this._driver,m,0),Ce.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(p,m){if(!p)return;const S=p;let z=this.options;null!=S.duration&&(z.duration=wn(S.duration)),null!=S.delay&&(z.delay=wn(S.delay));const ee=S.params;if(ee){let ge=z.params;ge||(ge=this.options.params={}),Object.keys(ee).forEach(Ce=>{(!m||!ge.hasOwnProperty(Ce))&&(ge[Ce]=Rr(ee[Ce],ge,this.errors))})}}_copyOptions(){const p={};if(this.options){const m=this.options.params;if(m){const S=p.params={};Object.keys(m).forEach(z=>{S[z]=m[z]})}}return p}createSubContext(p=null,m,S){const z=m||this.element,ee=new pi(this._driver,z,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(z,S||0));return ee.previousNode=this.previousNode,ee.currentAnimateTimings=this.currentAnimateTimings,ee.options=this._copyOptions(),ee.updateOptions(p),ee.currentQueryIndex=this.currentQueryIndex,ee.currentQueryTotal=this.currentQueryTotal,ee.parentContext=this,this.subContextCount++,ee}transformIntoNewTimeline(p){return this.previousNode=ki,this.currentTimeline=this.currentTimeline.fork(this.element,p),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(p,m,S){const z={duration:null!=m?m:p.duration,delay:this.currentTimeline.currentTime+(null!=S?S:0)+p.delay,easing:""},ee=new Ji(this._driver,p.element,p.keyframes,p.preStyleProps,p.postStyleProps,z,p.stretchStartingKeyframe);return this.timelines.push(ee),z}incrementTime(p){this.currentTimeline.forwardTime(this.currentTimeline.duration+p)}delayNextStep(p){p>0&&this.currentTimeline.delayNextStep(p)}invokeQuery(p,m,S,z,ee,ge){let Ce=[];if(z&&Ce.push(this.element),p.length>0){p=(p=p.replace(Ns,"."+this._enterClassName)).replace(zo,"."+this._leaveClassName);let Be=this._driver.query(this.element,p,1!=S);0!==S&&(Be=S<0?Be.slice(Be.length+S,Be.length):Be.slice(0,S)),Ce.push(...Be)}return!ee&&0==Ce.length&&ge.push(`\`query("${m}")\` returned zero elements. (Use \`query("${m}", { optional: true })\` if you wish to allow this.)`),Ce}}class ks{constructor(p,m,S,z){this._driver=p,this.element=m,this.startTime=S,this._elementTimelineStylesLookup=z,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(m),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(m,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(p){const m=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||m?(this.forwardTime(this.currentTime+p),m&&this.snapshotCurrentStyles()):this.startTime+=p}fork(p,m){return this.applyStylesToKeyframe(),new ks(this._driver,p,m||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(p){this.applyStylesToKeyframe(),this.duration=p,this._loadKeyframe()}_updateStyle(p,m){this._localTimelineStyles[p]=m,this._globalTimelineStyles[p]=m,this._styleSummary[p]={time:this.currentTime,value:m}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(p){p&&(this._previousKeyframe.easing=p),Object.keys(this._globalTimelineStyles).forEach(m=>{this._backFill[m]=this._globalTimelineStyles[m]||ye,this._currentKeyframe[m]=ye}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(p,m,S,z){m&&(this._previousKeyframe.easing=m);const ee=z&&z.params||{},ge=function(O,p){const m={};let S;return O.forEach(z=>{"*"===z?(S=S||Object.keys(p),S.forEach(ee=>{m[ee]=ye})):fn(z,!1,m)}),m}(p,this._globalTimelineStyles);Object.keys(ge).forEach(Ce=>{const ot=Rr(ge[Ce],ee,S);this._pendingStyles[Ce]=ot,this._localTimelineStyles.hasOwnProperty(Ce)||(this._backFill[Ce]=this._globalTimelineStyles.hasOwnProperty(Ce)?this._globalTimelineStyles[Ce]:ye),this._updateStyle(Ce,ot)})}applyStylesToKeyframe(){const p=this._pendingStyles,m=Object.keys(p);0!=m.length&&(this._pendingStyles={},m.forEach(S=>{this._currentKeyframe[S]=p[S]}),Object.keys(this._localTimelineStyles).forEach(S=>{this._currentKeyframe.hasOwnProperty(S)||(this._currentKeyframe[S]=this._localTimelineStyles[S])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(p=>{const m=this._localTimelineStyles[p];this._pendingStyles[p]=m,this._updateStyle(p,m)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const p=[];for(let m in this._currentKeyframe)p.push(m);return p}mergeTimelineCollectedStyles(p){Object.keys(p._styleSummary).forEach(m=>{const S=this._styleSummary[m],z=p._styleSummary[m];(!S||z.time>S.time)&&this._updateStyle(m,z.value)})}buildKeyframes(){this.applyStylesToKeyframe();const p=new Set,m=new Set,S=1===this._keyframes.size&&0===this.duration;let z=[];this._keyframes.forEach((Ce,ot)=>{const Be=fn(Ce,!0);Object.keys(Be).forEach(kt=>{const hn=Be[kt];"!"==hn?p.add(kt):hn==ye&&m.add(kt)}),S||(Be.offset=ot/this.duration),z.push(Be)});const ee=p.size?Jr(p.values()):[],ge=m.size?Jr(m.values()):[];if(S){const Ce=z[0],ot=Xe(Ce);Ce.offset=0,ot.offset=1,z=[Ce,ot]}return Yr(this.element,z,ee,ge,this.duration,this.startTime,this.easing,!1)}}class Ji extends ks{constructor(p,m,S,z,ee,ge,Ce=!1){super(p,m,ge.delay),this.keyframes=S,this.preStyleProps=z,this.postStyleProps=ee,this._stretchStartingKeyframe=Ce,this.timings={duration:ge.duration,delay:ge.delay,easing:ge.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let p=this.keyframes,{delay:m,duration:S,easing:z}=this.timings;if(this._stretchStartingKeyframe&&m){const ee=[],ge=S+m,Ce=m/ge,ot=fn(p[0],!1);ot.offset=0,ee.push(ot);const Be=fn(p[0],!1);Be.offset=Ai(Ce),ee.push(Be);const kt=p.length-1;for(let hn=1;hn<=kt;hn++){let Fn=fn(p[hn],!1);Fn.offset=Ai((m+Fn.offset*S)/ge),ee.push(Fn)}S=ge,m=0,z="",p=ee}return Yr(this.element,p,this.preStyleProps,this.postStyleProps,S,m,z,!0)}}function Ai(O,p=3){const m=Math.pow(10,p-1);return Math.round(O*m)/m}class ji{}class Ms extends ji{normalizePropertyName(p,m){return ws(p)}normalizeStyleValue(p,m,S,z){let ee="";const ge=S.toString().trim();if(zs[m]&&0!==S&&"0"!==S)if("number"==typeof S)ee="px";else{const Ce=S.match(/^[+-]?[\d\.]+([a-z]*)$/);Ce&&0==Ce[1].length&&z.push(`Please provide a CSS unit value for ${p}:${S}`)}return ge+ee}}const zs=(()=>function(O){const p={};return O.forEach(m=>p[m]=!0),p}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function V(O,p,m,S,z,ee,ge,Ce,ot,Be,kt,hn,Fn){return{type:0,element:O,triggerName:p,isRemovalTransition:z,fromState:m,fromStyles:ee,toState:S,toStyles:ge,timelines:Ce,queriedElements:ot,preStyleProps:Be,postStyleProps:kt,totalTime:hn,errors:Fn}}const q={};class U{constructor(p,m,S){this._triggerName=p,this.ast=m,this._stateStyles=S}match(p,m,S,z){return function(O,p,m,S,z){return O.some(ee=>ee(p,m,S,z))}(this.ast.matchers,p,m,S,z)}buildStyles(p,m,S){const z=this._stateStyles["*"],ee=this._stateStyles[p],ge=z?z.buildStyles(m,S):{};return ee?ee.buildStyles(m,S):ge}build(p,m,S,z,ee,ge,Ce,ot,Be,kt){const hn=[],Fn=this.ast.options&&this.ast.options.params||q,Vt=this.buildStyles(S,Ce&&Ce.params||q,hn),Ln=ot&&ot.params||q,Rt=this.buildStyles(z,Ln,hn),lt=new Set,bt=new Map,Er=new Map,Ri="void"===z,Yo={params:Object.assign(Object.assign({},Fn),Ln)},Us=kt?[]:Qi(p,m,this.ast.animation,ee,ge,Vt,Rt,Yo,Be,hn);let ts=0;if(Us.forEach(Zs=>{ts=Math.max(Zs.duration+Zs.delay,ts)}),hn.length)return V(m,this._triggerName,S,z,Ri,Vt,Rt,[],[],bt,Er,ts,hn);Us.forEach(Zs=>{const mi=Zs.element,eu=Ct(bt,mi,{});Zs.preStyleProps.forEach(Qn=>eu[Qn]=!0);const lo=Ct(Er,mi,{});Zs.postStyleProps.forEach(Qn=>lo[Qn]=!0),mi!==m&&lt.add(mi)});const Ts=Jr(lt.values());return V(m,this._triggerName,S,z,Ri,Vt,Rt,Us,Ts,bt,Er,ts)}}class De{constructor(p,m,S){this.styles=p,this.defaultParams=m,this.normalizer=S}buildStyles(p,m){const S={},z=Xe(this.defaultParams);return Object.keys(p).forEach(ee=>{const ge=p[ee];null!=ge&&(z[ee]=ge)}),this.styles.styles.forEach(ee=>{if("string"!=typeof ee){const ge=ee;Object.keys(ge).forEach(Ce=>{let ot=ge[Ce];ot.length>1&&(ot=Rr(ot,z,m));const Be=this.normalizer.normalizePropertyName(Ce,m);ot=this.normalizer.normalizeStyleValue(Ce,Be,ot,m),S[Be]=ot})}}),S}}class Dt{constructor(p,m,S){this.name=p,this.ast=m,this._normalizer=S,this.transitionFactories=[],this.states={},m.states.forEach(z=>{this.states[z.name]=new De(z.style,z.options&&z.options.params||{},S)}),x(this.states,"true","1"),x(this.states,"false","0"),m.transitions.forEach(z=>{this.transitionFactories.push(new U(p,z,this.states))}),this.fallbackTransition=function(O,p,m){return new U(O,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ge,Ce)=>!0],options:null,queryCount:0,depCount:0},p)}(p,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(p,m,S,z){return this.transitionFactories.find(ge=>ge.match(p,m,S,z))||null}matchStyles(p,m,S){return this.fallbackTransition.buildStyles(p,m,S)}}function x(O,p,m){O.hasOwnProperty(p)?O.hasOwnProperty(m)||(O[m]=O[p]):O.hasOwnProperty(m)&&(O[p]=O[m])}const A=new Yi;class Z{constructor(p,m,S){this.bodyNode=p,this._driver=m,this._normalizer=S,this._animations={},this._playersById={},this.players=[]}register(p,m){const S=[],z=ln(this._driver,m,S);if(S.length)throw new Error(`Unable to build the animation due to the following errors: ${S.join("\n")}`);this._animations[p]=z}_buildPlayer(p,m,S){const z=p.element,ee=Te(0,this._normalizer,0,p.keyframes,m,S);return this._driver.animate(z,ee,p.duration,p.delay,p.easing,[],!0)}create(p,m,S={}){const z=[],ee=this._animations[p];let ge;const Ce=new Map;if(ee?(ge=Qi(this._driver,m,ee,Xn,ri,{},{},S,A,z),ge.forEach(kt=>{const hn=Ct(Ce,kt.element,{});kt.postStyleProps.forEach(Fn=>hn[Fn]=null)})):(z.push("The requested animation doesn't exist or has already been destroyed"),ge=[]),z.length)throw new Error(`Unable to create the animation due to the following errors: ${z.join("\n")}`);Ce.forEach((kt,hn)=>{Object.keys(kt).forEach(Fn=>{kt[Fn]=this._driver.computeStyle(hn,Fn,ye)})});const Be=ve(ge.map(kt=>{const hn=Ce.get(kt.element);return this._buildPlayer(kt,{},hn)}));return this._playersById[p]=Be,Be.onDestroy(()=>this.destroy(p)),this.players.push(Be),Be}destroy(p){const m=this._getPlayer(p);m.destroy(),delete this._playersById[p];const S=this.players.indexOf(m);S>=0&&this.players.splice(S,1)}_getPlayer(p){const m=this._playersById[p];if(!m)throw new Error(`Unable to find the timeline player referenced by ${p}`);return m}listen(p,m,S,z){const ee=Ye(m,"","","");return Se(this._getPlayer(p),S,ee,z),()=>{}}command(p,m,S,z){if("register"==S)return void this.register(p,z[0]);if("create"==S)return void this.create(p,m,z[0]||{});const ee=this._getPlayer(p);switch(S){case"play":ee.play();break;case"pause":ee.pause();break;case"reset":ee.reset();break;case"restart":ee.restart();break;case"finish":ee.finish();break;case"init":ee.init();break;case"setPosition":ee.setPosition(parseFloat(z[0]));break;case"destroy":this.destroy(p)}}}const st="ng-animate-queued",Rn="ng-animate-disabled",Mr=".ng-animate-disabled",Fr=[],Fi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},us={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Pr="__ng_removed";class bo{constructor(p,m=""){this.namespaceId=m;const S=p&&p.hasOwnProperty("value");if(this.value=function(O){return null!=O?O:null}(S?p.value:p),S){const ee=Xe(p);delete ee.value,this.options=ee}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(p){const m=p.params;if(m){const S=this.options.params;Object.keys(m).forEach(z=>{null==S[z]&&(S[z]=m[z])})}}}const Xi="void",wo=new bo(Xi);class $i{constructor(p,m,S){this.id=p,this.hostElement=m,this._engine=S,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+p,Xt(m,this._hostClassName)}listen(p,m,S,z){if(!this._triggers.hasOwnProperty(m))throw new Error(`Unable to listen on the animation trigger event "${S}" because the animation trigger "${m}" doesn't exist!`);if(null==S||0==S.length)throw new Error(`Unable to listen on the animation trigger "${m}" because the provided event is undefined!`);if(!function(O){return"start"==O||"done"==O}(S))throw new Error(`The provided animation trigger event "${S}" for the animation trigger "${m}" is not supported!`);const ee=Ct(this._elementListeners,p,[]),ge={name:m,phase:S,callback:z};ee.push(ge);const Ce=Ct(this._engine.statesByElement,p,{});return Ce.hasOwnProperty(m)||(Xt(p,Zi),Xt(p,Zi+"-"+m),Ce[m]=wo),()=>{this._engine.afterFlush(()=>{const ot=ee.indexOf(ge);ot>=0&&ee.splice(ot,1),this._triggers[m]||delete Ce[m]})}}register(p,m){return!this._triggers[p]&&(this._triggers[p]=m,!0)}_getTrigger(p){const m=this._triggers[p];if(!m)throw new Error(`The provided animation trigger "${p}" has not been registered!`);return m}trigger(p,m,S,z=!0){const ee=this._getTrigger(m),ge=new $(this.id,m,p);let Ce=this._engine.statesByElement.get(p);Ce||(Xt(p,Zi),Xt(p,Zi+"-"+m),this._engine.statesByElement.set(p,Ce={}));let ot=Ce[m];const Be=new bo(S,this.id);if(!(S&&S.hasOwnProperty("value"))&&ot&&Be.absorbOptions(ot.options),Ce[m]=Be,ot||(ot=wo),Be.value!==Xi&&ot.value===Be.value){if(!function(O,p){const m=Object.keys(O),S=Object.keys(p);if(m.length!=S.length)return!1;for(let z=0;z<m.length;z++){const ee=m[z];if(!p.hasOwnProperty(ee)||O[ee]!==p[ee])return!1}return!0}(ot.params,Be.params)){const Ln=[],Rt=ee.matchStyles(ot.value,ot.params,Ln),lt=ee.matchStyles(Be.value,Be.params,Ln);Ln.length?this._engine.reportError(Ln):this._engine.afterFlush(()=>{Cn(p,Rt),Wn(p,lt)})}return}const Fn=Ct(this._engine.playersByElement,p,[]);Fn.forEach(Ln=>{Ln.namespaceId==this.id&&Ln.triggerName==m&&Ln.queued&&Ln.destroy()});let Wt=ee.matchTransition(ot.value,Be.value,p,Be.params),Vt=!1;if(!Wt){if(!z)return;Wt=ee.fallbackTransition,Vt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:p,triggerName:m,transition:Wt,fromState:ot,toState:Be,player:ge,isFallbackTransition:Vt}),Vt||(Xt(p,st),ge.onStart(()=>{Lr(p,st)})),ge.onDone(()=>{let Ln=this.players.indexOf(ge);Ln>=0&&this.players.splice(Ln,1);const Rt=this._engine.playersByElement.get(p);if(Rt){let lt=Rt.indexOf(ge);lt>=0&&Rt.splice(lt,1)}}),this.players.push(ge),Fn.push(ge),ge}deregister(p){delete this._triggers[p],this._engine.statesByElement.forEach((m,S)=>{delete m[p]}),this._elementListeners.forEach((m,S)=>{this._elementListeners.set(S,m.filter(z=>z.name!=p))})}clearElementCache(p){this._engine.statesByElement.delete(p),this._elementListeners.delete(p);const m=this._engine.playersByElement.get(p);m&&(m.forEach(S=>S.destroy()),this._engine.playersByElement.delete(p))}_signalRemovalForInnerTriggers(p,m){const S=this._engine.driver.query(p,er,!0);S.forEach(z=>{if(z[Pr])return;const ee=this._engine.fetchNamespacesByElement(z);ee.size?ee.forEach(ge=>ge.triggerLeaveAnimation(z,m,!1,!0)):this.clearElementCache(z)}),this._engine.afterFlushAnimationsDone(()=>S.forEach(z=>this.clearElementCache(z)))}triggerLeaveAnimation(p,m,S,z){const ee=this._engine.statesByElement.get(p);if(ee){const ge=[];if(Object.keys(ee).forEach(Ce=>{if(this._triggers[Ce]){const ot=this.trigger(p,Ce,Xi,z);ot&&ge.push(ot)}}),ge.length)return this._engine.markElementAsRemoved(this.id,p,!0,m),S&&ve(ge).onDone(()=>this._engine.processLeaveNode(p)),!0}return!1}prepareLeaveAnimationListeners(p){const m=this._elementListeners.get(p),S=this._engine.statesByElement.get(p);if(m&&S){const z=new Set;m.forEach(ee=>{const ge=ee.name;if(z.has(ge))return;z.add(ge);const ot=this._triggers[ge].fallbackTransition,Be=S[ge]||wo,kt=new bo(Xi),hn=new $(this.id,ge,p);this._engine.totalQueuedPlayers++,this._queue.push({element:p,triggerName:ge,transition:ot,fromState:Be,toState:kt,player:hn,isFallbackTransition:!0})})}}removeNode(p,m){const S=this._engine;if(p.childElementCount&&this._signalRemovalForInnerTriggers(p,m),this.triggerLeaveAnimation(p,m,!0))return;let z=!1;if(S.totalAnimations){const ee=S.players.length?S.playersByQueriedElement.get(p):[];if(ee&&ee.length)z=!0;else{let ge=p;for(;ge=ge.parentNode;)if(S.statesByElement.get(ge)){z=!0;break}}}if(this.prepareLeaveAnimationListeners(p),z)S.markElementAsRemoved(this.id,p,!1,m);else{const ee=p[Pr];(!ee||ee===Fi)&&(S.afterFlush(()=>this.clearElementCache(p)),S.destroyInnerAnimations(p),S._onRemovalComplete(p,m))}}insertNode(p,m){Xt(p,this._hostClassName)}drainQueuedTransitions(p){const m=[];return this._queue.forEach(S=>{const z=S.player;if(z.destroyed)return;const ee=S.element,ge=this._elementListeners.get(ee);ge&&ge.forEach(Ce=>{if(Ce.name==S.triggerName){const ot=Ye(ee,S.triggerName,S.fromState.value,S.toState.value);ot._data=p,Se(S.player,Ce.phase,ot,Ce.callback)}}),z.markedForDestroy?this._engine.afterFlush(()=>{z.destroy()}):m.push(S)}),this._queue=[],m.sort((S,z)=>{const ee=S.transition.ast.depCount,ge=z.transition.ast.depCount;return 0==ee||0==ge?ee-ge:this._engine.driver.containsElement(S.element,z.element)?1:-1})}destroy(p){this.players.forEach(m=>m.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,p)}elementContainsData(p){let m=!1;return this._elementListeners.has(p)&&(m=!0),m=!!this._queue.find(S=>S.element===p)||m,m}}class Ws{constructor(p,m,S){this.bodyNode=p,this.driver=m,this._normalizer=S,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(z,ee)=>{}}_onRemovalComplete(p,m){this.onRemovalComplete(p,m)}get queuedPlayers(){const p=[];return this._namespaceList.forEach(m=>{m.players.forEach(S=>{S.queued&&p.push(S)})}),p}createNamespace(p,m){const S=new $i(p,m,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,m)?this._balanceNamespaceList(S,m):(this.newHostElements.set(m,S),this.collectEnterElement(m)),this._namespaceLookup[p]=S}_balanceNamespaceList(p,m){const S=this._namespaceList.length-1;if(S>=0){let z=!1;for(let ee=S;ee>=0;ee--)if(this.driver.containsElement(this._namespaceList[ee].hostElement,m)){this._namespaceList.splice(ee+1,0,p),z=!0;break}z||this._namespaceList.splice(0,0,p)}else this._namespaceList.push(p);return this.namespacesByHostElement.set(m,p),p}register(p,m){let S=this._namespaceLookup[p];return S||(S=this.createNamespace(p,m)),S}registerTrigger(p,m,S){let z=this._namespaceLookup[p];z&&z.register(m,S)&&this.totalAnimations++}destroy(p,m){if(!p)return;const S=this._fetchNamespace(p);this.afterFlush(()=>{this.namespacesByHostElement.delete(S.hostElement),delete this._namespaceLookup[p];const z=this._namespaceList.indexOf(S);z>=0&&this._namespaceList.splice(z,1)}),this.afterFlushAnimationsDone(()=>S.destroy(m))}_fetchNamespace(p){return this._namespaceLookup[p]}fetchNamespacesByElement(p){const m=new Set,S=this.statesByElement.get(p);if(S){const z=Object.keys(S);for(let ee=0;ee<z.length;ee++){const ge=S[z[ee]].namespaceId;if(ge){const Ce=this._fetchNamespace(ge);Ce&&m.add(Ce)}}}return m}trigger(p,m,S,z){if(he(m)){const ee=this._fetchNamespace(p);if(ee)return ee.trigger(m,S,z),!0}return!1}insertNode(p,m,S,z){if(!he(m))return;const ee=m[Pr];if(ee&&ee.setForRemoval){ee.setForRemoval=!1,ee.setForMove=!0;const ge=this.collectedLeaveElements.indexOf(m);ge>=0&&this.collectedLeaveElements.splice(ge,1)}if(p){const ge=this._fetchNamespace(p);ge&&ge.insertNode(m,S)}z&&this.collectEnterElement(m)}collectEnterElement(p){this.collectedEnterElements.push(p)}markElementAsDisabled(p,m){m?this.disabledNodes.has(p)||(this.disabledNodes.add(p),Xt(p,Rn)):this.disabledNodes.has(p)&&(this.disabledNodes.delete(p),Lr(p,Rn))}removeNode(p,m,S,z){if(he(m)){const ee=p?this._fetchNamespace(p):null;if(ee?ee.removeNode(m,z):this.markElementAsRemoved(p,m,!1,z),S){const ge=this.namespacesByHostElement.get(m);ge&&ge.id!==p&&ge.removeNode(m,z)}}else this._onRemovalComplete(m,z)}markElementAsRemoved(p,m,S,z){this.collectedLeaveElements.push(m),m[Pr]={namespaceId:p,setForRemoval:z,hasAnimation:S,removedBeforeQueried:!1}}listen(p,m,S,z,ee){return he(m)?this._fetchNamespace(p).listen(m,S,z,ee):()=>{}}_buildInstruction(p,m,S,z,ee){return p.transition.build(this.driver,p.element,p.fromState.value,p.toState.value,S,z,p.fromState.options,p.toState.options,m,ee)}destroyInnerAnimations(p){let m=this.driver.query(p,er,!0);m.forEach(S=>this.destroyActiveAnimationsForElement(S)),0!=this.playersByQueriedElement.size&&(m=this.driver.query(p,Pn,!0),m.forEach(S=>this.finishActiveQueriedAnimationOnElement(S)))}destroyActiveAnimationsForElement(p){const m=this.playersByElement.get(p);m&&m.forEach(S=>{S.queued?S.markedForDestroy=!0:S.destroy()})}finishActiveQueriedAnimationOnElement(p){const m=this.playersByQueriedElement.get(p);m&&m.forEach(S=>S.finish())}whenRenderingDone(){return new Promise(p=>{if(this.players.length)return ve(this.players).onDone(()=>p());p()})}processLeaveNode(p){const m=p[Pr];if(m&&m.setForRemoval){if(p[Pr]=Fi,m.namespaceId){this.destroyInnerAnimations(p);const S=this._fetchNamespace(m.namespaceId);S&&S.clearElementCache(p)}this._onRemovalComplete(p,m.setForRemoval)}this.driver.matchesElement(p,Mr)&&this.markElementAsDisabled(p,!1),this.driver.query(p,Mr,!0).forEach(S=>{this.markElementAsDisabled(S,!1)})}flush(p=-1){let m=[];if(this.newHostElements.size&&(this.newHostElements.forEach((S,z)=>this._balanceNamespaceList(S,z)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let S=0;S<this.collectedEnterElements.length;S++)Xt(this.collectedEnterElements[S],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const S=[];try{m=this._flushAnimations(S,p)}finally{for(let z=0;z<S.length;z++)S[z]()}}else for(let S=0;S<this.collectedLeaveElements.length;S++)this.processLeaveNode(this.collectedLeaveElements[S]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(S=>S()),this._flushFns=[],this._whenQuietFns.length){const S=this._whenQuietFns;this._whenQuietFns=[],m.length?ve(m).onDone(()=>{S.forEach(z=>z())}):S.forEach(z=>z())}}reportError(p){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${p.join("\n")}`)}_flushAnimations(p,m){const S=new Yi,z=[],ee=new Map,ge=[],Ce=new Map,ot=new Map,Be=new Map,kt=new Set;this.disabledNodes.forEach(en=>{kt.add(en);const zt=this.driver.query(en,".ng-animate-queued",!0);for(let Un=0;Un<zt.length;Un++)kt.add(zt[Un])});const hn=this.bodyNode,Fn=Array.from(this.statesByElement.keys()),Wt=gn(Fn,this.collectedEnterElements),Vt=new Map;let Ln=0;Wt.forEach((en,zt)=>{const Un=Xn+Ln++;Vt.set(zt,Un),en.forEach(tr=>Xt(tr,Un))});const Rt=[],lt=new Set,bt=new Set;for(let en=0;en<this.collectedLeaveElements.length;en++){const zt=this.collectedLeaveElements[en],Un=zt[Pr];Un&&Un.setForRemoval&&(Rt.push(zt),lt.add(zt),Un.hasAnimation?this.driver.query(zt,".ng-star-inserted",!0).forEach(tr=>lt.add(tr)):bt.add(zt))}const Er=new Map,Ri=gn(Fn,Array.from(lt));Ri.forEach((en,zt)=>{const Un=ri+Ln++;Er.set(zt,Un),en.forEach(tr=>Xt(tr,Un))}),p.push(()=>{Wt.forEach((en,zt)=>{const Un=Vt.get(zt);en.forEach(tr=>Lr(tr,Un))}),Ri.forEach((en,zt)=>{const Un=Er.get(zt);en.forEach(tr=>Lr(tr,Un))}),Rt.forEach(en=>{this.processLeaveNode(en)})});const Yo=[],Us=[];for(let en=this._namespaceList.length-1;en>=0;en--)this._namespaceList[en].drainQueuedTransitions(m).forEach(Un=>{const tr=Un.player,xi=Un.element;if(Yo.push(tr),this.collectedEnterElements.length){const Y=xi[Pr];if(Y&&Y.setForMove)return void tr.destroy()}const D=!hn||!this.driver.containsElement(hn,xi),E=Er.get(xi),v=Vt.get(xi),R=this._buildInstruction(Un,S,v,E,D);if(R.errors&&R.errors.length)Us.push(R);else{if(D)return tr.onStart(()=>Cn(xi,R.fromStyles)),tr.onDestroy(()=>Wn(xi,R.toStyles)),void z.push(tr);if(Un.isFallbackTransition)return tr.onStart(()=>Cn(xi,R.fromStyles)),tr.onDestroy(()=>Wn(xi,R.toStyles)),void z.push(tr);R.timelines.forEach(Y=>Y.stretchStartingKeyframe=!0),S.append(xi,R.timelines),ge.push({instruction:R,player:tr,element:xi}),R.queriedElements.forEach(Y=>Ct(Ce,Y,[]).push(tr)),R.preStyleProps.forEach((Y,ce)=>{const Le=Object.keys(Y);if(Le.length){let yt=ot.get(ce);yt||ot.set(ce,yt=new Set),Le.forEach(Zt=>yt.add(Zt))}}),R.postStyleProps.forEach((Y,ce)=>{const Le=Object.keys(Y);let yt=Be.get(ce);yt||Be.set(ce,yt=new Set),Le.forEach(Zt=>yt.add(Zt))})}});if(Us.length){const en=[];Us.forEach(zt=>{en.push(`@${zt.triggerName} has failed due to:\n`),zt.errors.forEach(Un=>en.push(`- ${Un}\n`))}),Yo.forEach(zt=>zt.destroy()),this.reportError(en)}const ts=new Map,Ts=new Map;ge.forEach(en=>{const zt=en.element;S.has(zt)&&(Ts.set(zt,zt),this._beforeAnimationBuild(en.player.namespaceId,en.instruction,ts))}),z.forEach(en=>{const zt=en.element;this._getPreviousPlayers(zt,!1,en.namespaceId,en.triggerName,null).forEach(tr=>{Ct(ts,zt,[]).push(tr),tr.destroy()})});const Zs=Rt.filter(en=>Gr(en,ot,Be)),mi=new Map;Ot(mi,this.driver,bt,Be,ye).forEach(en=>{Gr(en,ot,Be)&&Zs.push(en)});const lo=new Map;Wt.forEach((en,zt)=>{Ot(lo,this.driver,new Set(en),ot,"!")}),Zs.forEach(en=>{const zt=mi.get(en),Un=lo.get(en);mi.set(en,Object.assign(Object.assign({},zt),Un))});const Qn=[],co=[],oa={};ge.forEach(en=>{const{element:zt,player:Un,instruction:tr}=en;if(S.has(zt)){if(kt.has(zt))return Un.onDestroy(()=>Wn(zt,tr.toStyles)),Un.disabled=!0,Un.overrideTotalTime(tr.totalTime),void z.push(Un);let xi=oa;if(Ts.size>1){let E=zt;const v=[];for(;E=E.parentNode;){const R=Ts.get(E);if(R){xi=R;break}v.push(E)}v.forEach(R=>Ts.set(R,xi))}const D=this._buildAnimation(Un.namespaceId,tr,ts,ee,lo,mi);if(Un.setRealPlayer(D),xi===oa)Qn.push(Un);else{const E=this.playersByElement.get(xi);E&&E.length&&(Un.parentPlayer=ve(E)),z.push(Un)}}else Cn(zt,tr.fromStyles),Un.onDestroy(()=>Wn(zt,tr.toStyles)),co.push(Un),kt.has(zt)&&z.push(Un)}),co.forEach(en=>{const zt=ee.get(en.element);if(zt&&zt.length){const Un=ve(zt);en.setRealPlayer(Un)}}),z.forEach(en=>{en.parentPlayer?en.syncPlayerEvents(en.parentPlayer):en.destroy()});for(let en=0;en<Rt.length;en++){const zt=Rt[en],Un=zt[Pr];if(Lr(zt,ri),Un&&Un.hasAnimation)continue;let tr=[];if(Ce.size){let D=Ce.get(zt);D&&D.length&&tr.push(...D);let E=this.driver.query(zt,Pn,!0);for(let v=0;v<E.length;v++){let R=Ce.get(E[v]);R&&R.length&&tr.push(...R)}}const xi=tr.filter(D=>!D.destroyed);xi.length?Hn(this,zt,xi):this.processLeaveNode(zt)}return Rt.length=0,Qn.forEach(en=>{this.players.push(en),en.onDone(()=>{en.destroy();const zt=this.players.indexOf(en);this.players.splice(zt,1)}),en.play()}),Qn}elementContainsData(p,m){let S=!1;const z=m[Pr];return z&&z.setForRemoval&&(S=!0),this.playersByElement.has(m)&&(S=!0),this.playersByQueriedElement.has(m)&&(S=!0),this.statesByElement.has(m)&&(S=!0),this._fetchNamespace(p).elementContainsData(m)||S}afterFlush(p){this._flushFns.push(p)}afterFlushAnimationsDone(p){this._whenQuietFns.push(p)}_getPreviousPlayers(p,m,S,z,ee){let ge=[];if(m){const Ce=this.playersByQueriedElement.get(p);Ce&&(ge=Ce)}else{const Ce=this.playersByElement.get(p);if(Ce){const ot=!ee||ee==Xi;Ce.forEach(Be=>{Be.queued||!ot&&Be.triggerName!=z||ge.push(Be)})}}return(S||z)&&(ge=ge.filter(Ce=>!(S&&S!=Ce.namespaceId||z&&z!=Ce.triggerName))),ge}_beforeAnimationBuild(p,m,S){const ee=m.element,ge=m.isRemovalTransition?void 0:p,Ce=m.isRemovalTransition?void 0:m.triggerName;for(const ot of m.timelines){const Be=ot.element,kt=Be!==ee,hn=Ct(S,Be,[]);this._getPreviousPlayers(Be,kt,ge,Ce,m.toState).forEach(Wt=>{const Vt=Wt.getRealPlayer();Vt.beforeDestroy&&Vt.beforeDestroy(),Wt.destroy(),hn.push(Wt)})}Cn(ee,m.fromStyles)}_buildAnimation(p,m,S,z,ee,ge){const Ce=m.triggerName,ot=m.element,Be=[],kt=new Set,hn=new Set,Fn=m.timelines.map(Vt=>{const Ln=Vt.element;kt.add(Ln);const Rt=Ln[Pr];if(Rt&&Rt.removedBeforeQueried)return new zn(Vt.duration,Vt.delay);const lt=Ln!==ot,bt=function(O){const p=[];return Ur(O,p),p}((S.get(Ln)||Fr).map(ts=>ts.getRealPlayer())).filter(ts=>!!ts.element&&ts.element===Ln),Er=ee.get(Ln),Ri=ge.get(Ln),Yo=Te(0,this._normalizer,0,Vt.keyframes,Er,Ri),Us=this._buildPlayer(Vt,Yo,bt);if(Vt.subTimeline&&z&&hn.add(Ln),lt){const ts=new $(p,Ce,Ln);ts.setRealPlayer(Us),Be.push(ts)}return Us});Be.forEach(Vt=>{Ct(this.playersByQueriedElement,Vt.element,[]).push(Vt),Vt.onDone(()=>function(O,p,m){let S;if(O instanceof Map){if(S=O.get(p),S){if(S.length){const z=S.indexOf(m);S.splice(z,1)}0==S.length&&O.delete(p)}}else if(S=O[p],S){if(S.length){const z=S.indexOf(m);S.splice(z,1)}0==S.length&&delete O[p]}return S}(this.playersByQueriedElement,Vt.element,Vt))}),kt.forEach(Vt=>Xt(Vt,Gt));const Wt=ve(Fn);return Wt.onDestroy(()=>{kt.forEach(Vt=>Lr(Vt,Gt)),Wn(ot,m.toStyles)}),hn.forEach(Vt=>{Ct(z,Vt,[]).push(Wt)}),Wt}_buildPlayer(p,m,S){return m.length>0?this.driver.animate(p.element,m,p.duration,p.delay,p.easing,S):new zn(p.duration,p.delay)}}class ${constructor(p,m,S){this.namespaceId=p,this.triggerName=m,this.element=S,this._player=new zn,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(p){this._containsRealPlayer||(this._player=p,Object.keys(this._queuedCallbacks).forEach(m=>{this._queuedCallbacks[m].forEach(S=>Se(p,m,void 0,S))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(p.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(p){this.totalTime=p}syncPlayerEvents(p){const m=this._player;m.triggerCallback&&p.onStart(()=>m.triggerCallback("start")),p.onDone(()=>this.finish()),p.onDestroy(()=>this.destroy())}_queueEvent(p,m){Ct(this._queuedCallbacks,p,[]).push(m)}onDone(p){this.queued&&this._queueEvent("done",p),this._player.onDone(p)}onStart(p){this.queued&&this._queueEvent("start",p),this._player.onStart(p)}onDestroy(p){this.queued&&this._queueEvent("destroy",p),this._player.onDestroy(p)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(p){this.queued||this._player.setPosition(p)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(p){const m=this._player;m.triggerCallback&&m.triggerCallback(p)}}function he(O){return O&&1===O.nodeType}function ht(O,p){const m=O.style.display;return O.style.display=null!=p?p:"none",m}function Ot(O,p,m,S,z){const ee=[];m.forEach(ot=>ee.push(ht(ot)));const ge=[];S.forEach((ot,Be)=>{const kt={};ot.forEach(hn=>{const Fn=kt[hn]=p.computeStyle(Be,hn,z);(!Fn||0==Fn.length)&&(Be[Pr]=us,ge.push(Be))}),O.set(Be,kt)});let Ce=0;return m.forEach(ot=>ht(ot,ee[Ce++])),ge}function gn(O,p){const m=new Map;if(O.forEach(Ce=>m.set(Ce,[])),0==p.length)return m;const z=new Set(p),ee=new Map;function ge(Ce){if(!Ce)return 1;let ot=ee.get(Ce);if(ot)return ot;const Be=Ce.parentNode;return ot=m.has(Be)?Be:z.has(Be)?1:ge(Be),ee.set(Ce,ot),ot}return p.forEach(Ce=>{const ot=ge(Ce);1!==ot&&m.get(ot).push(Ce)}),m}const sn="$$classes";function Xt(O,p){if(O.classList)O.classList.add(p);else{let m=O[sn];m||(m=O[sn]={}),m[p]=!0}}function Lr(O,p){if(O.classList)O.classList.remove(p);else{let m=O[sn];m&&delete m[p]}}function Hn(O,p,m){ve(m).onDone(()=>O.processLeaveNode(p))}function Ur(O,p){for(let m=0;m<O.length;m++){const S=O[m];S instanceof $r?Ur(S.players,p):p.push(S)}}function Gr(O,p,m){const S=m.get(O);if(!S)return!1;let z=p.get(O);return z?S.forEach(ee=>z.add(ee)):p.set(O,S),m.delete(O),!0}class Hi{constructor(p,m,S){this.bodyNode=p,this._driver=m,this._normalizer=S,this._triggerCache={},this.onRemovalComplete=(z,ee)=>{},this._transitionEngine=new Ws(p,m,S),this._timelineEngine=new Z(p,m,S),this._transitionEngine.onRemovalComplete=(z,ee)=>this.onRemovalComplete(z,ee)}registerTrigger(p,m,S,z,ee){const ge=p+"-"+z;let Ce=this._triggerCache[ge];if(!Ce){const ot=[],Be=ln(this._driver,ee,ot);if(ot.length)throw new Error(`The animation trigger "${z}" has failed to build due to the following errors:\n - ${ot.join("\n - ")}`);Ce=function(O,p,m){return new Dt(O,p,m)}(z,Be,this._normalizer),this._triggerCache[ge]=Ce}this._transitionEngine.registerTrigger(m,z,Ce)}register(p,m){this._transitionEngine.register(p,m)}destroy(p,m){this._transitionEngine.destroy(p,m)}onInsert(p,m,S,z){this._transitionEngine.insertNode(p,m,S,z)}onRemove(p,m,S,z){this._transitionEngine.removeNode(p,m,z||!1,S)}disableAnimations(p,m){this._transitionEngine.markElementAsDisabled(p,m)}process(p,m,S,z){if("@"==S.charAt(0)){const[ee,ge]=un(S);this._timelineEngine.command(ee,m,ge,z)}else this._transitionEngine.trigger(p,m,S,z)}listen(p,m,S,z,ee){if("@"==S.charAt(0)){const[ge,Ce]=un(S);return this._timelineEngine.listen(ge,m,Ce,ee)}return this._transitionEngine.listen(p,m,S,z,ee)}flush(p=-1){this._transitionEngine.flush(p)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Gi(O,p){let m=null,S=null;return Array.isArray(p)&&p.length?(m=Br(p[0]),p.length>1&&(S=Br(p[p.length-1]))):p&&(m=Br(p)),m||S?new Ii(O,m,S):null}let Ii=(()=>{class O{constructor(m,S,z){this._element=m,this._startStyles=S,this._endStyles=z,this._state=0;let ee=O.initialStylesByElement.get(m);ee||O.initialStylesByElement.set(m,ee={}),this._initialStyles=ee}start(){this._state<1&&(this._startStyles&&Wn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Wn(this._element,this._initialStyles),this._endStyles&&(Wn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(O.initialStylesByElement.delete(this._element),this._startStyles&&(Cn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Cn(this._element,this._endStyles),this._endStyles=null),Wn(this._element,this._initialStyles),this._state=3)}}return O.initialStylesByElement=new WeakMap,O})();function Br(O){let p=null;const m=Object.keys(O);for(let S=0;S<m.length;S++){const z=m[S];Os(z)&&(p=p||{},p[z]=O[z])}return p}function Os(O){return"display"===O||"position"===O}const zi="animation",Wi="animationend";class qr{constructor(p,m,S,z,ee,ge,Ce){this._element=p,this._name=m,this._duration=S,this._delay=z,this._easing=ee,this._fillMode=ge,this._onDoneFn=Ce,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=ot=>this._handleCallback(ot)}apply(){(function(O,p){const m=Ao(O,"").trim();let S=0;m.length&&(function(O,p){let m=0;for(let S=0;S<O.length;S++)","===O.charAt(S)&&m++;return m}(m)+1,p=`${m}, ${p}`),Wo(O,"",p)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Io(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Co(this._element,this._name,"paused")}resume(){Co(this._element,this._name,"running")}setPosition(p){const m=go(this._element,this._name);this._position=p*this._duration,Wo(this._element,"Delay",`-${this._position}ms`,m)}getPosition(){return this._position}_handleCallback(p){const m=p._ngTestManualTimestamp||Date.now(),S=1e3*parseFloat(p.elapsedTime.toFixed(3));p.animationName==this._name&&Math.max(m-this._startTime,0)>=this._delay&&S>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Io(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(O,p){const S=Ao(O,"").split(","),z=na(S,p);z>=0&&(S.splice(z,1),Wo(O,"",S.join(",")))}(this._element,this._name))}}function Co(O,p,m){Wo(O,"PlayState",m,go(O,p))}function go(O,p){const m=Ao(O,"");return m.indexOf(",")>0?na(m.split(","),p):na([m],p)}function na(O,p){for(let m=0;m<O.length;m++)if(O[m].indexOf(p)>=0)return m;return-1}function Io(O,p,m){m?O.removeEventListener(Wi,p):O.addEventListener(Wi,p)}function Wo(O,p,m,S){const z=zi+p;if(null!=S){const ee=O.style[z];if(ee.length){const ge=ee.split(",");ge[S]=m,m=ge.join(",")}}O.style[z]=m}function Ao(O,p){return O.style[zi+p]||""}class Su{constructor(p,m,S,z,ee,ge,Ce,ot){this.element=p,this.keyframes=m,this.animationName=S,this._duration=z,this._delay=ee,this._finalStyles=Ce,this._specialStyles=ot,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=ge||"linear",this.totalTime=z+ee,this._buildStyler()}onStart(p){this._onStartFns.push(p)}onDone(p){this._onDoneFns.push(p)}onDestroy(p){this._onDestroyFns.push(p)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(p=>p()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(p=>p()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(p=>p()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(p){this._styler.setPosition(p)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new qr(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(p){const m="start"==p?this._onStartFns:this._onDoneFns;m.forEach(S=>S()),m.length=0}beforeDestroy(){this.init();const p={};if(this.hasStarted()){const m=this._state>=3;Object.keys(this._finalStyles).forEach(S=>{"offset"!=S&&(p[S]=m?this._finalStyles[S]:Ni(this.element,S))})}this.currentSnapshot=p}}class cl extends zn{constructor(p,m){super(),this.element=p,this._startingStyles={},this.__initialized=!1,this._styles=Cr(m)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(p=>{this._startingStyles[p]=this.element.style[p]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(p=>this.element.style.setProperty(p,this._styles[p])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(p=>{const m=this._startingStyles[p];m?this.element.style.setProperty(p,m):this.element.style.removeProperty(p)}),this._startingStyles=null,super.destroy())}}class Na{constructor(){this._count=0}validateStyleProperty(p){return qi(p)}matchesElement(p,m){return Si(p,m)}containsElement(p,m){return In(p,m)}query(p,m,S){return xr(p,m,S)}computeStyle(p,m,S){return window.getComputedStyle(p)[m]}buildKeyframeElement(p,m,S){S=S.map(Ce=>Cr(Ce));let z=`@keyframes ${m} {\n`,ee="";S.forEach(Ce=>{ee=" ";const ot=parseFloat(Ce.offset);z+=`${ee}${100*ot}% {\n`,ee+=" ",Object.keys(Ce).forEach(Be=>{const kt=Ce[Be];switch(Be){case"offset":return;case"easing":return void(kt&&(z+=`${ee}animation-timing-function: ${kt};\n`));default:return void(z+=`${ee}${Be}: ${kt};\n`)}}),z+=`${ee}}\n`}),z+="}\n";const ge=document.createElement("style");return ge.textContent=z,ge}animate(p,m,S,z,ee,ge=[],Ce){const ot=ge.filter(Rt=>Rt instanceof Su),Be={};_i(S,z)&&ot.forEach(Rt=>{let lt=Rt.currentSnapshot;Object.keys(lt).forEach(bt=>Be[bt]=lt[bt])});const kt=function(O){let p={};return O&&(Array.isArray(O)?O:[O]).forEach(S=>{Object.keys(S).forEach(z=>{"offset"==z||"easing"==z||(p[z]=S[z])})}),p}(m=ps(p,m,Be));if(0==S)return new cl(p,kt);const hn="gen_css_kf_"+this._count++,Fn=this.buildKeyframeElement(p,hn,m);(function(O){var p;const m=null===(p=O.getRootNode)||void 0===p?void 0:p.call(O);return"undefined"!=typeof ShadowRoot&&m instanceof ShadowRoot?m:document.head})(p).appendChild(Fn);const Vt=Gi(p,m),Ln=new Su(p,m,hn,S,z,ee,kt,Vt);return Ln.onDestroy(()=>function(O){O.parentNode.removeChild(O)}(Fn)),Ln}}class Qa{constructor(p,m,S,z){this.element=p,this.keyframes=m,this.options=S,this._specialStyles=z,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=S.duration,this._delay=S.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(p=>p()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const p=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,p,this.options),this._finalKeyframe=p.length?p[p.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(p,m,S){return p.animate(m,S)}onStart(p){this._onStartFns.push(p)}onDone(p){this._onDoneFns.push(p)}onDestroy(p){this._onDestroyFns.push(p)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(p=>p()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(p=>p()),this._onDestroyFns=[])}setPosition(p){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=p*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const p={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(m=>{"offset"!=m&&(p[m]=this._finished?this._finalKeyframe[m]:Ni(this.element,m))}),this.currentSnapshot=p}triggerCallback(p){const m="start"==p?this._onStartFns:this._onDoneFns;m.forEach(S=>S()),m.length=0}}class es{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(sa().toString()),this._cssKeyframesDriver=new Na}validateStyleProperty(p){return qi(p)}matchesElement(p,m){return Si(p,m)}containsElement(p,m){return In(p,m)}query(p,m,S){return xr(p,m,S)}computeStyle(p,m,S){return window.getComputedStyle(p)[m]}overrideWebAnimationsSupport(p){this._isNativeImpl=p}animate(p,m,S,z,ee,ge=[],Ce){if(!Ce&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(p,m,S,z,ee,ge);const kt={duration:S,delay:z,fill:0==z?"both":"forwards"};ee&&(kt.easing=ee);const hn={},Fn=ge.filter(Vt=>Vt instanceof Qa);_i(S,z)&&Fn.forEach(Vt=>{let Ln=Vt.currentSnapshot;Object.keys(Ln).forEach(Rt=>hn[Rt]=Ln[Rt])});const Wt=Gi(p,m=ps(p,m=m.map(Vt=>fn(Vt,!1)),hn));return new Qa(p,m,kt,Wt)}}function sa(){return Nr()&&Element.prototype.animate||{}}let Ja=(()=>{class O extends de{constructor(m,S){super(),this._nextAnimationId=0,this._renderer=m.createRenderer(S.body,{id:"0",encapsulation:I.ifc.None,styles:[],data:{animation:[]}})}build(m){const S=this._nextAnimationId.toString();this._nextAnimationId++;const z=Array.isArray(m)?At(m):m;return xo(this._renderer,null,S,"register",[z]),new ka(S,this._renderer)}}return O.\u0275fac=function(m){return new(m||O)(I.LFG(I.FYo),I.LFG(Fe.K0))},O.\u0275prov=I.Yz7({token:O,factory:O.\u0275fac}),O})();class ka extends class{}{constructor(p,m){super(),this._id=p,this._renderer=m}create(p,m){return new qs(this._id,p,m||{},this._renderer)}}class qs{constructor(p,m,S,z){this.id=p,this.element=m,this._renderer=z,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",S)}_listen(p,m){return this._renderer.listen(this.element,`@@${this.id}:${p}`,m)}_command(p,...m){return xo(this._renderer,this.element,this.id,p,m)}onDone(p){this._listen("done",p)}onStart(p){this._listen("start",p)}onDestroy(p){this._listen("destroy",p)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(p){this._command("setPosition",p)}getPosition(){var p,m;return null!==(m=null===(p=this._renderer.engine.players[+this.id])||void 0===p?void 0:p.getPosition())&&void 0!==m?m:0}}function xo(O,p,m,S,z){return O.setProperty(p,`@@${m}:${S}`,z)}const Da="@.disabled";let Xa=(()=>{class O{constructor(m,S,z){this.delegate=m,this.engine=S,this._zone=z,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),S.onRemovalComplete=(ee,ge)=>{ge&&ge.parentNode(ee)&&ge.removeChild(ee.parentNode,ee)}}createRenderer(m,S){const ee=this.delegate.createRenderer(m,S);if(!(m&&S&&S.data&&S.data.animation)){let kt=this._rendererCache.get(ee);return kt||(kt=new qo("",ee,this.engine),this._rendererCache.set(ee,kt)),kt}const ge=S.id,Ce=S.id+"-"+this._currentId;this._currentId++,this.engine.register(Ce,m);const ot=kt=>{Array.isArray(kt)?kt.forEach(ot):this.engine.registerTrigger(ge,Ce,m,kt.name,kt)};return S.data.animation.forEach(ot),new Ks(this,Ce,ee,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(m,S,z){m>=0&&m<this._microtaskId?this._zone.run(()=>S(z)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(ee=>{const[ge,Ce]=ee;ge(Ce)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([S,z]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return O.\u0275fac=function(m){return new(m||O)(I.LFG(I.FYo),I.LFG(Hi),I.LFG(I.R0b))},O.\u0275prov=I.Yz7({token:O,factory:O.\u0275fac}),O})();class qo{constructor(p,m,S){this.namespaceId=p,this.delegate=m,this.engine=S,this.destroyNode=this.delegate.destroyNode?z=>m.destroyNode(z):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(p,m){return this.delegate.createElement(p,m)}createComment(p){return this.delegate.createComment(p)}createText(p){return this.delegate.createText(p)}appendChild(p,m){this.delegate.appendChild(p,m),this.engine.onInsert(this.namespaceId,m,p,!1)}insertBefore(p,m,S,z=!0){this.delegate.insertBefore(p,m,S),this.engine.onInsert(this.namespaceId,m,p,z)}removeChild(p,m,S){this.engine.onRemove(this.namespaceId,m,this.delegate,S)}selectRootElement(p,m){return this.delegate.selectRootElement(p,m)}parentNode(p){return this.delegate.parentNode(p)}nextSibling(p){return this.delegate.nextSibling(p)}setAttribute(p,m,S,z){this.delegate.setAttribute(p,m,S,z)}removeAttribute(p,m,S){this.delegate.removeAttribute(p,m,S)}addClass(p,m){this.delegate.addClass(p,m)}removeClass(p,m){this.delegate.removeClass(p,m)}setStyle(p,m,S,z){this.delegate.setStyle(p,m,S,z)}removeStyle(p,m,S){this.delegate.removeStyle(p,m,S)}setProperty(p,m,S){"@"==m.charAt(0)&&m==Da?this.disableAnimations(p,!!S):this.delegate.setProperty(p,m,S)}setValue(p,m){this.delegate.setValue(p,m)}listen(p,m,S){return this.delegate.listen(p,m,S)}disableAnimations(p,m){this.engine.disableAnimations(p,m)}}class Ks extends qo{constructor(p,m,S,z){super(m,S,z),this.factory=p,this.namespaceId=m}setProperty(p,m,S){"@"==m.charAt(0)?"."==m.charAt(1)&&m==Da?this.disableAnimations(p,S=void 0===S||!!S):this.engine.process(this.namespaceId,p,m.substr(1),S):this.delegate.setProperty(p,m,S)}listen(p,m,S){if("@"==m.charAt(0)){const z=function(O){switch(O){case"body":return document.body;case"document":return document;case"window":return window;default:return O}}(p);let ee=m.substr(1),ge="";return"@"!=ee.charAt(0)&&([ee,ge]=function(O){const p=O.indexOf(".");return[O.substring(0,p),O.substr(p+1)]}(ee)),this.engine.listen(this.namespaceId,z,ee,ge,Ce=>{this.factory.scheduleListenerCallback(Ce._data||-1,S,Ce)})}return this.delegate.listen(p,m,S)}}let Au=(()=>{class O extends Hi{constructor(m,S,z){super(m.body,S,z)}ngOnDestroy(){this.flush()}}return O.\u0275fac=function(m){return new(m||O)(I.LFG(Fe.K0),I.LFG(Ci),I.LFG(ji))},O.\u0275prov=I.Yz7({token:O,factory:O.\u0275fac}),O})();const Ti=new I.OlP("AnimationModuleType"),Oo=[{provide:de,useClass:Ja},{provide:ji,useFactory:function(){return new Ms}},{provide:Hi,useClass:Au},{provide:I.FYo,useFactory:function(O,p,m){return new Xa(O,p,m)},deps:[_.se,Hi,I.R0b]}],Po=[{provide:Ci,useFactory:function(){return"function"==typeof sa()?new es:new Na}},{provide:Ti,useValue:"BrowserAnimations"},...Oo],Ko=[{provide:Ci,useClass:Pi},{provide:Ti,useValue:"NoopAnimations"},...Oo];let Zo=(()=>{class O{static withConfig(m){return{ngModule:O,providers:m.disableAnimations?Ko:Po}}}return O.\u0275fac=function(m){return new(m||O)},O.\u0275mod=I.oAB({type:O}),O.\u0275inj=I.cJS({providers:Po,imports:[_.b2]}),O})();var Va=N(7947);let Sa=(()=>{class O{}return O.\u0275fac=function(m){return new(m||O)},O.\u0275mod=I.oAB({type:O,bootstrap:[Zn]}),O.\u0275inj=I.cJS({providers:[Pe.ST],imports:[[_.b2,me,Ee.hO.initializeApp(Ae_firebaseConfig),Pe.yb,Ge.TE,K.u5,Lt.a,Zo,dr.o,Va.J,K.UX]]}),O})();(0,I.G48)(),_.q6().bootstrapModule(Sa).catch(O=>console.error(O))},9517:($t,ze,N)=>{"use strict";function Qe(oe,_e,me,de){return new(me||(me=Promise))(function(ye,it){function on(an){try{At(de.next(an))}catch(Nn){it(Nn)}}function Bt(an){try{At(de.throw(an))}catch(Nn){it(Nn)}}function At(an){an.done?ye(an.value):function(ye){return ye instanceof me?ye:new me(function(it){it(ye)})}(an.value).then(on,Bt)}At((de=de.apply(oe,_e||[])).next())})}function Ke(oe){return this instanceof Ke?(this.v=oe,this):new Ke(oe)}function Me(oe,_e,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,de=me.apply(oe,_e||[]),ye=[];return Je={},it("next"),it("throw"),it("return"),Je[Symbol.asyncIterator]=function(){return this},Je;function it(vn){de[vn]&&(Je[vn]=function(Kn){return new Promise(function(xn,En){ye.push([vn,Kn,xn,En])>1||on(vn,Kn)})})}function on(vn,Kn){try{!function(vn){vn.value instanceof Ke?Promise.resolve(vn.value.v).then(At,an):Nn(ye[0][2],vn)}(de[vn](Kn))}catch(xn){Nn(ye[0][3],xn)}}function At(vn){on("next",vn)}function an(vn){on("throw",vn)}function Nn(vn,Kn){vn(Kn),ye.shift(),ye.length&&on(ye[0][0],ye[0][1])}}function je(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,_e=oe[Symbol.asyncIterator];return _e?_e.call(oe):(oe=function(oe){var _e="function"==typeof Symbol&&Symbol.iterator,me=_e&&oe[_e],de=0;if(me)return me.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&de>=oe.length&&(oe=void 0),{value:oe&&oe[de++],done:!oe}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),me={},de("next"),de("throw"),de("return"),me[Symbol.asyncIterator]=function(){return this},me);function de(ye){me[ye]=oe[ye]&&function(it){return new Promise(function(on,Bt){!function(ye,it,on,Bt){Promise.resolve(Bt).then(function(At){ye({value:At,done:on})},it)}(on,Bt,(it=oe[ye](it)).done,it.value)})}}}N.d(ze,{mG:()=>Qe,qq:()=>Ke,FC:()=>Me,KL:()=>je})},4762:($t,ze,N)=>{"use strict";function Ae(oe,_e){var me={};for(var de in oe)Object.prototype.hasOwnProperty.call(oe,de)&&_e.indexOf(de)<0&&(me[de]=oe[de]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var Je=0;for(de=Object.getOwnPropertySymbols(oe);Je<de.length;Je++)_e.indexOf(de[Je])<0&&Object.prototype.propertyIsEnumerable.call(oe,de[Je])&&(me[de[Je]]=oe[de[Je]])}return me}function Qe(oe,_e,me,de){return new(me||(me=Promise))(function(ye,it){function on(an){try{At(de.next(an))}catch(Nn){it(Nn)}}function Bt(an){try{At(de.throw(an))}catch(Nn){it(Nn)}}function At(an){an.done?ye(an.value):function(ye){return ye instanceof me?ye:new me(function(it){it(ye)})}(an.value).then(on,Bt)}At((de=de.apply(oe,_e||[])).next())})}N.d(ze,{_T:()=>Ae,mG:()=>Qe})},3394:($t,ze,N)=>{"use strict";N.d(ze,{Z:()=>ft});var _=N(3854),I=N(3910),K=N(8026),Ae=N(5422);class Ee{constructor(Ke,Me){this._delegate=Ke,this.firebase=Me,(0,K._addComponent)(Ke,new I.wA("app-compat",()=>this,"PUBLIC")),this.container=Ke.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ke){this._delegate.automaticDataCollectionEnabled=Ke}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ke=>{this._delegate.checkDestroyed(),Ke()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,K.deleteApp)(this._delegate)))}_getService(Ke,Me=K._DEFAULT_ENTRY_NAME){var We;this._delegate.checkDestroyed();const je=this._delegate.container.getProvider(Ke);return!je.isInitialized()&&"EXPLICIT"===(null===(We=je.getComponent())||void 0===We?void 0:We.instantiationMode)&&je.initialize(),je.getImmediate({identifier:Me})}_removeServiceInstance(Ke,Me=K._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ke).clearInstance(Me)}_addComponent(Ke){(0,K._addComponent)(this._delegate,Ke)}_addOrOverwriteComponent(Ke){(0,K._addOrOverwriteComponent)(this._delegate,Ke)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ge=new _.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),X=function we(){const Ne=function(Ne){const Ke={},Me={__esModule:!0,initializeApp:function(jt,ne={}){const oe=K.initializeApp(jt,ne);if((0,_.r3)(Ke,oe.name))return Ke[oe.name];const _e=new Ne(oe,Me);return Ke[oe.name]=_e,_e},app:je,registerVersion:K.registerVersion,setLogLevel:K.setLogLevel,onLog:K.onLog,apps:null,SDK_VERSION:K.SDK_VERSION,INTERNAL:{registerComponent:function(jt){const ne=jt.name,oe=ne.replace("-compat","");if(K._registerComponent(jt)&&"PUBLIC"===jt.type){const _e=(me=je())=>{if("function"!=typeof me[oe])throw Ge.create("invalid-app-argument",{appName:ne});return me[oe]()};void 0!==jt.serviceProps&&(0,_.ZB)(_e,jt.serviceProps),Me[oe]=_e,Ne.prototype[oe]=function(...me){return this._getService.bind(this,ne).apply(this,jt.multipleInstances?me:[])}}return"PUBLIC"===jt.type?Me[oe]:null},removeApp:function(jt){delete Ke[jt]},useAsService:function(jt,ne){return"serverAuth"===ne?null:ne},modularAPIs:K}};function je(jt){if(!(0,_.r3)(Ke,jt=jt||K._DEFAULT_ENTRY_NAME))throw Ge.create("no-app",{appName:jt});return Ke[jt]}return Me.default=Me,Object.defineProperty(Me,"apps",{get:function(){return Object.keys(Ke).map(jt=>Ke[jt])}}),je.App=Ne,Me}(Ee);return Ne.INTERNAL=Object.assign(Object.assign({},Ne.INTERNAL),{createFirebaseNamespace:we,extendNamespace:function(Me){(0,_.ZB)(Ne,Me)},createSubscribe:_.ne,ErrorFactory:_.LL,deepExtend:_.ZB}),Ne}(),J=new Ae.Yd("@firebase/app-compat");if((0,_.jU)()&&void 0!==self.firebase){J.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ne=self.firebase.SDK_VERSION;Ne&&Ne.indexOf("LITE")>=0&&J.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ft=X;(0,K.registerVersion)("@firebase/app-compat","0.1.10",undefined)},8026:($t,ze,N)=>{"use strict";N.r(ze),N.d(ze,{FirebaseError:()=>Ae.ZR,SDK_VERSION:()=>$r,_DEFAULT_ENTRY_NAME:()=>Bt,_addComponent:()=>vn,_addOrOverwriteComponent:()=>Kn,_apps:()=>an,_clearComponents:()=>St,_components:()=>Nn,_getProvider:()=>En,_registerComponent:()=>xn,_removeServiceInstance:()=>Dn,deleteApp:()=>Yn,getApp:()=>Mn,getApps:()=>Hr,initializeApp:()=>bi,onLog:()=>yr,registerVersion:()=>ur,setLogLevel:()=>qt});var _=N(8239),I=N(3910),K=N(5422),Ae=N(3854);class Ee{constructor(dt){this.container=dt}getPlatformInfoString(){return this.container.getProviders().map(dn=>{if(function(at){const dt=at.getComponent();return"VERSION"===(null==dt?void 0:dt.type)}(dn)){const mn=dn.getImmediate();return`${mn.library}/${mn.version}`}return null}).filter(dn=>dn).join(" ")}}const Ge="@firebase/app",we=new K.Yd("@firebase/app"),Bt="[DEFAULT]",At={[Ge]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},an=new Map,Nn=new Map;function vn(at,dt){try{at.container.addComponent(dt)}catch(dn){we.debug(`Component ${dt.name} failed to register with FirebaseApp ${at.name}`,dn)}}function Kn(at,dt){at.container.addOrOverwriteComponent(dt)}function xn(at){const dt=at.name;if(Nn.has(dt))return we.debug(`There were multiple attempts to register component ${dt}.`),!1;Nn.set(dt,at);for(const dn of an.values())vn(dn,at);return!0}function En(at,dt){return at.container.getProvider(dt)}function Dn(at,dt,dn=Bt){En(at,dt).clearInstance(dn)}function St(){Nn.clear()}const rn=new Ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class zn{constructor(dt,dn,mn){this._isDeleted=!1,this._options=Object.assign({},dt),this._config=Object.assign({},dn),this._name=dn.name,this._automaticDataCollectionEnabled=dn.automaticDataCollectionEnabled,this._container=mn,this.container.addComponent(new I.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(dt){this.checkDestroyed(),this._automaticDataCollectionEnabled=dt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(dt){this._isDeleted=dt}checkDestroyed(){if(this.isDeleted)throw rn.create("app-deleted",{appName:this._name})}}const $r="9.5.0";function bi(at,dt={}){"object"!=typeof dt&&(dt={name:dt});const dn=Object.assign({name:Bt,automaticDataCollectionEnabled:!1},dt),mn=dn.name;if("string"!=typeof mn||!mn)throw rn.create("bad-app-name",{appName:String(mn)});const Mt=an.get(mn);if(Mt){if((0,Ae.vZ)(at,Mt.options)&&(0,Ae.vZ)(dn,Mt.config))return Mt;throw rn.create("duplicate-app",{appName:mn})}const bn=new I.H0(mn);for(const Yt of Nn.values())bn.addComponent(Yt);const Ht=new zn(at,dn,bn);return an.set(mn,Ht),Ht}function Mn(at=Bt){const dt=an.get(at);if(!dt)throw rn.create("no-app",{appName:at});return dt}function Hr(){return Array.from(an.values())}function Yn(at){return ar.apply(this,arguments)}function ar(){return(ar=(0,_.Z)(function*(at){const dt=at.name;an.has(dt)&&(an.delete(dt),yield Promise.all(at.container.getProviders().map(dn=>dn.delete())),at.isDeleted=!0)})).apply(this,arguments)}function ur(at,dt,dn){var mn;let Mt=null!==(mn=At[at])&&void 0!==mn?mn:at;dn&&(Mt+=`-${dn}`);const bn=Mt.match(/\s|\//),Ht=dt.match(/\s|\//);if(bn||Ht){const Yt=[`Unable to register library "${Mt}" with version "${dt}":`];return bn&&Yt.push(`library name "${Mt}" contains illegal characters (whitespace or "/")`),bn&&Ht&&Yt.push("and"),Ht&&Yt.push(`version name "${dt}" contains illegal characters (whitespace or "/")`),void we.warn(Yt.join(" "))}xn(new I.wA(`${Mt}-version`,()=>({library:Mt,version:dt}),"VERSION"))}function yr(at,dt){if(null!==at&&"function"!=typeof at)throw rn.create("invalid-log-argument");(0,K.Am)(at,dt)}function qt(at){(0,K.Ub)(at)}xn(new I.wA("platform-logger",dt=>new Ee(dt),"PRIVATE")),ur(Ge,"0.7.9",""),ur(Ge,"0.7.9","esm2017"),ur("fire-js","")},3910:($t,ze,N)=>{"use strict";N.d(ze,{wA:()=>K,H0:()=>Qe});var _=N(8239),I=N(3854);class K{constructor(X,J,fe){this.name=X,this.instanceFactory=J,this.type=fe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(X){return this.instantiationMode=X,this}setMultipleInstances(X){return this.multipleInstances=X,this}setServiceProps(X){return this.serviceProps=X,this}setInstanceCreatedCallback(X){return this.onInstanceCreated=X,this}}const Ae="[DEFAULT]";class Ee{constructor(X,J){this.name=X,this.container=J,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(X){const J=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(J)){const fe=new I.BH;if(this.instancesDeferred.set(J,fe),this.isInitialized(J)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:J});Fe&&fe.resolve(Fe)}catch(Fe){}}return this.instancesDeferred.get(J).promise}getImmediate(X){var J;const fe=this.normalizeInstanceIdentifier(null==X?void 0:X.identifier),Fe=null!==(J=null==X?void 0:X.optional)&&void 0!==J&&J;if(!this.isInitialized(fe)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:fe})}catch(Ue){if(Fe)return null;throw Ue}}getComponent(){return this.component}setComponent(X){if(X.name!==this.name)throw Error(`Mismatching Component ${X.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=X,this.shouldAutoInitialize()){if("EAGER"===X.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:Ae})}catch(J){}for(const[J,fe]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(J);try{const Ue=this.getOrInitializeService({instanceIdentifier:Fe});fe.resolve(Ue)}catch(Ue){}}}}clearInstance(X=Ae){this.instancesDeferred.delete(X),this.instancesOptions.delete(X),this.instances.delete(X)}delete(){var X=this;return(0,_.Z)(function*(){const J=Array.from(X.instances.values());yield Promise.all([...J.filter(fe=>"INTERNAL"in fe).map(fe=>fe.INTERNAL.delete()),...J.filter(fe=>"_delete"in fe).map(fe=>fe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(X=Ae){return this.instances.has(X)}getOptions(X=Ae){return this.instancesOptions.get(X)||{}}initialize(X={}){const{options:J={}}=X,fe=this.normalizeInstanceIdentifier(X.instanceIdentifier);if(this.isInitialized(fe))throw Error(`${this.name}(${fe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:fe,options:J});for(const[Ue,ft]of this.instancesDeferred.entries())fe===this.normalizeInstanceIdentifier(Ue)&&ft.resolve(Fe);return Fe}onInit(X,J){var fe;const Fe=this.normalizeInstanceIdentifier(J),Ue=null!==(fe=this.onInitCallbacks.get(Fe))&&void 0!==fe?fe:new Set;Ue.add(X),this.onInitCallbacks.set(Fe,Ue);const ft=this.instances.get(Fe);return ft&&X(ft,Fe),()=>{Ue.delete(X)}}invokeOnInitCallbacks(X,J){const fe=this.onInitCallbacks.get(J);if(fe)for(const Fe of fe)try{Fe(X,J)}catch(Ue){}}getOrInitializeService({instanceIdentifier:X,options:J={}}){let fe=this.instances.get(X);if(!fe&&this.component&&(fe=this.component.instanceFactory(this.container,{instanceIdentifier:(we=X,we===Ae?void 0:we),options:J}),this.instances.set(X,fe),this.instancesOptions.set(X,J),this.invokeOnInitCallbacks(fe,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,fe)}catch(Fe){}var we;return fe||null}normalizeInstanceIdentifier(X=Ae){return this.component?this.component.multipleInstances?X:Ae:X}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Qe{constructor(X){this.name=X,this.providers=new Map}addComponent(X){const J=this.getProvider(X.name);if(J.isComponentSet())throw new Error(`Component ${X.name} has already been registered with ${this.name}`);J.setComponent(X)}addOrOverwriteComponent(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)}getProvider(X){if(this.providers.has(X))return this.providers.get(X);const J=new Ee(X,this);return this.providers.set(X,J),J}getProviders(){return Array.from(this.providers.values())}}},5422:($t,ze,N)=>{"use strict";N.d(ze,{in:()=>I,Yd:()=>Ge,Ub:()=>Qe,Am:()=>we});const _=[];var I=(()=>{return(X=I||(I={}))[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",I;var X})();const K={debug:I.DEBUG,verbose:I.VERBOSE,info:I.INFO,warn:I.WARN,error:I.ERROR,silent:I.SILENT},Ae=I.INFO,Ee={[I.DEBUG]:"log",[I.VERBOSE]:"log",[I.INFO]:"info",[I.WARN]:"warn",[I.ERROR]:"error"},Pe=(X,J,...fe)=>{if(J<X.logLevel)return;const Fe=(new Date).toISOString(),Ue=Ee[J];if(!Ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${J})`);console[Ue](`[${Fe}]  ${X.name}:`,...fe)};class Ge{constructor(J){this.name=J,this._logLevel=Ae,this._logHandler=Pe,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(J){if(!(J in I))throw new TypeError(`Invalid value "${J}" assigned to \`logLevel\``);this._logLevel=J}setLogLevel(J){this._logLevel="string"==typeof J?K[J]:J}get logHandler(){return this._logHandler}set logHandler(J){if("function"!=typeof J)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=J}get userLogHandler(){return this._userLogHandler}set userLogHandler(J){this._userLogHandler=J}debug(...J){this._userLogHandler&&this._userLogHandler(this,I.DEBUG,...J),this._logHandler(this,I.DEBUG,...J)}log(...J){this._userLogHandler&&this._userLogHandler(this,I.VERBOSE,...J),this._logHandler(this,I.VERBOSE,...J)}info(...J){this._userLogHandler&&this._userLogHandler(this,I.INFO,...J),this._logHandler(this,I.INFO,...J)}warn(...J){this._userLogHandler&&this._userLogHandler(this,I.WARN,...J),this._logHandler(this,I.WARN,...J)}error(...J){this._userLogHandler&&this._userLogHandler(this,I.ERROR,...J),this._logHandler(this,I.ERROR,...J)}}function Qe(X){_.forEach(J=>{J.setLogLevel(X)})}function we(X,J){for(const fe of _){let Fe=null;J&&J.level&&(Fe=K[J.level]),fe.userLogHandler=null===X?null:(Ue,ft,...Ne)=>{const Ke=Ne.map(Me=>{if(null==Me)return null;if("string"==typeof Me)return Me;if("number"==typeof Me||"boolean"==typeof Me)return Me.toString();if(Me instanceof Error)return Me.message;try{return JSON.stringify(Me)}catch(We){return null}}).filter(Me=>Me).join(" ");ft>=(null!=Fe?Fe:Ue.logLevel)&&X({level:I[ft].toLowerCase(),message:Ke,args:Ne,type:Ue.name})}}}},3290:($t,ze,N)=>{"use strict";N.d(ze,{wT:()=>Ue,a:()=>Ne});var _=N(639),I=N(8583),K=N(5917),Ae=N(6215);const Ee=new _.OlP("recaptcha-language"),Pe=new _.OlP("recaptcha-base-url"),Ge=new _.OlP("recaptcha-nonce-tag"),Qe=new _.OlP("recaptcha-settings"),we=new _.OlP("recaptcha-v3-site-key"),J_loadScript=function(Re,tt,rt,Lt,jt){window.ng2recaptchaloaded=()=>{tt(grecaptcha)};const ne=document.createElement("script");ne.innerHTML="",ne.src=`${Lt||"https://www.google.com/recaptcha/api.js"}?render=${Re}&onload=ng2recaptchaloaded${rt}`,jt&&(ne.nonce=jt),ne.async=!0,ne.defer=!0,document.head.appendChild(ne)};let fe=(()=>{class Re{constructor(rt,Lt,jt,ne,oe){this.platformId=rt,this.language=Lt,this.baseUrl=jt,this.nonce=ne,this.v3SiteKey=oe,this.init(),this.ready=(0,I.NF)(this.platformId)?Re.ready.asObservable():(0,K.of)()}init(){if(!Re.ready&&(0,I.NF)(this.platformId)){const rt=new Ae.X(null);Re.ready=rt,J_loadScript(this.v3SiteKey||"explicit",ne=>rt.next(ne),this.language?"&hl="+this.language:"",this.baseUrl,this.nonce)}}}return Re.ready=null,Re.\u0275fac=function(rt){return new(rt||Re)(_.LFG(_.Lbi),_.LFG(Ee,8),_.LFG(Pe,8),_.LFG(Ge,8),_.LFG(we,8))},Re.\u0275prov=_.Yz7({token:Re,factory:Re.\u0275fac}),Re})(),Fe=0,Ue=(()=>{class Re{constructor(rt,Lt,jt,ne){this.elementRef=rt,this.loader=Lt,this.zone=jt,this.id="ngrecaptcha-"+Fe++,this.errorMode="default",this.resolved=new _.vpe,this.error=new _.vpe,ne&&(this.siteKey=ne.siteKey,this.theme=ne.theme,this.type=ne.type,this.size=ne.size,this.badge=ne.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(rt=>{null!=rt&&rt.render instanceof Function&&(this.grecaptcha=rt,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){"invisible"===this.size&&(null!=this.widget?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){null!=this.widget&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}get __unsafe_widgetValue(){return null!=this.widget?this.grecaptcha.getResponse(this.widget):null}expired(){this.resolved.emit(null)}errored(rt){this.error.emit(rt)}captchaResponseCallback(rt){this.resolved.emit(rt)}grecaptchaReset(){null!=this.widget&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){const rt={badge:this.badge,callback:Lt=>{this.zone.run(()=>this.captchaResponseCallback(Lt))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};"handled"===this.errorMode&&(rt["error-callback"]=(...Lt)=>{this.zone.run(()=>this.errored(Lt))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,rt),!0===this.executeRequested&&(this.executeRequested=!1,this.execute())}}return Re.\u0275fac=function(rt){return new(rt||Re)(_.Y36(_.SBq),_.Y36(fe),_.Y36(_.R0b),_.Y36(Qe,8))},Re.\u0275cmp=_.Xpm({type:Re,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(rt,Lt){2&rt&&_.uIk("id",Lt.id)},inputs:{id:"id",siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabIndex:"tabIndex",badge:"badge",errorMode:"errorMode"},outputs:{resolved:"resolved",error:"error"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(rt,Lt){},encapsulation:2}),Re})(),ft=(()=>{class Re{}return Re.\u0275fac=function(rt){return new(rt||Re)},Re.\u0275mod=_.oAB({type:Re}),Re.\u0275inj=_.cJS({}),Re})(),Ne=(()=>{class Re{}return Re.\u0275fac=function(rt){return new(rt||Re)},Re.\u0275mod=_.oAB({type:Re}),Re.\u0275inj=_.cJS({providers:[fe],imports:[[ft]]}),Re})()},8239:($t,ze,N)=>{"use strict";function _(K,Ae,Ee,Pe,Ge,Qe,we){try{var X=K[Qe](we),J=X.value}catch(fe){return void Ee(fe)}X.done?Ae(J):Promise.resolve(J).then(Pe,Ge)}function I(K){return function(){var Ae=this,Ee=arguments;return new Promise(function(Pe,Ge){var Qe=K.apply(Ae,Ee);function we(J){_(Qe,Pe,Ge,we,X,"next",J)}function X(J){_(Qe,Pe,Ge,we,X,"throw",J)}we(void 0)})}}N.d(ze,{Z:()=>I})}},$t=>{$t($t.s=4463)}]);