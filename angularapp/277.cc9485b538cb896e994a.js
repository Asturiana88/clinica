"use strict";(self.webpackChunkclinica=self.webpackChunkclinica||[]).push([[277],{8277:(Y,_,l)=>{l.r(_),l.d(_,{PacienteTurnosModule:()=>H});var s=l(8583),p=l(8093),d=l(4762),n=l(639),u=l(9726),m=l(5058),g=l(5436),T=l(6790),r=l(3679);let f=(()=>{class t{constructor(e){this.store=e,this.callbackFunc=new n.vpe,this.calificacion={comentario:"",puntuacionAtencion:0,solucionoSuProblema:!1,prefiereSerContactadoPorCelular:!1,probabilidadDeRecomendacion:0}}ngOnInit(){}submit(){!this.turno||!this.turno.id||!this.calificacion||(this.store.UpdateTurno(this.turno.id,Object.assign(Object.assign({},this.turno),{calificacion:this.calificacion})),this.callbackFunc.emit(!0))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(u.TM))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-calificacion"]],inputs:{turno:"turno"},outputs:{callbackFunc:"callbackFunc"},decls:48,vars:19,consts:[[1,"input-group","mt-3",2,"margin-bottom","25px"],["placeholder","Comentario","type","text","name","calificacion",1,"form-control",3,"ngModel","ngModelChange"],[1,"mb-3","d-flex","align-items-center"],[2,"margin-right","15px"],[1,"starWrapper",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24"],["d","M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm4.326 18.266L12 15.952l-4.326 2.313.863-4.829L5 10.037l4.86-.671L12 4.951l2.14 4.415 4.86.671-3.537 3.4.863 4.829z"],["type","radio","name","solucion","id","no",3,"value","ngModel","ngModelChange"],["for","no",2,"margin-right","15px","margin-left","5px"],["type","radio","name","solucion","id","si",3,"value","ngModel","ngModelChange"],["for","si",2,"margin-left","5px"],[1,"mb-3"],[1,"d-flex"],["type","range","min","0","max","100","name","recomiende","id","no",3,"value","ngModel","ngModelChange"],[2,"margin-left","15px"],["for","terms"],["href","https://support.google.com/adspolicy/answer/54818?hl=en-GB","target","_blank"],["id","terms","type","checkbox","name","celular",1,"mx-3",3,"ngModel","ngModelChange"],[1,"btn","btn-success","mt-4",3,"click"]],template:function(e,o){1&e&&(n.TgZ(0,"h3"),n._uU(1,"Calificar atencion"),n.qZA(),n.TgZ(2,"div",0),n.TgZ(3,"input",1),n.NdJ("ngModelChange",function(a){return o.calificacion.comentario=a}),n.qZA(),n.qZA(),n.TgZ(4,"div",2),n.TgZ(5,"h4",3),n._uU(6,"Como calificaria la atencion"),n.qZA(),n.TgZ(7,"div",4),n.NdJ("click",function(){return o.calificacion.puntuacionAtencion=1}),n.O4$(),n.TgZ(8,"svg",5),n._UZ(9,"path",6),n.qZA(),n.qZA(),n.kcU(),n.TgZ(10,"div",4),n.NdJ("click",function(){return o.calificacion.puntuacionAtencion=2}),n.O4$(),n.TgZ(11,"svg",5),n._UZ(12,"path",6),n.qZA(),n.qZA(),n.kcU(),n.TgZ(13,"div",4),n.NdJ("click",function(){return o.calificacion.puntuacionAtencion=3}),n.O4$(),n.TgZ(14,"svg",5),n._UZ(15,"path",6),n.qZA(),n.qZA(),n.kcU(),n.TgZ(16,"div",4),n.NdJ("click",function(){return o.calificacion.puntuacionAtencion=4}),n.O4$(),n.TgZ(17,"svg",5),n._UZ(18,"path",6),n.qZA(),n.qZA(),n.kcU(),n.TgZ(19,"div",4),n.NdJ("click",function(){return o.calificacion.puntuacionAtencion=5}),n.O4$(),n.TgZ(20,"svg",5),n._UZ(21,"path",6),n.qZA(),n.qZA(),n.qZA(),n.kcU(),n.TgZ(22,"div",2),n.TgZ(23,"h4",3),n._uU(24,"Se soluciono su problema?"),n.qZA(),n.TgZ(25,"input",7),n.NdJ("ngModelChange",function(a){return o.calificacion.solucionoSuProblema=a}),n.qZA(),n.TgZ(26,"label",8),n._uU(27,"No"),n.qZA(),n.TgZ(28,"input",9),n.NdJ("ngModelChange",function(a){return o.calificacion.solucionoSuProblema=a}),n.qZA(),n.TgZ(29,"label",10),n._uU(30,"Si"),n.qZA(),n.qZA(),n.TgZ(31,"div",11),n.TgZ(32,"h5",3),n._uU(33,"Que tan probable es que recomiende Clinica Pimpollo a un amigo?"),n.qZA(),n.TgZ(34,"div",12),n.TgZ(35,"input",13),n.NdJ("ngModelChange",function(a){return o.calificacion.probabilidadDeRecomendacion=a}),n.qZA(),n.TgZ(36,"h6",14),n._uU(37),n.qZA(),n.qZA(),n.qZA(),n.TgZ(38,"div",2),n.TgZ(39,"label",15),n.TgZ(40,"h6"),n._uU(41,"Acepto los "),n.TgZ(42,"a",16),n._uU(43,"terminos y condiciones"),n.qZA(),n._uU(44," de Pimpollo SRL"),n.qZA(),n.qZA(),n.TgZ(45,"input",17),n.NdJ("ngModelChange",function(a){return o.calificacion.prefiereSerContactadoPorCelular=a}),n.qZA(),n.qZA(),n.TgZ(46,"button",18),n.NdJ("click",function(){return o.submit()}),n._uU(47," Submit "),n.qZA()),2&e&&(n.xp6(3),n.Q6J("ngModel",o.calificacion.comentario),n.xp6(4),n.ekj("selected",o.calificacion.puntuacionAtencion>0),n.xp6(3),n.ekj("selected",o.calificacion.puntuacionAtencion>1),n.xp6(3),n.ekj("selected",o.calificacion.puntuacionAtencion>2),n.xp6(3),n.ekj("selected",o.calificacion.puntuacionAtencion>3),n.xp6(3),n.ekj("selected",o.calificacion.puntuacionAtencion>4),n.xp6(6),n.Q6J("value",!1)("ngModel",o.calificacion.solucionoSuProblema),n.xp6(3),n.Q6J("value",!0)("ngModel",o.calificacion.solucionoSuProblema),n.xp6(7),n.Q6J("value",!1)("ngModel",o.calificacion.probabilidadDeRecomendacion),n.xp6(2),n.Oqu(o.calificacion.probabilidadDeRecomendacion),n.xp6(8),n.Q6J("ngModel",o.calificacion.prefiereSerContactadoPorCelular))},directives:[r.Fj,r.JJ,r.On,r._,r.eT,r.Wl],styles:[".selected[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#bfbf00}.starWrapper[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;justify-content:center;align-items:center;border-radius:50%;cursor:pointer}"]}),t})(),Z=(()=>{class t{constructor(e){this.store=e,this.callbackFunc=new n.vpe}ngOnInit(){}submit(){!this.turno||!this.turno.id||!this.encuesta||(this.store.UpdateTurno(this.turno.id,Object.assign(Object.assign({},this.turno),{encuesta:this.encuesta})),this.callbackFunc.emit(!1))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(u.TM))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-encueta"]],inputs:{turno:"turno"},outputs:{callbackFunc:"callbackFunc"},decls:6,vars:1,consts:[[1,"input-group","mt-3",2,"margin-bottom","25px"],["type","text","name","encuesta",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success","mt-4",3,"click"]],template:function(e,o){1&e&&(n.TgZ(0,"h3"),n._uU(1,"Completar encuesta"),n.qZA(),n.TgZ(2,"div",0),n.TgZ(3,"input",1),n.NdJ("ngModelChange",function(a){return o.encuesta=a}),n.qZA(),n.qZA(),n.TgZ(4,"button",2),n.NdJ("click",function(){return o.submit()}),n._uU(5," Submit "),n.qZA()),2&e&&(n.xp6(3),n.Q6J("ngModel",o.encuesta))},directives:[r.Fj,r.JJ,r.On],styles:[""]}),t})();var C=l(9410),h=l(6839);function x(t,c){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"button",7),n.NdJ("click",function(){n.CHM(e);const i=n.oxw().$implicit;return n.oxw(2).handleOpenModal(i,"cancelar")}),n._uU(2,"Cancelar"),n.qZA(),n.BQk()}}function A(t,c){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"button",8),n.NdJ("click",function(){n.CHM(e);const i=n.oxw().$implicit;return n.oxw(2).handleOpenModal(i,"comentario")}),n._uU(2,"Ver Comentario"),n.qZA(),n.BQk()}}function b(t,c){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"button",8),n.NdJ("click",function(){n.CHM(e);const i=n.oxw().$implicit;return n.oxw(2).handleOpenModal(i,"resena")}),n._uU(2,"Ver Rese\xf1a"),n.qZA(),n.BQk()}}function v(t,c){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"button",9),n.NdJ("click",function(){n.CHM(e);const i=n.oxw().$implicit;return n.oxw(2).handleOpenModal(i,"encuestaVer")}),n._uU(2,"Ver encuesta"),n.qZA(),n.BQk()}}function M(t,c){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"button",10),n.NdJ("click",function(){n.CHM(e);const i=n.oxw().$implicit;return n.oxw(2).handleOpenModal(i,"encuesta")}),n._uU(2,"Encuesta"),n.qZA(),n.BQk()}}function q(t,c){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"button",11),n.NdJ("click",function(){n.CHM(e);const i=n.oxw().$implicit;return n.oxw(2).handleOpenModal(i,"calificar")}),n._uU(2,"Dar Calificacion"),n.qZA(),n.BQk()}}function J(t,c){if(1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.TgZ(5,"td"),n._uU(6),n.qZA(),n.TgZ(7,"td"),n._uU(8),n.qZA(),n._UZ(9,"td",6),n.ALo(10,"safeHtml"),n.ALo(11,"estadoTurno"),n.TgZ(12,"td"),n.YNc(13,x,3,0,"ng-container",4),n.YNc(14,A,3,0,"ng-container",4),n.YNc(15,b,3,0,"ng-container",4),n.YNc(16,v,3,0,"ng-container",4),n.YNc(17,M,3,0,"ng-container",4),n.YNc(18,q,3,0,"ng-container",4),n.qZA(),n.qZA()),2&t){const e=c.$implicit;n.xp6(2),n.hij(" ",e.fecha," "),n.xp6(2),n.hij(" ",e.hora," "),n.xp6(2),n.hij(" ",e.especialidad.nombre," "),n.xp6(2),n.hij(" ",e.especialista.nombre," "),n.xp6(1),n.Q6J("innerHTML",n.lcZ(10,11,n.lcZ(11,13,e.estado)),n.oJD),n.xp6(4),n.Q6J("ngIf","pendiente"==e.estado||"aceptado"==e.estado),n.xp6(1),n.Q6J("ngIf",e.comentario),n.xp6(1),n.Q6J("ngIf",e.resena),n.xp6(1),n.Q6J("ngIf",e.encuesta),n.xp6(1),n.Q6J("ngIf",e.resena&&"finalizado"==e.estado&&!e.encuesta),n.xp6(1),n.Q6J("ngIf","finalizado"==e.estado&&!e.calificacion)}}function k(t,c){if(1&t&&(n.TgZ(0,"tbody"),n.YNc(1,J,19,15,"tr",5),n.qZA()),2&t){const e=c.ngIf;n.xp6(1),n.Q6J("ngForOf",e)}}function P(t,c){if(1&t){const e=n.EpF();n.TgZ(0,"div"),n.TgZ(1,"app-modal",12),n.NdJ("onClose",function(){return n.CHM(e),n.oxw().handleCloseModals()}),n.TgZ(2,"div",13),n.TgZ(3,"h2"),n._uU(4,"Cancelar turno"),n.qZA(),n.TgZ(5,"input",14),n.NdJ("ngModelChange",function(i){return n.CHM(e),n.oxw().comentario=i}),n.qZA(),n._UZ(6,"br"),n.TgZ(7,"button",15),n.NdJ("click",function(){return n.CHM(e),n.oxw().cancelarTurno()}),n._uU(8," Cancelar turno "),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&t){const e=n.oxw();n.xp6(5),n.Q6J("ngModel",e.comentario)}}function U(t,c){if(1&t){const e=n.EpF();n.TgZ(0,"div"),n.TgZ(1,"app-modal",12),n.NdJ("onClose",function(){return n.CHM(e),n.oxw().handleCloseModals()}),n.TgZ(2,"div",13),n.TgZ(3,"h2"),n._uU(4,"Comentario"),n.qZA(),n.TgZ(5,"h5",16),n.TgZ(6,"i"),n._uU(7),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&t){const e=n.oxw();n.xp6(7),n.hij('"',null==e.turnoSelected?null:e.turnoSelected.comentario,'"')}}function y(t,c){if(1&t){const e=n.EpF();n.TgZ(0,"div"),n.TgZ(1,"app-modal",12),n.NdJ("onClose",function(){return n.CHM(e),n.oxw().handleCloseModals()}),n.TgZ(2,"div",13),n.TgZ(3,"h2"),n._uU(4,"Rese\xf1a"),n.qZA(),n.TgZ(5,"h5",16),n.TgZ(6,"i"),n._uU(7),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&t){const e=n.oxw();n.xp6(7),n.hij('"',null==e.turnoSelected?null:e.turnoSelected.resena,'"')}}function N(t,c){if(1&t){const e=n.EpF();n.TgZ(0,"div"),n.TgZ(1,"app-modal",12),n.NdJ("onClose",function(){return n.CHM(e),n.oxw().handleCloseModals()}),n.TgZ(2,"div",13),n.TgZ(3,"h2"),n._uU(4,"Encuesta"),n.qZA(),n.TgZ(5,"h5",16),n.TgZ(6,"i"),n._uU(7),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&t){const e=n.oxw();n.xp6(7),n.hij('"',null==e.turnoSelected?null:e.turnoSelected.encuesta,'"')}}function F(t,c){if(1&t){const e=n.EpF();n.TgZ(0,"div"),n.TgZ(1,"app-modal",12),n.NdJ("onClose",function(){return n.CHM(e),n.oxw().handleCloseModals()}),n.TgZ(2,"div",13),n.TgZ(3,"app-calificacion",17),n.NdJ("callbackFunc",function(){return n.CHM(e),n.oxw().handleCloseModals()}),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&t){const e=n.oxw();n.xp6(3),n.Q6J("turno",e.turnoSelected)}}function S(t,c){if(1&t){const e=n.EpF();n.TgZ(0,"div"),n.TgZ(1,"app-modal",12),n.NdJ("onClose",function(){return n.CHM(e),n.oxw().handleCloseModals()}),n.TgZ(2,"div",13),n.TgZ(3,"app-encueta",17),n.NdJ("callbackFunc",function(){return n.CHM(e),n.oxw().handleCloseModals()}),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&t){const e=n.oxw();n.xp6(3),n.Q6J("turno",e.turnoSelected)}}const O=[{path:"",component:(()=>{class t{constructor(e,o){this.storeService=e,this.authService=o,this.especialidades=this.storeService.GetEspecialidades(),this.especialistas=[],this.filtros={},this.modal={resena:!1}}handleOpenModal(e,o){this.turnoSelected=e,this.modal[o]=!0}handleCloseModals(){this.updateData(),this.turnoSelected=void 0,this.comentario=void 0,this.modal={}}updateData(e){return(0,d.mG)(this,void 0,void 0,function*(){e&&(this.filtros=e),this.turnos=yield this.storeService.GetTurnos(Object.assign(Object.assign({},this.filtros),{paciente:this.authService.getUser}))})}cancelarTurno(){const e=this.turnoSelected;!e||!this.comentario||(this.handleCloseModals(),this.storeService.UpdateTurno(e.id||"",Object.assign(Object.assign({},e),{estado:"cancelado",comentario:this.comentario})),this.updateData())}ngOnInit(){this.updateData(),this.storeService.GetUsuarios().subscribe(e=>{this.especialistas=e.filter(o=>"especialista"==o.rol)})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(u.TM),n.Y36(m.e))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-paciente-turnos"]],decls:24,vars:7,consts:[[3,"filtrosChange"],[1,"row"],[1,"col-12"],[1,"table","table-dark"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"innerHTML"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-info",3,"click"],[1,"btn","btn-info","mx-2",3,"click"],[1,"btn","btn-warning","mx-2",3,"click"],[1,"btn","btn-primary","mx-3",3,"click"],[3,"onClose"],[1,"p-5","pt-2"],["type","text","placeholder","Deja un comentario",2,"width","100%",3,"ngModel","ngModelChange"],[1,"btn","btn-danger","mt-3",3,"click"],[1,"mt-4"],[3,"turno","callbackFunc"]],template:function(e,o){1&e&&(n.TgZ(0,"app-turno-filtros",0),n.NdJ("filtrosChange",function(a){return o.updateData(a)}),n.qZA(),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"table",3),n.TgZ(4,"thead"),n.TgZ(5,"tr"),n.TgZ(6,"th"),n._uU(7,"Fecha"),n.qZA(),n.TgZ(8,"th"),n._uU(9,"Hora"),n.qZA(),n.TgZ(10,"th"),n._uU(11,"Especialidad"),n.qZA(),n.TgZ(12,"th"),n._uU(13,"Especialista"),n.qZA(),n.TgZ(14,"th"),n._uU(15,"Estado"),n.qZA(),n._UZ(16,"td"),n.qZA(),n.qZA(),n.YNc(17,k,2,1,"tbody",4),n.qZA(),n.qZA(),n.qZA(),n.YNc(18,P,9,1,"div",4),n.YNc(19,U,8,1,"div",4),n.YNc(20,y,8,1,"div",4),n.YNc(21,N,8,1,"div",4),n.YNc(22,F,4,1,"div",4),n.YNc(23,S,4,1,"div",4)),2&e&&(n.xp6(17),n.Q6J("ngIf",o.turnos),n.xp6(1),n.Q6J("ngIf",o.modal.cancelar),n.xp6(1),n.Q6J("ngIf",o.modal.comentario),n.xp6(1),n.Q6J("ngIf",o.modal.resena),n.xp6(1),n.Q6J("ngIf",o.modal.encuestaVer),n.xp6(1),n.Q6J("ngIf",o.modal.calificar&&o.turnoSelected),n.xp6(1),n.Q6J("ngIf",o.modal.encuesta&&o.turnoSelected))},directives:[g.Y,s.O5,s.sg,T.z,r.Fj,r.JJ,r.On,f,Z],pipes:[C.z,h.S],styles:[""]}),t})()}];let w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[p.Bz.forChild(O)],p.Bz]}),t})();var Q=l(791),j=l(7860),E=l(7947);let H=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[s.ez,r.u5,r.UX,Q.z,j.D,E.J,w]]}),t})()}}]);